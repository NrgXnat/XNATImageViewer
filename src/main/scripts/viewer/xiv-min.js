var f,aa=aa||{},ba=this;function da(a){return void 0!==a}function ea(a){a=a.split(".");for(var b=ba,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function fa(){}function ga(a){a.te=function(){return a.ZA?a.ZA:a.ZA=new a}}
function ha(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function g(a){return"array"==ha(a)}function ia(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function ja(a){return"boolean"==typeof a}function u(a){return"number"==typeof a}function la(a){return"function"==ha(a)}function ma(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function na(a){return a[pa]||(a[pa]=++ra)}
var pa="closure_uid_"+(1E9*Math.random()>>>0),ra=0;function sa(a,b,c){return a.call.apply(a.bind,arguments)}function ta(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ua(a,b,c){ua=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ta;return ua.apply(null,arguments)}function va(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var xa=Date.now||function(){return+new Date};
function v(a,b){var c=a.split("."),d=ba;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&da(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function w(a,b){function c(){}c.prototype=b.prototype;a.d=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.LP=function(a,c,h){var k=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,k)}};var A=A||{};A.hN=!0;A.ie=function(a){eval("X.DEV === undefined")||window.console.time(a)};A.Kd=function(a){eval("X.DEV === undefined")||window.console.timeEnd(a)};window["X.counter"]=new function(){this.AF=0;this.IM=function(){return this.AF++}};function Aa(a,b){for(var c in b){var d=b.__lookupGetter__(c),e=b.__lookupSetter__(c);c in a||(d||e?(d&&a.__defineGetter__(c,d),e&&a.__defineSetter__(c,e)):a[c]=b[c])}}var Ba=window.JD;
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return h.apply(this instanceof c?this:a||window,e.concat(d.call(arguments)))}function c(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice,e=d.call(arguments,1),h=this;c.prototype=this.prototype;b.prototype=new c;return b});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=Date.now(),h=Math.max(0,16-(c-a)),k=window.setTimeout(function(){b(c+h)},h);a=c+h;return k});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();"slice"in ArrayBuffer.prototype||(ArrayBuffer.prototype.slice=function(a,b){if(void 0===a)throw Error("Not enough arguments.");var c=b||this.byteLength;0>a&&(a=this.byteLength+a);0>c&&(c=this.byteLength+c);c<a&&(c=a=0);0>a&&(a=0);0>c&&(c=0);a>this.byteLength&&(a=this.byteLength);c>this.byteLength&&(c=this.byteLength);for(var d=new ArrayBuffer(c-a),e=new Uint8Array(this),h=new Uint8Array(d),k=a,l=0;k<c;++k,++l)h[l]=e[k];return d});v("$",Ba);
v("Function.prototype.bind",Function.prototype.bind);v("window.requestAnimationFrame",window.requestAnimationFrame);v("window.cancelAnimationFrame",window.cancelAnimationFrame);var Ca;function Da(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Da);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}w(Da,Error);Da.prototype.name="CustomError";function Ea(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Fa(a,b){var c=String(b).toLowerCase(),d=String(a.substr(a.length-b.length,b.length)).toLowerCase();return 0==(c<d?-1:c==d?0:1)}function Ga(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Ha(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}
function Ia(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ka=/(\.\d+)|(\d+)|(\D+)/g;function La(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(Ka),d=b.toLowerCase().match(Ka),e=Math.min(c.length,d.length),h=0;h<e;h++){var k=c[h],l=d[h];if(k!=l)return c=parseInt(k,10),!isNaN(c)&&(d=parseInt(l,10),!isNaN(d)&&c-d)?c-d:k<l?-1:1}return c.length!=d.length?c.length-d.length:a<b?-1:1}
function Ma(a){if(!Na.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ua,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Va,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Wa,"&#0;"));return a}var Ra=/&/g,Sa=/</g,Ta=/>/g,Ua=/"/g,Va=/'/g,Wa=/\x00/g,Na=/[\x00&<>"']/;
function Xa(a,b){var c;if(c&&a.length>b)c>b&&(c=b),a=a.substring(0,b-c)+"..."+a.substring(a.length-c);else if(a.length>b){c=Math.floor(b/2);var d=a.length-c;a=a.substring(0,c+b%2)+"..."+a.substring(d)}return a}function Ya(a){return Array.prototype.join.call(arguments,"")}
function Za(a,b){for(var c=0,d=Ia(String(a)).split("."),e=Ia(String(b)).split("."),h=Math.max(d.length,e.length),k=0;0==c&&k<h;k++){var l=d[k]||"",n=e[k]||"",p=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var q=p.exec(l)||["","",""],t=m.exec(n)||["","",""];if(0==q[0].length&&0==t[0].length)break;c=$a(0==q[1].length?0:parseInt(q[1],10),0==t[1].length?0:parseInt(t[1],10))||$a(0==q[2].length,0==t[2].length)||$a(q[2],t[2])}while(0==c)}return c}function $a(a,b){return a<b?-1:a>b?1:0}
var ab=2147483648*Math.random()|0;function B(){return"goog_"+ab++}function bb(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function cb(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}function db(a){var b=r(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function eb(a,b){b.unshift(a);Da.call(this,Ga.apply(null,b));b.shift()}w(eb,Da);eb.prototype.name="AssertionError";function fb(a,b){throw new eb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var gb="closure_listenable_"+(1E6*Math.random()|0);function hb(a){return!(!a||!a[gb])}var ib=0;function jb(a,b,c,d,e){this.Lk=a;this.Wr=null;this.src=b;this.type=c;this.yn=!!d;this.Yq=e;this.key=++ib;this.zm=this.jq=!1}function kb(a){a.zm=!0;a.Lk=null;a.Wr=null;a.src=null;a.Yq=null};function C(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function mb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function nb(a){var b=0,c;for(c in a)b++;return b}function ob(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function pb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function qb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function rb(){var a=sb,b;for(b in a)return!1;return!0}function tb(a){for(var b in a)delete a[b]}function ub(a,b){b in a&&delete a[b]}
function vb(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function wb(a){var b={},c;for(c in a)b[c]=a[c];return b}var xb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var h=0;h<xb.length;h++)c=xb[h],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function zb(a){var b=arguments.length;if(1==b&&g(arguments[0]))return zb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var Ab=Array.prototype,Bb=Ab.indexOf?function(a,b,c){return Ab.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Cb=Ab.lastIndexOf?function(a,b,c){return Ab.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(r(a))return r(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;
return-1},D=Ab.forEach?function(a,b,c){Ab.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)h in e&&b.call(c,e[h],h,a)},Db=Ab.filter?function(a,b,c){return Ab.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],h=0,k=r(a)?a.split(""):a,l=0;l<d;l++)if(l in k){var n=k[l];b.call(c,n,l,a)&&(e[h++]=n)}return e},Eb=Ab.map?function(a,b,c){return Ab.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),h=r(a)?a.split(""):a,k=0;k<d;k++)k in h&&(e[k]=
b.call(c,h[k],k,a));return e},Fb=Ab.some?function(a,b,c){return Ab.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)if(h in e&&b.call(c,e[h],h,a))return!0;return!1},Gb=Ab.every?function(a,b,c){return Ab.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)if(h in e&&!b.call(c,e[h],h,a))return!1;return!0};
function Hb(a){var b;a:{b=Ib;for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]}function Jb(a,b){return 0<=Bb(a,b)}function Kb(a){if(!g(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Lb(a,b){Jb(a,b)||a.push(b)}function Mb(a,b){var c=Bb(a,b),d;(d=0<=c)&&Ab.splice.call(a,c,1);return d}function Nb(a){return Ab.concat.apply(Ab,arguments)}
function Ob(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Pb(a,b,c,d){Ab.splice.apply(a,Qb(arguments,1))}function Qb(a,b,c){return 2>=arguments.length?Ab.slice.call(a,b):Ab.slice.call(a,b,c)}function Rb(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b};function Sb(a){this.src=a;this.Wc={};this.xp=0}f=Sb.prototype;f.add=function(a,b,c,d,e){var h=a.toString();a=this.Wc[h];a||(a=this.Wc[h]=[],this.xp++);var k=Tb(a,b,d,e);-1<k?(b=a[k],c||(b.jq=!1)):(b=new jb(b,this.src,h,!!d,e),b.jq=c,a.push(b));return b};f.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Wc))return!1;var e=this.Wc[a];b=Tb(e,b,c,d);return-1<b?(kb(e[b]),Ab.splice.call(e,b,1),0==e.length&&(delete this.Wc[a],this.xp--),!0):!1};
function Ub(a,b){var c=b.type;if(!(c in a.Wc))return!1;var d=Mb(a.Wc[c],b);d&&(kb(b),0==a.Wc[c].length&&(delete a.Wc[c],a.xp--));return d}f.zg=function(a){a=a&&a.toString();var b=0,c;for(c in this.Wc)if(!a||c==a){for(var d=this.Wc[c],e=0;e<d.length;e++)++b,kb(d[e]);delete this.Wc[c];this.xp--}return b};f.Vn=function(a,b,c,d){a=this.Wc[a.toString()];var e=-1;a&&(e=Tb(a,b,c,d));return-1<e?a[e]:null};
f.Zq=function(a,b){var c=da(a),d=c?a.toString():"",e=da(b);return mb(this.Wc,function(a){for(var k=0;k<a.length;++k)if(!(c&&a[k].type!=d||e&&a[k].yn!=b))return!0;return!1})};function Tb(a,b,c,d){for(var e=0;e<a.length;++e){var h=a[e];if(!h.zm&&h.Lk==b&&h.yn==!!c&&h.Yq==d)return e}return-1};var Vb;a:{var Wb=ba.navigator;if(Wb){var Xb=Wb.userAgent;if(Xb){Vb=Xb;break a}}Vb=""}function Yb(a){return-1!=Vb.indexOf(a)}function Zb(a){for(var b=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};function $b(){return Yb("Opera")||Yb("OPR")}function ac(){return Yb("Trident")||Yb("MSIE")}function bc(){return Yb("Safari")&&!Yb("Chrome")&&!Yb("CriOS")&&!Yb("Android")}
function cc(){var a=Vb;if(ac()){var b=/rv: *([\d\.]*)/.exec(a);if(b&&b[1])a=b[1];else{var b="",c=/MSIE +([\d\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\/(\d.\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case "4.0":b="8.0";break;case "5.0":b="9.0";break;case "6.0":b="10.0";break;case "7.0":b="11.0"}else b="7.0";else b=c[1];a=b}return a}if($b())return a=Zb(a),b=a[a.length-1],"OPR"==b[0]&&b[1]?b[1]:a[2]&&a[2][1]?a[2][1]:"";a=Zb(a);return a[2]&&a[2][1]?a[2][1]:""};var dc,ec,fc;function gc(){return ba.navigator||null}var hc=$b(),E=ac(),ic=Yb("Gecko")&&-1==Vb.toLowerCase().indexOf("webkit")&&!(Yb("Trident")||Yb("MSIE")),jc=-1!=Vb.toLowerCase().indexOf("webkit"),kc,lc=gc();kc=lc&&lc.platform||"";dc=-1!=kc.indexOf("Mac");ec=-1!=kc.indexOf("Win");fc=-1!=kc.indexOf("Linux");var mc=!!gc()&&-1!=(gc().appVersion||"").indexOf("X11");function nc(){var a=ba.document;return a?a.documentMode:void 0}
var oc=function(){var a="",b;if(hc&&ba.opera)return a=ba.opera.version,la(a)?a():a;ic?b=/rv\:([^\);]+)(\)|;)/:E?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jc&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Vb))?a[1]:"");return E&&(b=nc(),b>parseFloat(a))?String(b):a}(),pc={};function qc(a){return pc[a]||(pc[a]=0<=Za(oc,a))}function rc(a){return E&&sc>=a}var tc=ba.document,sc=tc&&E?nc()||("CSS1Compat"==tc.compatMode?parseInt(oc,10):5):void 0;var uc=!E||rc(9),vc=!E||rc(9),wc=E&&!qc("9");!jc||qc("528");ic&&qc("1.9b")||E&&qc("8")||hc&&qc("9.5")||jc&&qc("528");ic&&!qc("8")||E&&qc("9");function xc(){0!=yc&&(zc[na(this)]=this)}var yc=0,zc={};xc.prototype.rk=!1;xc.prototype.g=function(){if(!this.rk&&(this.rk=!0,this.f(),0!=yc)){var a=na(this);delete zc[a]}};function Ac(a,b){a.Bo||(a.Bo=[]);a.Bo.push(da(void 0)?ua(b,void 0):b)}xc.prototype.f=function(){if(this.Bo)for(;this.Bo.length;)this.Bo.shift()()};function Bc(a){a&&"function"==typeof a.g&&a.g()}function Cc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ia(d)?Cc.apply(null,d):Bc(d)}};function Ec(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.xg=!1;this.No=!0}Ec.prototype.f=function(){};Ec.prototype.g=function(){};Ec.prototype.stopPropagation=function(){this.xg=!0};Ec.prototype.preventDefault=function(){this.defaultPrevented=!0;this.No=!1};function Fc(a){a.preventDefault()};function Hc(a){Hc[" "](a);return a}Hc[" "]=fa;function Ic(a,b){Ec.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.cw=!1;this.Vc=null;a&&this.ua(a,b)}w(Ic,Ec);var Jc=[1,4,2];f=Ic.prototype;
f.ua=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(ic){var e;a:{try{Hc(d.nodeName);e=!0;break a}catch(h){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=jc||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=jc||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.cw=dc?a.metaKey:a.ctrlKey;this.state=a.state;this.Vc=a;a.defaultPrevented&&this.preventDefault()};function Kc(a){return(uc?0==a.Vc.button:"click"==a.type?!0:!!(a.Vc.button&Jc[0]))&&!(jc&&dc&&a.ctrlKey)}
f.stopPropagation=function(){Ic.d.stopPropagation.call(this);this.Vc.stopPropagation?this.Vc.stopPropagation():this.Vc.cancelBubble=!0};f.preventDefault=function(){Ic.d.preventDefault.call(this);var a=this.Vc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,wc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};f.TG=function(){return this.Vc};f.f=function(){};var Lc="closure_lm_"+(1E6*Math.random()|0),Mc={},Nc=0;function F(a,b,c,d,e){if(g(b)){for(var h=0;h<b.length;h++)F(a,b[h],c,d,e);return null}c=Oc(c);return hb(a)?a.D(b,c,d,e):Pc(a,b,c,!1,d,e)}function Pc(a,b,c,d,e,h){if(!b)throw Error("Invalid event type");var k=!!e,l=Qc(a);l||(a[Lc]=l=new Sb(a));c=l.add(b,c,d,e,h);if(c.Wr)return c;d=Rc();c.Wr=d;d.src=a;d.Lk=c;a.addEventListener?a.addEventListener(b.toString(),d,k):a.attachEvent(Sc(b.toString()),d);Nc++;return c}
function Rc(){var a=Tc,b=vc?function(c){return a.call(b.src,b.Lk,c)}:function(c){c=a.call(b.src,b.Lk,c);if(!c)return c};return b}function Uc(a,b,c,d,e){if(g(b)){for(var h=0;h<b.length;h++)Uc(a,b[h],c,d,e);return null}c=Oc(c);return hb(a)?a.iv(b,c,d,e):Pc(a,b,c,!0,d,e)}function Vc(a,b,c,d,e){if(g(b))for(var h=0;h<b.length;h++)Vc(a,b[h],c,d,e);else c=Oc(c),hb(a)?a.wb(b,c,d,e):a&&(a=Qc(a))&&(b=a.Vn(b,c,!!d,e))&&Wc(b)}
function Wc(a){if(u(a)||!a||a.zm)return!1;var b=a.src;if(hb(b))return Ub(b.Zg,a);var c=a.type,d=a.Wr;b.removeEventListener?b.removeEventListener(c,d,a.yn):b.detachEvent&&b.detachEvent(Sc(c),d);Nc--;(c=Qc(b))?(Ub(c,a),0==c.xp&&(c.src=null,b[Lc]=null)):kb(a);return!0}function G(a){if(a)if(hb(a))a.removeAllListeners(void 0);else if(a=Qc(a)){var b=0,c;for(c in a.Wc)for(var d=a.Wc[c].concat(),e=0;e<d.length;++e)Wc(d[e])&&++b}}
function Xc(a,b){if(hb(a))return a.Zq(b,void 0);var c=Qc(a);return!!c&&c.Zq(b,void 0)}function Sc(a){return a in Mc?Mc[a]:Mc[a]="on"+a}function Yc(a,b,c,d){var e=1;if(a=Qc(a))if(b=a.Wc[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.yn==c&&!h.zm&&(e&=!1!==Zc(h,d))}return Boolean(e)}function Zc(a,b){var c=a.Lk,d=a.Yq||a.src;a.jq&&Wc(a);return c.call(d,b)}
function Tc(a,b){if(a.zm)return!0;if(!vc){var c=b||ea("window.event"),d=new Ic(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var h=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){h=!0}if(h||void 0==c.returnValue)c.returnValue=!0}c=[];for(h=d.currentTarget;h;h=h.parentNode)c.push(h);for(var h=a.type,l=c.length-1;!d.xg&&0<=l;l--)d.currentTarget=c[l],e&=Yc(c[l],h,!0,d);for(l=0;!d.xg&&l<c.length;l++)d.currentTarget=c[l],e&=Yc(c[l],h,!1,d)}return e}return Zc(a,new Ic(b,this))}
function Qc(a){a=a[Lc];return a instanceof Sb?a:null}var $c="__closure_events_fn_"+(1E9*Math.random()>>>0);function Oc(a){return la(a)?a:a[$c]||(a[$c]=function(b){return a.handleEvent(b)})};function ad(){xc.call(this);this.Zg=new Sb(this);this.KF=this;this.Sr=null}w(ad,xc);ad.prototype[gb]=!0;f=ad.prototype;f.uw=function(a){this.Sr=a};f.addEventListener=function(a,b,c,d){F(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){Vc(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Sr;if(c)for(b=[];c;c=c.Sr)b.push(c);var c=this.KF,d=a.type||a;if(r(a))a=new Ec(a,c);else if(a instanceof Ec)a.target=a.target||c;else{var e=a;a=new Ec(d,c);yb(a,e)}var e=!0,h;if(b)for(var k=b.length-1;!a.xg&&0<=k;k--)h=a.currentTarget=b[k],e=bd(h,d,!0,a)&&e;a.xg||(h=a.currentTarget=c,e=bd(h,d,!0,a)&&e,a.xg||(e=bd(h,d,!1,a)&&e));if(b)for(k=0;!a.xg&&k<b.length;k++)h=a.currentTarget=b[k],e=bd(h,d,!1,a)&&e;return e};
f.f=function(){ad.d.f.call(this);this.removeAllListeners();this.Sr=null};f.D=function(a,b,c,d){return this.Zg.add(String(a),b,!1,c,d)};f.iv=function(a,b,c,d){return this.Zg.add(String(a),b,!0,c,d)};f.wb=function(a,b,c,d){return this.Zg.remove(String(a),b,c,d)};f.removeAllListeners=function(a){return this.Zg?this.Zg.zg(a):0};
function bd(a,b,c,d){b=a.Zg.Wc[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.zm&&k.yn==c){var l=k.Lk,n=k.Yq||k.src;k.jq&&Ub(a.Zg,k);e=!1!==l.call(n,d)&&e}}return e&&!1!=d.No}f.Vn=function(a,b,c,d){return this.Zg.Vn(String(a),b,c,d)};f.Zq=function(a,b){return this.Zg.Zq(da(a)?String(a):void 0,b)};function cd(){ad.call(this);this.u="base";this.ud=window["X.counter"].IM();this.J=!1}w(cd,ad);cd.prototype.__defineGetter__("classname",function(){return this.u});cd.prototype.__defineGetter__("id",function(){return this.ud});v("X.base",cd);function dd(a,b){cd.call(this);this.u="triplets";this.ag=Infinity;this.Yf=-Infinity;this.bg=Infinity;this.Zf=-Infinity;this.cg=Infinity;this.$f=-Infinity;this.Lp=[0,0,0];this.Ra=0;this.gc=new Float32Array(a);null!=b&&(this.gc=b.gc.subarray(0,b.gc.length),this.Ra=this.gc.length,this.ag=b.ag,this.Yf=b.Yf,this.bg=b.bg,this.Zf=b.Zf,this.cg=b.cg,this.$f=b.$f,this.Lp=b.Lp.slice())}w(dd,cd);f=dd.prototype;
f.add=function(a,b,c){this.ag=Math.min(this.ag,a);this.Yf=Math.max(this.Yf,a);this.bg=Math.min(this.bg,b);this.Zf=Math.max(this.Zf,b);this.cg=Math.min(this.cg,c);this.$f=Math.max(this.$f,c);this.Lp=[(this.ag+this.Yf)/2,(this.bg+this.Zf)/2,(this.cg+this.$f)/2];this.J=!0;this.gc[this.Ra++]=a;this.gc[this.Ra++]=b;this.gc[this.Ra++]=c;return this.Ra/3};f.resize=function(){if(this.Ra!=this.gc.length){var a=new Float32Array(this.Ra);a.set(this.gc.subarray(0,this.Ra));this.gc=a}};
f.get=function(a){a*=3;return[this.gc[a],this.gc[a+1],this.gc[a+2]]};f.remove=function(){throw Error("Not implemented.");};f.clear=function(){this.gc=new Float32Array(this.gc.length);this.J=!0};dd.prototype.__defineGetter__("count",function(){this.resize();return this.gc.length/3});dd.prototype.__defineGetter__("length",function(){this.resize();return this.gc.length});v("X.triplets",dd);v("X.triplets.prototype.add",dd.prototype.add);v("X.triplets.prototype.resize",dd.prototype.resize);
v("X.triplets.prototype.get",dd.prototype.get);v("X.triplets.prototype.remove",dd.prototype.remove);v("X.triplets.prototype.clear",dd.prototype.clear);function ed(){cd.call(this);this.u="indexer";this.tt=[];this.je={}}w(ed,cd);ed.prototype.add=function(a){if(null==a)throw Error("Invalid object.");var b=window.JSON.stringify(a);b in this.je||(this.je[b]=this.tt.length,this.tt.push(a));return this.je[b]};ed.prototype.unique=function(){return this.tt};function fd(a){cd.call(this);this.u="file";this.Xp=a;this.J=!0}w(fd,cd);function gd(){this.Pg=this.ja=null}gd.prototype.__defineSetter__("file",function(a){if(null==a||g(a)&&0==a.length)this.ja=null;else{if(g(a)){if(1==a.length){this.ja=new fd(a[0]);return}this.ja=Eb(a,function(a){var c=new J;c.ja=new fd(a);return c})}else this.ja=new fd(a);this.Pg=null}});gd.prototype.__defineGetter__("file",function(){return this.ja?g(this.ja)?this.ja.map(function(a){return a.ja.Xp}):this.ja.Xp:""});
gd.prototype.__defineGetter__("filedata",function(){return g(this.ja)?this.ja.map(function(a){return a.Pg}):this.Pg});gd.prototype.__defineSetter__("filedata",function(a){if(null==a||g(a)&&0==a.length)this.Pg=null;if(g(a))if(1==a.length)this.Pg=a[0];else{var b=this.ja.length,c;for(c=0;c<b;c++)this.ja[c].Pg=a[c]}else this.Pg=a});function hd(){return null};function id(a,b,c){return Math.min(Math.max(a,b),c)};function kd(a,b){this.Db={};this.nb=[];this.Th=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.vt(a)}f=kd.prototype;f.lg=function(){return this.Th};f.$h=function(){ld(this);for(var a=[],b=0;b<this.nb.length;b++)a.push(this.Db[this.nb[b]]);return a};f.Un=function(){ld(this);return this.nb.concat()};
f.St=function(a){for(var b=0;b<this.nb.length;b++){var c=this.nb[b];if(md(this.Db,c)&&this.Db[c]==a)return!0}return!1};f.Zl=function(a,b){if(this===a)return!0;if(this.Th!=a.lg())return!1;var c=b||nd;ld(this);for(var d,e=0;d=this.nb[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function nd(a,b){return a===b}f.qm=function(){return 0==this.Th};f.clear=function(){this.Db={};this.Th=this.nb.length=0};
f.remove=function(a){return md(this.Db,a)?(delete this.Db[a],this.Th--,this.nb.length>2*this.Th&&ld(this),!0):!1};function ld(a){if(a.Th!=a.nb.length){for(var b=0,c=0;b<a.nb.length;){var d=a.nb[b];md(a.Db,d)&&(a.nb[c++]=d);b++}a.nb.length=c}if(a.Th!=a.nb.length){for(var e={},c=b=0;b<a.nb.length;)d=a.nb[b],md(e,d)||(a.nb[c++]=d,e[d]=1),b++;a.nb.length=c}}f.get=function(a,b){return md(this.Db,a)?this.Db[a]:b};f.set=function(a,b){md(this.Db,a)||(this.Th++,this.nb.push(a));this.Db[a]=b};
f.vt=function(a){var b;a instanceof kd?(b=a.Un(),a=a.$h()):(b=pb(a),a=ob(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};f.forEach=function(a,b){for(var c=this.Un(),d=0;d<c.length;d++){var e=c[d],h=this.get(e);a.call(b,h,e,this)}};f.clone=function(){return new kd(this)};f.Ww=function(){for(var a=new kd,b=0;b<this.nb.length;b++){var c=this.nb[b];a.set(this.Db[c],c)}return a};function md(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function od(){cd.call(this);this.u="colortable";this.je=new kd;Aa(this,new gd)}w(od,cd);od.prototype.add=function(a,b,c,d,e,h){if(!(u(a)&&u(c)&&u(d)&&u(e)&&u(h)))throw Error("Invalid color table entry.");this.je.set(a,[b,c,d,e,h]);this.J=!0};od.prototype.get=function(a){return this.je.get(a)};v("X.colortable.prototype.get",od.prototype.get);function pd(a,b,c){this.x=da(a)?a:0;this.y=da(b)?b:0;this.z=da(c)?c:0}pd.prototype.clone=function(){return new pd(this.x,this.y,this.z)};pd.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};pd.prototype.Rw=function(){return[this.x,this.y,this.z]};function qd(a,b,c){this.x=a;this.y=b;this.z=c}w(qd,pd);f=qd.prototype;f.clone=function(){return new qd(this.x,this.y,this.z)};f.tg=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};f.scale=function(a){this.x*=a;this.y*=a;this.z*=a;return this};f.Eb=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};f.normalize=function(){return this.scale(1/this.tg())};f.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};
f.Mc=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};f.Zl=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.z==a.z};function rd(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return Math.sqrt(c*c+d*d+e*e)}function sd(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return c*c+d*d+e*e}function td(a,b){return new qd(a.x+b.x,a.y+b.y,a.z+b.z)}function ud(a,b){return new qd(a.y*b.z-a.z*b.y,a.z*b.x-a.x*b.z,a.x*b.y-a.y*b.x)};A.S=qd;f=A.S.prototype;f.clone=qd.prototype.clone;f.tg=qd.prototype.tg;f.scale=qd.prototype.scale;f.Eb=qd.prototype.Eb;f.add=qd.prototype.add;f.Mc=qd.prototype.Mc;f.normalize=function(){var a=this.tg();return 0==a?this.scale(0):this.scale(1/a)};A.S.dj=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z};A.S.pk=ud;A.S.ju=rd;A.S.sr=function(a,b,c){var d=a.x,e=a.y;a=a.z;return new qd(d+c*(b.x-d),e+c*(b.y-e),a+c*(b.z-a))};A.S.prototype.__defineGetter__("xx",function(){return this.x});
A.S.prototype.__defineGetter__("yy",function(){return this.y});A.S.prototype.__defineGetter__("zz",function(){return this.z});v("X.vector",A.S);v("X.vector.prototype.clone",A.S.prototype.clone);v("X.vector.prototype.magnitude",A.S.prototype.tg);v("X.vector.prototype.scale",A.S.prototype.scale);v("X.vector.prototype.invert",A.S.prototype.Eb);v("X.vector.prototype.normalize",A.S.prototype.normalize);v("X.vector.prototype.add",A.S.prototype.add);v("X.vector.prototype.subtract",A.S.prototype.Mc);
v("X.vector.dot",A.S.dj);v("X.vector.cross",A.S.pk);v("X.vector.distance",A.S.ju);v("X.vector.lerp",A.S.sr);function vd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}vd.prototype.BYTES_PER_ELEMENT=8;vd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};vd.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{vd.BYTES_PER_ELEMENT=8}catch(wd){}vd.prototype.BYTES_PER_ELEMENT=vd.prototype.BYTES_PER_ELEMENT;vd.prototype.set=vd.prototype.set;vd.prototype.toString=vd.prototype.toString;v("Float64Array",vd)};function xd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}xd.prototype.BYTES_PER_ELEMENT=4;xd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};xd.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(xd.BYTES_PER_ELEMENT=4,xd.prototype.BYTES_PER_ELEMENT=xd.prototype.BYTES_PER_ELEMENT,xd.prototype.set=xd.prototype.set,xd.prototype.toString=xd.prototype.toString,v("Float32Array",xd));function yd(){return new Float32Array(3)}function zd(a,b,c){var d=yd();d[0]=a;d[1]=b;d[2]=c;return d}function Ad(a,b){var c=a[0],d=a[1],e=a[2],c=1/Math.sqrt(c*c+d*d+e*e);b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c};function Bd(){return new Float32Array(4)}function Cd(a,b,c,d){var e=Bd();e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e};function Dd(){return new Float32Array(16)}function Ed(){var a=Dd();a[0]=a[5]=a[10]=a[15]=1;return a}function Fd(a,b,c,d,e,h,k,l,n,p,m,q,t,s,z,y,I){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=h;a[5]=k;a[6]=l;a[7]=n;a[8]=p;a[9]=m;a[10]=q;a[11]=t;a[12]=s;a[13]=z;a[14]=y;a[15]=I;return a}function Gd(a,b,c){b*=4;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3]}function Hd(a,b,c){b*=4;c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];c[3]=a[b+3]}function K(a,b,c,d,e,h){a[b]=c;a[b+4]=d;a[b+8]=e;a[b+12]=h}
function Id(a,b,c){a[b]=c[0];a[b+4]=c[1];a[b+8]=c[2];a[b+12]=c[3]}function Jd(a,b,c){c[0]=a[b];c[1]=a[b+4];c[2]=a[b+8];c[3]=a[b+12]}
function Kd(a,b,c){var d=a[0],e=a[1],h=a[2],k=a[3],l=a[4],n=a[5],p=a[6],m=a[7],q=a[8],t=a[9],s=a[10],z=a[11],y=a[12],I=a[13],P=a[14];a=a[15];var N=b[0],H=b[1],T=b[2],ca=b[3],V=b[4],wa=b[5],oa=b[6],ya=b[7],Oa=b[8],Ja=b[9],Pa=b[10],ka=b[11],za=b[12],qa=b[13],Gc=b[14];b=b[15];c[0]=d*N+l*H+q*T+y*ca;c[1]=e*N+n*H+t*T+I*ca;c[2]=h*N+p*H+s*T+P*ca;c[3]=k*N+m*H+z*T+a*ca;c[4]=d*V+l*wa+q*oa+y*ya;c[5]=e*V+n*wa+t*oa+I*ya;c[6]=h*V+p*wa+s*oa+P*ya;c[7]=k*V+m*wa+z*oa+a*ya;c[8]=d*Oa+l*Ja+q*Pa+y*ka;c[9]=e*Oa+n*Ja+t*Pa+
I*ka;c[10]=h*Oa+p*Ja+s*Pa+P*ka;c[11]=k*Oa+m*Ja+z*Pa+a*ka;c[12]=d*za+l*qa+q*Gc+y*b;c[13]=e*za+n*qa+t*Gc+I*b;c[14]=h*za+p*qa+s*Gc+P*b;c[15]=k*za+m*qa+z*Gc+a*b;return c}
function Ld(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[4],l=a[5],n=a[6],p=a[7],m=a[8],q=a[9],t=a[10],s=a[11],z=a[12],y=a[13],I=a[14],P=a[15],N=c*l-d*k,H=c*n-e*k,T=c*p-h*k,ca=d*n-e*l,V=d*p-h*l,wa=e*p-h*n,oa=m*y-q*z,ya=m*I-t*z,Oa=m*P-s*z,Ja=q*I-t*y,Pa=q*P-s*y,ka=t*P-s*I,za=N*ka-H*Pa+T*Ja+ca*Oa-V*ya+wa*oa;if(0==za)return!1;za=1/za;b[0]=(l*ka-n*Pa+p*Ja)*za;b[1]=(-d*ka+e*Pa-h*Ja)*za;b[2]=(y*wa-I*V+P*ca)*za;b[3]=(-q*wa+t*V-s*ca)*za;b[4]=(-k*ka+n*Oa-p*ya)*za;b[5]=(c*ka-e*Oa+h*ya)*za;b[6]=(-z*wa+I*T-P*H)*za;
b[7]=(m*wa-t*T+s*H)*za;b[8]=(k*Pa-l*Oa+p*oa)*za;b[9]=(-c*Pa+d*Oa-h*oa)*za;b[10]=(z*V-y*T+P*N)*za;b[11]=(-m*V+q*T-s*N)*za;b[12]=(-k*Ja+l*ya-n*oa)*za;b[13]=(c*Ja-d*ya+e*oa)*za;b[14]=(-z*ca+y*H-I*N)*za;b[15]=(m*ca-q*H+t*N)*za;return!0}function Md(a,b,c){var d=b[0],e=b[1];b=b[2];c[0]=d*a[0]+e*a[4]+b*a[8]+a[12];c[1]=d*a[1]+e*a[5]+b*a[9]+a[13];c[2]=d*a[2]+e*a[6]+b*a[10]+a[14]}
function Nd(a,b,c){var d=b[0],e=b[1],h=b[2];b=b[3];c[0]=d*a[0]+e*a[4]+h*a[8]+b*a[12];c[1]=d*a[1]+e*a[5]+h*a[9]+b*a[13];c[2]=d*a[2]+e*a[6]+h*a[10]+b*a[14];c[3]=d*a[3]+e*a[7]+h*a[11]+b*a[15];return c}function Od(a,b,c,d){var e=a[1]*b+a[5]*c+a[9]*d+a[13],h=a[2]*b+a[6]*c+a[10]*d+a[14],k=a[3]*b+a[7]*c+a[11]*d+a[15];a[12]=a[0]*b+a[4]*c+a[8]*d+a[12];a[13]=e;a[14]=h;a[15]=k;return a}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);A.v={};A.v.oB=function(a,b,c,d){c=c.Mc(b);c.normalize();d=A.S.pk(c,d);d.normalize();var e=A.S.pk(d,c);e.normalize();c.Eb();K(a,0,d.x,d.y,d.z,0);K(a,1,e.x,e.y,e.z,0);K(a,2,c.x,c.y,c.z,0);Od(a,-b.x,-b.y,-b.z);return a};A.v.Zb=function(a,b,c,d){var e=1/(b*a[3]+c*a[7]+d*a[11]+a[15]);return new A.S((b*a[0]+c*a[4]+d*a[8]+a[12])*e,(b*a[1]+c*a[5]+d*a[9]+a[13])*e,(b*a[2]+c*a[6]+d*a[10]+a[14])*e)};
A.v.wM=function(a,b,c){var d=new Float32Array(4),e=new Float32Array(4);Jd(a,b,d);Jd(a,c,e);Id(a,b,e);Id(a,c,d);return a};A.v.vM=function(a,b,c){var d=new Float32Array(4),e=new Float32Array(4);Hd(a,b,d);Hd(a,c,e);Gd(a,b,e);Gd(a,c,d);return a};A.v.eo=Ed;A.v.clone=function(a){var b=Dd();b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};
A.v.Ww=function(a,b){if(b==a){var c=a[1],d=a[2],e=a[3],h=a[6],k=a[7],l=a[11];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=c;b[6]=a[9];b[7]=a[13];b[8]=d;b[9]=h;b[11]=a[14];b[12]=e;b[13]=k;b[14]=l}else b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15];return b};
A.v.uG=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],h=a[4],k=a[5],l=a[6],n=a[7],p=a[8],m=a[9],q=a[10],t=a[11],s=a[12],z=a[13],y=a[14];a=a[15];return(b*k-c*h)*(q*a-t*y)-(b*l-d*h)*(m*a-t*z)+(b*n-e*h)*(m*y-q*z)+(c*l-d*k)*(p*a-t*s)-(c*n-e*k)*(p*y-q*s)+(d*n-e*l)*(p*z-m*s)};A.v.Eb=Ld;A.v.pv=function(a,b,c,d,e){var h=b/2;b=e-d;var k=Math.sin(h);if(0==b||0==k||0==c)return a;h=Math.cos(h)/k;return Fd(a,h/c,0,0,0,0,h,0,0,0,0,-(e+d)/b,-1,0,0,-(2*d*e)/b,0)};
A.v.JJ=function(a,b,c,d,e,h,k){return Fd(a,2*h/(c-b),0,0,0,0,2*h/(e-d),0,0,(c+b)/(c-b),(e+d)/(e-d),-(k+h)/(k-h),-1,0,0,-(2*k*h)/(k-h),0)};A.v.KJ=function(a,b,c,d,e,h,k){return Fd(a,2/(c-b),0,0,0,0,2/(e-d),0,0,0,0,-2/(k-h),0,-(c+b)/(c-b),-(e+d)/(e-d),-(k+h)/(k-h),1)};A.v.multiply=Kd;A.v.yB=Nd;A.v.translate=Od;A.v.scale=function(a,b,c,d){return Fd(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,a[8]*d,a[9]*d,a[10]*d,a[11]*d,a[12],a[13],a[14],a[15])};
A.v.rotate=function(a,b,c,d,e){var h=a[0],k=a[1],l=a[2],n=a[3],p=a[4],m=a[5],q=a[6],t=a[7],s=a[8],z=a[9],y=a[10],I=a[11],P=Math.cos(b),N=Math.sin(b),H=1-P;b=c*c*H+P;var T=c*d*H+e*N,ca=c*e*H-d*N,V=c*d*H-e*N,wa=d*d*H+P,oa=d*e*H+c*N,ya=c*e*H+d*N;c=d*e*H-c*N;e=e*e*H+P;return Fd(a,h*b+p*T+s*ca,k*b+m*T+z*ca,l*b+q*T+y*ca,n*b+t*T+I*ca,h*V+p*wa+s*oa,k*V+m*wa+z*oa,l*V+q*wa+y*oa,n*V+t*wa+I*oa,h*ya+p*c+s*e,k*ya+m*c+z*e,l*ya+q*c+y*e,n*ya+t*c+I*e,a[12],a[13],a[14],a[15])};
A.v.$r=function(a,b){var c=a[4],d=a[5],e=a[6],h=a[7],k=a[8],l=a[9],n=a[10],p=a[11],m=Math.cos(b),q=Math.sin(b);a[4]=c*m+k*q;a[5]=d*m+l*q;a[6]=e*m+n*q;a[7]=h*m+p*q;a[8]=c*-q+k*m;a[9]=d*-q+l*m;a[10]=e*-q+n*m;a[11]=h*-q+p*m;return a};A.v.as=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[8],l=a[9],n=a[10],p=a[11],m=Math.cos(b),q=Math.sin(b);a[0]=c*m+k*-q;a[1]=d*m+l*-q;a[2]=e*m+n*-q;a[3]=h*m+p*-q;a[8]=c*q+k*m;a[9]=d*q+l*m;a[10]=e*q+n*m;a[11]=h*q+p*m;return a};
A.v.bs=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[4],l=a[5],n=a[6],p=a[7],m=Math.cos(b),q=Math.sin(b);a[0]=c*m+k*q;a[1]=d*m+l*q;a[2]=e*m+n*q;a[3]=h*m+p*q;a[4]=c*-q+k*m;a[5]=d*-q+l*m;a[6]=e*-q+n*m;a[7]=h*-q+p*m;return a};v("X.matrix.identity",A.v.eo);v("X.matrix.clone",A.v.clone);v("X.matrix.transpose",A.v.Ww);v("X.matrix.determinant",A.v.uG);v("X.matrix.invert",A.v.Eb);v("X.matrix.multiply",A.v.multiply);v("X.matrix.multiplyByVector",A.v.Zb);v("X.matrix.multiplyByVec4",A.v.yB);
v("X.matrix.makePerspective",A.v.pv);v("X.matrix.makeFrustum",A.v.JJ);v("X.matrix.makeOrtho",A.v.KJ);v("X.matrix.makeLookAt",A.v.oB);v("X.matrix.translate",A.v.translate);v("X.matrix.scale",A.v.scale);v("X.matrix.rotate",A.v.rotate);v("X.matrix.rotateX",A.v.$r);v("X.matrix.rotateY",A.v.as);v("X.matrix.rotateZ",A.v.bs);v("X.matrix.swapRows",A.v.wM);v("X.matrix.swapCols",A.v.vM);function Pd(){cd.call(this);this.u="transform";this.Bb=A.v.eo()}w(Pd,cd);Pd.prototype.__defineGetter__("matrix",function(){return this.Bb});Pd.prototype.__defineSetter__("matrix",function(a){if(!(null!=a&&a instanceof Float32Array))throw Error("Invalid matrix.");this.Bb=a;this.ga()});f=Pd.prototype;f.$r=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.v.$r(this.Bb,a*Math.PI/180);this.ga()};
f.as=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.v.as(this.Bb,a*Math.PI/180);this.ga()};f.bs=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.v.bs(this.Bb,a*Math.PI/180);this.ga()};f.tD=function(a){if(!u(a))throw Error("Invalid distance.");A.v.translate(this.Bb,a,0,0);this.ga()};f.uD=function(a){if(!u(a))throw Error("Invalid distance.");A.v.translate(this.Bb,0,a,0);this.ga()};
f.vD=function(a){if(!u(a))throw Error("Invalid distance.");A.v.translate(this.Bb,0,0,a);this.ga()};function Qd(a,b,c){a.Bb[b+4*c]*=-1;a.ga()}f.NG=function(){Qd(this,0,0)};f.OG=function(){Qd(this,1,1)};f.PG=function(){Qd(this,2,2)};f.ga=function(){this.J=!0};v("X.transform",Pd);v("X.transform.prototype.rotateX",Pd.prototype.$r);v("X.transform.prototype.rotateY",Pd.prototype.as);v("X.transform.prototype.rotateZ",Pd.prototype.bs);v("X.transform.prototype.translateX",Pd.prototype.tD);
v("X.transform.prototype.translateY",Pd.prototype.uD);v("X.transform.prototype.translateZ",Pd.prototype.vD);v("X.transform.prototype.flipX",Pd.prototype.NG);v("X.transform.prototype.flipY",Pd.prototype.OG);v("X.transform.prototype.flipZ",Pd.prototype.PG);v("X.transform.prototype.modified",Pd.prototype.ga);function Sd(){cd.call(this);this.u="texture";this.Mi=this.Xf=this.ja=null;this.lt=this.mt=0;this.Tx=!1;Aa(this,new gd)}w(Sd,cd);Sd.prototype.__defineSetter__("rawData",function(a){this.Mi=a;this.J=!0});Sd.prototype.__defineSetter__("rawDataHeight",function(a){this.lt=a;this.J=!0});Sd.prototype.__defineSetter__("rawDataWidth",function(a){this.mt=a;this.J=!0});Sd.prototype.__defineSetter__("grayscale",function(a){this.Tx=a;this.J=!0});v("X.texture",Sd);function Td(){this.Pd=Ud;this.nc=new Pd;this.Ka=[1,1,1];this.Ml=this.Za=this.Rc=this.fa=this.G=null;this.Hl=[];this.rb=!0;this.Gl=this.hn=1;this.yl=null;this.Ym=!1;this.dd=1;this.td=0;this.gn=!0}var Ud="TRIANGLES";Td.prototype.__defineSetter__("type",function(a){return this.Pd=a});Td.prototype.__defineGetter__("type",function(){return this.Pd});Td.prototype.__defineGetter__("texture",function(){this.Za||(this.Za=new Sd);return this.Za});Td.prototype.__defineGetter__("transform",function(){return this.nc});
Td.prototype.__defineGetter__("points",function(){return this.G});Td.prototype.__defineSetter__("points",function(a){this.G=a});Td.prototype.__defineGetter__("normals",function(){return this.fa});Td.prototype.__defineSetter__("normals",function(a){this.fa=a});Td.prototype.__defineGetter__("colors",function(){return this.Rc});Td.prototype.__defineSetter__("colors",function(a){this.Rc=a});Td.prototype.__defineGetter__("color",function(){return this.Ka});
Td.prototype.__defineSetter__("color",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid color.");for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)b[d].color=a;this.Ka=a;this.J=!0});Td.prototype.__defineGetter__("opacity",function(){return this.dd});Td.prototype.__defineSetter__("opacity",function(a){if(!u(a)||1<a||0>a)throw Error("Invalid opacity.");for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)null!=b[d]&&(b[d].opacity=a);this.dd=a;this.J=!0});Td.prototype.__defineGetter__("caption",function(){return this.yl});
Td.prototype.__defineSetter__("caption",function(a){this.yl=a;this.J=!0});Td.prototype.__defineGetter__("visible",function(){return this.rb});Td.prototype.__defineSetter__("visible",function(a){for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)null!=b[d]&&(b[d].visible=a);this.rb=a;this.J=!0});Td.prototype.__defineGetter__("pointsize",function(){return this.hn});Td.prototype.__defineSetter__("pointsize",function(a){if(!u(a))throw Error("Invalid point size.");this.hn=a;this.J=!0});
Td.prototype.__defineGetter__("magicmode",function(){return this.Ym});Td.prototype.__defineSetter__("magicmode",function(a){if(!ja(a))throw Error("Invalid magic mode setting.");this.Ym=a;this.J=!0});Td.prototype.__defineGetter__("linewidth",function(){return this.Gl});Td.prototype.__defineSetter__("linewidth",function(a){if(!u(a))throw Error("Invalid line width.");this.Gl=a;this.J=!0});Td.prototype.__defineGetter__("pickable",function(){return this.gn});
Td.prototype.__defineSetter__("pickable",function(a){if(!ja(a))throw Error("Invalid pickable setting.");this.gn=a;this.J=!0});Td.prototype.__defineGetter__("textureCoordinateMap",function(){return this.Ml});Td.prototype.__defineSetter__("textureCoordinateMap",function(){});function Vd(){this.ke=Infinity;this.Ab=this.fc=-Infinity;this.Cb=Infinity;this.Ii=[0,0,0];this.Gi=[1,1,1]}Vd.prototype.__defineGetter__("lowerThreshold",function(){return this.Ab});Vd.prototype.__defineSetter__("lowerThreshold",function(a){this.Ab=a});Vd.prototype.__defineGetter__("upperThreshold",function(){return this.Cb});Vd.prototype.__defineSetter__("upperThreshold",function(a){this.Cb=a});Vd.prototype.__defineGetter__("min",function(){return this.ke});Vd.prototype.__defineGetter__("max",function(){return this.fc});
Vd.prototype.__defineGetter__("minColor",function(){return this.Ii});Vd.prototype.__defineSetter__("minColor",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid min. color.");this.Ii=a});Vd.prototype.__defineGetter__("maxColor",function(){return this.Gi});Vd.prototype.__defineSetter__("maxColor",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid max. color.");this.Gi=a});function Wd(){cd.call(this);this.u="scalars";this.Vm=this.gb=null;this.fy=!0;this.at=0;Aa(this,new gd);Aa(this,new Vd);this.Ii=[0,1,0];this.Gi=[1,0,0]}w(Wd,cd);Wd.prototype.__defineGetter__("array",function(){return this.gb});Wd.prototype.__defineSetter__("array",function(a){this.Vm=this.gb=a;this.J=!0});Wd.prototype.__defineGetter__("interpolation",function(){return this.at});Wd.prototype.__defineSetter__("interpolation",function(a){this.at=a});v("X.scalars",Wd);function Xd(a){cd.call(this);this.u="object";this.j=[];this.hb=this.Md=null;Aa(this,new Td);null!=a&&this.nk(a)}w(Xd,cd);
Xd.prototype.nk=function(a){this.Pd=a.Pd;this.nc=new Pd;this.nc.Bb=new Float32Array(a.nc.Bb);this.Ka=a.Ka.slice();a.G&&(this.G=new dd(a.G.length,a.G));a.fa&&(this.fa=new dd(a.fa.length,a.fa));a.Rc&&(this.Rc=new dd(a.Rc.length,a.Rc));this.Za=a.Za;this.Ml=a.Ml;a.ja&&(this.ja=new fd((new String(a.ja.Xp)).toString()));this.dd=a.dd;this.j.length=0;var b=a.j;if(b)for(var c=b.length,d=0,d=0;d<c;d++)this.j.push(new A[b[d].u](b[d]));this.rb=a.rb;this.hn=a.hn;this.Gl=a.Gl;a.yl&&(this.yl=(new String(a.yl)).toString());
this.Ym=a.Ym;this.gn=a.gn;this.Hl=a.Hl.slice();this.J=!0};Xd.prototype.__defineGetter__("colortable",function(){this.Md||(this.Md=new od);return this.Md});Xd.prototype.__defineGetter__("scalars",function(){this.hb||(this.hb=new Wd);return this.hb});Xd.prototype.__defineGetter__("children",function(){return this.j});Xd.prototype.ga=function(){var a=new Yd;a.Sa=this;this.dispatchEvent(a)};Xd.prototype.remove=function(){var a=new Zd;a.Sa=this;this.dispatchEvent(a)};
function $d(a,b){if(!(null!=a&&null!=b&&a instanceof Xd&&b instanceof Xd))throw Error("Fatal: Two valid X.objects are required for comparison.");return 1==a.dd?-1:1==b.dd?1:null!=a.td&&null!=b.td&&a.td>b.td?-1:1}v("X.object",Xd);v("X.object.prototype.modified",Xd.prototype.ga);v("X.object.prototype.remove",Xd.prototype.remove);function be(a){Ec.call(this,a);this.u="event"}w(be,Ec);var ce="pan"+B(),de="rotate"+B(),ee="zoom"+B(),fe="scroll"+B();B();var ge="resetview"+B(),he="windowlevel"+B(),ie="modified"+B(),je="remove"+B(),ke="progress"+B(),le="hover"+B(),me="hover_end"+B(),ne="computing"+B(),oe="computing_end"+B(),pe="computing_progress"+B();function qe(){be.call(this,he);this.ft=this.ut=0}w(qe,be);function re(){be.call(this,ce);this.td=new A.S(0,0,0)}w(re,be);function se(){be.call(this,de);this.td=new A.S(0,0,0)}
w(se,be);function ue(){be.call(this,ee);this.Wf=this.Qg=!1}w(ue,be);function ve(){be.call(this,fe);this.hc=!1}w(ve,be);function we(){be.call(this,le);this.dq=this.cq=0}w(we,be);function xe(){be.call(this,me)}w(xe,be);function ye(){be.call(this,ge)}w(ye,be);function Yd(){be.call(this,ie);this.ya=this.Sa=null}w(Yd,be);function Zd(){be.call(this,je);this.ya=this.Sa=null}w(Zd,be);function ze(){be.call(this,ke);this.dk=0}w(ze,be);function Ae(){be.call(this,ne);this.Sa=null}w(Ae,be);
function Ee(){be.call(this,pe);this.dk=0}w(Ee,be);function Fe(){be.call(this,oe);this.Sa=null}w(Fe,be);v("X.event.events.PAN",ce);v("X.event.events.ROTATE",de);v("X.event.events.ZOOM",ee);v("X.event.events.SCROLL",fe);function Ge(){cd.call(this);this.u="parser";this._data=null;this.Ra=0;this.DF=0<(new Int8Array((new Int16Array([1])).buffer))[0];this.Sp=!0}w(Ge,cd);Ge.prototype.parse=function(){throw Error("The function parse() should be overloaded.");};function He(a){for(var b=Infinity,c=-Infinity,d=a.length,e=0,e=0;e<d;e++)if(!isNaN(a[e]))var h=a[e],b=Math.min(b,h),c=Math.max(c,h);return[b,c]}
function Ie(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);for(var d="",e=0,e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}
Ge.prototype.h=function(a,b){null!=b||(b=1);var c=1,d=Uint8Array;switch(a){case "schar":d=Int8Array;break;case "ushort":d=Uint16Array;c=2;break;case "sshort":d=Int16Array;c=2;break;case "uint":d=Uint32Array;c=4;break;case "sint":d=Int32Array;c=4;break;case "float":d=Float32Array;c=4;break;case "complex":d=Float64Array;c=8;break;case "double":d=Float64Array,c=8}d=new d(this._data.slice(this.Ra,this.Ra+=b*c));if(this.DF!=this.Sp)for(var e=new Uint8Array(d.buffer,d.byteOffset,d.byteLength),h=0;h<d.byteLength;h+=
c)for(var k=h+c-1,l=h;k>l;k--,l++){var n=e[l];e[l]=e[k];e[k]=n}return 1==b?d[0]:d};
function Je(a,b){var c=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],d=Cd(0,0,0,1),e=Bd();Nd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Cd(0,0,b[2]-1,1);Nd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Cd(0,b[1]-
1,0,1);Nd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Cd(b[0]-1,0,0,1);Nd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Cd(b[0]-1,b[1]-1,0,1);Nd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];
c[5]=e[2]>c[5]?e[2]:c[5];d=Cd(b[0]-1,0,b[2]-1,1);Nd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Cd(0,b[1]-1,b[2]-1,1);Nd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Cd(b[0]-1,b[1]-1,b[2]-1,1);Nd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:
c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];return c}
function Ke(a,b){var c=Ed();if(a.length!=b.length||a[0]!=b[0]||a[1]!=b[1]||a[2]!=b[2]){var d=Math.acos(a[2]),e=yd(),h=a[0],k=a[1],l=a[2],n=b[0],p=b[1],m=b[2];e[0]=k*m-l*p;e[1]=l*n-h*m;e[2]=h*p-k*n;Ad(e,e);h=Math.cos(d/2);k=Math.sin(d/2)*e[0];l=Math.sin(d/2)*e[1];d=Math.sin(d/2)*e[2];K(c,0,h*h+k*k-l*l-d*d,2*(k*l-h*d),2*(k*d+h*l),0);K(c,1,2*(k*l+h*d),h*h+l*l-k*k-d*d,2*(l*d-h*k),0);K(c,2,2*(k*d-h*l),2*(l*d+h*k),h*h+d*d-l*l-k*k,0)}d=Dd();Ld(c,d);return[c,d]}
function Le(a,b,c,d,e,h,k,l,n){var p=new Me;Ad(c,c);for(var m=[],q=[],t=0;6>t;t++)for(var s=Math.floor(t/2),z=(s+1)%3,y=(s+2)%3,I=(4+2*s)%6,P=0;2>P;P++){var N=(2+P+2*s)%6,H=-(c[s]*(e[t]-a[s])+c[z]*(e[N]-a[z]))/c[y]+a[y];if(H>=e[I]&&H<=e[I+1]||H<=e[I]&&H>=e[I+1]){var T=[];T[s]=e[t];T[z]=e[N];T[y]=H;m.push(T)}else T=[],T[s]=e[t],T[z]=e[N],T[y]=H,q.push(T)}a=zd(0,0,1);a=Ke(c,a);e=a[0];a=a[1];s=[];for(q=0;q<m.length;++q)t=Cd(m[q][0],m[q][1],m[q][2],1),z=Bd(),Nd(e,t,z),s.push([z[0],z[1],z[2]]);e=zd(1,
0,0);m=yd();Md(a,e,m);q=zd(0,1,0);e=yd();Md(a,q,e);t=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];for(q=q=0;q<s.length;++q)s[q][0]<t[0]&&(t[0]=s[q][0]),s[q][0]>t[1]&&(t[1]=s[q][0]),s[q][1]<t[2]&&(t[2]=s[q][1]),s[q][1]>t[3]&&(t[3]=s[q][1]),s[q][2]<t[4]&&(t[4]=s[q][2]),s[q][2]>t[5]&&(t[5]=s[q][2]);q=Cd(t[0]+(t[1]-t[0])/2,t[2]+(t[3]-t[2])/2,t[4]+(t[5]-t[4])/2,0);s=Bd();Kd(a,q,s);z=Math.floor(t[0]);y=Math.ceil(t[1]);z==y&&y++;I=y-z;P=Math.floor(t[2]);
N=Math.ceil(t[3]);H=N-P;T=b[0];b=b[1];var q=Math.ceil(I/T),ca=Math.ceil(H/b),V=new Uint8Array(4*q*ca),wa=new Sd;wa.mt=q;wa.lt=ca;var ca=Bd(),oa=Cd(0,0,t[4],1),ya=Dd();Kd(k.uF,a,ya);for(var Oa=N-1E-7,Ja=y-1E-7,Pa=0,ka=0,za=0,qa=P,qa=P;qa<=Oa;qa+=b)for(za++,ka=0,oa[1]=qa,q=z;q<=Ja;q+=T){ka++;oa[0]=q;Nd(ya,oa,ca);var Gc=4*Pa,Be=Math.floor(ca[2]),Ce=Math.floor(ca[1]),De=Math.floor(ca[0]);if(0<=De&&De<k.Fa[0]&&0<=Ce&&Ce<k.Fa[1]&&0<=Be&&Be<k.Fa[2]){var ae=h[Be][Ce][De],Qh=De=Ce=Be=0;n?((ae=n.get(ae))||
(ae=[0,.61,0,0,1]),Be=255*ae[1],Ce=255*ae[2],De=255*ae[3],Qh=255*ae[4]):(Be=Ce=De=ae/k.fc*255,Qh=255);V[Gc]=Be;V[++Gc]=Ce;V[++Gc]=De;V[++Gc]=Qh}else V[Gc]=0,V[++Gc]=0,V[++Gc]=0,V[++Gc]=0;Pa++}wa.Mi=V;p.Za=wa;p.JF=t;p.wF=a;p.vF=ya;p.CF=P;p.HP=N;p.IF=z;p.IP=y;p.Vx=ka;p.Ux=za;p.Oh=T;p.$a=I;p.Hh=b;p.La=H;p.Wa=[s[0],s[1],s[2]];p.Bl=[c[0],c[1],c[2]];p.Yp=[m[0],m[1],m[2]];p.hc=[e[0],e[1],e[2]];p.rb=!1;p.Nh=k;p.Gh=null==k.Nh||l?!0:!1;p.xl=d;p.vf();p.rb=!1;return p}
function Ne(a,b,c,d){var e;e=d.Qc;for(var h=[],k=[],l=0;6>l;l++){var n=Math.floor(l/2),p=(n+1)%3,m=(n+2)%3,q=(2+2*n)%6,t=(4+2*n)%6,s=1/c[n]*(e[l]-b[n]);if(Infinity!=s&&-Infinity!=s){var z=b[p]+c[p]*s,s=b[m]+c[m]*s;z>=e[q]&&z<=e[q+1]&&s>=e[t]&&s<=e[t+1]?(q=[],q[n]=e[l],q[p]=z,q[m]=s,h.push(q)):(q=[],q[n]=e[l],q[p]=z,q[m]=s,k.push(q))}}e=[h,k];b=e[0];d.e[a].K=e;e=rd(new qd(b[0][0],b[0][1],b[0][2]),new qd(b[1][0],b[1][1],b[1][2]));d.e[a].GP=e;h=zd(0,0,1);k=Ke(c,h)[0];l=Cd(d.Ys[0],d.Ys[1],d.Ys[2],0);
h=Bd();Nd(k,l,h);k=Bd();l=h[2];k[0]=c[0]*l;k[1]=c[1]*l;k[2]=c[2]*l;k[3]=c[3]*l;.5>Math.abs(h[0])&&(h[0]=.5);.5>Math.abs(h[1])&&(h[1]=.5);d.e[a].Od=[Math.abs(h[0]),Math.abs(h[1])];d.e[a].Kl=h[2];d.e[a].Ta=k;e=Math.floor(Math.abs(e/h[2]));d.kn[a]=e+1;d.e[a].ea=e+1;d.e[a].K[0][0][0]>d.e[a].K[0][1][0]?0<k[0]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][0]<d.e[a].K[0][1][0]?0>k[0]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][1]>
d.e[a].K[0][1][1]?0<k[1]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][1]<d.e[a].K[0][1][1]?0>k[1]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][2]>d.e[a].K[0][1][2]?0<k[2]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][2]<d.e[a].K[0][1][2]&&0>k[2]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e);d.e[a].it=-(c[0]*b[0][0]+c[1]*b[0][1]+c[2]*b[0][2])}
function Oe(a,b){var c;c=b._data;for(var d=b.Fa,e=b.fc,h=Array(d[2]),k=Array(d[2]),l=d[1]*d[0],n=0,p=0,m=0,q=0,t=0,q=0;q<d[2];q++){var s=c.subarray(q*l,(q+1)*l),t=0;k[q]=Array(d[1]);h[q]=Array(d[1]);for(m=0;m<d[1];m++)for(k[q][m]=new c.constructor(d[0]),h[q][m]=new c.constructor(d[0]),p=0;p<d[0];p++)n=s[t],k[q][m][p]=n/e*255,h[q][m][p]=n,t++}c=[h,k];b.mc=c[0];b.FP=c[1];A.ie(a.u+".reslice");b.kb=null!=b.t;b.Md&&(b.Um=b.Md.je);b.AQ=[0,0,0];b.xa=[b.Ld[0]+(b.Fh[0]-1)/2,b.Ld[1]+(b.Fh[1]-1)/2,b.Ld[2]+(b.Fh[2]-
1)/2];b.Qc=[Math.min(b.Ld[0],b.Ld[0]+b.Fh[0]-1),Math.max(b.Ld[0],b.Ld[0]+b.Fh[0]-1),Math.min(b.Ld[1],b.Ld[1]+b.Fh[1]-1),Math.max(b.Ld[1],b.Ld[1]+b.Fh[1]-1),Math.min(b.Ld[2],b.Ld[2]+b.Fh[2]-1),Math.max(b.Ld[2],b.Ld[2]+b.Fh[2]-1)];b.e=[{},{},{}];c=zd(b.xa[0],b.xa[1],b.xa[2]);b.e[0].ln=c;d=zd(1,0,0);Ad(d,d);b.e[0].H=d;e=[1,0,0];b.e[0].Ka=e;Ne(0,c,d,b);b.j[0].j=Array(b.e[0].ea);c[0]=b.e[0].K[0][0][0]+b.e[0].Ta[0]*Math.floor(b.e[0].ea/2);c[1]=b.e[0].K[0][0][1]+b.e[0].Ta[1]*Math.floor(b.e[0].ea/2);c[2]=
b.e[0].K[0][0][2]+b.e[0].Ta[2]*Math.floor(b.e[0].ea/2);c=Le(c,b.e[0].Od,b.e[0].H,b.e[0].Ka,b.Qc,b.mc,b,b.kb,b.Um);b.kb&&(c.t=b.t.j[0].j[Math.floor(b.e[0].ea/2)].Za);b.j[0].j[Math.floor(b.e[0].ea/2)]=c;b.Ih=Math.floor(b.e[0].ea/2);b.Cl=Math.floor(b.e[0].ea/2);c=zd(b.xa[0],b.xa[1],b.xa[2]);b.e[1].ln=c;d=zd(0,1,0);Ad(d,d);b.e[1].H=d;e=[0,1,0];b.e[1].Ka=e;Ne(1,c,d,b);b.j[1].j=Array(b.e[1].ea);c[0]=b.e[1].K[0][0][0]+b.e[1].Ta[0]*Math.floor(b.e[1].ea/2);c[1]=b.e[1].K[0][0][1]+b.e[1].Ta[1]*Math.floor(b.e[1].ea/
2);c[2]=b.e[1].K[0][0][2]+b.e[1].Ta[2]*Math.floor(b.e[1].ea/2);c=Le(c,b.e[1].Od,b.e[1].H,b.e[1].Ka,b.Qc,b.mc,b,b.kb,b.Um);b.kb&&(c.t=b.t.j[1].j[Math.floor(b.e[1].ea/2)].Za);b.j[1].j[Math.floor(b.e[1].ea/2)]=c;b.Jh=Math.floor(b.e[1].ea/2);b.Dl=Math.floor(b.e[1].ea/2);c=zd(b.xa[0],b.xa[1],b.xa[2]);b.e[2].ln=c;d=zd(0,0,1);Ad(d,d);b.e[2].H=d;e=[0,.392,.804];b.e[2].Ka=e;Ne(2,c,d,b);b.j[2].j=Array(b.e[2].ea);c[0]=b.e[2].K[0][0][0]+b.e[2].Ta[0]*Math.floor(b.e[2].ea/2);c[1]=b.e[2].K[0][0][1]+b.e[2].Ta[1]*
Math.floor(b.e[2].ea/2);c[2]=b.e[2].K[0][0][2]+b.e[2].Ta[2]*Math.floor(b.e[2].ea/2);c=Le(c,b.e[2].Od,b.e[2].H,b.e[2].Ka,b.Qc,b.mc,b,b.kb,b.Um);b.kb&&(c.t=b.t.j[2].j[Math.floor(b.e[2].ea/2)].Za);b.j[2].j[Math.floor(b.e[2].ea/2)]=c;b.Kh=Math.floor(b.e[2].ea/2);b.El=Math.floor(b.e[2].ea/2);A.Kd(a.u+".reslice");return b.mc};function Pe(){Ge.call(this);this.u="parserOFF"}w(Pe,Ge);
Pe.prototype.parse=function(a,b,c){function d(){if(n===e)throw Error("End of file reached unexpectedly.");for(var a=n;a<e;++a)if(10===h[a]){var b=Ie(h,n,a);n=a+1;return b}n=e;return Ie(h,n,e-1)}A.ie(this.u+".parse");this._data=c;var e=c.byteLength,h=this.h("uchar",e);c=[];b.G=new dd(e);b.fa=new dd(e);for(var k=b.G,l=b.fa,n=0,p=d(),p=("OFF"===p?d():p).split(" "),m=p[0],p=p[1];m--;){var q=d(),q=q.split(" ");c.push([parseFloat(q[0]),parseFloat(q[1]),parseFloat(q[2])])}for(;p--;){var q=d(),q=q.split(" "),
t=c[parseInt(q[1],10)],m=c[parseInt(q[2],10)],q=c[parseInt(q[3],10)];k.add(t[0],t[1],t[2]);k.add(m[0],m[1],m[2]);k.add(q[0],q[1],q[2]);t=new qd(t[0],t[1],t[2]);q=new qd(q[0],q[1],q[2]);m=ud((new qd(m[0],m[1],m[2])).Mc(t),q.Mc(t));m.normalize();l.add(m.x,m.y,m.z);l.add(m.x,m.y,m.z);l.add(m.x,m.y,m.z)}A.Kd(this.u+".parse");c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};v("X.parserOFF",Pe);v("X.parserOFF.prototype.parse",Pe.prototype.parse);function Me(a){Xd.call(this);this.u="slice";this.Wa=[0,0,0];this.Bl=[0,0,1];this.hc=[0,1,0];this.Yp=[1,0,0];this.La=this.$a=10;this.Ml=[0,1,0,0,1,1,1,1,1,0,0,0];this.t=this.Nh=null;this.Gh=!0;this.xl=[1,1,1];null!=a&&this.nk(a)}w(Me,Xd);Me.prototype.nk=function(a){this.Wa=a.Wa.slice();this.Bl=a.Bl.slice();this.hc=a.hc.slice();this.$a=a.$a;this.La=a.La;this.Nh=a.Nh;this.t=a.t;this.Gh=a.Gh;this.xl=a.xl;this.BF=a.BF;Me.d.nk.call(this,a)};Me.prototype.__defineSetter__("height",function(a){this.La=a});
Me.prototype.__defineSetter__("width",function(a){this.$a=a});Me.prototype.create=function(){this.vf()};
Me.prototype.vf=function(){var a=(new qd(this.Bl[0],this.Bl[1],this.Bl[2])).normalize(),b=new qd(this.hc[0],this.hc[1],this.hc[2]),c=new qd(this.Yp[0],this.Yp[1],this.Yp[2]),d=new qd(this.Wa[0],this.Wa[1],this.Wa[2]),e=td(c.clone().Eb().scale(this.$a/2),b.clone().Eb().scale(this.La/2)),h=new qd(e.x+d.x,e.y+d.y,e.z+d.z),e=td(c.clone().Eb().scale(this.$a/2),b.clone().scale(this.La/2)),k=new qd(e.x+d.x,e.y+d.y,e.z+d.z),e=td(c.clone().scale(this.$a/2),b.clone().Eb().scale(this.La/2)),l=new qd(e.x+d.x,
e.y+d.y,e.z+d.z),e=td(c.clone().scale(this.$a/2),b.clone().scale(this.La/2)),b=new qd(e.x+d.x,e.y+d.y,e.z+d.z);this.G=new dd(18);this.fa=new dd(18);this.G.add(h.x,h.y,h.z);this.G.add(k.x,k.y,k.z);this.G.add(l.x,l.y,l.z);this.G.add(l.x,l.y,l.z);this.G.add(b.x,b.y,b.z);this.G.add(k.x,k.y,k.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.Gh&&(a=new Xd,a.G=new dd(24),a.fa=new dd(24),a.G.add(h.x,
h.y,h.z),a.G.add(k.x,k.y,k.z),a.G.add(k.x,k.y,k.z),a.G.add(b.x,b.y,b.z),a.G.add(b.x,b.y,b.z),a.G.add(l.x,l.y,l.z),a.G.add(l.x,l.y,l.z),a.G.add(h.x,h.y,h.z),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.Ka=[this.xl[0],this.xl[1],this.xl[2]],a.Pd="LINES",a.Gl=2,this.j.push(a))};v("X.slice",Me);v("X.slice.prototype.create",Me.prototype.create);function J(a){Xd.call(this);this.u="volume";this.Wa=[0,0,0];this.Fa=[10,10,10];this.Qc=[1,1,1];this.kn=[10,10,10];this.Lh=[1,1,1];this.Xf=[];this.El=this.Kh=this.Dl=this.Jh=this.Cl=this.Ih=0;this.mn=new Xd;this.nn=new Xd;this.pn=new Xd;this.bq=this.Pe=!1;this.Jb=-1;this.aq=[];this.t=null;this.Gh=!0;this.Tb=Infinity;this.Sb=-Infinity;this.gy=!0;this.fc=0;this._data=null;Aa(this,new gd);Aa(this,new Vd);null!=a&&this.nk(a)}w(J,Xd);
J.prototype.nk=function(a){this.Wa=a.Wa.slice();this.Fa=a.Fa.slice();this.Lh=a.Lh.slice();this.Ih=a.Ih;this.Cl=a.Cl;this.Jh=a.Jh;this.Dl=a.Dl;this.Kh=a.Kh;this.El=a.El;this.Qx=a.Qx.slice();this.mn=new Xd(a.mn);this.nn=new Xd(a.nn);this.pn=new Xd(a.pn);this.fc=a.fc;this._data=a._data;this.Pe=a.Pe;this.bq=a.bq;this.Jb=a.Jb;this.t=a.t;this.Gh=a.Gh;J.d.nk.call(this,a)};
J.prototype.vf=function(a){this.j.length=0;this.mn.j.length=0;this.nn.j.length=0;this.pn.j.length=0;this.j.push(this.mn);this.j.push(this.nn);this.j.push(this.pn);this.Ld=a.nf;this.Ys=a.Jg;this.Fh=a.rd;this.wl=a.Ke;this.uF=a.Le;this.fc=a.max;this._data=a.data;this.J=!0};
J.prototype.ga=function(a){a="undefined"!==typeof a?a:!0;if(0<this.j.length){this.Pe!=this.bq&&(this.Pe||-1==this.Jb||(this.j[this.Jb].visible=!1),this.J=!0,this.bq=this.Pe);if(!this.rb)return;for(var b=0,b=0;3>b;b++){var c=this.j[b],d=0,e=0;0==b?(d=this.Ih,e=this.Cl,this.Cl=this.Ih):1==b?(d=this.Jh,e=this.Dl,this.Dl=this.Jh):2==b&&(d=this.Kh,e=this.El,this.El=this.Kh);if(null==this.j[b].j[parseInt(d,10)]){var h=yd();h[0]=this.e[b].K[0][0][0]+this.e[b].Ta[0]*parseInt(d,10);h[1]=this.e[b].K[0][0][1]+
this.e[b].Ta[1]*parseInt(d,10);h[2]=this.e[b].K[0][0][2]+this.e[b].Ta[2]*parseInt(d,10);if(this.kb){var k=Le(h,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,this.t.mc,this.t,this.t.kb,this.t.Md.je);this.t.j[b].j[parseInt(d,10)]=k;this.t.j[b].ga(!0)}h=Le(h,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,this.mc,this,!0,null);this.kb&&(h.t=h.Za,h.t=this.t.j[b].j[parseInt(d,10)].Za);c.j[parseInt(d,10)]=h;this.j[b].ga(!0)}e=c.j[parseInt(e,10)];this.Pe||(e.visible=!1);c=c.j[parseInt(d,10)];c.visible=!0;
c.dd=1;this.Pe&&(c.j[0].rb=!1,b!=this.Jb&&(c.visible=!1,c.dd=0))}this.Pe&&-1!=this.Jb&&Qe(this,this.Jb)}a&&J.d.ga.call(this)};J.prototype.__defineGetter__("dimensions",function(){return this.Fa});J.prototype.__defineSetter__("dimensions",function(a){this.Fa=a});J.prototype.__defineGetter__("spacing",function(){return this.Lh});J.prototype.__defineSetter__("spacing",function(a){this.Lh=a});J.prototype.__defineGetter__("bbox",function(){return this.Qc});J.prototype.__defineGetter__("range",function(){return this.kn});
J.prototype.__defineGetter__("dimensionsRAS",function(){return this.Qx});J.prototype.__defineGetter__("volumeRendering",function(){return this.Pe});J.prototype.__defineSetter__("volumeRendering",function(a){this.Pe=a;this.ga(!1)});J.prototype.__defineGetter__("visible",function(){return this.rb});J.prototype.__defineSetter__("visible",function(a){if(a)this.rb=a,this.ga(!1);else{for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)b[d].visible=a;this.rb=a;this.J=!0}});
J.prototype.__defineGetter__("center",function(){return this.Wa});J.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center.");this.Wa=a});J.prototype.__defineGetter__("volumeRenderingCache",function(){return this.aq});J.prototype.__defineSetter__("volumeRenderingCache",function(a){if(!(null!=a&&g(a)&&3>=a.length))throw Error("Invalid volumeRederingCache.");this.aq=a});J.prototype.__defineGetter__("image",function(){return this.Xf});
J.prototype.__defineGetter__("labelmap",function(){this.t||(this.t=new Re(this));return this.t});J.prototype.__defineGetter__("indexX",function(){return this.Ih});J.prototype.__defineSetter__("indexX",function(a){u(a)&&0<=a&&a<this.mn.j.length&&(this.Ih=a,this.ga(!1))});J.prototype.__defineGetter__("indexY",function(){return this.Jh});J.prototype.__defineSetter__("indexY",function(a){u(a)&&0<=a&&a<this.nn.j.length&&(this.Jh=a,this.ga(!1))});J.prototype.__defineGetter__("indexZ",function(){return this.Kh});
J.prototype.__defineSetter__("indexZ",function(a){u(a)&&0<=a&&a<this.pn.j.length&&(this.Kh=a,this.ga(!1))});J.prototype.__defineGetter__("windowLow",function(){return this.Tb});J.prototype.__defineSetter__("windowLow",function(a){this.Tb=a});J.prototype.__defineGetter__("windowHigh",function(){return this.Sb});J.prototype.__defineSetter__("windowHigh",function(a){this.Sb=a});J.prototype.__defineGetter__("borders",function(){return this.Gh});
J.prototype.__defineSetter__("borders",function(a){this.Gh=a});J.prototype.__defineGetter__("reslicing",function(){return this.gy});J.prototype.__defineSetter__("reslicing",function(a){this.gy=a});J.prototype.__defineSetter__("xNormX",function(a){this.e[0].H[0]=a});J.prototype.__defineGetter__("xNormX",function(){return this.e[0].H[0]});J.prototype.__defineSetter__("xNormY",function(a){this.e[0].H[1]=a});J.prototype.__defineGetter__("xNormY",function(){return this.e[0].H[1]});
J.prototype.__defineSetter__("xNormZ",function(a){this.e[0].H[2]=a});J.prototype.__defineGetter__("xNormZ",function(){return this.e[0].H[2]});J.prototype.__defineSetter__("xColor",function(a){this.e[0].Ka=a});J.prototype.__defineGetter__("xColor",function(){return this.e[0].Ka});J.prototype.__defineSetter__("yNormX",function(a){this.e[1].H[0]=a});J.prototype.__defineGetter__("yNormX",function(){return this.e[1].H[0]});J.prototype.__defineSetter__("yNormY",function(a){this.e[1].H[1]=a});
J.prototype.__defineGetter__("yNormY",function(){return this.e[1].H[1]});J.prototype.__defineSetter__("yNormZ",function(a){this.e[1].H[2]=a});J.prototype.__defineGetter__("yNormZ",function(){return this.e[1].H[2]});J.prototype.__defineSetter__("yColor",function(a){this.e[1].Ka=a});J.prototype.__defineGetter__("yColor",function(){return this.e[1].Ka});J.prototype.__defineSetter__("zNormX",function(a){this.e[2].H[0]=a});J.prototype.__defineGetter__("zNormX",function(){return this.e[2].H[0]});
J.prototype.__defineSetter__("zNormY",function(a){this.e[2].H[1]=a});J.prototype.__defineGetter__("zNormY",function(){return this.e[2].H[1]});J.prototype.__defineSetter__("zNormZ",function(a){this.e[2].H[2]=a});J.prototype.__defineGetter__("zNormZ",function(){return this.e[2].H[2]});J.prototype.__defineSetter__("zColor",function(a){this.e[2].Ka=a});J.prototype.__defineGetter__("zColor",function(){return this.e[2].Ka});
J.prototype.kM=function(a){this.j[a].visible=!1;for(var b=0;b<this.j[a].j.length;b++)"undefined"!=typeof this.j[a].j[b]&&(this.kb&&(this.t.j[a].j[b].remove(),this.t.j[a].j[b]=null),this.j[a].j[b].remove(),this.j[a].j[b]=null);Ad(this.e[a].H,this.e[a].H);Ne(a,this.e[a].ln,this.e[a].H,this);this.j[a].j=[];alert("#VOLUME#",this.e[a].ea);this.j[a].j=Array(this.e[a].ea);this.kb&&(b=Le(this.e[a].ln,this.e[a].Od,this.e[a].H,this.e[a].Ka,this.Qc,this.t.mc,this.t,this.t.kb,this.t.Md.je),this.t.j[a].j=[],this.t.j[a].j=
Array(this.e[a].ea),this.t.j[a].j[Math.floor(this.e[a].ea/2)]=b,this.t.j[a].ga());b=Le(this.e[a].ln,this.e[a].Od,this.e[a].H,this.e[a].Ka,this.Qc,this.mc,this,!0,null);this.kb&&(b.t=b.Za,b.t=this.t.j[a].j[Math.floor(this.e[a].ea/2)].Za);this.j[a].j[Math.floor(this.e[a].ea/2)]=b;0==a?(this.Ih=Math.floor(this.e[a].ea/2),this.Cl=Math.floor(this.e[a].ea/2)):1==a?(this.Jh=Math.floor(this.e[a].ea/2),this.Dl=Math.floor(this.e[a].ea/2)):(this.Kh=Math.floor(this.e[a].ea/2),this.El=Math.floor(this.e[a].ea/
2));this.j[a].ga();this.j[a].j[Math.floor(this.e[a].ea/2)].rb=!0};
function Qe(a,b){if(!a.Mp)if(!a.Pe||!a.J&&b==a.Jb)a.Jb=b;else if(-1==a.aq.indexOf(b))a.aq.push(b),a.Mp=!0,Se(a,b),setTimeout(function(){var a=null;0<=this.Jb&&(a=this.j[this.Jb],a.visible=!1);var a=this.j[b],c=a.j.length,d=Math.floor(c/4),e;for(e=0;e<1*d;e++){if(null==a.j[e]){var p=yd();p[0]=this.e[b].K[0][0][0]+this.e[b].Ta[0]*e;p[1]=this.e[b].K[0][0][1]+this.e[b].Ta[1]*e;p[2]=this.e[b].K[0][0][2]+this.e[b].Ta[2]*e;if(this.kb){var m=Le(p,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,this.t.mc,this.t,
this.t.kb,this.t.Md.je);this.t.j[b].j[e]=m;this.t.j[b].ga(!0)}p=Le(p,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,this.mc,this,!0,null);p.j[0].rb=!1;this.kb&&(p.t=p.Za,p.t=this.t.j[b].j[e].Za);a.j[e]=p}a.j[e].rb=!0}Te(this,.25);setTimeout(function(){for(;e<2*d;e++){if(null==a.j[e]){var m=yd();m[0]=this.e[b].K[0][0][0]+this.e[b].Ta[0]*e;m[1]=this.e[b].K[0][0][1]+this.e[b].Ta[1]*e;m[2]=this.e[b].K[0][0][2]+this.e[b].Ta[2]*e;if(this.kb){var p=Le(m,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,this.t.mc,
this.t,this.t.kb,this.t.Md.je);this.t.j[b].j[e]=p;this.t.j[b].ga(!0)}m=Le(m,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,this.mc,this,!0,null);m.j[0].rb=!1;this.kb&&(m.t=m.Za,m.t=this.t.j[b].j[e].Za);a.j[e]=m}a.j[e].rb=!0}Te(this,.5);setTimeout(function(){for(;e<3*d;e++){if(null==a.j[e]){var m=yd();m[0]=this.e[b].K[0][0][0]+this.e[b].Ta[0]*e;m[1]=this.e[b].K[0][0][1]+this.e[b].Ta[1]*e;m[2]=this.e[b].K[0][0][2]+this.e[b].Ta[2]*e;if(this.kb){var p=Le(m,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,
this.t.mc,this.t,this.t.kb,this.t.Md.je);this.t.j[b].j[e]=p;this.t.j[b].ga(!0)}m=Le(m,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,this.mc,this,!0,null);m.j[0].rb=!1;this.kb&&(m.t=m.Za,m.t=this.t.j[b].j[e].Za);a.j[e]=m}a.j[e].rb=!0}Te(this,.75);setTimeout(function(){for(e=3*d;e<c;e++){if(null==a.j[e]){var m=yd();m[0]=this.e[b].K[0][0][0]+this.e[b].Ta[0]*e;m[1]=this.e[b].K[0][0][1]+this.e[b].Ta[1]*e;m[2]=this.e[b].K[0][0][2]+this.e[b].Ta[2]*e;if(this.kb){var p=Le(m,this.e[b].Od,this.e[b].H,this.e[b].Ka,
this.Qc,this.t.mc,this.t,this.t.kb,this.t.Md.je);this.t.j[b].j[e]=p;this.t.j[b].ga(!0)}m=Le(m,this.e[b].Od,this.e[b].H,this.e[b].Ka,this.Qc,this.mc,this,!0,null);m.j[0].rb=!1;this.kb&&(m.t=m.Za,m.t=this.t.j[b].j[e].Za);a.j[e]=m}a.j[e].rb=!0}Te(this,1);setTimeout(function(){this.Mp&&this.j[b].ga(!0);this.Jb=b;this.J=!1;if(this.Mp){var a=new Fe;a.Sa=this;this.dispatchEvent(a);this.onComputingEnd(b)}this.Mp=!1}.bind(this),10)}.bind(this),10)}.bind(this),10)}.bind(this),10)}.bind(a),10);else{var c=a.j[a.Jb];
c.visible=!1;var c=a.j[b],d=c.j.length,e;for(e=0;e<d;e++)c.j[e].rb=!0;a.Jb=b;a.J=!1}}function Se(a,b){var c=new Ae;c.Sa=a;a.dispatchEvent(c);a.onComputing(b)}function Te(a,b){var c=new Ee;c.dk=b;a.dispatchEvent(c);a.onComputingProgress(100*b)}J.prototype.Fv=function(){};J.prototype.Hv=function(){};J.prototype.Gv=function(){};J.REORIENT_TRANSFORM_KEY="ot_"+B();v("X.volume.REORIENT_TRANSFORM_KEY",J.REORIENT_TRANSFORM_KEY);J.REORIENTED_DIMENSIONS_KEY="otd_"+B();
v("X.volume.REORIENTED_DIMENSIONS_KEY",J.REORIENTED_DIMENSIONS_KEY);J.ORIENTATION_KEY="or_"+B();v("X.volume.ORIENTATION_KEY",J.ORIENTATION_KEY);J.SINGLE_FRAME_SCAN="sf_"+B();v("X.volume.SINGLE_FRAME_SCAN",J.SINGLE_FRAME_SCAN);v("X.volume",J);v("X.volume.prototype.modified",J.prototype.ga);v("X.volume.prototype.sliceInfoChanged",J.prototype.kM);v("X.volume.prototype.onComputing",J.prototype.Fv);v("X.volume.prototype.onComputingProgress",J.prototype.Hv);v("X.volume.prototype.onComputingEnd",J.prototype.Gv);function Ue(){Ge.call(this);this.u="parserDCM"}w(Ue,Ge);
Ue.prototype.parse=function(a,b,c){b.Bh={};b.Bh.wo=0;this.li(c,b);if(null==b.ja.length||b.ra.length==b.ja.length){b.Bh.wo=b.ja.length;c=[];for(var d=0;d<b.ra.length;d++)null==b.ra[d].data&&c.push(d);for(d=0;d<c.length;d++)b.ra.splice(c[d],1);if(0==b.ra.length)throw Error("This scan does not contain imaging data that can be visualized.");var e={};c={};for(d=0;d<b.ra.length;d++)e.hasOwnProperty(b.ra[d].series_instance_uid)||(e[b.ra[d].series_instance_uid]=[],c[b.ra[d].series_instance_uid]={}),c[b.ra[d].series_instance_uid].hasOwnProperty(b.ra[d].sop_instance_uid)||
(c[b.ra[d].series_instance_uid][b.ra[d].sop_instance_uid]=!0,e[b.ra[d].series_instance_uid].push(b.ra[d]));var d=Object.keys(e)[0],h=e[d],k=h.length;c={};var l="image_position_patient";1==k?(l="image_position_patient",e[d][0].dist=0):h[0].image_position_patient[0]!=h[1].image_position_patient[0]||h[0].image_position_patient[1]!=h[1].image_position_patient[1]||h[0].image_position_patient[2]!=h[1].image_position_patient[2]?(l="image_position_patient",d=new qd(h[0].image_orientation_patient[0],h[0].image_orientation_patient[1],
h[0].image_orientation_patient[2]),e=new qd(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],h[0].image_orientation_patient[5]),d=ud(d,e),h.map(function(a,b){b.dist=b.image_position_patient[0]*a.x+b.image_position_patient[1]*a.y+b.image_position_patient[2]*a.z;return b}.bind(null,d)),h.sort(function(a,b){return a.dist-b.dist})):h[0].instance_number!=h[1].instance_number?(window.console.log("Ordering by instance number"),l="instance_number",h.sort(function(a,b){return a.instance_number-
b.instance_number})):window.console.log("Could not resolve the ordering mode");if("image_position_patient"==l&&5>k||void 0!=b.series_description&&-1!=b.series_description.toLowerCase().search("survey")&&20>k)if(d=0,e=function(){window.console.log('Warning: Although series was initially ordered by "image_position_patient", positional overlaps were found.\nSwitching to "instance_number" ordering as a result.');l="instance_number"},1==k)e(),b[J.SINGLE_FRAME_SCAN]=!0;else for(;d<k-1;d++).01>h[d].dist-
h[d+1].dist&&(e(),h.sort(function(a,b){return a.instance_number-b.instance_number}));for(var d=0,n=h.length;d<n;d++);isNaN(h[0].pixel_spacing[0])&&(h[0].pixel_spacing[0]=1);isNaN(h[0].pixel_spacing[1])&&(h[0].pixel_spacing[1]=1);if(1<h.length)for(var d=function(){l="instance_number";h.sort(function(a,b){return a.instance_number-b.instance_number});h.forced_instance_ordering=!0;window.console.log('Warning: Slices were found unordered after XTK "image_position_patient" sorting. Forcing "instance_number" reordering.');
for(var a=0,b=!1;a<n-1;a++)if(0==Math.abs(h[a].instance_number-h[a+1].instance_number)){b=!0;break}if(b)for(window.console.log('Warning: After forcing "instance_number" ordering overlaps were found. Rewriting "instance_number" data for every slice.'),a=0;a<n;a++)h[a].instance_number=a},p=0,n=h.length;p<n-1;p++)if(1!=Math.abs(h[p].instance_number-h[p+1].instance_number)){d();break}if(1<k)switch(l){case "image_position_patient":var e=h[0].image_position_patient,m=h[1].image_position_patient,d=m[0]-
e[0],q=m[1]-e[1],t=m[2]-e[2];h[0].pixel_spacing[2]=Math.sqrt(d*d+q*q+t*t);break;case "instance_number":var s=1;if(!0===h.forced_instance_ordering){for(var d=1,n=h.length,e=h[0].image_position_patient,z=!1;d<n;d++)if(m=h[d].image_position_patient,e[0]!=m[0]||e[1]!=m[1]||e[2]!=m[2]){z=!0;break}z&&(window.console.log('Warning: Setting pixel_spacing according to "image_position_patient" even though "forced_instance_ordering" is used.'),d=m[0]-e[0],q=m[1]-e[1],t=m[2]-e[2],s=Math.sqrt(d*d+q*q+t*t))}h[0].pixel_spacing[2]=
s;break;default:window.console.log("Unkown ordering mode - returning: "+l)}else h[0].pixel_spacing[2]=1;m=1;switch(l){case "image_position_patient":e=h[0].image_position_patient;s=h[k-1].image_position_patient;d=s[0]-e[0];q=s[1]-e[1];t=s[2]-e[2];q=Math.sqrt(d*d+q*q+t*t);m+=Math.round(q/h[0].pixel_spacing[2]);break;case "instance_number":m+=Math.abs(h[k-1].instance_number-h[0].instance_number);break;default:window.console.log("Unkown ordering mode - returning: "+l)}"false"==b.reslicing.toString()&&
(window.console.log('Forcing expexted slices to length of files because volume\'s "reslicing" property is set to false.'),window.console.log("Expected slices:",m),m=k,window.console.log("Ordering:",l));for(var e=h[0].columns*h[0].rows,y=e*m,s=!1,d=0,n=h.length,I=z=0;d<n;d++)h[d].columns>I&&(I=h[d].columns),h[d].rows>z&&(z=h[d].rows);I*z>e&&(e=I*z,y=e*m,s=!0,window.console.log("Warning: Dimensional inequalities found in image sizes."));var P=null;window.console.log(h[0].Si);switch(h[0].Si){case 8:P=
new Uint8Array(y);window.console.log("Using a Uint8Array.");break;case 16:P=new Uint16Array(y);window.console.log("Using a Uint16Array.");break;case 32:P=new Uint32Array(y),window.console.log("Using a Uint32Array.");default:window.console.log("Unknown number of bits allocated - using default: 32 bits"),P=new Uint32Array(y)}b.Lh=h[0].pixel_spacing;for(y=0;y<k;y++){var N=h[y].data,q=0;switch(l){case "image_position_patient":d=h[y].image_position_patient[0]-h[0].image_position_patient[0];q=h[y].image_position_patient[1]-
h[0].image_position_patient[1];t=h[y].image_position_patient[2]-h[0].image_position_patient[2];q=Math.sqrt(d*d+q*q+t*t)/h[0].pixel_spacing[2];break;case "instance_number":q=h[y].instance_number-h[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+l)}if(s){for(var p=h[y].columns,d=h[y].rows,t=0,H=Rb(z*I),T=Math.round((I-p)/2),ca=p+T,p=Math.round((z-d)/2),V=d+p,d=p;d<V;d++)for(p=T;p<ca;p++)H[I*d+p]=N[t],t++;N=H}P.set(N,Math.round(q)*e)}c.data=P;b._data=P;b.Fa=[h[0].columns,
h[0].rows,m];s&&(b.Fa=[I,z,m]);c.wG=b.Fa;d=He(P);k=d[0];d=d[1];c.min=b.ke=b.Tb=k;c.max=b.fc=b.Sb=d;b.Ab!=k&&(b.Ab=k);b.Cb!=d&&(b.Cb=d);m=h[0].image_position_patient;k=Dd();if("false"==b.reslicing.toString())"image_position_patient"==l||h.forced_instance_ordering?(window.console.log('NRG modification: Running an orthogonal transform because the volume\'s "reslicing" property is set to false.'),d=new qd(h[0].image_orientation_patient[0],h[0].image_orientation_patient[1],h[0].image_orientation_patient[2]),
e=new qd(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],h[0].image_orientation_patient[5]),d=ud(d,e),d.x=Math.round(d.x),d.y=Math.round(d.y),d.z=Math.round(d.z),K(k,0,-Math.round(h[0].image_orientation_patient[0])*h[0].pixel_spacing[0],-Math.round(h[0].image_orientation_patient[3])*h[0].pixel_spacing[1],-d.x*h[0].pixel_spacing[2],-m[0]),K(k,1,-Math.round(h[0].image_orientation_patient[1])*h[0].pixel_spacing[0],-Math.round(h[0].image_orientation_patient[4])*h[0].pixel_spacing[1],
-d.y*h[0].pixel_spacing[2],-m[1]),K(k,2,Math.round(h[0].image_orientation_patient[2])*h[0].pixel_spacing[0],Math.round(h[0].image_orientation_patient[5])*h[0].pixel_spacing[1],d.z*h[0].pixel_spacing[2],m[2]),K(k,3,0,0,0,1),window.console.log("IJKToRAS transform:\n",k),m=Dd(),K(m,0,-Math.round(h[0].image_orientation_patient[0]),-Math.round(h[0].image_orientation_patient[3]),-d.x,0),K(m,1,-Math.round(h[0].image_orientation_patient[1]),-Math.round(h[0].image_orientation_patient[4]),-d.y,0),K(m,2,Math.round(h[0].image_orientation_patient[2]),
Math.round(h[0].image_orientation_patient[5]),d.z,0),K(m,3,0,0,0,1),b[J.REORIENT_TRANSFORM_KEY]=m,window.console.log("Orthogonal Transform:\n",m)):"instance_number"==l?(K(k,0,-1,0,0,-m[0]),K(k,1,-0,-1,-0,-m[1]),K(k,2,0,0,1,m[2]),K(k,3,0,0,0,1),m=Dd(),K(m,0,-1,0,0,0),K(m,1,-0,-1,-0,0),K(m,2,0,0,1,0),K(m,3,0,0,0,1),K(m,3,0,0,0,1),b[J.REORIENT_TRANSFORM_KEY]=m):window.console.log("Unkown ordering mode - returning: "+l);else switch(l){case "image_position_patient":d=new qd(h[0].image_orientation_patient[0],
h[0].image_orientation_patient[1],h[0].image_orientation_patient[2]);e=new qd(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],h[0].image_orientation_patient[5]);d=ud(d,e);K(k,0,-h[0].image_orientation_patient[0]*h[0].pixel_spacing[0],-h[0].image_orientation_patient[3]*h[0].pixel_spacing[1],-d.x*h[0].pixel_spacing[2],-m[0]);K(k,1,-h[0].image_orientation_patient[1]*h[0].pixel_spacing[0],-h[0].image_orientation_patient[4]*h[0].pixel_spacing[1],-d.y*h[0].pixel_spacing[2],-m[1]);K(k,
2,h[0].image_orientation_patient[2]*h[0].pixel_spacing[0],h[0].image_orientation_patient[5]*h[0].pixel_spacing[1],d.z*h[0].pixel_spacing[2],m[2]);K(k,3,0,0,0,1);break;case "instance_number":K(k,0,-1,0,0,-m[0]);K(k,1,-0,-1,-0,-m[1]);K(k,2,0,0,1,m[2]);K(k,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+l)}c.Ke=k;c.Le=Dd();Ld(c.Ke,c.Le);m=Cd(0,0,0,1);d=Bd();Nd(k,m,d);m=Cd(1,1,1,1);e=Bd();Nd(k,m,e);c.Jg=[e[0]-d[0],e[1]-d[1],e[2]-d[2]];k=Je(k,[b.Fa[0],b.Fa[1],b.Fa[2]]);
c.rd=[k[1]-k[0]+1,k[3]-k[2]+1,k[5]-k[4]+1];c.nf=[k[0],k[2],k[4]];"false"==b.reslicing.toString()&&(k=Cd(b.Fa[0],b.Fa[1],b.Fa[2],1),d=Bd(),Nd(b[J.REORIENT_TRANSFORM_KEY],k,d),d[0]=Math.abs(d[0]),d[1]=Math.abs(d[1]),d[2]=Math.abs(d[2]),b[J.REORIENTED_DIMENSIONS_KEY]=d,d[0]==b.Fa[2]?(b[J.ORIENTATION_KEY]="sagittal",c.rd[0]+=1*h[0].pixel_spacing[2],c.Jg[0]=c.rd[0]/(h.length+1)):d[1]==b.Fa[2]?(b[J.ORIENTATION_KEY]="coronal",c.rd[1]+=1*h[0].pixel_spacing[2],c.nf[1]-=1*h[0].pixel_spacing[2]):(b[J.ORIENTATION_KEY]=
"transverse",c.rd[2]+=2*h[0].pixel_spacing[2],c.Jg[2]=c.rd[2]/(h.length+1),c.nf[2]-=h[0].pixel_spacing[2]),window.console.log("Assessed volume orientation: "+b[J.ORIENTATION_KEY]+"\nXTK Modifications may be applied to restore acquired properties."),window.console.log("_transformedDims",d),window.console.log("RASSpacing",c.Jg),window.console.log("RASDimensions",c.rd),window.console.log("RASOrigin",c.nf));b.vf(c);b.Xf=Oe(this,b)}c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};
Ue.prototype.ue=function(a,b,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(a){for(var b="",c=128;1<=c;c/=2)b+=a&c?"1":"0";return b};d=a[b++];a=a[b++];d=parseInt(c((a&65280)>>8)+c(a&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);b+=d/2;break;default:b+=d/2}return b};
Ue.prototype.li=function(a,b){this._data=a;if("undefined"==typeof b.ra||null==b.ra)b.ra=[];var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.h("ushort",this._data.byteLength),e=66,h=null,k=null,l=null,n=null,p=!1,m,q,t;q=[[8,4416],[9,30576],[136,512]];t=[[18,100],[35,4224],[64,629],[8,4368],[8,4384],[136,512]];for(var s,z;e<d.length;){h=d[e++];k=d[e++];l=d[e++];n=d[e++];if(65535==l&&65535==
n){if(65534==d[e]&&57344==d[e+1]){e+=4;continue}if(65534==d[e]&&57565==d[e+1]){e+=4;continue}}if(!(65534==h&&57357==k||65534==h&&57565==k)||0!=l||0!=n){"1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==n&&(n=l);p=!1;if(void 0!==h&&void 0!==k){switch(c.transfer_syntax_uid){case "1.2.840.10008.1.2.1":m="Little Endian Explicit";s=0;for(z=q.length;s<z;s++)if(h===q[s][0]&&k===q[s][1]){p=!0;break}break;case "1.2.840.10008.1.2.2":m="Big Endian Explicit";break;case "1.2.840.10008.1.2":for(m="Little Endian Implicit",
s=0,z=t.length;s<z;s++)if(h===t[s][0]&&k===t[s][1]){p=!0;break}}if(p){n="parserDCM.js: Identified "+m+". Skipping DICOM adddress (0x"+h.toString(16)+", 0x"+k.toString(16)+")"+h+" "+k;window.console.log(n);if(8==h&&4416==k||9==h&&30576==k)for(n=0;;){_newTagGroup=d[e++];_newTagGroup.toString(16);s=parseInt(_newTagGroup.toString(16),10)-parseInt(h.toString(16),10);if(3>s&&0<s)if(_newTagElement=d[e++],_newTagGroup.toString(16),_newTagElement.toString(16),10==parseInt(_newTagElement.toString(16),10)){e--;
e--;break}else e--;n++}continue}}switch(h){case 2:switch(k){case 16:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);c.transfer_syntax_uid=l.replace(/\0/g,"");break;default:e=Ue.prototype.ue(d,e,l,n)}break;case 40:switch(k){case 16:c.rows=d[e];e+=n/2;break;case 17:c.columns=d[e];e+=n/2;break;case 256:c.Si=d[e];e+=n/2;break;case 257:c.bits_stored=d[e];e+=n/2;break;case 2:c.number_of_images=d[e];e+=n/2;break;case 48:l="";for(s=0;s<n/2;s++)k=
d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.pixel_spacing=[parseFloat(l[0]),parseFloat(l[1]),Infinity];break;default:e=Ue.prototype.ue(d,e,l,n)}break;case 32:switch(k){case 14:c.series_instance_uid="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,c.series_instance_uid+=String.fromCharCode(h),c.series_instance_uid+=String.fromCharCode(k);break;case 19:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);
c.instance_number=parseInt(l,10);break;case 50:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.image_position_patient=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])];break;case 55:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.image_orientation_patient=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[4]),parseFloat(l[5])];
break;default:e=Ue.prototype.ue(d,e,l,n)}break;case 65534:switch(k){default:n=0,e+=n/2}break;case 8:switch(k){case 24:c.sop_instance_uid="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,c.sop_instance_uid+=String.fromCharCode(h),c.sop_instance_uid+=String.fromCharCode(k);break;case 4158:b.series_description="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,b.series_description+=String.fromCharCode(h),b.series_description+=String.fromCharCode(k);break;default:e=Ue.prototype.ue(d,e,l,n)}break;
case 16:switch(k){case 8720:for(s=0;s<n/2;s++)e++;break;default:e=Ue.prototype.ue(d,e,l,n)}break;default:e=Ue.prototype.ue(d,e,l,n)}}}switch(c.Si){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=new Uint32Array(c.columns*c.rows)}this.Ra=this._data.byteLength-c.columns*c.rows*2;d=null;switch(c.Si){case 8:d=this.h("uchar",c.columns*c.rows);break;case 16:d=this.h("ushort",c.columns*c.rows);break;case 32:d=this.h("uint",c.columns*
c.rows)}c.data=d;b.ra.push(c);return b};v("X.parserDCM",Ue);v("X.parserDCM.prototype.parse",Ue.prototype.parse);function Ve(){Ge.call(this);this.u="parserVTK"}w(Ve,Ge);
Ve.prototype.parse=function(a,b,c){A.ie(this.u+".parse");var d=b.G,e=b.fa,h=new Uint8Array(c),k="";b.G=d=new dd(c.byteLength);b.fa=e=new dd(c.byteLength);c=0;for(var l=h.length;c<l;c+=32768)k+=Ie(h,c,Math.min(c+32768,l));h=k.split("\n");k=h.length;this.rn=this.sn=null;this.Yj=[];this.Oe=Ud;this.ht=this.Ji=this.Di=this.Ki=!1;c=0;for(l=k%8;l--;)We(this,h[c]),c++;for(l=.125*k^0;l--;)We(this,h[c]),c++,We(this,h[c]),c++,We(this,h[c]),c++,We(this,h[c]),c++,We(this,h[c]),c++,We(this,h[c]),c++,We(this,h[c]),
c++,We(this,h[c]),c++;c=this.sn;var h=this.rn,k=h.length,n=l=this.Yj.length;do{var p=this.Yj[l-n],m=p.length,q;for(q=0;q<m&&!("LINES"==this.Oe&&q+1>=m);q++){var t=parseInt(p[q],10),s=c.get(t);d.add(s[0],s[1],s[2]);var z=t,y=s;"LINES"==this.Oe?(z=parseInt(p[q+1],10),y=c.get(z),d.add(y[0],y[1],y[2])):"TRIANGLE_STRIPS"==this.Oe&&(0!=q&&q!=m-1||d.add(s[0],s[1],s[2]));t<k?(y=h.get(t),e.add(y[0],y[1],y[2]),"LINES"==this.Oe?(z=h.get(z),e.add(z[0],z[1],z[2])):"TRIANGLE_STRIPS"==this.Oe&&(0!=q&&q!=m-1||e.add(y[0],
y[1],y[2]))):(z=new qd(s[0],s[1],s[2]),z.normalize(),e.add(z.x,z.y,z.z),"LINES"==this.Oe?(z=new qd(y[0],y[1],y[2]),z.normalize(),e.add(z.x,z.y,z.z)):"TRIANGLE_STRIPS"==this.Oe&&(0!=q&&q!=m-1||e.add(z.x,z.y,z.z)))}n--}while(0<n);b.Pd=this.Oe;A.Kd(this.u+".parse");d=new Yd;d.Sa=b;d.ya=a;this.dispatchEvent(d)};
function We(a,b){b=b.replace(/^\s+|\s+$/g,"");var c=b.split(" "),d=c.length,e=c[0];switch(e){case "POINTS":a.Ki=!0;a.Di=!1;a.Ji=!1;c=parseInt(c[1],10);a.sn=new dd(3*c);a.rn=new dd(3*c);return;case "VERTICES":a.Di=!0;a.Ki=!1;a.Ji=!1;c=parseInt(c[1],10);if(3<=c)a.Oe=Ud;else if(1==c)a.Oe="POINTS";else throw Error("This VTK file is not supported!");a.Yj=[];return;case "TRIANGLE_STRIPS":a.Di=!0;a.Ki=!1;a.Ji=!1;a.Oe="TRIANGLE_STRIPS";a.Yj=[];return;case "LINES":a.Di=!0;a.Ki=!1;a.Ji=!1;a.Oe="LINES";a.Yj=
[];return;case "POLYGONS":a.Di=!0;a.Ki=!1;a.Ji=!1;a.Oe="POLYGONS";a.Yj=[];return;case "POINT_DATA":a.Ji=!0;a.Ki=!1;a.Di=!1;return}if(a.Ki)if(1==d||isNaN(parseFloat(e)))a.Ki=!1;else{if(3<=d){var e=parseFloat(c[0]),h=parseFloat(c[1]),k=parseFloat(c[2]);a.sn.add(e,h,k)}6<=d&&(e=parseFloat(c[3]),h=parseFloat(c[4]),k=parseFloat(c[5]),a.sn.add(e,h,k));9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.sn.add(d,e,c))}else a.Di?1==d||isNaN(parseFloat(e))?a.Di=!1:(c=c.slice(1),a.Yj.push(c)):
a.Ji&&("NORMALS"==e?a.ht=!0:1==d||isNaN(parseFloat(e))?(a.Ji=!1,a.ht=!1):a.ht&&(3<=d&&(e=parseFloat(c[0]),h=parseFloat(c[1]),k=parseFloat(c[2]),a.rn.add(e,h,k)),6<=d&&(e=parseFloat(c[3]),h=parseFloat(c[4]),k=parseFloat(c[5]),a.rn.add(e,h,k)),9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.rn.add(d,e,c))))}v("X.parserVTK",Ve);v("X.parserVTK.prototype.parse",Ve.prototype.parse);function Xe(){Ge.call(this);this.u="parserFSM";this.Sp=!1}w(Xe,Ge);
Xe.prototype.parse=function(a,b,c){A.ie(this.u+".parse");this._data=c;var d=b.G,e=b.fa;b.Hl=[];var h=b.Hl;c=0;var k;do k=this.h("uchar"),c++;while(200>c&&10!=k);this.h("uchar");e=this.h("uint");c=this.h("uint");var l=this.h("float",3*e);k=this.h("uint",3*c);var n=new Uint32Array(e),p=new Float32Array(9*c);b.G=d=new dd(9*c);b.fa=e=new dd(9*c);var m;for(m=0;m<c;m++){var q=3*m,t=k[q],s=k[q+1],z=k[q+2];h.push(t);h.push(s);h.push(z);n[t]+=1;n[s]+=1;n[z]+=1;var q=3*t,y=3*s,I=3*z,P=l[q],N=l[q+1],H=l[q+2],
s=l[y],z=l[y+1],t=l[y+2],T=l[I],ca=l[I+1],V=l[I+2];d.add(P,N,H);d.add(s,z,t);d.add(T,ca,V);P=new qd(P,N,H);T=new qd(T,ca,V);s=(new qd(s,z,t)).clone().Mc(P);z=T.clone().Mc(P);s=ud(s,z).normalize();p[q]+=s.x;p[q+1]+=s.y;p[q+2]+=s.z;p[y]+=s.x;p[y+1]+=s.y;p[y+2]+=s.z;p[I]+=s.x;p[I+1]+=s.y;p[I+2]+=s.z}for(m=0;m<c;m++)q=3*m,t=k[q],s=k[q+1],z=k[q+2],q=3*t,y=3*s,I=3*z,h=new qd(p[y],p[y+1],p[y+2]),l=new qd(p[I],p[I+1],p[I+2]),q=(new qd(p[q],p[q+1],p[q+2])).scale(1/n[t]).normalize(),h=h.scale(1/n[s]).normalize(),
l=l.scale(1/n[z]).normalize(),e.add(q.x,q.y,q.z),e.add(h.x,h.y,h.z),e.add(l.x,l.y,l.z);c=this.h("uchar",this._data.byteLength-this.Ra);k=null;for(q=0;q<c.length;q++)if(99==c[q]&&114==c[q+1]&&97==c[q+2]&&115==c[q+3]){for(e=k=q+9;10!=c[q]&&q<c.length;)e++,q++;k=Ie(c.subarray(k,e)).split(" ");break}k&&(b.nc.tD(parseFloat(k[0])),b.nc.uD(parseFloat(k[1])),b.nc.vD(parseFloat(k[2])));b.Pd=Ud;A.Kd(this.u+".parse");c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};v("X.parserFSM",Xe);
v("X.parserFSM.prototype.parse",Xe.prototype.parse);var Ye={Jt:function(a,b,c){return Ye.update(a,0,b,c)},update:function(a,b,c,d){var e=Ye.dF,h="number"===typeof c?c:c=0;d="number"===typeof d?d:a.length;b^=4294967295;for(h=d&7;h--;++c)b=b>>>8^e[(b^a[c])&255];for(h=d>>3;h--;c+=8)b=b>>>8^e[(b^a[c])&255],b=b>>>8^e[(b^a[c+1])&255],b=b>>>8^e[(b^a[c+2])&255],b=b>>>8^e[(b^a[c+3])&255],b=b>>>8^e[(b^a[c+4])&255],b=b>>>8^e[(b^a[c+5])&255],b=b>>>8^e[(b^a[c+6])&255],b=b>>>8^e[(b^a[c+7])&255];return(b^4294967295)>>>0}},Ze;
Ze=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,
3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,
366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,
3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,
1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,
1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);Ye.dF=Ze;function $e(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,e,h,k,l,n,p,m,q,t;for(q=0;q<b;++q)a[q]>c&&(c=a[q]),a[q]<d&&(d=a[q]);e=1<<c;h=new Uint32Array(e);k=1;l=0;for(n=2;k<=c;){for(q=0;q<b;++q)if(a[q]===k){p=0;m=l;for(t=0;t<k;++t)p=p<<1|m&1,m>>=1;for(t=p;t<e;t+=n)h[t]=k<<16|q;++l}++k;l<<=1;n<<=1}return[h,c,d]};function af(a,b){this.Et=[];this.Gt=32768;this.dg=this.wn=this.mb=this.Uw=0;this.input=new Uint8Array(a);this.Ty=!1;this.Ht=bf;this.resize=!1;if(b||!(b={}))b.index&&(this.mb=b.index),b.bufferSize&&(this.Gt=b.bufferSize),b.bufferType&&(this.Ht=b.bufferType),b.resize&&(this.resize=b.resize);switch(this.Ht){case cf:this.wc=32768;this.output=new Uint8Array(32768+this.Gt+258);break;case bf:this.wc=0;this.output=new Uint8Array(this.Gt);this.xk=this.IG;this.bz=this.kG;this.au=this.sG;break;default:throw Error("invalid inflate mode");
}}var cf=0,bf=1;
af.prototype.bj=function(){for(;!this.Ty;){var a=df(this,3);a&1&&(this.Ty=!0);a>>>=1;switch(a){case 0:var a=this.input,b=this.mb,c=this.output,d=this.wc,e=void 0,h=void 0,k=void 0,l=c.length,e=void 0;this.dg=this.wn=0;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (first byte)");h=e;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (second byte)");h|=e<<8;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (first byte)");k=
e;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (second byte)");k|=e<<8;if(h===~k)throw Error("invalid uncompressed block header: length verify");if(b+h>a.length)throw Error("input buffer is broken");switch(this.Ht){case cf:for(;d+h>c.length;)e=l-d,h-=e,c.set(a.subarray(b,b+e),d),d+=e,b+=e,this.wc=d,c=this.xk(),d=this.wc;break;case bf:for(;d+h>c.length;)c=this.xk({Kz:2});break;default:throw Error("invalid inflate mode");}c.set(a.subarray(b,b+h),d);d+=h;this.mb=b+=h;this.wc=
d;this.output=c;break;case 1:this.au(ef,ff);break;case 2:gf(this);break;default:throw Error("unknown BTYPE: "+a);}}return this.bz()};
var hf=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),kf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),lf=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),mf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nf=new Uint8Array(288),
pf,qf;pf=0;for(qf=nf.length;pf<qf;++pf)nf[pf]=143>=pf?8:255>=pf?9:279>=pf?7:8;var ef=$e(nf),rf=new Uint8Array(30),sf,tf;sf=0;for(tf=rf.length;sf<tf;++sf)rf[sf]=5;var ff=$e(rf);function df(a,b){for(var c=a.wn,d=a.dg,e=a.input,h=a.mb,k;d<b;){k=e[h++];if(void 0===k)throw Error("input buffer is broken");c|=k<<d;d+=8}k=c&(1<<b)-1;a.wn=c>>>b;a.dg=d-b;a.mb=h;return k}
function uf(a,b){for(var c=a.wn,d=a.dg,e=a.input,h=a.mb,k=b[0],l=b[1],n;d<l;){n=e[h++];if(void 0===n)throw Error("input buffer is broken");c|=n<<d;d+=8}e=k[c&(1<<l)-1];k=e>>>16;a.wn=c>>k;a.dg=d-k;a.mb=h;return e&65535}
function gf(a){function b(a,b,c){var d,e,h;for(h=0;h<a;)switch(d=uf(this,b),d){case 16:for(d=3+df(this,2);d--;)c[h++]=e;break;case 17:for(d=3+df(this,3);d--;)c[h++]=0;e=0;break;case 18:for(d=11+df(this,7);d--;)c[h++]=0;e=0;break;default:e=c[h++]=d}return c}var c=df(a,5)+257,d=df(a,5)+1,e=df(a,4)+4,h=new Uint8Array(hf.length),k;for(k=0;k<e;++k)h[hf[k]]=df(a,3);e=$e(h);h=new Uint8Array(c);k=new Uint8Array(d);a.au($e(b.call(a,c,e,h)),$e(b.call(a,d,e,k)))}f=af.prototype;
f.au=function(a,b){var c=this.output,d=this.wc;this.sz=a;for(var e=c.length-258,h,k,l;256!==(h=uf(this,a));)if(256>h)d>=e&&(this.wc=d,c=this.xk(),d=this.wc),c[d++]=h;else for(h-=257,l=jf[h],0<kf[h]&&(l+=df(this,kf[h])),h=uf(this,b),k=lf[h],0<mf[h]&&(k+=df(this,mf[h])),d>=e&&(this.wc=d,c=this.xk(),d=this.wc);l--;)c[d]=c[d++-k];for(;8<=this.dg;)this.dg-=8,this.mb--;this.wc=d};
f.sG=function(a,b){var c=this.output,d=this.wc;this.sz=a;for(var e=c.length,h,k,l;256!==(h=uf(this,a));)if(256>h)d>=e&&(c=this.xk(),e=c.length),c[d++]=h;else for(h-=257,l=jf[h],0<kf[h]&&(l+=df(this,kf[h])),h=uf(this,b),k=lf[h],0<mf[h]&&(k+=df(this,mf[h])),d+l>e&&(c=this.xk(),e=c.length);l--;)c[d]=c[d++-k];for(;8<=this.dg;)this.dg-=8,this.mb--;this.wc=d};
f.xk=function(){var a=new Uint8Array(this.wc-32768),b=this.wc-32768,c=this.output;a.set(c.subarray(32768,a.length));this.Et.push(a);this.Uw+=a.length;c.set(c.subarray(b,b+32768));this.wc=32768;return c};
f.IG=function(a){var b=this.input.length/this.mb+1|0,c=this.input,d=this.output;a&&("number"===typeof a.Kz&&(b=a.Kz),"number"===typeof a.QF&&(b+=a.QF));2>b?(a=(c.length-this.mb)/this.sz[2],a=a/2*258|0,a=a<d.length?d.length+a:d.length<<1):a=d.length*b;a=new Uint8Array(a);a.set(d);return this.output=a};
f.bz=function(){var a=0,b=this.output,c=this.Et,d,e=new Uint8Array(this.Uw+(this.wc-32768)),h,k,l,n;if(0===c.length)return this.output.subarray(32768,this.wc);h=0;for(k=c.length;h<k;++h)for(d=c[h],l=0,n=d.length;l<n;++l)e[a++]=d[l];h=32768;for(k=this.wc;h<k;++h)e[a++]=b[h];this.Et=[];return this.buffer=e};f.kG=function(){var a,b=this.wc;this.resize?(a=new Uint8Array(b),a.set(this.output.subarray(0,b))):a=this.output.subarray(0,b);return this.buffer=a};new Uint8Array(256);var vf;for(vf=0;256>vf;++vf)for(var wf=vf,xf=7,wf=wf>>>1;wf;wf>>>=1)--xf;var yf=[],zf;for(zf=0;288>zf;zf++)switch(!0){case 143>=zf:yf.push([zf+48,8]);break;case 255>=zf:yf.push([zf-144+400,9]);break;case 279>=zf:yf.push([zf-256+0,7]);break;case 287>=zf:yf.push([zf-280+192,8]);break;default:throw"invalid literal: "+zf;}
var Af=function(){function a(a){switch(!0){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw"invalid length: "+a;}}var b=[],c,d;for(c=3;258>=c;c++)d=a(c),b[c]=d[2]<<24|
d[1]<<16|d[0];return b}();new Uint32Array(Af);function Bf(){};function Cf(a){this.input=a;this.mb=0;this.member=[]}
Cf.prototype.bj=function(){for(var a=this.input.length;this.mb<a;){var b=new Bf,c=void 0,d=void 0,e=void 0,h=c=e=void 0,k=void 0,c=c=void 0,l=this.input,d=this.mb;b.id1=l[d++];b.id2=l[d++];if(31!==b.id1||139!==b.id2)throw Error("invalid file signature:",b.id1,b.id2);b.cm=l[d++];switch(b.cm){case 8:break;default:throw Error("unknown compression method: "+b.cm);}b.flg=l[d++];c=l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24;b.mtime=new Date(1E3*c);b.xfl=l[d++];b.os=l[d++];0<(b.flg&4)&&(b.xlen=l[d++]|l[d++]<<
8,d+=b.xlen);if(0<(b.flg&8)){k=[];for(h=0;0<(c=l[d++]);)k[h++]=String.fromCharCode(c);b.name=k.join("")}if(0<(b.flg&16)){k=[];for(h=0;0<(c=l[d++]);)k[h++]=String.fromCharCode(c);b.comment=k.join("")}if(0<(b.flg&2)&&(b.crc16=Ye.Jt(l,0,d)&65535,b.crc16!==(l[d++]|l[d++]<<8)))throw Error("invalid header crc16");c=l[l.length-4]|l[l.length-3]<<8|l[l.length-2]<<16|l[l.length-1]<<24;l.length-d-4-4<512*c&&(e=c);d=new af(l,{index:d,bufferSize:e});b.data=e=d.bj();d=d.mb;b.crc32=c=(l[d++]|l[d++]<<8|l[d++]<<16|
l[d++]<<24)>>>0;if(Ye.Jt(e)!==c)throw Error("invalid CRC-32 checksum: 0x"+Ye.Jt(e).toString(16)+" / 0x"+c.toString(16));b.isize=c=(l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24)>>>0;if((e.length&4294967295)!==c)throw Error("invalid input size: "+(e.length&4294967295)+" / "+c);this.member.push(b);this.mb=d}a=this.member;b=e=d=0;for(l=a.length;b<l;++b)e+=a[b].data.length;e=new Uint8Array(e);for(b=0;b<l;++b)e.set(a[b].data,d),d+=a[b].data.length;return e};function Df(){Ge.call(this);this.u="parserMGZ";this.Sp=!1}w(Df,Ge);
Df.prototype.parse=function(a,b,c,d){A.ie(this.u+".parse");d&&(c=(new Cf(new Uint8Array(c))).bj(),c=c.buffer);d=this.li(c);var e=[d.yv,d.zv,d.Av];b.Fa=e;var h=d.zD;b.Lh=h;c=d.min;var k=d.max;b.ke=b.Tb=c;b.fc=b.Sb=k;-Infinity==b.Ab&&(b.Ab=c);Infinity==b.Cb&&(b.Cb=k);c=Dd();K(c,0,d.Vf[0][0],d.Vf[1][0],d.Vf[2][0],0);K(c,1,d.Vf[0][1],d.Vf[1][1],d.Vf[2][1],0);K(c,2,d.Vf[0][2],d.Vf[1][2],d.Vf[2][2],0);K(c,3,0,0,0,1);for(var k=e[0]/2,l=e[1]/2,n=e[2]/2,e=[0,0,0],p=0;3>p;++p)e[p]=d.Vf[3][p]-(c[p+0]*h[0]*k+
c[p+4]*h[1]*l+c[p+8]*h[2]*n);h=e[1];k=e[2];c[12]=e[0];c[13]=h;c[14]=k;c[15]=1;d.Ke=c;d.Le=Dd();Ld(d.Ke,d.Le);e=Cd(0,0,0,1);h=Bd();Nd(c,e,h);k=Cd(1,1,1,1);e=Bd();Nd(c,k,e);c=Je(c,b.Fa);d.Jg=[e[0]-h[0],e[1]-h[1],e[2]-h[2]];d.rd=[c[1]-c[0]+1,c[3]-c[2]+1,c[5]-c[4]+1];d.nf=[c[0],c[2],c[4]];b.vf(d);A.Kd(this.u+".parse");b.Xf=Oe(this,b);d=new Yd;d.Sa=b;d.ya=a;this.dispatchEvent(d)};
Df.prototype.li=function(a){this._data=a;a={version:0,gF:0,eF:0,QG:0,fF:0,yv:0,zv:0,Av:0,eK:0,type:0,BG:0,$B:0,ZN:null,Vf:null,zD:null,data:null,min:Infinity,max:-Infinity};a.version=this.h("uint");a.yv=this.h("uint");a.zv=this.h("uint");a.Av=this.h("uint");a.eK=this.h("uint");a.type=this.h("uint");a.BG=this.h("uint");a.$B=this.h("ushort");if(0<a.$B){a.zD=this.h("float",3);var b=[];b.push(this.h("float",3));b.push(this.h("float",3));b.push(this.h("float",3));b.push(this.h("float",3));a.Vf=b}this.Ra=
284;b=a.yv*a.zv*a.Av;switch(a.type){case 0:a.data=this.h("uchar",b);break;case 1:a.data=this.h("uint",b);break;case 3:a.data=this.h("float",b);break;case 4:a.data=this.h("ushort",b);break;default:throw Error("Unsupported MGH/MGZ data type: "+a.type);}b=He(a.data);a.min=b[0];a.max=b[1];this.Ra+16<this._data.byteLength&&(a.gF=this.h("float"),a.QG=this.h("float"),a.eF=this.h("float"),a.fF=this.h("float"));return a};v("X.parserMGZ",Df);v("X.parserMGZ.prototype.parse",Df.prototype.parse);function Ef(){Ge.call(this);this.u="parserLBL"}w(Ef,Ge);
Ef.prototype.parse=function(a,b,c){A.ie(this.u+".parse");var d=b.Hl,e=d.length;if(0==e)throw Error("No _pointIndices defined on the X.object.");this._data=c;var h=[],k=this.h("uchar",c.byteLength),l=k.length,n=!1,p=0;for(c=1;c<l;c++)10==k[c-1]?(p=c,n=!0):n&&32==k[c]&&(h.push(parseInt(Ie(k,p,c),10)),n=!1);k=b.hb.gb?b.hb.gb:new Float32Array(e);l=h.length;for(c=0;c<l;c++)k[h[c]]=1;h=new Float32Array(3*e);for(c=l=0;c<e;c++){n=d[c];if(n>e)throw Error("Could not find scalar for vertex.");n=k[n];h[l++]=
n;h[l++]=n;h[l++]=n}b.hb.gb=k;b.hb.Vm=h;b.hb.J=!0;A.Kd(this.u+".parse");d=new Yd;d.Sa=b;d.ya=a;this.dispatchEvent(d)};v("X.parserLBL",Ef);v("X.parserLBL.prototype.parse",Ef.prototype.parse);function Ff(){Ge.call(this);this.u="parserCRV";this.Sp=!1}w(Ff,Ge);
Ff.prototype.parse=function(a,b,c){A.ie(this.u+".parse");var d=b.Hl;if(0==d.length)throw Error("No _pointIndices defined on the X.object.");this._data=c;this.Ra=3;var e=this.h("uint");this.h("uint");this.h("uint");var h=0,k=0,l=0,n=0,p=0,m=0,q=0,t=0,s=0,z=0,y=0;c=Array(2);var I=Array(2),P=this.h("float",e),N;for(N=0;N<e;N++){var H=P[N];0==N&&(c[0]=I[0]=H);0<=H?(h++,n+=H):(k++,l+=H);s+=H;y++;I[0]=Math.max(H,I[0]);c[0]=Math.min(H,c[0]);P[N]=H}0!=h&&(p=n/h);0!=k&&(m=l/k);0!=y&&(z=s/y);for(y=s=l=n=0;y<
e;y++)H=P[y],N=0,0<=H?(N=Math.pow(H-p,2),n+=N):(N=Math.pow(H-m,2),l+=N),N=Math.pow(H-z,2),s+=N;1<h&&(q=Math.sqrt(n/(h-1)));1<k&&(t=Math.sqrt(l/(k-1)));c[1]=m-2.5*t;I[1]=p+2.5*q;e=d.length;h=new Float32Array(3*e);for(y=0;y<e;y++)k=P[d[y]],l=3*y,h[l]=k,h[l+1]=k,h[l+2]=k;b.hb.ke=c[1];b.hb.fc=I[1];-Infinity==b.hb.Ab&&(b.hb.Ab=c[1]);Infinity==b.hb.Cb&&(b.hb.Cb=I[1]);b.hb.gb=P;b.hb.Vm=h;b.hb.J=!0;A.Kd(this.u+".parse");d=new Yd;d.Sa=b;d.ya=a;this.dispatchEvent(d)};v("X.parserCRV",Ff);
v("X.parserCRV.prototype.parse",Ff.prototype.parse);function Gf(a,b){var c,d;this.input=a;this.mb=0;if(b||!(b={}))b.index&&(this.mb=b.index),b.verify&&(this.NM=b.verify);c=a[this.mb++];d=a[this.mb++];switch(c&15){case 8:this.method=8;break;default:throw Error("unsupported compression method");}if(0!==((c<<8)+d)%31)throw Error("invalid fcheck flag:"+((c<<8)+d)%31);if(d&32)throw Error("fdict flag is not supported");this.aC=new af(a,{index:this.mb,bufferSize:b.bufferSize,bufferType:b.bufferType,resize:b.resize})}
Gf.prototype.bj=function(){var a=this.input,b;b=this.aC.bj();this.mb=this.aC.mb;if(this.NM){var a=(a[this.mb++]<<24|a[this.mb++]<<16|a[this.mb++]<<8|a[this.mb++])>>>0,c=b;if("string"===typeof c){var c=c.split(""),d,e;d=0;for(e=c.length;d<e;d++)c[d]=(c[d].charCodeAt(0)&255)>>>0}d=1;e=0;for(var h=c.length,k,l=0;0<h;){k=1024<h?1024:h;h-=k;do d+=c[l++],e+=d;while(--k);d%=65521;e%=65521}if(a!==(e<<16|d)>>>0)throw Error("invalid adler-32 checksum");}return b};function Hf(){Ge.call(this);this.u="parserRAW"}w(Hf,Ge);
Hf.prototype.parse=function(a,b,c,d){A.ie(this.u+".parse");d&&(c=(new Gf(new Uint8Array(c))).bj(),c=c.buffer);d={};d.data=new Uint8Array(c);var e=He(d.data);c=e[0];e=e[1];d.min=b.ke=b.Tb=c;d.max=b.fc=b.Sb=e;-Infinity==b.Ab&&(b.Ab=c);Infinity==b.Cb&&(b.Cb=e);e=Ed();d.Ke=e;d.Le=Ed();var h=Cd(0,0,0,1);c=Bd();Nd(e,h,c);var k=Cd(1,1,1,1),h=Bd();Nd(e,k,h);e=Je(e,b.Fa);d.Jg=[h[0]-c[0],h[1]-c[1],h[2]-c[2]];d.rd=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];d.nf=[e[0],e[2],e[4]];b.vf(d);A.Kd(this.u+".parse");b.Xf=
Oe(this,b);d=new Yd;d.Sa=b;d.ya=a;this.dispatchEvent(d)};v("X.parserRAW",Hf);v("X.parserRAW.prototype.parse",Hf.prototype.parse);function If(){Ge.call(this);this.u="parserIMAGE"}w(If,Ge);If.prototype.parse=function(a,b,c,d){if(!(c instanceof ArrayBuffer))throw Error();for(var e=new Uint8Array(c),h=e.length,k=Array(h);h--;)k[h]=String.fromCharCode(e[h]);e=window.btoa(k.join(""));h=new Image;Uc(h,"load",this.AL.bind(this,h,a,b,c,d));h.src="data:image/"+d+";base64,"+e};If.prototype.AL=function(a,b,c){b.Xf=a;b.Mi=null;a=new Yd;a.Sa=c;a.ya=b;this.dispatchEvent(a)};v("X.parserIMAGE",If);v("X.parserIMAGE.prototype.parse",If.prototype.parse);function Jf(){Ge.call(this);this.u="parserLUT"}w(Jf,Ge);
Jf.prototype.parse=function(a,b,c){A.ie(this.u+".parse");this._data=c;c=this.h("uchar",c.byteLength);var d=c.length,e=0,h;for(h=0;h<d;h++)if(10==c[h]){var k=Ie(c,e,h),e=h+1,k=k.replace(/^\s+|\s+$/g,"");"#"!=k[0]&&(k=k.split(" "),k=k.filter(function(a){return""!=a}),6==k.length&&(k[2]=parseInt(k[2],10)/255,k[3]=parseInt(k[3],10)/255,k[4]=parseInt(k[4],10)/255,k[5]=parseInt(k[5],10)/255,a.add(parseInt(k[0],10),k[1],k[2],k[3],k[4],k[5],10)))}A.Kd(this.u+".parse");c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};
v("X.parserLUT",Jf);v("X.parserLUT.prototype.parse",Jf.prototype.parse);function Kf(){Ge.call(this);this.u="parserMRC"}w(Kf,Ge);
Kf.prototype.parse=function(a,b,c){A.ie(this.u+".parse");c=this.li(c);var d=c.min,e=c.max;b.Fa=[c.yo,c.zo,c.Ao];b.Lh=[c.xlen/c.zB,c.FD/c.AB,c.HD/c.BB];b.ke=b.Tb=d;b.fc=b.Sb=e;-Infinity==b.Ab&&(b.Ab=d);Infinity==b.Cb&&(b.Cb=e);e=Dd();K(e,3,0,0,0,1);K(e,0,-1,0,0,c.yo);K(e,1,0,0,-1,c.zo);K(e,2,0,-1,0,c.Ao);c.Ke=e;c.Le=Dd();Ld(c.Ke,c.Le);var h=Cd(0,0,0,1),d=Bd();Nd(e,h,d);var k=Cd(1,1,1,1),h=Bd();Nd(e,k,h);k=[c.yo,c.zo,c.Ao];e=Je(e,k);c.Jg=[h[0]-d[0],h[1]-d[1],h[2]-d[2]];c.rd=[e[1]+e[0]+1,e[3]-e[2]+1,
e[5]-e[4]+1];c.nf=[e[0],e[2],e[4]];b.Fa=k;b.vf(c);b.Xf=Oe(this,b);A.Kd(this.u+".parse");c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};
Kf.prototype.li=function(a){this._data=a;a={yo:0,zo:0,Ao:0,mode:0,sQ:0,tQ:0,uQ:0,zB:0,AB:0,BB:0,xlen:0,FD:0,HD:0,alpha:0,beta:0,gamma:0,LJ:0,MJ:0,NJ:0,Ct:0,gq:0,jk:0,gQ:0,next:0,qG:0,extra:null,fK:0,hK:0,extra:null,kJ:0,eQ:0,hJ:0,lens:0,cK:0,dK:0,LM:0,MM:0,DM:null,QM:0,SM:0,TM:0,RP:0,IQ:0,PL:0,gK:0,data:null,min:Infinity,max:-Infinity,oQ:0,cD:null,HQ:null,BQ:null,orientation:null,rQ:null};this.Ra=0;a.yo=this.h("sint");a.zo=this.h("sint");a.Ao=this.h("sint");a.mode=this.h("sint");var b=a.yo*a.zo*a.Ao;
this.Ra=1024;switch(a.mode){case 0:a.data=this.h("schar",b);break;case 1:a.data=this.h("sshort",b);break;case 2:a.data=this.h("float",b);break;case 3:a.data=this.h("uint",b);break;case 4:a.data=this.h("double",b);break;case 6:a.data=this.h("ushort",b);break;case 16:a.data=this.h("uchar",b);break;default:throw Error("Unsupported MRC data type: "+a.mode);}this.Ra=28;a.zB=this.h("sint");a.AB=this.h("sint");a.BB=this.h("sint");a.xlen=this.h("float");a.FD=this.h("float");a.HD=this.h("float");a.alpha=this.h("float");
a.beta=this.h("float");a.gamma=this.h("float");a.LJ=this.h("sint");a.MJ=this.h("sint");a.NJ=this.h("sint");a.Ct=this.h("float");a.gq=this.h("float");a.jk=this.h("float");a.fQ=this.h("sint");a.next=this.h("sint");a.qG=this.h("short");a.fK=this.h("short");a.hK=this.h("short");a.kJ=this.h("sint");a.dQ=this.h("sint");a.hJ=this.h("short");a.lens=this.h("short");a.cK=this.h("short");a.dK=this.h("short");a.LM=this.h("short");a.MM=this.h("short");a.DM=this.h("float",6);this.Ra=196;a.QM=this.h("float");a.SM=
this.h("float");a.TM=this.h("float");this.Ra=216;a.PL=this.h("float");a.gK=this.h("sint");a.jQ=this.h("schar",10);if(0!=a.next)switch(this.Ra=parseInt(a.next+1024,10),a.mode){case 0:a.data=this.h("schar",b);break;case 1:a.data=this.h("sshort",b);break;case 2:a.data=this.h("float",b);break;case 3:a.data=this.h("uint",b);break;case 4:a.data=this.h("double",b);break;case 6:a.data=this.h("ushort",b);break;case 16:a.data=this.h("uchar",b);break;default:throw Error("Unsupported MRC data type: "+a.mode);
}0>a.jk-(a.gq-a.jk)?(a.min=a.Ct,a.max=a.jk+(a.jk-a.Ct)):(a.min=a.jk-(a.gq-a.jk),a.max=a.gq);return a};v("X.parserMRC",Kf);v("X.parserMRC.prototype.parse",Kf.prototype.parse);function Lf(){Ge.call(this);this.u="parserNRRD"}w(Lf,Ge);
Lf.prototype.parse=function(a,b,c){A.ie(this.u+".parse");this._data=c;c=this.h("uchar",c.byteLength);var d=c.length,e=null,h=0,k;for(k=1;k<d;k++)if(10==c[k-1]&&10==c[k]){e=Ie(c,0,k-2);h=k+1;break}var l,n,p,m,d=e.split(/\r?\n/),e=0;for(k=d.length;e<k;e++)l=d[e],l.match(/NRRD\d+/)?this.xJ=!0:!l.match(/^#/)&&(m=l.match(/(.*):(.*)/))&&(n=m[1].trim(),l=m[2].trim(),(p=this.MG[n])?p.call(this,l):this[n]=l);if(!this.xJ)throw Error("Not an NRRD file");if("raw"!==this.encoding&&"gzip"!==this.encoding&&"gz"!==
this.encoding)throw Error("Only raw or gz/gzip encoding is allowed");if(!this.kc&&(this.kc=[new qd(1,0,0),new qd(0,1,0),new qd(0,0,1)],this.Gw))for(d=[],m=0;2>=m;m++)d.push(isNaN(this.Gw[m])?void 0:this.kc[m].scale(this.Gw[m]));h=c.subarray(h);if("gzip"==this.encoding||"gz"==this.encoding)h=(new Cf(new Uint8Array(h))).bj();h=h.buffer;c={data:null,min:Infinity,max:-Infinity};c.data=new this.Ci(h);m=He(c.data);h=c.min=m[0];m=c.max=m[1];b.ke=b.Tb=h;b.fc=b.Sb=m;b.Fa=[this.Bw[0],this.Bw[1],this.Bw[2]];
d=(new qd(this.kc[0][0],this.kc[0][1],this.kc[0][2])).tg();e=(new qd(this.kc[1][0],this.kc[1][1],this.kc[1][2])).tg();k=(new qd(this.kc[2][0],this.kc[2][1],this.kc[2][2])).tg();b.Lh=[d,e,k];-Infinity==b.Ab&&(b.Ab=h);Infinity==b.Cb&&(b.Cb=m);d=m=1;"left-posterior-superior"==this.cD&&(d=m=-1);h=Ed();K(h,0,m*this.kc[0][0],m*this.kc[1][0],m*this.kc[2][0],m*this.Fw[0]);K(h,1,d*this.kc[0][1],d*this.kc[1][1],d*this.kc[2][1],d*this.Fw[1]);K(h,2,1*this.kc[0][2],1*this.kc[1][2],1*this.kc[2][2],1*this.Fw[2]);
K(h,3,0,0,0,1);c.Ke=h;c.Le=Dd();Ld(c.Ke,c.Le);d=Cd(0,0,0,1);m=Bd();Nd(h,d,m);e=Cd(1,1,1,1);d=Bd();Nd(h,e,d);h=Je(h,b.Fa);c.Jg=[d[0]-m[0],d[1]-m[1],d[2]-m[2]];c.rd=[h[1]-h[0]+1,h[3]-h[2]+1,h[5]-h[4]+1];c.nf=[h[0],h[2],h[4]];b.vf(c);A.Kd(this.u+".parse");b.Xf=Oe(this,b);c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};
Lf.prototype.MG={type:function(a){switch(a){case "uchar":case "unsigned char":case "uint8":case "uint8_t":this.Ci=Uint8Array;break;case "signed char":case "int8":case "int8_t":this.Ci=Int8Array;break;case "short":case "short int":case "signed short":case "signed short int":case "int16":case "int16_t":this.Ci=Int16Array;break;case "ushort":case "unsigned short":case "unsigned short int":case "uint16":case "uint16_t":this.Ci=Uint16Array;break;case "int":case "signed int":case "int32":case "int32_t":this.Ci=
Int32Array;break;case "uint":case "unsigned int":case "uint32":case "uint32_t":this.Ci=Uint32Array;break;case "float":this.Ci=Float32Array;break;case "double":this.Ci=Float64Array;break;default:throw Error("Unsupported NRRD data type: "+a);}return this.type=a},endian:function(a){return this.ZP=a},encoding:function(a){return this.encoding=a},dimension:function(a){return this.cj=parseInt(a,10)},sizes:function(a){var b,c,d,e;d=a.split(/\s+/);e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(parseInt(a,10));
return this.Bw=e},space:function(a){return this.cD=a},"space origin":function(a){return this.Fw=a.split("(")[1].split(")")[0].split(",")},"space directions":function(a){var b,c,d;c=a.match(/\(.*?\)/g);return this.kc=function(){var a,h,k;k=[];a=0;for(h=c.length;a<h;a++)d=c[a],k.push(function(){var a,c,e,h;e=d.slice(1,-1).split(/,/);h=[];a=0;for(c=e.length;a<c;a++)b=e[a],h.push(parseFloat(b));return h}());return k}()},spacings:function(a){var b;b=a.split(/\s+/);var c,d,e;e=[];c=0;for(d=b.length;c<d;c++)a=
b[c],e.push(parseFloat(a));return this.Gw=e}};v("X.parserNRRD",Lf);v("X.parserNRRD.prototype.parse",Lf.prototype.parse);function Mf(){Ge.call(this);this.u="parserSTL"}w(Mf,Ge);
Mf.prototype.parse=function(a,b,c){A.ie(this.u+".parse");this._data=c;var d=b.G,e=b.fa;if("solid"==Ie(this.h("uchar",5))){b.G=d=new dd(c.byteLength);b.fa=e=new dd(c.byteLength);var h=d,d=e,e=this.h("uchar",c.byteLength-5);c=e.length;var k=!1,l=!1,n=0,p;for(p=0;p<c;p++)if(10==e[p]){if(k||l){var m=Ie(e,n,p).split(" "),l=parseFloat(m[0]),q=parseFloat(m[1]),m=parseFloat(m[2]);k?(d.add(l,q,m),d.add(l,q,m),d.add(l,q,m)):h.add(l,q,m);l=k=!1}}else 32==e[p-1]&&(102==e[p]?(n=p+=13,k=!0):118==e[p]&&(n=p+=7,
l=!0))}else for(this.Ra=80,h=this.h("uint"),b.G=d=new dd(9*h),b.fa=e=new dd(9*h),c=c=0;c<h;c++)k=this.h("float",12),n=k[0],p=k[1],l=k[2],e.add(n,p,l),e.add(n,p,l),e.add(n,p,l),d.add(k[3],k[4],k[5]),d.add(k[6],k[7],k[8]),d.add(k[9],k[10],k[11]),this.Ra+=2;A.Kd(this.u+".parse");h=new Yd;h.Sa=b;h.ya=a;this.dispatchEvent(h)};v("X.parserSTL",Mf);v("X.parserSTL.prototype.parse",Mf.prototype.parse);function Nf(){Ge.call(this);this.u="parserNII"}w(Nf,Ge);
Nf.prototype.parse=function(a,b,c){var d=c,e=-1,e="undefined"==typeof DataView?(new Int32Array(c,0,1))[0]:(new DataView(c,0)).getInt32(0,!0);348!=e&&(d=(new Cf(new Uint8Array(d))).bj(),d=d.buffer);c=this.li(d);d=c.min;e=c.max;b.ke=b.Tb=d;b.fc=b.Sb=e;-Infinity==b.Ab&&(b.Ab=d);Infinity==b.Cb&&(b.Cb=e);d=Dd();K(d,3,0,0,0,1);if(0<c.iw){var e=0,h=c.XB,k=c.YB,l=c.ZB,n=1,p=1,m=1,q=c.UB,t=c.VB,s=c.WB,e=1-(h*h+k*k+l*l);1E-7>e?(e=1/Math.sqrt(h*h+k*k+l*l),h*=e,k*=e,l*=e,e=0):e=Math.sqrt(e);0<c.wg[1]&&(n=c.wg[1]);
0<c.wg[2]&&(p=c.wg[2]);0<c.wg[2]&&(m=c.wg[3]);0>c.wg[0]&&(m=-m);K(d,0,(e*e+h*h-k*k-l*l)*n,2*(h*k-e*l)*p,2*(h*l+e*k)*m,q);K(d,1,2*(h*k+e*l)*n,(e*e+k*k-h*h-l*l)*p,2*(k*l-e*h)*m,t);K(d,2,2*(h*l-e*k)*n,2*(k*l+e*h)*p,(e*e+l*l-k*k-h*h)*m,s)}else 0<c.VC?(e=c.dD,h=c.eD,k=c.fD,K(d,0,e[0],e[1],e[2],e[3]),K(d,1,h[0],h[1],h[2],h[3]),K(d,2,k[0],k[1],k[2],k[3])):0==c.iw?(K(d,0,c.wg[1],0,0,0),K(d,1,0,c.wg[2],0,0),K(d,2,0,0,c.wg[3],0)):window.console.log("UNKNOWN METHOD IN PARSER NII");c.Ke=d;c.Le=Dd();Ld(c.Ke,c.Le);
h=Cd(0,0,0,1);e=Bd();Nd(d,h,e);k=Cd(1,1,1,1);h=Bd();Nd(d,k,h);k=[c.cj[1],c.cj[2],c.cj[3]];d=Je(d,k);c.Jg=[h[0]-e[0],h[1]-e[1],h[2]-e[2]];c.rd=[d[1]-d[0]+1,d[3]-d[2]+1,d[5]-d[4]+1];c.nf=[d[0],d[2],d[4]];b.Fa=k;b.vf(c);b.Xf=Oe(this,b);c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};
Nf.prototype.li=function(a){this._data=a;a={jM:0,data_type:null,rG:null,KG:0,XL:0,GL:0,vG:null,cj:null,rJ:0,sJ:0,tJ:0,pJ:0,$t:0,eG:0,oM:0,wg:null,BD:0,WL:0,VL:0,nM:0,lM:null,RM:null,gG:0,hG:0,mM:0,FM:0,NI:0,OI:0,tG:null,bG:null,iw:0,VC:0,XB:0,YB:0,ZB:0,UB:0,VB:0,WB:0,dD:null,eD:null,fD:null,qJ:null,magic:null,data:null,min:Infinity,max:-Infinity};a.jM=this.h("uint");a.data_type=this.h("uchar",10);a.rG=this.h("uchar",18);a.KG=this.h("uint");a.XL=this.h("ushort");a.GL=this.h("uchar");a.vG=this.h("uchar");
a.cj=this.h("ushort",8);a.rJ=this.h("float");a.sJ=this.h("float");a.tJ=this.h("float");a.pJ=this.h("ushort");a.$t=this.h("ushort");a.eG=this.h("ushort");a.oM=this.h("ushort");a.wg=this.h("float",8);a.BD=this.h("float");a.WL=this.h("float");a.VL=this.h("float");a.nM=this.h("ushort");a.lM=this.h("uchar");a.RM=this.h("uchar");a.gG=this.h("float");a.hG=this.h("float");a.mM=this.h("float");a.FM=this.h("float");a.NI=this.h("uint",1);a.OI=this.h("uint",1);a.tG=this.h("uchar",80);a.bG=this.h("uchar",24);
a.iw=this.h("ushort");a.VC=this.h("ushort");a.XB=this.h("float");a.YB=this.h("float");a.ZB=this.h("float");a.UB=this.h("float");a.VB=this.h("float");a.WB=this.h("float");a.dD=this.h("float",4);a.eD=this.h("float",4);a.fD=this.h("float",4);a.qJ=this.h("uchar",16);a.magic=this.h("uchar",4);this.Ra=parseInt(a.BD,10);var b=a.cj[1]*a.cj[2]*a.cj[3];switch(a.$t){case 2:a.data=this.h("uchar",b);break;case 4:a.data=this.h("sshort",b);break;case 8:a.data=this.h("sint",b);break;case 16:a.data=this.h("float",
b);break;case 32:a.data=this.h("complex",b);break;case 64:a.data=this.h("double",b);break;case 256:a.data=this.h("schar",b);break;case 512:a.data=this.h("ushort",b);break;case 768:a.data=this.h("uint",b);break;default:throw Error("Unsupported NII data type: "+a.$t);}b=He(a.data);a.min=b[0];a.max=b[1];return a};v("X.parserNII",Nf);v("X.parserNII.prototype.parse",Nf.prototype.parse);function Of(){Ge.call(this);this.u="parserTRK"}w(Of,Ge);
Of.prototype.parse=function(a,b,c){A.ie(this.u+".parse");var d=b.G,e=b.fa,h=b.Rc;this._data=c;this.h("uchar",6);this.h("ushort",3);var k=this.h("float",3);this.h("float",3);var l=this.h("ushort");this.h("uchar",200);this.h("ushort");this.h("uchar",200);c=this.h("float",16);this.h("uchar",444);this.h("uchar",4);this.h("uchar",4);this.h("float",6);this.h("uchar",2);this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");var n=this.h("uint");this.h("uint");var p=
this.h("uint"),m=[],q=[],t=Infinity,s=-Infinity,z=null,y=null,I=null,P=null,e=d=null,N=this.h("uint",(this._data.byteLength-1E3)/4);this.Ra=p;for(var H=this.h("float",(this._data.byteLength-1E3)/4),T=0,p=h=0;p<n;p++){for(var ca=N[T],V=new dd(3*ca),wa=0,oa=0;oa<ca;oa++){var ya=H[T+3*oa+oa*l+1],Oa=H[T+3*oa+oa*l+2],Ja=H[T+3*oa+oa*l+3],ya=ya/k[0],Oa=Oa/k[1],Ja=Ja/k[2];V.add(ya,Oa,Ja);if(0<oa)var Pa=V.get(oa-1),wa=wa+Math.sqrt(Math.pow(ya-Pa[0],2)+Math.pow(Oa-Pa[1],2)+Math.pow(Ja-Pa[2],2));oa<ca-1&&(h+=
6)}T+=3*ca+ca*l+1;oa=V.ag;ca=V.Yf;ya=V.bg;Oa=V.Zf;Ja=V.cg;Pa=V.$f;if(!z||oa<z)z=oa;if(!y||ca>y)y=ca;if(!I||ya<I)I=ya;if(!P||Oa>P)P=Oa;if(!d||Ja<d)d=Ja;if(!e||Pa>e)e=Pa;m.push(V);q.push(wa)}k=(z+y)/2;I=(I+P)/2;l=(d+e)/2;P=new Float32Array(h);b.G=d=new dd(h);b.fa=e=new dd(h);b.Rc=h=new dd(h);for(p=z=0;p<n;p++)for(y=m[p],N=y.count,wa=q[p],t=Math.min(t,wa),s=Math.max(s,wa),oa=0;oa<N-1;oa++){T=y.get(oa);H=y.get(oa+1);d.add(T[0],T[1],T[2]);d.add(H[0],H[1],H[2]);var V=T[0]-k,ca=T[1]-I,ya=T[2]-l,Oa=Math.sqrt(V*
V+ca*ca+ya*ya),Ja=H[0]-k,Pa=H[1]-I,ka=H[2]-l,za=Math.sqrt(Ja*Ja+Pa*Pa+ka*ka);e.add(V/Oa,ca/Oa,ya/Oa);e.add(Ja/za,Pa/za,ka/za);H=[Math.abs(H[0]-T[0]),Math.abs(H[1]-T[1]),Math.abs(H[2]-T[2])];T=Math.sqrt(H[0]*H[0]+H[1]*H[1]+H[2]*H[2]);H[0]/=T;H[1]/=T;H[2]/=T;h.add(H[0],H[1],H[2]);h.add(H[0],H[1],H[2]);P[z++]=wa;P[z++]=wa;P[z++]=wa;P[z++]=wa;P[z++]=wa;P[z++]=wa}b.Pd="LINES";n=new Wd;n.ke=t;n.fc=s;n.Ab=t;n.Cb=s;n.Vm=P;n.fy=!1;n.J=!0;b.hb=n;t=!1;for(p=0;16>p;p++)if(0!=c[p]){t=!0;break}!1==t&&(c[0]=c[5]=
c[10]=c[15]=1);A.Kd(this.u+".parse");A.v.Ww(c,b.nc.Bb);c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};v("X.parserTRK",Of);v("X.parserTRK.prototype.parse",Of.prototype.parse);function Pf(){Ge.call(this);this.u="parserOBJ"}w(Pf,Ge);
Pf.prototype.parse=function(a,b,c){A.ie(this.u+".parse");this._data=c;c=c.byteLength;var d=this.h("uchar",c),e=[];b.G=new dd(c);b.fa=new dd(c);var h=b.G,k=b.fa,l=0,n;for(n=0;n<c;++n)if(10==d[n]){var p=Ie(d,l,n).replace(/\s{2,}/g," ").split(" ");if("v"==p[0])e.push([parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])]);else if("f"==p[0]){var m=e[parseInt(p[1],10)-1],l=e[parseInt(p[2],10)-1],p=e[parseInt(p[3],10)-1];h.add(m[0],m[1],m[2]);h.add(l[0],l[1],l[2]);h.add(p[0],p[1],p[2]);m=new qd(m[0],m[1],
m[2]);p=new qd(p[0],p[1],p[2]);l=ud((new qd(l[0],l[1],l[2])).Mc(m),p.Mc(m));l.normalize();k.add(l.x,l.y,l.z);k.add(l.x,l.y,l.z);k.add(l.x,l.y,l.z)}l=n+1}A.Kd(this.u+".parse");c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};v("X.parserOBJ",Pf);v("X.parserOBJ.prototype.parse",Pf.prototype.parse);function Qf(){cd.call(this);this.u="loader";this.Fl=new kd;this.jn=0}w(Qf,cd);function Rf(a,b){a.jn+=b/a.Fl.lg()/3;a.jn=Math.min(1,a.jn);var c=new ze;c.dk=a.jn;a.dispatchEvent(c)}function Sf(a){a=a.ja.Xp;var b=a.split(".").pop().toUpperCase();b==a.toUpperCase()&&(b="");if(!(b in Tf))throw Error("The "+b+" file format is not supported.");return[a,b,Tf[b][0],Tf[b][1],Tf[b][2]]}
Qf.prototype.load=function(a,b){if(!a||!b)throw Error("No container or object to load.");if(!md(this.Fl.Db,a.ud)||this.Fl.get(a.ud)){this.Fl.set(a.ud,!1);var c=Sf(a)[0];if(null!=a.Pg)this.parse(null,a,b);else{var d=new XMLHttpRequest;F(d,"abort",this.Jz.bind(this,d,a,b));F(d,"error",this.Jz.bind(this,d,a,b));F(d,"load",this.parse.bind(this,d,a,b));d.open("GET",c,!0);d.responseType="arraybuffer";d.send(null)}}};
Qf.prototype.parse=function(a,b,c){Rf(this,1);setTimeout(function(){var d=Sf(b),e=d[3],d=new d[2];Uc(d,ie,this.complete.bind(this));var h=b.Pg;null==h&&(h=a.response,b.Pg=h);d.parse(b,c,h,e)}.bind(this),100)};Qf.prototype.complete=function(a){Rf(this,1);setTimeout(function(){var b=a.ya,c=a.Sa;b.ja.J=!1;b.J=!0;c.ga();this.Fl.set(b.ud,!0)}.bind(this),100)};Qf.prototype.Jz=function(a,b,c){throw Error("Loading failed: ",b,c);};
var Tf={OBJ:[Pf,null],OFF:[Pe,null],STL:[Mf,null],VTK:[Ve,null],TRK:[Of,null],MRC:[Kf,null],ST:[Kf,null],FSM:[Xe,null],INFLATED:[Xe,null],SMOOTHWM:[Xe,null],SPHERE:[Xe,null],PIAL:[Xe,null],ORIG:[Xe,null],NRRD:[Lf,null],NII:[Nf,null],GZ:[Nf,null],DCM:[Ue,null],DICOM:[Ue,null],"":[Ue,null],CRV:[Ff,null],LABEL:[Ef,null],MGH:[Df,!1],MGZ:[Df,!0],RAW:[Hf,!1],RZ:[Hf,!0],TXT:[Jf,null],LUT:[Jf,null],PNG:[If,"png"],JPG:[If,"jpeg"],JPEG:[If,"jpeg"],GIF:[If,"gif"]};function Uf(){Ge.call(this);this.u="parserIMA"}w(Uf,Ge);
Uf.prototype.parse=function(a,b,c){b.Bh={};b.Bh.wo=0;this.li(c,b);if(null==b.ja.length||b.ra.length==b.ja.length){b.Bh.wo=b.ja.length;var d={};c={};for(var e=0;e<b.ra.length;e++)d.hasOwnProperty(b.ra[e].series_instance_uid)||(d[b.ra[e].series_instance_uid]=[],c[b.ra[e].series_instance_uid]={}),c[b.ra[e].series_instance_uid].hasOwnProperty(b.ra[e].sop_instance_uid)||(c[b.ra[e].series_instance_uid][b.ra[e].sop_instance_uid]=!0,d[b.ra[e].series_instance_uid].push(b.ra[e]));var h=Object.keys(d)[0],e=
d[h],k=e.length;c={};console.log("FIRST IMAGE",e,d,h);var l="image_position_patient";1==k?(l="image_position_patient",d[h][0].dist=0):e[0].image_position_patient[0]!=e[1].image_position_patient[0]||e[0].image_position_patient[1]!=e[1].image_position_patient[1]||e[0].image_position_patient[2]!=e[1].image_position_patient[2]?(l="image_position_patient",d=new qd(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new qd(e[0].image_orientation_patient[3],
e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),d=ud(d,h),e.map(function(a,b){b.dist=b.image_position_patient[0]*a.x+b.image_position_patient[1]*a.y+b.image_position_patient[2]*a.z;return b}.bind(null,d)),e.sort(function(a,b){return a.dist-b.dist})):e[0].instance_number!=e[1].instance_number?(l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number})):window.console.log("Could not resolve the ordering mode");console.log("SEQUENCE NAME","'"+e[0].sequence_name+
"'");-1<["fgre","memp","fse"].indexOf(e[0].sequence_name)&&(window.console.log(e[0].sequence_name,"reordering..."),l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number}));isNaN(e[0].pixel_spacing[0])&&(e[0].pixel_spacing[0]=1);isNaN(e[0].pixel_spacing[1])&&(e[0].pixel_spacing[1]=1);if(1<k)switch(l){case "image_position_patient":var n=e[0].image_position_patient,d=e[1].image_position_patient,h=d[0]-n[0],p=d[1]-n[1],m=d[2]-n[2];e[0].pixel_spacing[2]=Math.sqrt(h*h+p*p+
m*m);break;case "instance_number":e[0].pixel_spacing[2]=1;console.log("INSTANCE NUMBER SPACING");break;default:window.console.log("Unkown ordering mode - returning: "+l)}else e[0].pixel_spacing[2]=1;d=1;switch(l){case "image_position_patient":var n=e[0].image_position_patient,q=e[k-1].image_position_patient,h=q[0]-n[0],p=q[1]-n[1],m=q[2]-n[2],h=Math.sqrt(h*h+p*p+m*m),d=d+Math.round(h/e[0].pixel_spacing[2]);break;case "instance_number":d+=Math.abs(e[k-1].instance_number-e[0].instance_number);break;
default:window.console.log("Unkown ordering mode - returning: "+l)}n=e[0].columns*e[0].rows;h=n*d;q=null;switch(e[0].Si){case 8:q=new Uint8Array(h);break;case 16:q=new Uint16Array(h);break;case 32:q=new Uint32Array(h);default:window.console.log("Unknown number of bits allocated - using default: 32 bits")}b.Lh=e[0].pixel_spacing;for(var t=0;t<k;t++){var s=e[t].data,h=0;switch(l){case "image_position_patient":h=e[t].image_position_patient[0]-e[0].image_position_patient[0];p=e[t].image_position_patient[1]-
e[0].image_position_patient[1];m=e[t].image_position_patient[2]-e[0].image_position_patient[2];h=Math.sqrt(h*h+p*p+m*m)/e[0].pixel_spacing[2];break;case "instance_number":h=e[t].instance_number-e[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+l)}q.set(s,h*n)}c.data=q;b._data=q;b.Fa=[e[0].columns,e[0].rows,d];c.wG=b.Fa;d=He(q);k=d[0];d=d[1];c.min=b.ke=b.Tb=k;c.max=b.fc=b.Sb=d;-Infinity==b.Ab&&(b.Ab=k);Infinity==b.Cb&&(b.Cb=d);p=e[0].image_position_patient;
k=Dd();switch(l){case "image_position_patient":console.log("ORIENTATION",e[0].image_orientation_patient);d=new qd(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]);h=new qd(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]);d=ud(d,h);K(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2],-p[0]);K(k,1,-e[0].image_orientation_patient[1]*
e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2],-p[1]);K(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2],p[2]);K(k,3,0,0,0,1);break;case "instance_number":"memp"===e[0].sequence_name||"fse"===e[0].sequence_name?(d=new qd(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new qd(e[0].image_orientation_patient[3],
e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),d=ud(d,h),K(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2]*e[0].slice_thickness,-p[0]),K(k,1,-e[0].image_orientation_patient[1]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2]*e[0].slice_thickness,-p[1]),K(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*
e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2]*e[0].slice_thickness,p[2])):(K(k,0,1,0,0,-p[0]),K(k,1,0,-1,-0,-p[1]),K(k,2,0,0,1,p[2]));K(k,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+l)}c.Ke=k;c.Le=Dd();Ld(c.Ke,c.Le);l=Cd(0,0,0,1);e=Bd();Nd(k,l,e);l=Cd(1,1,1,1);d=Bd();Nd(k,l,d);c.Jg=[d[0]-e[0],d[1]-e[1],d[2]-e[2]];e=Je(k,[b.Fa[0],b.Fa[1],b.Fa[2]]);c.rd=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];c.nf=[e[0],e[2],e[4]];b.vf(c);b.Xf=Oe(this,b)}c=new Yd;c.Sa=b;c.ya=a;this.dispatchEvent(c)};
Uf.prototype.ue=function(a,b,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(a){for(var b="",c=128;1<=c;c/=2)b+=a&c?"1":"0";return b};d=a[b++];a=a[b++];d=parseInt(c((a&65280)>>8)+c(a&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);b+=d/2;break;default:b+=d/2}return b};
Uf.prototype.li=function(a,b){this._data=a;if("undefined"==typeof b.ra||null==b.ra)b.ra=[];for(var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.h("ushort",this._data.byteLength),e=66,h=null,k=null,l=null,n=null,p=[[8,4368],[8,4384]],m=!1;e<d.length;){for(var h=d[e++],k=d[e++],l=d[e++],n=d[e++],m=!1,q=0,t=p.length;q<t;q++)if(h===p[q][0]&&k===p[q][1]){m=!0;break}if(m)window.console.log("Skipping ",
"("+h.toString(16)+","+k.toString(16)+")");else switch("1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==n&&(n=l),h){case 2:switch(k){case 16:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);c.transfer_syntax_uid=k.replace(/\0/g,"");break;default:e=Uf.prototype.ue(d,e,l,n)}break;case 40:switch(k){case 16:c.rows=d[e];e+=n/2;break;case 17:c.columns=d[e];e+=n/2;break;case 256:c.Si=d[e];e+=n/2;break;case 257:c.bits_stored=d[e];e+=n/2;break;case 2:c.number_of_images=
d[e];e+=n/2;break;case 48:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.pixel_spacing=[parseFloat(k[0]),parseFloat(k[1]),Infinity];break;default:e=Uf.prototype.ue(d,e,l,n)}break;case 32:switch(k){case 14:c.series_instance_uid="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.series_instance_uid+=String.fromCharCode(h),c.series_instance_uid+=String.fromCharCode(l);break;case 19:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,
l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);c.instance_number=parseInt(k,10);break;case 50:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.image_position_patient=[parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2])];break;case 55:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.image_orientation_patient=[parseFloat(k[0]),parseFloat(k[1]),
parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4]),parseFloat(k[5])];break;default:e=Uf.prototype.ue(d,e,l,n)}break;case 24:switch(k){case 36:c.sequence_name="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.sequence_name+=String.fromCharCode(h),c.sequence_name+=String.fromCharCode(l);c.sequence_name=c.sequence_name.replace(/^[\s\xa0]+/,"");c.sequence_name=c.sequence_name.replace(/[\s\xa0]+$/,"");break;case 80:c.slice_thickness="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.slice_thickness+=
String.fromCharCode(h),c.slice_thickness+=String.fromCharCode(l);c.slice_thickness=parseFloat(c.slice_thickness);break;default:e=Uf.prototype.ue(d,e,l,n);break}case 65534:switch(k){default:n=0,e+=n/2}break;case 8:switch(k){case 24:c.sop_instance_uid="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.sop_instance_uid+=String.fromCharCode(h),c.sop_instance_uid+=String.fromCharCode(l);break;default:e=Uf.prototype.ue(d,e,l,n)}break;case 16:switch(k){case 8720:for(q=0;q<n/2;q++)e++;break;default:e=
Uf.prototype.ue(d,e,l,n)}break;default:e=Uf.prototype.ue(d,e,l,n)}}switch(c.Si){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=new Uint32Array(c.columns*c.rows)}this.Ra=this._data.byteLength-c.columns*c.rows*2;d=null;switch(c.Si){case 8:d=this.h("uchar",c.columns*c.rows);break;case 16:d=this.h("ushort",c.columns*c.rows);break;case 32:d=this.h("uint",c.columns*c.rows)}c.data=d;b.ra.push(c);return b};v("X.parserIMA",Uf);
v("X.parserIMA.prototype.parse",Uf.prototype.parse);var Vf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Wf(a){if(Xf){Xf=!1;var b=ba.location;if(b){var c=b.href;if(c&&(c=(c=Wf(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Xf=!0,Error();}}return a.match(Vf)}var Xf=jc;function Yf(a,b){ad.call(this);this.qg=a||1;this.Hm=b||ba;this.Ft=ua(this.CM,this);this.ev=xa()}w(Yf,ad);f=Yf.prototype;f.enabled=!1;f.P=null;f.setInterval=function(a){this.qg=a;this.P&&this.enabled?(this.stop(),this.start()):this.P&&this.stop()};
f.CM=function(){if(this.enabled){var a=xa()-this.ev;0<a&&a<.8*this.qg?this.P=this.Hm.setTimeout(this.Ft,this.qg-a):(this.P&&(this.Hm.clearTimeout(this.P),this.P=null),this.dispatchEvent(Zf),this.enabled&&(this.P=this.Hm.setTimeout(this.Ft,this.qg),this.ev=xa()))}};f.start=function(){this.enabled=!0;this.P||(this.P=this.Hm.setTimeout(this.Ft,this.qg),this.ev=xa())};f.stop=function(){this.enabled=!1;this.P&&(this.Hm.clearTimeout(this.P),this.P=null)};f.f=function(){Yf.d.f.call(this);this.stop();delete this.Hm};
var Zf="tick";function $f(a,b,c){if(la(a))c&&(a=ua(a,c));else if(a&&"function"==typeof a.handleEvent)a=ua(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:ba.setTimeout(a,b||0)};function ag(a){return"function"==typeof a.lg?a.lg():ia(a)||r(a)?a.length:nb(a)}function bg(a){if("function"==typeof a.$h)return a.$h();if(r(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ob(a)}function cg(a){if("function"==typeof a.Un)return a.Un();if("function"!=typeof a.$h){if(ia(a)||r(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return pb(a)}}
function dg(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(ia(a)||r(a))D(a,b,void 0);else for(var c=cg(a),d=bg(a),e=d.length,h=0;h<e;h++)b.call(void 0,d[h],c&&c[h],a)}function eg(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ia(a)||r(a))return Gb(a,b,void 0);for(var c=cg(a),d=bg(a),e=d.length,h=0;h<e;h++)if(!b.call(void 0,d[h],c&&c[h],a))return!1;return!0};function fg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function gg(){}gg.prototype.Wy=null;function hg(a){var b;(b=a.Wy)||(b={},ig(a)&&(b[0]=!0,b[1]=!0),b=a.Wy=b);return b};var jg;function kg(){}w(kg,gg);function lg(a){return(a=ig(a))?new ActiveXObject(a):new XMLHttpRequest}function ig(a){if(!a.VA&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.VA=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.VA}jg=new kg;function mg(a){this.Db=new kd;a&&this.vt(a)}function ng(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+na(a):b.substr(0,1)+a}f=mg.prototype;f.lg=function(){return this.Db.lg()};f.add=function(a){this.Db.set(ng(a),a)};f.vt=function(a){a=bg(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};f.zg=function(a){a=bg(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};f.remove=function(a){return this.Db.remove(ng(a))};f.clear=function(){this.Db.clear()};f.qm=function(){return this.Db.qm()};
f.contains=function(a){a=ng(a);return md(this.Db.Db,a)};f.$A=function(a){var b=new mg;a=bg(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};f.$h=function(){return this.Db.$h()};f.clone=function(){return new mg(this)};f.Zl=function(a){return this.lg()==ag(a)&&og(this,a)};
function og(a,b){var c=ag(b);if(a.lg()>c)return!1;!(b instanceof mg)&&5<c&&(b=new mg(b));return eg(a,function(a){var c=b;return"function"==typeof c.contains?c.contains(a):"function"==typeof c.St?c.St(a):ia(c)||r(c)?Jb(c,a):qb(c,a)})};function pg(a){var b;b||(b=qg(a||arguments.callee.caller,[]));return b}
function qg(a,b){var c=[];if(Jb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(rg(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var h;h=d[e];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=rg(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");c.push(h)}b.push(a);c.push(")\n");try{c.push(qg(a.caller,b))}catch(k){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function rg(a){if(sg[a])return sg[a];a=String(a);if(!sg[a]){var b=/function ([^\(]+)/.exec(a);sg[a]=b?b[1]:"[Anonymous]"}return sg[a]}var sg={};function tg(a,b,c,d,e){this.reset(a,b,c,d,e)}tg.prototype.Hz=null;tg.prototype.Gz=null;var ug=0;tg.prototype.reset=function(a,b,c,d,e){"number"==typeof e||ug++;d||xa();this.so=a;this.bK=b;delete this.Hz;delete this.Gz};tg.prototype.wC=function(a){this.so=a};function vg(a){this.Qk=a;this.OA=this.Sc=this.so=this.Va=null}function wg(a,b){this.name=a;this.value=b}wg.prototype.toString=function(){return this.name};var xg=new wg("SEVERE",1E3),yg=new wg("CONFIG",700),zg=new wg("FINE",500);f=vg.prototype;f.getName=function(){return this.Qk};f.getParent=function(){return this.Va};f.su=function(){this.Sc||(this.Sc={});return this.Sc};f.wC=function(a){this.so=a};
function Ag(a){if(a.so)return a.so;if(a.Va)return Ag(a.Va);fb("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=Ag(this).value)for(la(b)&&(b=b()),a=this.iA(a,b,c,vg.prototype.log),b="log:"+a.bK,ba.console&&(ba.console.timeStamp?ba.console.timeStamp(b):ba.console.markTimeline&&ba.console.markTimeline(b)),ba.msWriteProfilerMark&&ba.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.OA)for(var e=0,h=void 0;h=c.OA[e];e++)h(d);b=b.getParent()}};
f.iA=function(a,b,c,d){a=new tg(a,String(b),this.Qk);if(c){a.Hz=c;var e;d=d||vg.prototype.iA;try{var h;var k=ea("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var l,n;b=!1;try{l=c.lineNumber||c.mQ||"Not available"}catch(p){l="Not available",b=!0}try{n=c.fileName||c.filename||c.sourceURL||ba.$googDebugFname||k}catch(m){n="Not available",b=!0}h=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:l,fileName:n,stack:c.stack||"Not available"}}e="Message: "+Ma(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ma(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ma(pg(d)+"-> ")}catch(q){e="Exception trying to expose exception! You win, we lose. "+q}a.Gz=e}return a};f.$o=function(a){this.Va=a};var Bg={},Cg=null;
function Dg(a){Cg||(Cg=new vg(""),Bg[""]=Cg,Cg.wC(yg));var b;if(!(b=Bg[a])){b=new vg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Dg(a.substr(0,c));c.su()[d]=b;b.$o(c);Bg[a]=b}return b};function Eg(a,b){a&&a.log(zg,b,void 0)};function Fg(a){ad.call(this);this.headers=new kd;this.Is=a||null;this.Oi=!1;this.Hs=this.Ca=null;this.qo=this.fB=this.rr="";this.Jk=this.Ru=this.ar=this.mu=!1;this.sp=0;this.ys=null;this.hC=Gg;this.Ds=this.PM=!1}w(Fg,ad);var Gg="",Hg=Fg.prototype,Ig=Dg("goog.net.XhrIo");Hg.Ef=Ig;var Jg=/^https?$/i,Kg=["POST","PUT"],Lg=[];function Mg(a,b){var c=new Fg;Lg.push(c);b&&c.D("complete",b);c.iv("ready",c.jG);c.send(a,void 0,void 0,void 0)}f=Fg.prototype;f.jG=function(){this.g();Mb(Lg,this)};
f.send=function(a,b,c,d){if(this.Ca)throw Error("[goog.net.XhrIo] Object is active with another request="+this.rr+"; newUri="+a);b=b?b.toUpperCase():"GET";this.rr=a;this.qo="";this.fB=b;this.mu=!1;this.Oi=!0;this.Ca=this.Is?lg(this.Is):lg(jg);this.Hs=this.Is?hg(this.Is):hg(jg);this.Ca.onreadystatechange=ua(this.KB,this);try{Eg(this.Ef,Ng(this,"Opening Xhr")),this.Ru=!0,this.Ca.open(b,String(a),!0),this.Ru=!1}catch(e){Eg(this.Ef,Ng(this,"Error opening Xhr: "+e.message));Og(this,e);return}a=c||"";var h=
this.headers.clone();d&&dg(d,function(a,b){h.set(b,a)});d=Hb(h.Un());c=ba.FormData&&a instanceof ba.FormData;!Jb(Kg,b)||d||c||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");h.forEach(function(a,b){this.Ca.setRequestHeader(b,a)},this);this.hC&&(this.Ca.responseType=this.hC);"withCredentials"in this.Ca&&(this.Ca.withCredentials=this.PM);try{Pg(this),0<this.sp&&(this.Ds=Qg(this.Ca),Eg(this.Ef,Ng(this,"Will abort after "+this.sp+"ms if incomplete, xhr2 "+this.Ds)),this.Ds?(this.Ca.timeout=
this.sp,this.Ca.ontimeout=ua(this.pD,this)):this.ys=$f(this.pD,this.sp,this)),Eg(this.Ef,Ng(this,"Sending request")),this.ar=!0,this.Ca.send(a),this.ar=!1}catch(k){Eg(this.Ef,Ng(this,"Send error: "+k.message)),Og(this,k)}};function Qg(a){return E&&qc(9)&&u(a.timeout)&&da(a.ontimeout)}function Ib(a){return"content-type"==a.toLowerCase()}f.pD=function(){"undefined"!=typeof aa&&this.Ca&&(this.qo="Timed out after "+this.sp+"ms, aborting",Eg(this.Ef,Ng(this,this.qo)),this.dispatchEvent("timeout"),this.abort(8))};
function Og(a,b){a.Oi=!1;a.Ca&&(a.Jk=!0,a.Ca.abort(),a.Jk=!1);a.qo=b;Rg(a);Sg(a)}function Rg(a){a.mu||(a.mu=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}f.abort=function(){this.Ca&&this.Oi&&(Eg(this.Ef,Ng(this,"Aborting")),this.Oi=!1,this.Jk=!0,this.Ca.abort(),this.Jk=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sg(this))};f.f=function(){this.Ca&&(this.Oi&&(this.Oi=!1,this.Jk=!0,this.Ca.abort(),this.Jk=!1),Sg(this,!0));Fg.d.f.call(this)};
f.KB=function(){this.rk||(this.Ru||this.ar||this.Jk?Tg(this):this.QK())};f.QK=function(){Tg(this)};
function Tg(a){if(a.Oi&&"undefined"!=typeof aa)if(a.Hs[1]&&4==Ug(a)&&2==Vg(a))Eg(a.Ef,Ng(a,"Local request error detected and ignored"));else if(a.ar&&4==Ug(a))$f(a.KB,0,a);else if(a.dispatchEvent("readystatechange"),4==Ug(a)){Eg(a.Ef,Ng(a,"Request complete"));a.Oi=!1;try{var b=Vg(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var e;if(e=0===b){var h=Wf(String(a.rr))[1]||null;if(!h&&self.location)var k=self.location.protocol,
h=k.substr(0,k.length-1);e=!Jg.test(h?h.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var l;try{l=2<Ug(a)?a.Ca.statusText:""}catch(n){Eg(a.Ef,"Can not get status: "+n.message),l=""}a.qo=l+" ["+Vg(a)+"]";Rg(a)}}finally{Sg(a)}}}
function Sg(a,b){if(a.Ca){Pg(a);var c=a.Ca,d=a.Hs[0]?fa:null;a.Ca=null;a.Hs=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.Ef)&&c.log(xg,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Pg(a){a.Ca&&a.Ds&&(a.Ca.ontimeout=null);u(a.ys)&&(ba.clearTimeout(a.ys),a.ys=null)}f.fh=function(){return!!this.Ca};function Ug(a){return a.Ca?a.Ca.readyState:0}function Vg(a){try{return 2<Ug(a)?a.Ca.status:-1}catch(b){return-1}}
function Ng(a,b){return b+" ["+a.fB+" "+a.rr+" "+Vg(a)+"]"};/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function L(){}v("gxnat",L);L.JPEG_CONVERT_SUFFIX="?format=image/jpeg";L.RG={projects:"proj",subjects:"subj",experiments:"expt",scans:"scans"};L.Lx="?format=zip";L.fi=function(a,b,c){var d=a+(-1<a.indexOf("?")?"&":"?")+"format=json";null!=c&&("&"!==c[0]&&(c="&"+c),d+=c);window.console.log("Getting XNAT json: '"+d+"'",a);L.get(d,b,"json")};
L.get=function(a,b,c){Mg(a,function(a){a=a.target;switch(c){case void 0:b(a);break;case "json":var e;e=a.Ca?fg(a.Ca.responseText):void 0;e.hasOwnProperty("ResultSet")?b(e.ResultSet.Result):b(e);break;case "text":try{e=a.Ca?a.Ca.responseText:""}catch(h){Eg(a.Ef,"Can not get responseText: "+h.message),e=""}b(e)}})};
L.Er=function(a,b){var c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,d=/(^[ ]*|[ ]*$)/g,e=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,h=/^0x[0-9a-f]+$/i,k=/^0/,l=(L.Er.oJ&&(""+a).toLowerCase()||""+a).replace(d,"")||"",n=(L.Er.oJ&&(""+b).toLowerCase()||""+b).replace(d,"")||"",d=l.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),c=n.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,
"").split("\x00"),l=parseInt(l.match(h))||1!=d.length&&l.match(e)&&Date.parse(l);if(e=parseInt(n.match(h))||l&&n.match(e)&&Date.parse(n)||null){if(l<e)return-1;if(l>e)return 1}l=0;for(n=Math.max(d.length,c.length);l<n;l++){e=!(d[l]||"").match(k)&&parseFloat(d[l])||d[l]||0;h=!(c[l]||"").match(k)&&parseFloat(c[l])||c[l]||0;if(isNaN(e)!==isNaN(h))return isNaN(e)?1:-1;typeof e!==typeof h&&(e+="",h+="");if(e<h)return-1;if(e>h)return 1}return 0};
L.qM=function(a,b){var c=[],d={},e=[],h={};D(a,function(a){h=a;D(b,function(a){h=h[a]});h=h.toLowerCase();c.push(h);d[h]=a});c=c.sort(L.qQ);D(c,function(a){e.push(d[a])});return e};v("gxnat.JPEG_CONVERT_SUFFIX",L.JPEG_CONVERT_SUFFIX);v("gxnat.folderAbbrev",L.RG);v("gxnat.ZIP_SUFFIX",L.Lx);v("gxnat.jsonGet",L.fi);v("gxnat.get",L.get);v("gxnat.naturalSort",L.Er);v("gxnat.sortXnatPropertiesArray",L.qM);function Wg(a){this.originalUrl=a;this.files=this.resources=this.scans=this.experiments=this.subjects=this.projects=this.prefix=null;a=a.split("/");for(var b=!0,c=0,b=0,d=a.length,c=0;c<d;c++)if(b=this.hasOwnProperty(a[c])&&a[c+1]){if("projects"===a[c]&&0!==c)for(this.prefix="",b=0;b<c;b++)this.prefix+=a[b],this.prefix=b<c-1?this.prefix+"/":this.prefix;this[a[c]]=a[c+1];c++}Xg(this)}w(Wg,xc);v("gxnat.Path",Wg);
function Yg(a){a+="/REST";0<a.length&&"/"===a[a.length-1]&&(a=a.substring(0,a.length-1));return a}function Zg(a){for(var b=0,c=$g.length,b=0;b<c;b++)a($g[b],b)}function ah(a,b,c){if(-1==a.indexOf(c))throw Error("Graft folder",c,"not in prefix:",a);if(-1==a.indexOf(c))throw Error("Graft folder",c,"not in suffix:",b);return a.split(c+"/")[0]+c+b.split(c)[1]}var $g=["projects","subjects","experiments",["scans","resources"],"files"];
function Xg(a){var b,c,d,e=!1;Zg(function(a,k){if(g(a))for(b=0,c=a.length;b<c;b++)d=a[b],null!=this[d]||e||(this.bu=$g[k-1],e=!0);else null!=this[a]||e||(this.bu=$g[k-1],e=!0)}.bind(a))}Wg.prototype.Gq=function(){null!=this.bu||Xg(this);return this.bu};
Wg.prototype.mi=function(a){if(!this.hasOwnProperty(a))throw Error("Invalid level: ",a);for(var b=this.prefix,c="",d=0,e=0,h=$g.length,k=0,d=0;d<h;d++){c=$g[d];if(g(c))for(k=c.length,e=0;e<k;e++)currSubLevel=c[d][e],this[currSubLevel]&&(b+=currSubLevel+"/"+this[currSubLevel]);else b+="/"+c+"/"+this[c];if(a===c||-1<c.indexOf(a))return b}};Wg.prototype.g=function(){Wg.d.g.call(this);tb(this)};v("gxnat.Path.getQueryPrefix",Yg);v("gxnat.Path.forEachXnatLevel",Zg);
v("gxnat.Path.getDeepestSharedXnatLevel",function(a,b){var c=new Wg(a),d=new Wg(b),e=void 0;Zg(function(a){c[a]&&c[a]===d[a]&&(e=a)});return e});v("gxnat.Path.graftUrl",ah);v("gxnat.Path.xnatLevelOrder",$g);v("gxnat.Path.prototype.getDeepestLevel",Wg.prototype.Gq);v("gxnat.Path.prototype.pathByLevel",Wg.prototype.mi);v("gxnat.Path.prototype.dispose",Wg.prototype.g);function bh(a){this.Xd=new Wg(a);this.projects=[];this[ch]={};this[dh]={};this[eh]={}}w(bh,xc);v("gxnat.ProjectTree",bh);function fh(a){this[gh]=r(a)?new Wg(a):a;this[hh]=this[gh].Gq();a=$g.indexOf(this[gh].Gq())+1;-1!=a&&(this[ih]=$g[a],r(this[ih])&&(this[jh]=this[gh].originalUrl+"/"+this[ih],this[this[ih]]=[]))}w(fh,xc);v("gxnat.ProjectTree.TreeNode",fh);fh.prototype.Lc=function(a){this.Ob=a};fh.prototype.Hc=function(){return this.Ob};
fh.prototype.g=function(){fh.d.g.call(this);null!=this[gh]&&this[gh].g();tb(this)};var hh=B(),jh=B(),kh=B(),gh=B(),ih=B(),lh=B(),mh=B(),nh=B(),ch=B(),dh=B(),eh=B(),oh=["ID","description","name","URI"],ph=["gender","handedness","label","URI"],qh=["label","URI"];function rh(a,b){return La(a.Hc(),b.Hc())}function sh(a){var b="&columns=";D(a,function(c,d){separator=",";d==a.length-1&&(separator="");b+=c+separator});return b}f=bh.prototype;
f.Qz=function(a){var b=[];C(this.Rn(a),function(a,d){"projects"==d?b.push(a[nh].ID):b.push(a[nh].label)});return b};f.Rz=function(a){var b=[];C(this.Rn(a),function(a){b.push(a[gh].originalUrl)});return b};f.Rn=function(a){branch={projects:this.ee};"experiments"==a[ih]?branch.subjects=a:g(a[ih])&&(branch.subjects=this[dh][a[gh].mi("subjects")],branch.experiments=a);return branch};f.kB=function(a,b){this.vo(this.Xd,a,b)};
f.vo=function(a,b,c){var d=r(a)?new Wg(a):a,e;if(null!=this.ee){a={projects:this.ee};if(null!=d.subjects){e=d.mi("subjects");if(null==this[dh][e]){this.lv(e,function(a){this.mB(a,function(){null!=b&&b(a);this.vo(d,b,c)}.bind(this))}.bind(this));return}a.subjects=this[dh][e]}if(null!=d.experiments){e=d.mi("experiments");if(null==this[eh][e]){this.kv(e,function(a){null!=b&&b(a);this.vo(d,b,c)}.bind(this));return}a.experiments=this[eh][e]}null!=c&&c(a)}else this.lB(function(a){null!=b&&b(a);this.vo(d,
b,c)}.bind(this))};f.lB=function(a){if(null==this.ee){var b=sh(oh),c=this.Xd.prefix+"/projects/"+this.Xd.projects,d;L.fi(this.Xd.prefix+"/projects",function(b){d=new fh(c);this.projects.push(d);this.ee=d;this[ch][d[gh].originalUrl]=d;d[nh]=b[0];d.Lc(d[nh].name);a(d)}.bind(this),"&ID="+this.Xd.projects+b)}};f.Wn=function(a){return this[dh][a]};f.em=function(a){return this[eh][a]};
f.mB=function(a,b){var c=a;r(a)?c=this.Wn(a):a instanceof Wg&&(c=this.Wn(a.originalUrl));if(null!=c[nh])b(c);else{var d=this.Xd.prefix+"/subjects",e=sh(ph),e="&ID="+c[gh].subjects+e;L.fi(d,function(a){c[nh]=a[0];c.Lc(c[nh].label);b(c)}.bind(this),e)}};
f.nB=function(a,b){if(null==this.ee[lh]||!0!=this.ee[lh]){var c=this.ee[gh].originalUrl+"/subjects",d=sh(ph);window.console.log("load subjects",c,d);var e,h;L.fi(c,function(c){D(c,function(d){h=this.ee[gh].prefix+"/projects/"+this.ee[gh].projects+"/subjects/"+d.ID;e=this.lv(h);null==e[nh]&&(e[nh]=d,e.Lc(e[nh].label));null!=a&&a(e);this.ee.subjects.length==c.length&&(this.ee[lh]=!0,null!=b&&(d=this.ee.subjects,d.sort(rh),b(d)))}.bind(this))}.bind(this),d)}};
f.lv=function(a,b){if(null!=this[dh][a])return this[dh][a];subjNode=new fh(a);this.ee.subjects.push(subjNode);this[dh][a]=subjNode;null!=b&&b(subjNode);return subjNode};f.iB=function(a,b){var c=a;r(a)?c=this.em(a):a instanceof Wg&&(c=this.em(a.originalUrl));var d=this.Xd.prefix+"/experiments",e=sh(qh),e="&ID="+c[gh].experiments+e;L.fi(d,function(a){c[nh]=a[0];c.Lc(c[nh].label);b(c)}.bind(this),e)};
f.jB=function(a,b,c){var d=a;r(a)?d=this.Wn(a):a instanceof Wg&&(d=this.Wn(a.originalUrl));if(null!=d[lh]&&!0==d[lh])window.console.log("Don't need to reload the experiments of "+d[gh].originalUrl);else{var e=d[gh].originalUrl+"/experiments";L.fi(e+"?xsiType=xnat:imageSessionData",function(a){D(a,function(k){this.kv(e+"/"+k.ID,function(e){null!=b&&b(e);d.experiments.length==a.length&&(d[lh]=!0,null!=c&&(e=d.experiments,e.sort(rh),c(e)))}.bind(this))}.bind(this))}.bind(this))}};
f.kv=function(a,b){null==this[eh][a]&&(exptNode=new fh(a),this.iB(exptNode,function(c){this[dh][c[gh].mi("subjects")].experiments.push(c);this[eh][a]=c;null!=b&&b(c)}.bind(this)))};f.g=function(){bh.d.g.call(this);delete this.ee;this.Xd.g();delete this.Xd;D(this.projects,function(a){null!=a.subjects&&D(a.subjects,function(a){null!=a.experiments&&D(a.experiments,function(a){a.g()});a.g()});a.g()});tb(this)};v("gxnat.ProjectTree.TreeNode",fh);v("gxnat.ProjectTree.LEVEL_KEY",hh);
v("gxnat.ProjectTree.NEXTLEVELQUERY_KEY",jh);v("gxnat.ProjectTree.NEXTLEVELJSON_KEY",kh);v("gxnat.ProjectTree.PATH_KEY",gh);v("gxnat.ProjectTree.NEXTLEVEL_KEY",ih);v("gxnat.ProjectTree.NEXTLEVELLOADED_KEY",lh);v("gxnat.ProjectTree.ISLOADING_KEY",mh);v("gxnat.ProjectTree.METADATA_KEY",nh);v("gxnat.ProjectTree.PROJ_DIRECT",ch);v("gxnat.ProjectTree.SUBJ_DIRECT",dh);v("gxnat.ProjectTree.EXPT_DIRECT",eh);v("gxnat.ProjectTree.PROJECT_METADATA",oh);v("gxnat.ProjectTree.SUBJECT_METADATA",ph);
v("gxnat.ProjectTree.EXPERIMENT_METADATA",qh);v("gxnat.ProjectTree.compareNodeTitles",rh);v("gxnat.ProjectTree.getColumnQuery",sh);v("gxnat.ProjectTree.prototype.getBranchTitles",bh.prototype.Qz);v("gxnat.ProjectTree.prototype.getBranchUris",bh.prototype.Rz);v("gxnat.ProjectTree.prototype.getBranchFromEndNode",bh.prototype.Rn);v("gxnat.ProjectTree.prototype.loadInitBranch",bh.prototype.kB);v("gxnat.ProjectTree.prototype.loadBranch",bh.prototype.vo);v("gxnat.ProjectTree.prototype.loadProject",bh.prototype.lB);
v("gxnat.ProjectTree.prototype.getSubjectNodeByUri",bh.prototype.Wn);v("gxnat.ProjectTree.prototype.getExperimentNodeByUri",bh.prototype.em);v("gxnat.ProjectTree.prototype.loadSubjectMetadata",bh.prototype.mB);v("gxnat.ProjectTree.prototype.loadSubjects",bh.prototype.nB);v("gxnat.ProjectTree.prototype.loadSubject",bh.prototype.lv);v("gxnat.ProjectTree.prototype.loadExperimentMetadata",bh.prototype.iB);v("gxnat.ProjectTree.prototype.loadExperiments",bh.prototype.jB);
v("gxnat.ProjectTree.prototype.loadExperiment",bh.prototype.kv);v("gxnat.ProjectTree.prototype.dispose",bh.prototype.g);function th(a,b){this.x=da(a)?a:0;this.y=da(b)?b:0}f=th.prototype;f.clone=function(){return new th(this.x,this.y)};f.toString=function(){return"("+this.x+", "+this.y+")"};function uh(a,b){return new th(a.x-b.x,a.y-b.y)}f.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};f.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};f.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
f.translate=function(a,b){a instanceof th?(this.x+=a.x,this.y+=a.y):(this.x+=a,u(b)&&(this.y+=b));return this};f.scale=function(a,b){var c=u(b)?b:a;this.x*=a;this.y*=c;return this};function vh(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}f=vh.prototype;f.clone=function(){return new vh(this.top,this.right,this.bottom,this.left)};f.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};f.contains=function(a){return this&&a?a instanceof vh?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
f.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};f.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};f.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
f.translate=function(a,b){a instanceof th?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,u(b)&&(this.top+=b,this.bottom+=b));return this};f.scale=function(a,b){var c=u(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function wh(a,b){this.width=a;this.height=b}function xh(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}f=wh.prototype;f.clone=function(){return new wh(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.qm=function(){return!(this.width*this.height)};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.scale=function(a,b){var c=u(b)?b:a;this.width*=a;this.height*=c;return this};function yh(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=yh.prototype;f.clone=function(){return new yh(this.left,this.top,this.width,this.height)};f.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
f.$A=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};f.contains=function(a){return a instanceof yh?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
function zh(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}f.ju=function(a){return Math.sqrt(zh(this,a))};f.oj=function(){return new wh(this.width,this.height)};f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.translate=function(a,b){a instanceof th?(this.left+=a.x,this.top+=a.y):(this.left+=a,u(b)&&(this.top+=b));return this};
f.scale=function(a,b){var c=u(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function Ah(){return jc?"Webkit":ic?"Moz":E?"ms":hc?"O":null}function Bh(a,b){if(b&&a in b)return a;var c=Ah();return c?(c=c.toLowerCase(),c+=db(a),!da(b)||c in b?c:null):null};function Ch(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function M(a,b){var c=Ch(a),d=Qb(arguments,1),e=c.length+d.length;Dh(c,d);a.className=c.join(" ");return c.length==e}function Eh(a,b){var c=Ch(a),d=Qb(arguments,1),e=Fh(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function Dh(a,b){for(var c=0;c<b.length;c++)Jb(a,b[c])||a.push(b[c])}function Fh(a,b){return Db(a,function(a){return!Jb(b,a)})}
function Gh(a,b,c){var d=Ch(a);r(b)?Mb(d,b):g(b)&&(d=Fh(d,b));r(c)&&!Jb(d,c)?d.push(c):g(c)&&Dh(d,c);a.className=d.join(" ")}function Hh(a){var b=Ih.CSS.Ls;return Jb(Ch(a),b)};var Jh=!E||rc(9),Kh=!ic&&!E||E&&rc(9)||ic&&qc("1.9.1"),Lh=E&&!qc("9");function Mh(a){return a?new Nh(Oh(a)):Ca||(Ca=new Nh)}function Ph(a){return r(a)?document.getElementById(a):a}function Rh(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):Sh(document,"*",a,b)}function Th(a,b){var c=b||document,d=null;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Sh(document,"*",a,b)[0])||null}
function Sh(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,h=0,k;k=a[h];h++)b==k.nodeName&&(d[e++]=k);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(h=e=0;k=a[h];h++)b=k.className,"function"==typeof b.split&&Jb(b.split(/\s+/),c)&&(d[e++]=k);d.length=e;return d}return a}
function Uh(a,b){C(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Vh?a.setAttribute(Vh[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Vh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Wh(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new wh(a.clientWidth,a.clientHeight)}function Xh(a){return jc||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Yh(a){return a?a.parentWindow||a.defaultView:window}function O(a,b,c){return Zh(document,arguments)}
function Zh(a,b){var c=b[0],d=b[1];if(!Jh&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ma(d.name),'"');if(d.type){c.push(' type="',Ma(d.type),'"');var e={};yb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(r(d)?c.className=d:g(d)?c.className=d.join(" "):Uh(c,d));2<b.length&&$h(a,c,b,2);return c}function $h(a,b,c,d){function e(c){c&&b.appendChild(r(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var h=c[d];!ia(h)||ma(h)&&0<h.nodeType?e(h):D(ai(h)?Ob(h):h,e)}}
function Q(a,b){$h(Oh(a),a,arguments,1)}function bi(a){for(var b;b=a.firstChild;)a.removeChild(b)}function ci(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function di(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function R(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function ei(a){return Kh&&void 0!=a.children?a.children:Db(a.childNodes,function(a){return 1==a.nodeType})}function fi(a){return void 0!=a.firstElementChild?a.firstElementChild:gi(a.firstChild)}
function hi(a){return void 0!=a.nextElementSibling?a.nextElementSibling:gi(a.nextSibling)}function gi(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function ii(a){return ma(a)&&1==a.nodeType}function ji(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Oh(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function ki(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else bi(a),a.appendChild(Oh(a).createTextNode(String(b)))}var li={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},mi={IMG:" ",BR:"\n"};function ni(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}function oi(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}
function pi(a){a=a.tabIndex;return u(a)&&0<=a&&32768>a}function qi(a){if(Lh&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];ri(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Lh||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function si(a){var b=[];ri(a,b,!1);return b.join("")}
function ri(a,b,c){if(!(a.nodeName in li))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in mi)b.push(mi[a.nodeName]);else for(a=a.firstChild;a;)ri(a,b,c),a=a.nextSibling}function ai(a){if(a&&"number"==typeof a.length){if(ma(a))return"function"==typeof a.item||"string"==typeof a.item;if(la(a))return"function"==typeof a.item}return!1}
function ti(a){var b=ui.ad;return vi(a,function(a){return"DIV"==a.nodeName&&(!b||r(a.className)&&Jb(a.className.split(/\s+/),b))})}function vi(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Nh(a){this.la=a||ba.document||document}f=Nh.prototype;f.O=Mh;function wi(a){return a.la}f.a=function(a){return r(a)?this.la.getElementById(a):a};f.JD=Nh.prototype.a;f.B=function(a,b,c){return Zh(this.la,arguments)};f.createElement=function(a){return this.la.createElement(a)};
f.createTextNode=function(a){return this.la.createTextNode(String(a))};function xi(a){return"CSS1Compat"==a.la.compatMode}function yi(a){a=a.la;return a.parentWindow||a.defaultView}function zi(a){var b=a.la;a=Xh(b);b=b.parentWindow||b.defaultView;return E&&qc("10")&&b.pageYOffset!=a.scrollTop?new th(a.scrollLeft,a.scrollTop):new th(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}f.appendChild=function(a,b){a.appendChild(b)};f.Vu=ci;f.removeNode=R;f.su=ei;f.$z=fi;f.contains=ji;
f.di=function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!oi(a)||pi(a)):oi(a)&&pi(a))&&E?(a=la(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},a=null!=a&&0<a.height&&0<a.width):a=b;return a};function Ai(a,b,c){r(b)?Bi(a,c,b):C(b,va(Bi,a))}function Bi(a,b,c){a:if(c=bb(c),void 0===a.style[c]){var d=Ah()+db(c);if(void 0!==a.style[d]){c=d;break a}}c&&(a.style[c]=b)}function Ci(a,b){var c=Oh(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Di(a,b){return Ci(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Ei(a){return Di(a,"position")}
function Fi(a,b,c){var d,e=ic&&(dc||mc)&&qc("1.9");b instanceof th?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Gi(d,e);a.style.top=Gi(b,e)}function Hi(a){return new th(a.offsetLeft,a.offsetTop)}function Ii(a){a=a?Oh(a):document;return!E||rc(9)||xi(Mh(a))?a.documentElement:a.body}
function Ji(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}E&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Ki(a){if(E&&!rc(8))return a.offsetParent;var b=Oh(a),c=Di(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Di(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Li(a){for(var b=new vh(0,Infinity,Infinity,0),c=Mh(a),d=c.la.body,e=c.la.documentElement,h=Xh(c.la);a=Ki(a);)if(!(E&&0==a.clientWidth||jc&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=Di(a,"overflow")){var k=Mi(a),l;l=a;if(ic&&!qc("1.9")){var n=parseFloat(Ci(l,"borderLeftWidth"));if(Ni(l))var p=l.offsetWidth-l.clientWidth-n-parseFloat(Ci(l,"borderRightWidth")),n=n+p;l=new th(n,parseFloat(Ci(l,"borderTopWidth")))}else l=new th(l.clientLeft,l.clientTop);k.x+=l.x;k.y+=l.y;b.top=Math.max(b.top,
k.y);b.right=Math.min(b.right,k.x+a.clientWidth);b.bottom=Math.min(b.bottom,k.y+a.clientHeight);b.left=Math.max(b.left,k.x)}d=h.scrollLeft;h=h.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,h);c=Wh(yi(c)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,h+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function Mi(a){var b,c=Oh(a),d=Di(a,"position"),e=ic&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),h=new th(0,0),k=Ii(c);if(a==k)return h;if(a.getBoundingClientRect)b=Ji(a),a=zi(Mh(c)),h.x=b.left+a.x,h.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(k),h.x=b.screenX-a.screenX,h.y=b.screenY-a.screenY;else{b=a;do{h.x+=b.offsetLeft;h.y+=b.offsetTop;b!=a&&(h.x+=b.clientLeft||0,h.y+=b.clientTop||0);
if(jc&&"fixed"==Ei(b)){h.x+=c.body.scrollLeft;h.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(hc||jc&&"absolute"==d)h.y-=c.body.offsetTop;for(b=a;(b=Ki(b))&&b!=c.body&&b!=k;)h.x-=b.scrollLeft,hc&&"TR"==b.tagName||(h.y-=b.scrollTop)}return h}function Oi(a,b){var c=Pi(a),d=Pi(b);return new th(c.x-d.x,c.y-d.y)}
function Qi(a){var b;if(a.getBoundingClientRect)b=Ji(a),b=new th(b.left,b.top);else{b=zi(Mh(a));var c=Mi(a);b=new th(c.x-b.x,c.y-b.y)}if(ic&&!qc(12)){b:{c=bb("transform");if(void 0===a.style[c]&&(c=Ah()+db(c),void 0!==a.style[c])){c=(jc?"-webkit":ic?"-moz":E?"-ms":hc?"-o":null)+"-transform";break b}c="transform"}a=(a=Di(a,c)||Di(a,"transform"))?(a=a.match(Ri))?new th(parseFloat(a[1]),parseFloat(a[2])):new th(0,0):new th(0,0);a=new th(b.x+a.x,b.y+a.y)}else a=b;return a}
function Pi(a){if(1==a.nodeType)return Qi(a);var b=la(a.TG),c=a;a.targetTouches?c=a.targetTouches[0]:b&&a.Vc.targetTouches&&(c=a.Vc.targetTouches[0]);return new th(c.clientX,c.clientY)}function Si(a,b,c){if(b instanceof wh)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");Ti(a,b);Ui(a,c)}function Gi(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Ui(a,b){a.style.height=Gi(b,!0)}function Ti(a,b){a.style.width=Gi(b,!0)}
function S(a){var b=Vi;if("none"!=Di(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,h=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=h;c.visibility=e;return a}function Vi(a){var b=a.offsetWidth,c=a.offsetHeight,d=jc&&!b&&!c;return da(b)&&!d||!a.getBoundingClientRect?new wh(b,c):(a=Ji(a),new wh(a.right-a.left,a.bottom-a.top))}function Wi(a){var b=Mi(a);a=S(a);return new yh(b.x,b.y,a.width,a.height)}
function Xi(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function Yi(a,b){a.style.display=b?"":"none"}function Zi(a){E&&da(a.cssText)?a.cssText=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }":a.innerHTML=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }"}function Ni(a){return"rtl"==Di(a,"direction")}var $i=ic?"MozUserSelect":jc?"WebkitUserSelect":null;
function aj(a,b,c){c=c?null:a.getElementsByTagName("*");if($i){if(b=b?"none":"",a.style[$i]=b,c){a=0;for(var d;d=c[a];a++)d.style[$i]=b}}else if(E||hc)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}function bj(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function cj(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?bj(a,c):0}function dj(a,b){if(E){var c=cj(a,b+"Left"),d=cj(a,b+"Right"),e=cj(a,b+"Top"),h=cj(a,b+"Bottom");return new vh(e,d,h,c)}c=Ci(a,b+"Left");d=Ci(a,b+"Right");e=Ci(a,b+"Top");h=Ci(a,b+"Bottom");return new vh(parseFloat(e),parseFloat(d),parseFloat(h),parseFloat(c))}var ej={thin:2,medium:4,thick:6};
function fj(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in ej?ej[c]:bj(a,c)}function gj(a){if(E&&!rc(9)){var b=fj(a,"borderLeft"),c=fj(a,"borderRight"),d=fj(a,"borderTop");a=fj(a,"borderBottom");return new vh(d,c,a,b)}b=Ci(a,"borderLeftWidth");c=Ci(a,"borderRightWidth");d=Ci(a,"borderTopWidth");a=Ci(a,"borderBottomWidth");return new vh(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Ri=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function hj(a){xc.call(this);this.ld=a;this.nb={}}w(hj,xc);var ij=[];f=hj.prototype;f.D=function(a,b,c,d){g(b)||(b&&(ij[0]=b.toString()),b=ij);for(var e=0;e<b.length;e++){var h=F(a,b[e],c||this.handleEvent,d||!1,this.ld||this);if(!h)break;this.nb[h.key]=h}return this};f.iv=function(a,b,c,d){return jj(this,a,b,c,d)};function jj(a,b,c,d,e,h){if(g(c))for(var k=0;k<c.length;k++)jj(a,b,c[k],d,e,h);else{b=Uc(b,c,d||a.handleEvent,e,h||a.ld||a);if(!b)return a;a.nb[b.key]=b}return a}
f.wb=function(a,b,c,d,e){if(g(b))for(var h=0;h<b.length;h++)this.wb(a,b[h],c,d,e);else c=c||this.handleEvent,e=e||this.ld||this,c=Oc(c),d=!!d,b=hb(a)?a.Vn(b,c,d,e):a?(a=Qc(a))?a.Vn(b,c,d,e):null:null,b&&(Wc(b),delete this.nb[b.key]);return this};f.zg=function(){C(this.nb,Wc);this.nb={}};f.f=function(){hj.d.f.call(this);this.zg()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function kj(){}ga(kj);kj.prototype.DB=0;function lj(a){ad.call(this);this.sb=a||Mh();this.oh=mj;this.Af=null;this.ma=!1;this.q=null;this.pj=void 0;this.fg=this.Sc=this.Va=this.tv=null;this.CD=!1}w(lj,ad);lj.prototype.gJ=kj.te();var mj=null;
function nj(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}function oj(a){return a.Af||(a.Af=":"+(a.gJ.DB++).toString(36))}function pj(a,b){a.Va&&a.Va.fg&&(ub(a.Va.fg,a.Af),vb(a.Va.fg,b,a));a.Af=b}f=lj.prototype;f.a=function(){return this.q};
f.jb=function(){this.pj||(this.pj=new hj(this));return this.pj};f.Zo=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Va&&this.Af&&qj(this.Va,this.Af)&&this.Va!=a)throw Error("Unable to set parent component");this.Va=a;lj.d.uw.call(this,a)};f.getParent=function(){return this.Va};f.uw=function(a){if(this.Va&&this.Va!=a)throw Error("Method not supported");lj.d.uw.call(this,a)};f.O=function(){return this.sb};f.B=function(){this.q=this.sb.createElement("div")};f.k=function(a){this.nh(a)};
f.nh=function(a,b){if(this.ma)throw Error("Component already rendered");this.q||this.B();a?a.insertBefore(this.q,b||null):this.sb.la.body.appendChild(this.q);this.Va&&!this.Va.ma||this.ib()};f.Kb=function(a){if(this.ma)throw Error("Component already rendered");if(a&&this.Re(a)){this.CD=!0;var b=Oh(a);this.sb&&this.sb.la==b||(this.sb=Mh(a));this.pe(a);this.ib()}else throw Error("Invalid element to decorate");};f.Re=function(){return!0};f.pe=function(a){this.q=a};
f.ib=function(){this.ma=!0;rj(this,function(a){!a.ma&&a.a()&&a.ib()})};f.Fc=function(){rj(this,function(a){a.ma&&a.Fc()});this.pj&&this.pj.zg();this.ma=!1};f.f=function(){this.ma&&this.Fc();this.pj&&(this.pj.g(),delete this.pj);rj(this,function(a){a.g()});!this.CD&&this.q&&R(this.q);this.Va=this.tv=this.q=this.fg=this.Sc=null;lj.d.f.call(this)};f.tn=function(a,b){this.wt(a,sj(this),b)};
f.wt=function(a,b,c){if(a.ma&&(c||!this.ma))throw Error("Component already rendered");if(0>b||b>sj(this))throw Error("Child component index out of bounds");this.fg&&this.Sc||(this.fg={},this.Sc=[]);if(a.getParent()==this){var d=oj(a);this.fg[d]=a;Mb(this.Sc,a)}else vb(this.fg,oj(a),a);a.Zo(this);Pb(this.Sc,b,0,a);a.ma&&this.ma&&a.getParent()==this?(c=this.Ha(),c.insertBefore(a.a(),c.childNodes[b]||null)):c?(this.q||this.B(),b=tj(this,b+1),a.nh(this.Ha(),b?b.q:null)):this.ma&&!a.ma&&a.q&&a.q.parentNode&&
1==a.q.parentNode.nodeType&&a.ib()};f.Ha=function(){return this.q};f.We=function(){null==this.oh&&(this.oh=Ni(this.ma?this.q:this.sb.la.body));return this.oh};f.Bm=function(a){if(this.ma)throw Error("Component already rendered");this.oh=a};function sj(a){return a.Sc?a.Sc.length:0}function qj(a,b){var c;a.fg&&b?(c=a.fg,c=(b in c?c[b]:void 0)||null):c=null;return c}function tj(a,b){return a.Sc?a.Sc[b]||null:null}function rj(a,b,c){a.Sc&&D(a.Sc,b,c)}function uj(a,b){return a.Sc&&b?Bb(a.Sc,b):-1}
f.removeChild=function(a,b){if(a){var c=r(a)?a:oj(a);a=qj(this,c);c&&a&&(ub(this.fg,c),Mb(this.Sc,a),b&&(a.Fc(),a.q&&R(a.q)),a.Zo(null))}if(!a)throw Error("Child is not in parent component");return a};v("nrg.string",function(){});function vj(a){if(void 0!=a)return a.replace(/\\/g,"/").replace(/.*\//,"")}function wj(a){if(void 0!=a)return a.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function xj(a){if(null!=a)return a="array"==ha(a)?a[0]:a,a=a.slice(a.lastIndexOf(".")+1),"gz"==a&&(a="nii."+a),a.toLowerCase()}function yj(a){return a.replace(/\W/g,"")}function zj(a,b){var c=a.toLowerCase().replace(/\.|_/g,"-");null!=b&&(c+="-"+b.toLowerCase().replace(/\.|_/g,"-"));return c}
function Aj(a){return"rgb("+a.split(" ").map(function(a){return Math.round(255*parseFloat(a))}).toString()+")"}v("nrg.string.basename",vj);v("nrg.string.dirname",wj);v("nrg.string.getFileExtension",xj);v("nrg.string.fileNameMatch",function(a,b){return vj(a)===vj(b)});v("nrg.string.stripNonAlphanumeric",yj);v("nrg.string.stripIllegal",function(a){return a.replace(/[|&;$%@"<>()+,]/g,"")});v("nrg.string.getLettersOnly",function(a){return yj(a).replace(/[0-9]/g,"")});
v("nrg.string.replaceIllegal",function(a,b){if("string"!==typeof a)throw Error("Illegal value "+typeof a+" in argument of nrg.string.replaceIllegal .");void 0===b&&(b="");var c=a.replace(/\/./g,b);return c=c.replace(/[|&;$%@"<>()+,]/g,b)});v("nrg.string.truncateString",function(a,b){b=void 0===b?30:b;return a.length>b?a.substring(0,b-3)+"...":a});v("nrg.string.makeCssName",zj);v("nrg.string.mrmlColorToRgb",Aj);function Bj(a,b,c){xc.call(this);this.jv=a;this.qg=b||0;this.ld=c;this.iG=ua(this.zG,this)}w(Bj,xc);f=Bj.prototype;f.Af=0;f.f=function(){Bj.d.f.call(this);this.stop();delete this.jv;delete this.ld};f.start=function(a){this.stop();this.Af=$f(this.iG,da(a)?a:this.qg)};f.stop=function(){this.fh()&&ba.clearTimeout(this.Af);this.Af=0};f.fh=function(){return 0!=this.Af};f.zG=function(){this.Af=0;this.jv&&this.jv.call(this.ld)};var sb={},Cj=null;function Dj(a){a=na(a);delete sb[a];rb()&&Cj&&Cj.stop()}function Ej(){Cj||(Cj=new Bj(function(){Fj()},20));var a=Cj;a.fh()||a.start()}function Fj(){var a=xa();C(sb,function(b){Gj(b,a)});rb()||Ej()};function Hj(){ad.call(this);this.U=Ij;this.endTime=this.startTime=null}w(Hj,ad);var Ij=0;Hj.prototype.Cf=function(){return 1==this.U};Hj.prototype.ji=function(){this.rc("begin")};Hj.prototype.onEnd=function(){this.rc("end")};Hj.prototype.rc=function(a){this.dispatchEvent(a)};function Jj(a,b,c,d){Hj.call(this);if(!g(a)||!g(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.kp=a;this.GG=b;this.duration=c;this.iy=d;this.coords=[];this.jl=!1}w(Jj,Hj);f=Jj.prototype;f.gj=function(a){this.jl=a};f.Hf=0;
f.play=function(a){if(a||this.U==Ij)this.Hf=0,this.coords=this.kp;else if(this.Cf())return!1;Dj(this);this.startTime=a=xa();-1==this.U&&(this.startTime-=this.duration*this.Hf);this.endTime=this.startTime+this.duration;this.Hf||this.ji();this.rc("play");-1==this.U&&this.rc("resume");this.U=1;var b=na(this);b in sb||(sb[b]=this);Ej();Gj(this,a);return!0};f.stop=function(a){Dj(this);this.U=Ij;a&&(this.Hf=1);Kj(this,this.Hf);this.rc("stop");this.onEnd()};
f.pause=function(){this.Cf()&&(Dj(this),this.U=-1,this.rc("pause"))};f.f=function(){this.U==Ij||this.stop(!1);this.rc("destroy");Jj.d.f.call(this)};f.qe=function(){this.g()};function Gj(a,b){a.Hf=(b-a.startTime)/(a.endTime-a.startTime);1<=a.Hf&&(a.Hf=1);Kj(a,a.Hf);1==a.Hf?(a.U=Ij,Dj(a),a.rc("finish"),a.onEnd()):a.Cf()&&a.Bv()}function Kj(a,b){la(a.iy)&&(b=a.iy(b));a.coords=Array(a.kp.length);for(var c=0;c<a.kp.length;c++)a.coords[c]=(a.GG[c]-a.kp[c])*b+a.kp[c]}f.Bv=function(){this.rc("animate")};
f.rc=function(a){this.dispatchEvent(new Lj(a,this))};function Lj(a,b){Ec.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.Hf=b.Hf;this.state=b.U}w(Lj,Ec);var Mj={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Nj(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Oj.test(c))return b.qj=Pj(c),b.type="hex",b;a:{var d=a.match(Qj);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length)return b.qj=Rj(c),b.type="rgb",b;if(Mj&&(c=Mj[a.toLowerCase()]))return b.qj=c,b.type="named",b;throw Error(a+" is not a valid color string");}var Sj=/#(.)(.)(.)/;
function Pj(a){if(!Oj.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Sj,"#$1$1$2$2$3$3"));return a.toLowerCase()}function Tj(a){a=Pj(a);return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}
function Rj(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(isNaN(b)||0>b||255<b||isNaN(c)||0>c||255<c||isNaN(a)||0>a||255<a)throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');b=Uj(b.toString(16));c=Uj(c.toString(16));a=Uj(a.toString(16));return"#"+b+c+a}var Oj=/^#(?:[0-9a-f]{3}){1,2}$/i,Qj=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Uj(a){return 1==a.length?"0"+a:a}
function Vj(a,b,c){var d=0,e=0,h=0;if(0==b)h=e=d=c;else{var k=Math.floor(a/60),l=a/60-k;a=c*(1-b);var n=c*(1-b*l);b=c*(1-b*(1-l));switch(k){case 1:d=n;e=c;h=a;break;case 2:d=a;e=c;h=b;break;case 3:d=a;e=n;h=c;break;case 4:d=b;e=a;h=c;break;case 5:d=c;e=a;h=n;break;case 6:case 0:d=c,e=b,h=a}}return Rj([Math.floor(d),Math.floor(e),Math.floor(h)])};function Wj(a){var b=a.offsetLeft,c=a.offsetParent;c||"fixed"!=Ei(a)||(c=Oh(a).documentElement);if(!c)return b;if(ic)var d=gj(c),b=b+d.left;else rc(8)&&(d=gj(c),b-=d.left);return Ni(c)?c.clientWidth-(b+a.offsetWidth):b};function Xj(a,b,c,d,e){Jj.call(this,b,c,d,e);this.element=a}w(Xj,Jj);f=Xj.prototype;f.o=fa;f.We=function(){da(this.oh)||(this.oh=Ni(this.element));return this.oh};f.Bv=function(){this.o();Xj.d.Bv.call(this)};f.onEnd=function(){this.o();Xj.d.onEnd.call(this)};f.ji=function(){this.o();Xj.d.ji.call(this)};function Yj(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Xj.apply(this,arguments)}w(Yj,Xj);
Yj.prototype.o=function(){var a=this.jl&&this.We()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Zj(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Xj.apply(this,arguments)}w(Zj,Xj);Zj.prototype.o=function(){this.element.style.width=Math.round(this.coords[0])+"px";this.element.style.height=Math.round(this.coords[1])+"px"};
function ak(a,b,c,d,e){Xj.call(this,a,[b],[c],d,e)}w(ak,Xj);ak.prototype.o=function(){this.element.style.width=Math.round(this.coords[0])+"px"};function bk(a,b,c,d,e){Xj.call(this,a,[b],[c],d,e)}w(bk,Xj);bk.prototype.o=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function ck(a,b,c,d,e){u(b)&&(b=[b]);u(c)&&(c=[c]);Xj.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}w(ck,Xj);ck.prototype.o=function(){Xi(this.element,this.coords[0])};
ck.prototype.show=function(){this.element.style.display=""};ck.prototype.km=function(){this.element.style.display="none"};function dk(a,b,c){ck.call(this,a,1,0,b,c)}w(dk,ck);function ek(a,b,c){ck.call(this,a,0,1,b,c)}w(ek,ck);function fk(a,b,c){ck.call(this,a,1,0,b,c)}w(fk,ck);fk.prototype.ji=function(){this.show();fk.d.ji.call(this)};fk.prototype.onEnd=function(){this.km();fk.d.onEnd.call(this)};function gk(a,b,c){ck.call(this,a,0,1,b,c)}w(gk,ck);gk.prototype.ji=function(){this.show();gk.d.ji.call(this)};
function hk(a,b,c,d,e){if(3!=b.length||3!=c.length)throw Error("Start and end points must be 3D");Xj.apply(this,arguments)}w(hk,Xj);hk.prototype.ls=function(){for(var a=[],b=0;b<this.coords.length;b++)a[b]=Math.round(this.coords[b]);this.element.style.backgroundColor="rgb("+a.join(",")+")"};hk.prototype.o=function(){this.ls()};function ik(){Hj.call(this);this.$b=[]}w(ik,Hj);ik.prototype.add=function(a){Jb(this.$b,a)||(this.$b.push(a),F(a,"finish",this.Cv,!1,this))};ik.prototype.remove=function(a){Mb(this.$b,a)&&Vc(a,"finish",this.Cv,!1,this)};ik.prototype.f=function(){D(this.$b,function(a){a.g()});this.$b.length=0;ik.d.f.call(this)};function jk(){ik.call(this);this.ou=0}w(jk,ik);
jk.prototype.play=function(a){if(0==this.$b.length)return!1;if(a||this.U==Ij)this.ou=0,this.ji();else if(this.Cf())return!1;this.rc("play");-1==this.U&&this.rc("resume");var b=-1==this.U&&!a;this.startTime=xa();this.endTime=null;this.U=1;D(this.$b,function(c){b&&-1!=c.U||c.play(a)});return!0};jk.prototype.pause=function(){this.Cf()&&(D(this.$b,function(a){a.Cf()&&a.pause()}),this.U=-1,this.rc("pause"))};
jk.prototype.stop=function(a){D(this.$b,function(b){b.U==Ij||b.stop(a)});this.U=Ij;this.endTime=xa();this.rc("stop");this.onEnd()};jk.prototype.Cv=function(){this.ou++;this.ou==this.$b.length&&(this.endTime=xa(),this.U=Ij,this.rc("finish"),this.onEnd())};function kk(){ik.call(this);this.wf=0}w(kk,ik);
kk.prototype.play=function(a){if(0==this.$b.length)return!1;if(a||this.U==Ij)this.wf<this.$b.length&&this.$b[this.wf].U!=Ij&&this.$b[this.wf].stop(!1),this.wf=0,this.ji();else if(this.Cf())return!1;this.rc("play");-1==this.U&&this.rc("resume");this.startTime=xa();this.endTime=null;this.U=1;this.$b[this.wf].play(a);return!0};kk.prototype.pause=function(){this.Cf()&&(this.$b[this.wf].pause(),this.U=-1,this.rc("pause"))};
kk.prototype.stop=function(a){this.U=Ij;this.endTime=xa();if(a)for(a=this.wf;a<this.$b.length;++a){var b=this.$b[a];b.U==Ij&&b.play();b.U==Ij||b.stop(!0)}else this.wf<this.$b.length&&this.$b[this.wf].stop(!1);this.rc("stop");this.onEnd()};kk.prototype.Cv=function(){this.Cf()&&(this.wf++,this.wf<this.$b.length?this.$b[this.wf].play():(this.endTime=xa(),this.U=Ij,this.rc("finish"),this.onEnd()))};v("nrg.convert",function(){});function lk(a){if(!g(a)&&!u(a))throw new TypeError("Array or number expected!",a);if(a instanceof Array)return a.map(function(a){return a.toString()+"px"});switch(typeof a){case "number":return a.toString()+"px"}}
function mk(a,b,c){if(b[0]===b[1]||c[0]===c[1])throw"Remap: initial domain is equal!";b=b.sort();c=c.sort();if(a<=b[0])return a=b[0],{remappedVal:c[0],oldValue:a};if(a>=b[1])return a=b[1],{remappedVal:c[1],oldValue:a};b=Math.round(a/(b[1]-b[0])*(c[1]-c[0]));b<c[0]?b=c[0]:b>c[1]&&(b=c[1]);return{remappedVal:b,oldValue:a}}function nk(a){var b={};C(a,function(a,d){isNaN(a)?r(a)&&(b[d]=a):b[d]=a});return b}function ok(a){var b={};C(a,function(a,d){r(a)?0<a.length&&(b[d]=a):b[d]=a});return b}
v("nrg.convert.pct",function(a){if(!u(a))throw new TypeError("Number expected!",a);if(1<a||0>a)throw Error("Value must be between 0 and 1!");return(100*a).toString()+"%"});v("nrg.convert.px",lk);v("nrg.convert.remap1D",mk);v("nrg.convert.toInt",function(a){if(!r(a)&&!u(a))throw new TypeError("Number or string expected!",a);return parseInt(a,10)});
v("nrg.convert.toFloatArray",function(a){if(!r(a))throw new TypeError("String expected!",a);var b=[];a=a.split(" ");D(a,function(a,d){b[d]=parseFloat(a,10)});return b});v("nrg.convert.objectToArray",function(a){if(!ma(a))throw new TypeError("Object expected!",a);var b=[],c="";for(c in a)b=b.concat(a[c]);return b});v("nrg.convert.rgbToArray",function(a){if(!r(a))throw new TypeError("String expected!",a);a=a.match(/\d+/g);var b=0,b=0;for(len=a.length;b<len;b++)a[b]=parseInt(a[b],10);return a});
v("nrg.convert.arrayToRgb",function(a,b){if(!g(a))throw new TypeError("Array expected!",a);var c="rgb(";b=void 0===b?1:b;D(a,function(a){c+=parseInt(a*b,10).toString()+","});return c=c.substring(0,c.length-1)+")"});v("nrg.convert.filterNaN",nk);v("nrg.convert.filterZeroLengthStrings",ok);v("nrg.style",function(){});var pk="azimuth background-attachment background-color background-image background-position background-repeat background border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom caption-side clear clip color content counter-increment counter-reset cue-after cue-before cue cursor direction display elevation empty-cells float font-family font-size font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-right margin-left margin-top margin-bottom margin max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page-break-after page-break-before page-break-inside pause-after pause-before pause pitch-range pitch play-during position quotes richness right speak-header speak-numeral speak-punctuation speak speech-rate stress table-layout text-align text-decoration text-indent text-transform top unicode-bidi vertical-align visibility voice-family volume white-space widows width word-spacing z-index".split(" ");
function qk(a){return a.getBoundingClientRect()}function rk(a){var b=Hi(a);a=S(a);this.Ae=b;this.size=a;this.left=this.x=b.x;this.width=a.width;this.right=b.x+a.width;this.top=this.y=b.y;this.height=a.height;this.bottom=b.y+a.height}
function sk(a){var b="height width left top border-width borderWidth borderRadius border-radius fontSize fontSize margin margin-top marginTop marginLeft margin-left".split(" "),c=0,d=0;for(key in a)for(c=0,d=b.length;c<d;c++)key===b[c]&&(a[key]=parseInt(a[key],10));return a}function tk(a,b){a&&b&&(a.style||(a.style={}),Ai(a,b),D("top left height width fontSize borderWidth borderRadius".split(" "),function(c){b[c]&&!Ea(b[c],"%")&&(a.style[c]=lk(b[c]))}))}var uk="is_hovered_"+B();
function vk(a,b,c,d,e,h){function k(){a[uk]=!1;Eh(a,b);null!=h&&h()}function l(){a[uk]=!0;M(a,b);null!=e&&e()}F(a,"mouseenter",l);F(a,"mouseleave",k);c&&(c=void 0!==d?c.bind(d):c,c(l,k))}function wk(a,b,c){var d=new rk(a);d.right>c&&(d.left=c-d.width);d.left<b&&(d.left=b);a.style.left=d.left.toString()+"px";return new rk(a)}v("nrg.style.cssProperties",pk);
v("nrg.style.removeClassesThatContain",function(a,b){var c=Ch(a),d=[],e=0;b=b.toLowerCase();e=0;for(len=c.length;e<len;e++)-1<c[e].toLowerCase().indexOf(b)&&d.push(c[e]);e=0;for(len=d.length;e<len;e++)Eh(a,d[e])});v("nrg.style.absolutePosition",qk);v("nrg.style.dims",rk);v("nrg.style.getStyleSheet",function(a){for(var b=0;b<document.styleSheets.length;b++){var c=document.styleSheets[b];if(c.title==a)return c}});
v("nrg.style.getComputedStyle",function(a,b){if(b&&r(b))return window.getComputedStyle(a,null).getPropertyValue(b);void 0===b&&(b=pk);for(var c={},d=window.getComputedStyle(a,null),e=0,h=b.length,e=0;e<h;e++)c[b[e]]=d.getPropertyValue(b[e]);return sk(c)});v("nrg.style.parseIntNumericalProperties",sk);v("nrg.style.setStyle",tk);v("nrg.style.constrainHorizontally",wk);v("nrg.style.IS_HOVERED",uk);v("nrg.style.setHoverClass",vk);
v("nrg.style.getPositionRelativeToAncestor",function(a,b){var c=0,d=0;if(a.offsetParent){for(var e=a;e!==b;)c+=e.offsetLeft,d+=e.offsetTop,e=e.offsetParent;return{left:c,top:d}}});function xk(a){return 1-Math.pow(1-a,3)};function yk(){}v("nrg.fx",yk);function zk(a,b,c){void 0===b&&(b=500);Ak(a,b,1,c)}function Bk(a,b,c){void 0===b&&(b=500);Ak(a,0,0,function(){Ak(a,b,1,c)})}function Ck(a,b,c){void 0===b&&(b=500);Ak(a,b,0,c)}function Ak(a,b,c,d,e){e||(null!=a.style?e=a.style.opacity?parseInt(a.style.opacity,10):1:a.style.opacity=1);var h=new ck(a,e,c,b);d&&h.addEventListener("end",function(a){d(a);G(h);delete h});h.play()}
function Dk(a,b,c){D(a,function(a){a.style.opacity=0});b=u(b)?b:500;c=u(c)?c:250;var d=new Yf(0);d.addEventListener(Zf,function(){elt=a[0];zk(elt,b);1==a.length?(d.stop(),d.g()):(a=Qb(a,1),d.setInterval(c))});d.start()}yk.animGenStyles="left top width height opacity background-color color z-index".split(" ");function Ek(a,b,c,d){if(("left"in b||"left"in c||"top"in b||"top"in c)&&!(isNaN(b.top)||isNaN(c.top)||isNaN(b.left)||isNaN(c.left)))return new Yj(a,[b.left,b.top],[c.left,c.top],d,xk)}
function Fk(a,b,c,d){if(("height"in b||"height"in c||"width"in b||"width"in c)&&!(isNaN(b.height)||isNaN(c.height)||isNaN(b.width)||isNaN(c.width)))return new Zj(a,[b.width,b.height],[c.width,c.height],d,xk)}function Gk(a,b,c,d){if("opacity"in b||"opacity"in c)if(D([b,c],function(a){"opacity"in a||(a.opacity=1);u(a.opacity)||(a.opacity=parseInt(a.opacity,10))}),b.opacity!==c.opacity)return new ck(a,b.opacity,c.opacity,d)}
function Hk(a,b,c,d){if("visibility"in b||"visibility"in c)if(D([b,c],function(a){"visibility"in a||(a.visibility="visible")}),b.visibility!==c.visibility)return"hidden"===b.visibility?new gk(a,d):new fk(a,d)}
function Ik(a,b,c,d){if("background-color"in b||"background-color"in c){D([b,c],function(a){"background-color"in a||(a["background-color"]="rgb(255,255,255)")});try{var e=Nj(b["background-color"]),h=Nj(c["background-color"]);if(e.qj!==h.qj)return new hk(a,Tj(e.qj),Tj(h.qj),d,xk)}catch(k){window.console.log("Skipping color transition anim: ",k.message)}}}function Jk(a,b){this.$F=a;this.EM=b}function Kk(a){return ok(nk(a))}
function Lk(a){var b=S(a),c=Hi(a);return{left:c.x,top:c.y,width:b.width,height:b.height,opacity:parseInt(a.style.opacity,10),"background-color":a.style.backgroundColor,background:a.style.background,color:a.style.color,"z-index":parseInt(a.style.zIndex,10)}}function Mk(a,b){var c=Lk(a),c=Kk(c),d=Lk(b),e=Kk(d);C(c,function(a,b){null!=e[b]||(e[b]=a)});return new Jk(c,e)}
function Nk(a,b,c,d){var e=[];D(yk.animGenStyles,function(h){if(null!=b&&null!=c)switch(h){case "left":e.push(Ek(a,b,c,d));break;case "height":e.push(Fk(a,b,c,d));break;case "opacity":e.push(Gk(a,b,c,d));break;case "visibility":e.push(Hk(a,b,c,d));break;case "background-color":e.push(Ik(a,b,c,d))}});var h=[];D(e,function(a){null!=a&&h.push(a)});delete e;return h}
function Ok(a,b,c,d){var e=new jk;D(a,function(a){c&&F(a,"animate",c);e.add(a)});b&&F(e,"begin",b);F(e,"end",function(){d&&d();e.g();e=null;delete e});e.play()}function Pk(a,b,c){function d(){tk(a,{opacity:c})}b=void 0===b?1:b;c=void 0===c?.5:c;F(a,"mouseover",function(){tk(a,{opacity:b})});F(a,"mouseout",d);d()}
function Qk(a,b,c,d,e,h,k){if(!g(b)){var l=[];D(a,function(){l.push(b)});b=l}g(c)||(l=[],D(a,function(){l.push(c)}),c=l);d=u(d)?d:500;var n=[];D(a,function(a,e){n.push(Gk(a,{opacity:b[e]},{opacity:c[e]},d))});Ok(n,e,h,k)}v("nrg.fx.fadeIn",zk);v("nrg.fx.fadeInFromZero",Bk);v("nrg.fx.fadeOut",Ck);v("nrg.fx.fadeOutAndRemove",function(a,b,c){void 0===b&&(b=500);Ak(a,b,0,function(){a.parentNode.removeChild(a);c&&c()})});v("nrg.fx.fadeTo",Ak);v("nrg.fx.animGenStyles",yk.animGenStyles);
v("nrg.fx.generateAnim_Slide",Ek);v("nrg.fx.generateAnim_Resize",Fk);v("nrg.fx.generateAnim_Fade",Gk);v("nrg.fx.generateAnim_RemoveAddFade",Hk);v("nrg.fx.generateAnim_BgColorTrans",Ik);v("nrg.fx.TransitionDims",Jk);v("nrg.fx.filterTransitionStyles",Kk);v("nrg.fx.getTransitionStyles",Lk);v("nrg.fx.generateTransitionDims",Mk);v("nrg.fx.getAnimationDims",function(a){var b=S(a),c=Hi(a);return{"background-color":Di(a,"backgroundColor"),width:b.width,left:c.x,top:c.y,height:b.height}});
v("nrg.fx.generateAnimations",Nk);v("nrg.fx.parallelAnimate",Ok);v("nrg.fx.serialAnimate",function(a,b,c,d){var e=new kk;D(a,function(a){c&&F(a,"animate",c);e.add(a)});b&&F(e,"begin",b);F(e,"end",function(){d&&d();e.g();e=null;delete e});e.play()});v("nrg.fx.setBasicHoverStates",Pk);v("nrg.fx.sequentialFadeIn",Dk);v("nrg.fx.parallelFade",Qk);function Rk(a){return a.slice(a.lastIndexOf("/")+1)}function Sk(a){for(var b=arguments[0],c=1;c<arguments.length;c++)var d=arguments[c],b=0==d.lastIndexOf("/",0)?d:""==b||Ea(b,"/")?b+d:b+("/"+d);return b};function Tk(){}v("nrg.dom",Tk);function Uk(a,b,c){if(!g(a))throw new TypeError("Array expected!",a);if(b&&!r(b))throw new TypeError("String expected!",b);if(c&&!r(c))throw new TypeError("String expected!",c);var d={};c=c?c:"png";var e="",h=0,h=0;for(len=a.length;h<len;h++)e=a[h],d[e]=Vk(e,{src:b?Sk(b,cb(e)+"."+c):""});return d}function Wk(a,b){var c=O("img",{src:b});c.style.KP="contain";c.style.maxWidth="100%";c.style.maxHeight="100%";Q(a,c);c.onclick=c.parentNode.onclick}
function Vk(a,b,c,d){if(!r(a))throw new TypeError("String expected!");if(b&&!ma(b))throw new TypeError("Object expected!");if(null!=c&&!u(c))throw new TypeError("Number expected!");if(null!=d&&!u(d))throw new TypeError("Number expected!");a=Xk("div",a,b?b:{});b&&b.src&&Wk(a,b.src);Pk(a,void 0===c?1:c,void 0===d?.5:d);return a}
function Xk(a,b,c){if(!r(a))throw new TypeError("String expected!",a);if(!r(b))throw new TypeError("String expected!",b);if(c&&!ma(c))throw new TypeError("Object expected!");c=c&&ma(c)?c:{};c.id=c.id?c.id:b+"_"+B();c["class"]=c["class"]?c["class"]:cb(b.replace(/\./g,"-").toLowerCase());return O(a,c)}v("nrg.dom.createBasicHoverButtonSet",Uk);v("nrg.dom.createDivChildImage",Wk);v("nrg.dom.createBasicHoverButton",Vk);v("nrg.dom.createUniqueDom",Xk);
v("nrg.dom.stopPropagation",function(a){a||(a=window.event);a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()});v("nrg.dom.checkForExtraneousArgs",function(a,b){for(var c in b)if(c in a)"[object Object]"===b[c].toString()&&Tk.NQ(originString,a[c],b[c]);else throw"Invalid arguments detected in args: '"+c+"' ";});
v("nrg.dom.readCSS",function(a){for(var b=document.styleSheets[0].rules||document.styleSheets[0].cssRules,c=0,c=0;c<b.length;c++)b[c].selectorText==a&&(b[c].cssText?alert(b[c].cssText):alert(b[c].style.cssText));return b});function U(a){lj.call(this,a);this.cx();this.q=Xk("div",this.constructor.ID_PREFIX,a);this.qq();Yk(this);serverRoot+=""}w(U,lj);v("nrg.ui.Component",U);f=U.prototype;
f.cx=function(){if(this instanceof U){this.constructor.d&&this.constructor.d instanceof U&&U.prototype.cx.bind(this.constructor.d)();if(!this.constructor.ID_PREFIX)throw Error("nrg.ui.Component subclass should have the property 'ID_PREFIX' .",this);da(this.constructor.Dp)||(this.constructor.Dp=Zk(this.constructor.ID_PREFIX),this.constructor.ad=this.constructor.Dp)}};function Zk(a){return a.toLowerCase().replace(/\./g,"-")}
f.qq=function(){if(null!=this.constructor.d)for(var a=this.constructor.d;null!=a.constructor.ID_PREFIX;)U.prototype.qq.bind(a)(),a=a.constructor.d;da(this.constructor.CSS_SUFFIX)&&!da(this.constructor.CSS)&&(this.constructor.CSS=wb(this.constructor.CSS_SUFFIX),C(this.constructor.CSS,function(a,c){this.constructor.CSS[c]=zj(this.constructor.ID_PREFIX,a)}.bind(this)))};
function Yk(a){for(var b=[],c=a,d;null!=c.constructor.ID_PREFIX;)d=Zk(c.constructor.ID_PREFIX),Lb(b,d),c=c.constructor.d;D(b,function(a){null!=this.a()&&M(this.a(),a)}.bind(a))}f.ci="";f.vC=function(a){this.ci=a};f.BH=function(){return this.ci};f.RF=function(a){null==this.mp&&(this.mp=[]);this.mp.push(a)};
f.Qh=function(){if(null==this.qa)this.qa=S(this.a());else if(this.qa.height!==this.A.height||this.qa.width!==this.A.width)this.qa=this.A;if(null==this.Jo)this.Jo=Hi(this.a());else if(this.Jo.x!==this.sq.x||this.Jo.y!==this.sq.y)this.Jo=this.sq;this.A=S(this.a());this.sq=Hi(this.a())};f.o=function(){this.Qh()};f.k=function(a){this.ma&&this.a().parentNode!==a&&null!=a?a.appendChild(this.a()):U.d.k.call(this,a)};f.Az=!1;f.xG=function(){return this.Az};
f.f=function(){U.d.f.call(this);null!=this.mp&&(D(this.mp,function(a){G(a);a.g()}),Kb(this.mp));G(this);G(this.a());R(this.a());this.ci=null;null!=this.al&&delete this.al;this.Jo=this.qa=this.sq=this.A=null;this.Az=!0};f.hu=function(a){null!=a&&(a=g(a)?a:[a],D(a,function(a){G(a);a.g()}),Kb(a))};f.xq=function(a){null!=a&&(G(a),a.g())};f.yq=function(a){C(a,function(b,c){G(b);R(b);delete a[c]});tb(a)};f.Jn=function(a){C(a,function(b,c){G(b);b.g();delete a[c]});tb(a)};
v("nrg.ui.Component.animationLengths",{qN:150,UN:300,JO:600});v("nrg.ui.Component.idPrefixToCssClass",Zk);v("nrg.ui.Component.prototype.validateIdPrefix",U.prototype.cx);v("nrg.ui.Component.prototype.imagePrefix",U.prototype.ci);v("nrg.ui.Component.prototype.createCssMap",U.prototype.qq);v("nrg.ui.Component.prototype.setImagePrefix",U.prototype.vC);v("nrg.ui.Component.prototype.getImagePrefix",U.prototype.BH);v("nrg.ui.Component.prototype.addSubComponent",U.prototype.RF);
v("nrg.ui.Component.prototype.calcDims",U.prototype.Qh);v("nrg.ui.Component.prototype.updateStyle",U.prototype.o);v("nrg.ui.Component.prototype.render",U.prototype.k);v("nrg.ui.Component.prototype.disposeInternalCalled",U.prototype.xG);v("nrg.ui.Component.prototype.disposeAnimations",U.prototype.hu);v("nrg.ui.Component.prototype.disposeAnimationQueue",U.prototype.xq);v("nrg.ui.Component.prototype.disposeElementMap",U.prototype.yq);v("nrg.ui.Component.prototype.disposeComponentMap",U.prototype.Jn);
v("nrg.ui.Component.prototype.disposeInternal",U.prototype.f);var $k;function al(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function bl(a,b,c){ia(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?($k||($k={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=$k,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function cl(a,b){var c=a.getAttribute("aria-"+b);return null==c||void 0==c?"":String(c)};function dl(a){if(a.classList)return a.classList;a=a.className;return r(a)&&a.match(/\S+/g)||[]}function el(a,b){return a.classList?a.classList.contains(b):Jb(dl(a),b)}function fl(a,b){a.classList?a.classList.add(b):el(a,b)||(a.className+=0<a.className.length?" "+b:b)}function gl(a,b){if(a.classList)D(b,function(b){fl(a,b)});else{var c={};D(dl(a),function(a){c[a]=!0});D(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function hl(a,b){a.classList?a.classList.remove(b):el(a,b)&&(a.className=Db(dl(a),function(a){return a!=b}).join(" "))}function il(a,b){a.classList?D(b,function(b){hl(a,b)}):a.className=Db(dl(a),function(a){return!Jb(b,a)}).join(" ")}function jl(a,b,c){c?fl(a,b):hl(a,b)};function kl(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!ic;default:return 166>a.keyCode||183<a.keyCode}}
function ll(a,b,c,d,e){if(!(E||jc&&qc("525")))return!0;if(dc&&e)return ml(a);if(e&&!d)return!1;u(b)&&(b=nl(b));if(!c&&(17==b||18==b||dc&&91==b))return!1;if(jc&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(E&&d&&b==a)return!1;switch(a){case 13:return!(E&&rc(9));case 27:return!jc}return ml(a)}
function ml(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||jc&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function nl(a){if(ic)a=ol(a);else if(dc&&jc)a:switch(a){case 93:a=91;break a}return a}
function ol(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function pl(a,b,c,d,e){function h(a){a&&(a.tabIndex=0,al(a,k.ah()),fl(a,"goog-zippy-header"),ql(k,a),a&&k.cB.D(a,"keydown",k.Hr))}ad.call(this);this.sb=e||Mh();this.uk=this.sb.a(a)||null;this.Cq=this.sb.a(d||null);this.sc=(this.gv=la(b)?b:null)||!b?null:this.sb.a(b);this.ig=!0==c;this.cB=new hj(this);this.uv=new hj(this);var k=this;h(this.uk);h(this.Cq);this.ic(this.ig)}w(pl,ad);var rl={fx:"action",Ix:"toggle"};f=pl.prototype;f.Hk=!0;f.f=function(){pl.d.f.call(this);Bc(this.cB);Bc(this.uv)};
f.ah=function(){return"tab"};f.Ha=function(){return this.sc};f.toggle=function(){this.ic(!this.ig)};f.ic=function(a){this.sc?Yi(this.sc,a):a&&this.gv&&(this.sc=this.gv());this.sc&&fl(this.sc,"goog-zippy-content");this.Cq?(Yi(this.uk,!a),Yi(this.Cq,a)):sl(this,a);this.ig=a;this.dispatchEvent(new tl(rl.Ix,this))};function sl(a,b){a.uk&&(jl(a.uk,"goog-zippy-expanded",b),jl(a.uk,"goog-zippy-collapsed",!b),bl(a.uk,"expanded",b))}
f.Yo=function(a){this.Hk!=a&&((this.Hk=a)?(ql(this,this.uk),ql(this,this.Cq)):this.uv.zg())};function ql(a,b){b&&a.uv.D(b,"click",a.Gr)}f.Hr=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new Ec(rl.fx,this)),a.preventDefault(),a.stopPropagation()};f.Gr=function(){this.toggle();this.dispatchEvent(new Ec(rl.fx,this))};function tl(a,b){Ec.call(this,a,b)}w(tl,Ec);function ul(a,b,c,d){d=d||Mh();var e=d.B("div",{style:"overflow:hidden"});b=d.a(b);b.parentNode.replaceChild(e,b);e.appendChild(b);this.Dq=e;this.sf=null;pl.call(this,a,b,c,void 0,d);a=this.ig;this.Dq.style.display=a?"":"none";sl(this,a)}w(ul,pl);f=ul.prototype;f.Qi=500;f.XF=xk;
f.ic=function(a){if(this.ig!=a||this.sf){"none"==this.Dq.style.display&&(this.Dq.style.display="");var b=this.Ha().offsetHeight,c=0;this.sf?(a=this.ig,G(this.sf),this.sf.stop(!1),c=parseInt(this.Ha().style.marginTop,10),c=b-Math.abs(c)):c=a?0:b;sl(this,a);this.sf=new Jj([0,c],[0,a?b:0],this.Qi,this.XF);F(this.sf,["begin","animate","end"],this.jK,!1,this);F(this.sf,"end",ua(this.kK,this,a));this.sf.play(!1)}};f.jK=function(a){var b=this.Ha();b.style.marginTop=a.y-b.offsetHeight+"px"};
f.kK=function(a){a&&(this.Ha().style.marginTop="0");G(this.sf);this.ig=a;this.sf=null;a||(this.Dq.style.display="none");this.dispatchEvent(new tl(rl.Ix,this))};function vl(a,b,c,d){U.call(this);this.Ob=a;this.lb=O("div",{id:"ZippyHeader_"+a+"_"+B(),"class":vl.CSS.Qm});this.lb[wl]=a.toLowerCase();null!=d?d(b,this.lb):b.appendChild(this.lb);this.Zn=O("div",{id:"ZippyHeaderLabel_"+a+"_"+B(),"class":vl.CSS.dE});this.wD();this.lb.appendChild(this.Zn);this.$g=O("div",{id:"ZippyExpandIcon_"+a+"_"+B(),"class":vl.CSS.aE},"+");this.lb.appendChild(this.$g);this.uf=O("div",{id:"ZippyContent_"+a+"_"+B(),"class":vl.CSS.yh});b.appendChild(this.uf);this.ec=new this.GD(this.lb,
this.uf,null!=c?c:!1);this.ec instanceof ul&&(this.ec.Qi=500);this.sM=na(this);this.Oc={};F(this.lb,"mouseover",this.wL.bind(this));F(this.lb,"mouseout",this.vL.bind(this));xl(this)}w(vl,U);v("nrg.ui.ZippyNode",vl);vl.ID_PREFIX="nrg.ui.ZippyNode";var yl={nN:"a",bN:"b",RD:"c"};vl.CSS_SUFFIX={Qm:"header",sx:"header-mouseover",dE:"header-label",aE:"expandicon",kx:"expandicon-mouseover",yh:"content",yh:"content-sub",sE:"loading-holder",uE:"loading-text",tE:"loading-image"};
function zl(a,b,c){var d=a[0];r(d)&&null!=b&&(d=b.Oc[d]);d.ec.Qi=200;1<a.length&&!d.ec.ig&&Uc(d,"a",function(){d.ec.Qi=500;zl(Qb(a,1),d,c)});d.ic(!0);null!=c&&c(d,a)}var wl=B();f=vl.prototype;f.GD=ul;f.wD=function(a){a=null!=a?a:45;var b=this.Zn,c=this.Ob.replace(/<(?:.|\n)*?>/gm,"").replace("&nbsp"," ");b.innerHTML=c.length<this.Ob?Xa(this.Ob,a+60):c.length==this.Ob.length?Xa(this.Ob,a):this.Ob;return b};f.xe=null;f.Nu=function(){return null!=this.xe};f.tr=!1;f.IJ=function(){return this.tr};
f.kw=function(a,b){var c=function(){R(this.xe);this.xe=null}.bind(this);a?(this.tr=!0,Ak(this.xe,500,0,function(){c();null!=b&&b()},1)):c()};f.ry=function(){if(null==this.xe){this.xe=O("div",{id:"LoadingHolder_"+B()});M(this.xe,vl.CSS.sE);var a=O("div");M(a,vl.CSS.uE);a.innerHTML="Loading...";var b=O("img");M(b,vl.CSS.tE);b.src=serverRoot+"/images/viewer/xiv/ui/other/loading.gif";Q(this.xe,a);Q(this.xe,b);Q(this.uf,this.xe);this.xe.style.opacity=0;zk(this.xe,300);this.tr=!1}};f.Hc=function(){return this.Ob};
f.VH=function(){return this.Oc};f.ZC=function(a){this.$g.style.visibility=!0==a?"visible":"hidden"};f.vH=function(){return this.lb};f.cH=function(){return this.uf};f.wH=function(){return this.Zn};f.LI=function(){return this.ec};f.ic=function(a){this.ec.ic(a)};f.YL=function(a){this.GD=!0===a?ul:pl};
function xl(a){F(a.ec,ob(rl),function(a){null!=this.ec.sf?this.dispatchEvent({type:"c"}):a.target.ig?this.Zv():(this.$g.innerHTML="+",tk(this.$g,{"margin-left":"-1.1em"}),this.dispatchEvent({type:"b"}))}.bind(a))}f.Zv=function(){this.$g.innerHTML="-";tk(this.$g,{"margin-left":"-1em"});this.dispatchEvent({type:"a"})};f.wL=function(){M(this.lb,vl.CSS.sx);M(this.$g,vl.CSS.kx)};f.vL=function(){Eh(this.lb,vl.CSS.sx);Eh(this.$g,vl.CSS.kx)};
f.f=function(){vl.d.f.call(this);R(this.Zn);delete this.Zn;R(this.$g);delete this.$g;G(this.lb);R(this.lb);delete this.lb;R(this.uf);delete this.uf;null!=this.ec&&(this.ec.g(),G(this.ec),delete this.ec);null!=this.xe&&(this.kw(),delete this.xe);this.Jn(this.Oc);delete this.Oc;delete this.sM;delete this.Ob};v("nrg.ui.ZippyNode.ID_PREFIX",vl.ID_PREFIX);v("nrg.ui.ZippyNode.EventType",yl);v("nrg.ui.ZippyNode.CSS_SUFFIX",vl.CSS_SUFFIX);v("nrg.ui.ZippyNode.NODE_STORT_TAG",wl);
v("nrg.ui.ZippyNode.serialExpand",zl);v("nrg.ui.ZippyNode.prototype.truncateHeaderLabel",vl.prototype.wD);v("nrg.ui.ZippyNode.prototype.getTitle",vl.prototype.Hc);v("nrg.ui.ZippyNode.prototype.addLoadingImage",vl.prototype.JP);v("nrg.ui.ZippyNode.prototype.getNodes",vl.prototype.VH);v("nrg.ui.ZippyNode.prototype.getHeader",vl.prototype.vH);v("nrg.ui.ZippyNode.prototype.getContentHolder",vl.prototype.cH);v("nrg.ui.ZippyNode.prototype.getHeaderLabel",vl.prototype.wH);
v("nrg.ui.ZippyNode.prototype.showExpandIcon",vl.prototype.ZC);v("nrg.ui.ZippyNode.prototype.getZippy",vl.prototype.LI);v("nrg.ui.ZippyNode.prototype.setExpanded",vl.prototype.ic);v("nrg.ui.ZippyNode.prototype.setAnimated",vl.prototype.YL);v("nrg.ui.ZippyNode.prototype.hasLoadingIndicator",vl.prototype.Nu);v("nrg.ui.ZippyNode.prototype.addLoadingIndicator",vl.prototype.ry);v("nrg.ui.ZippyNode.prototype.removeLoadingIndicator",vl.prototype.kw);
v("nrg.ui.ZippyNode.prototype.loadingIndicatorRemoving",vl.prototype.IJ);v("nrg.ui.ZippyNode.prototype.disposeInternal",vl.prototype.f);L.$c={};L.$c.bd=function(){xc.call(this)};w(L.$c.bd,xc);v("gxnat.vis.VisNode",L.$c.bd);f=L.$c.bd.prototype;f.tf="Generic";f.js=function(a){this.tf=a};f.XG=function(){return this.tf};f.hl="";f.dl=function(a){this.hl=a};f.xI=function(){return this.hl};f.Ob=null;f.Lc=function(a){this.Ob=a};f.Hc=function(){return this.Ob};f.ip=null;f.LC=function(a){this.ip=a};f.oI=function(){return this.ip};
f.g=function(){L.$c.bd.d.g.call(this);this.tf&&delete this.tf;this.hl&&delete this.hl;this.Ob&&delete this.Ob;this.ip&&delete this.ip};v("gxnat.vis.VisNode.prototype.setCategory",L.$c.bd.prototype.js);v("gxnat.vis.VisNode.prototype.getCategory",L.$c.bd.prototype.XG);v("gxnat.vis.VisNode.prototype.setThumbnailUrl",L.$c.bd.prototype.dl);v("gxnat.vis.VisNode.prototype.getThumbnailUrl",L.$c.bd.prototype.xI);v("gxnat.vis.VisNode.prototype.setTitle",L.$c.bd.prototype.Lc);
v("gxnat.vis.VisNode.prototype.getTitle",L.$c.bd.prototype.Hc);v("gxnat.vis.VisNode.prototype.setSourceInfo",L.$c.bd.prototype.LC);v("gxnat.vis.VisNode.prototype.getSourceInfo",L.$c.bd.prototype.oI);v("gxnat.vis.VisNode.prototype.dispose",L.$c.bd.prototype.g);function Al(a){this.Jp=new JSZip(a)}w(Al,xc);v("gxnat.Zip",Al);function Bl(a,b,c,d){if(!Fa(a,".zip")){if(!Fa(a,"/files"))throw Error("filesUrl must end in '/files'!");a+=L.Lx}var e=new XMLHttpRequest;e.open("GET",a);e.responseType="arraybuffer";e.addEventListener("load",function(){b(new Al(e.response))});null!=c&&e.addEventListener("progress",c);null!=d&&e.addEventListener("error",function(a){window.console.log("DOWNLOAD ERROR: ",a);d(e,a)});e.send()}Al.prototype.Gc=function(){return this.Jp.files};
Al.prototype.nv=function(a,b){var c=0,d=this.Gc(),e=nb(d);C(d,function(d){d.asArrayBuffer();a(d.name,d.asArrayBuffer());c==e-1&&null!=b&&b();c++}.bind(this))};Al.prototype.g=function(){Al.d.g.call(this);this.nv(function(a){this.Jp.remove(a)}.bind(this));tb(this.Jp);delete this.Jp};v("gxnat.Zip.prototype.getFiles",Al.prototype.Gc);v("gxnat.Zip.prototype.loopFiles",Al.prototype.nv);v("gxnat.Zip.getFilesAsZip",Bl);v("gxnat.Zip.prototype.dispose",Al.prototype.g);v("gxnat.slicerNode",function(){});
function Cl(a){a=a.getAttribute("displayNodeRef").split(" ");for(var b=[],c="",d=0,e=a.length;d<e;d++){c=a[d].replace("vtkMRML","").split("Node")[0];switch(c){case "ScalarVolumeDisplay":c="VolumeDisplay";break;case "DiffusionTensorVolumeDisplay":c="DiffusionTensorVolumeDisplay";break;case "NCIRayCastVolumeRenderingDisplay":c="NCIRayCastVolumeRendering";break;case "GPURayCastVolumeRenderingDisplay":c="GPURayCastVolumeRendering";break;case "FiberBundleTubeDisplay":c="FiberBundleTubeDisplayNode";break;
case "FiberBundleLineDisplay":c="FiberBundleLineDisplayNode";break;case "FiberBundleGlyphDisplay":c="FiberBundleGlyphDisplayNode"}b.push(c)}return b}function Dl(a){if(null!=a)return a.split(" ").map(function(a){return parseFloat(a)})}v("gxnat.slicerNode.getDisplayNodeTypes",Cl);v("gxnat.slicerNode.toFloatArray",Dl);function El(){na(this)}v("gxnat.slicerNode.Node",El);function Fl(a,b){na(this);var c=b.getAttribute("displayNodeRef").split(" "),d=[],e=null;D(Cl(b),function(b){D(a.getElementsByTagName(b),function(a){d.push(a)})});for(var h=0,k=d.length;h<k;h++)if(-1<c.indexOf(d[h].getAttribute("id"))){e=d[h];break}this.In=e;this.opacity=parseFloat(e.getAttribute("opacity"),10);this.color=Dl(e.getAttribute("color"));this.visible="true"===e.getAttribute("visibility");this.origin=Dl(a.getAttribute("origin"));e.getAttribute("colorMode");a.getAttribute("ijkToRASDirections")}
w(Fl,El);v("gxnat.slicerNode.Display",Fl);function Gl(a,b){Fl.call(this,a,b)}w(Gl,Fl);v("gxnat.slicerNode.Mesh",Gl);function Hl(a,b){if(a instanceof Hl)this.wd=a.Rw();else{var c;if(c=ia(a))a:{for(var d=c=0;d<a.length;d++){if(!ia(a[d])||0<c&&a[d].length!=c){c=!1;break a}for(var e=0;e<a[d].length;e++)if(!u(a[d][e])){c=!1;break a}0==c&&(c=a[d].length)}c=0!=c}if(c)this.wd=Ob(a);else if(a instanceof wh)this.wd=Il(a.height,a.width);else if(u(a)&&u(b)&&0<a&&0<b)this.wd=Il(a,b);else throw Error("Invalid argument(s) for Matrix contructor");}this.Gd=new wh(this.wd[0].length,this.wd.length)}
function Jl(a,b,c){for(var d=0;d<a.oj().height;d++)for(var e=0;e<a.oj().width;e++)b.call(c,a.wd[d][e],d,e,a)}function Kl(a,b){var c=new Hl(a.oj());Jl(a,function(d,e,h){c.wd[e][h]=b.call(void 0,d,e,h,a)});return c}function Il(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}f=Hl.prototype;f.add=function(a){if(!xh(this.Gd,a.oj()))throw Error("Matrix summation is only supported on arrays of equal size");return Kl(this,function(b,c,d){return b+a.wd[c][d]})};
f.Zl=function(a,b){if(this.Gd.width!=a.Gd.width||this.Gd.height!=a.Gd.height)return!1;for(var c=b||0,d=0;d<this.Gd.height;d++)for(var e=0;e<this.Gd.width;e++)if(!(Math.abs(this.wd[d][e]-a.wd[d][e])<=(c||1E-6)))return!1;return!0};f.oj=function(){return this.Gd};
f.multiply=function(a){if(a instanceof Hl){if(this.Gd.width!=a.oj().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return Ll(this,a)}if(u(a))return Ml(this,a);throw Error("A matrix can only be multiplied by a number or another matrix.");};f.Mc=function(a){if(!xh(this.Gd,a.oj()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return Kl(this,function(b,c,d){return b-a.wd[c][d]})};
f.Rw=function(){return this.wd};f.toString=function(){var a=0;Jl(this,function(b){b=String(b).length;b>a&&(a=b)});var b=[];D(this.wd,function(c){b.push("[ ");D(c,function(c){c=String(c);b.push(Array(a-c.length+1).join(" ")+c+" ")});b.push("]\n")});return b.join("")};function Nl(a,b,c){return 0<=b&&b<a.Gd.height&&0<=c&&c<a.Gd.width}
function Ll(a,b){var c=new Hl(a.Gd.height,b.oj().width);Jl(c,function(a,e,h){for(var k=a=0;k<this.Gd.width;k++)a+=(Nl(this,e,k)?this.wd[e][k]:0)*(Nl(b,k,h)?b.wd[k][h]:0);if(!Nl(c,e,h))throw Error("Index out of bounds when setting matrix value, ("+e+","+h+") in size ("+c.Gd.height+","+c.Gd.width+")");c.wd[e][h]=a},a);return c}function Ml(a,b){return Kl(a,function(a){return a*b})};function Ol(a,b,c){Fl.call(this,a,b);for(var d=0,e,h,k,l;3>d;d++)switch(e=a.getElementsByTagName("Slice")[d].getAttribute("sliceToRAS").split(" ").map(parseFloat),sliceToRASMatrix=Kl(new Hl(4,4),function(a,b,c){return e[4*b+c]}),d){case 0:h=sliceToRASMatrix;break;case 1:k=sliceToRASMatrix;break;case 2:l=sliceToRASMatrix}this.Cw=new Pl(k,l,h);b=c!==b.getAttribute("id")?!1:!0;c=!1;if(b)for(a=a.getElementsByTagName("Slice"),d=0,h=a.length;d<h&&!(c="true"===a[d].getAttribute("sliceVisibility")||!1);d++);
this.lr=b;this.Cs=this.In?parseInt(this.In.getAttribute("upperThreshold")):null;this.vr=this.In?parseInt(this.In.getAttribute("lowerThreshold")):null;this.visible=c}w(Ol,Fl);v("gxnat.slicerNode.Volume",Ol);function Pl(a,b,c){var d=new Hl([[0],[0],[0],[1]]);D([a,b,c],function(a,b){var c=a.multiply(d).Rw(),c=[c[0][0],c[1][0],c[2][0]];switch(b){case 0:this.RL=c;break;case 1:this.mG=c;break;case 2:this.cG=c}}.bind(this))}v("gxnat.slicerNode.Volume.sliceToRAS",Pl);function Ql(a,b){na(this);this.backgroundColor=Aj(a);this.Ry=Aj(b)}w(Ql,El);v("gxnat.slicerNode.BackgroundColor",Ql);function Rl(a,b,c,d,e,h,k,l){na(this);this.element=a;this.kq=b;this.backgroundColor=c;this.gB=d;this.un=e;this.OM=h;this.TJ=k;this.LG=l}w(Rl,El);v("gxnat.slicerNode.SceneView",Rl);function Sl(a){xc.call(this);a instanceof Rl?(this.un=a.un,this.kq=a.kq,this.backgroundColor=a.backgroundColor,this.gB=a.gB):a instanceof Ol?(this.origin=a.origin||[0,0,0],this.Cs=a.Cs||1E4,this.vr=a.vr||-1E4,this.dx=a.dx||!1,this.lr=a.lr||!1,this.Cw=a.Cw||null,a.ih&&(this.dB=a.labelMapFile,this.DJ=a.colorTableFile)):a instanceof Gl&&(this.color=a.color||[.5,.5,.5],this.opacity=a.opacity||1)}w(Sl,xc);v("gxnat.vis.RenderProperties",Sl);Sl.prototype.g=function(){Sl.d.g.call(this);tb(this)};
v("gxnat.vis.RenderProperties.prototype.dispose",Sl.prototype.g);function Tl(a){L.$c.bd.call(this);this.ge=a||null}w(Tl,L.$c.bd);v("gxnat.vis.Renderable",Tl);Tl.prototype.ww=function(a){this.ge=a instanceof Sl?a:new Sl(a)};Tl.prototype.hI=function(){return this.ge};Tl.prototype.g=function(){Tl.d.g.call(this);this.ge&&(this.ge.g(),delete this.ge)};v("gxnat.vis.Renderable.prototype.setRenderProperties",Tl.prototype.ww);v("gxnat.vis.Renderable.prototype.getRenderProperties",Tl.prototype.hI);v("gxnat.vis.Renderable.prototype.dispose",Tl.prototype.g);function Ul(a,b){Tl.call(this,b);this.lj=a||[];null!=b&&this.ww(b)}w(Ul,Tl);v("gxnat.vis.Viewable",Ul);f=Ul.prototype;f.Xh=null;f.nH=function(){return this.Xh};f.$L=function(a){return this.Xh=a};
f.qC=function(a,b,c){null!=this.Xh&&tb(this.Xh);this.Xh={};var d=this.Gc();D(d,function(a){this.Xh[a]=null}.bind(this));var e,h,k;a.nv(function(a,b){p=0;for(m=d.length;p<m;p++)if(k=a.split("/"),h=k[k.length-1],"."!=h[0]&&(e=d[p],Fa(e,h)))if(null!=c)for(var p=0,m=c.length;p<m;p++)Fa(e,c[p])&&(this.Xh[e]=b,p=m);else{this.Xh[e]=b;break}}.bind(this),b);a.g()};f.Gc=function(){return this.lj};f.IL=function(a){window.SP.log("REMOVING FILE",a);Mb(this.lj,a)};
f.Pi=function(a,b){null==this.lj&&(this.lj=[]);g(a)||(a=[a]);D(a,function(a){null!=b&&null==b(a)||this.lj.push(a)}.bind(this))};f.g=function(){Ul.d.g.call(this);this.lj&&(Kb(this.lj),delete this.lj)};v("gxnat.vis.Viewable.prototype.getFileData",Ul.prototype.nH);v("gxnat.vis.Viewable.prototype.setFileData",Ul.prototype.$L);v("gxnat.vis.Viewable.prototype.setFileDataFromZip",Ul.prototype.qC);v("gxnat.vis.Viewable.prototype.getFiles",Ul.prototype.Gc);v("gxnat.vis.Viewable.prototype.removeFile",Ul.prototype.IL);
v("gxnat.vis.Viewable.prototype.addFiles",Ul.prototype.Pi);v("gxnat.vis.Viewable.prototype.dispose",Ul.prototype.g);function Vl(a){Tl.call(this);null!=a?g(a)||(a=[a]):a=[];this.xb=a}w(Vl,Tl);v("gxnat.vis.ViewableGroup",Vl);Vl.prototype.By=function(a){return this.xb.push(a)};Vl.prototype.SG=function(){var a=[];D(this.xb,function(b){a=Nb(a,b.Gc())});return a};Vl.prototype.AA=function(){return this.xb};Vl.prototype.g=function(){Vl.d.g.call(this);D(this.xb,function(a){g(a)?D(a,function(a){a.g()}):a instanceof Ul&&a.g()});delete this.xb};v("gxnat.vis.ViewableGroup.prototype.addViewable",Vl.prototype.By);
v("gxnat.vis.ViewableGroup.prototype.getAllViewableFiles",Vl.prototype.SG);v("gxnat.vis.ViewableGroup.prototype.getViewables",Vl.prototype.AA);v("gxnat.vis.ViewableGroup.prototype.dispose",Vl.prototype.g);function Wl(){L.$c.bd.call(this);this.Qb=[]}w(Wl,L.$c.bd);v("gxnat.vis.ViewableTree",Wl);function Xl(a,b,c){this.FL=a;this.tM=b;this.JG=c}v("gxnat.vis.ViewableTree.metadataCollection",Xl);f=Wl.prototype;f.Vr=null;f.Em=null;f.bm=null;f.orientation=null;f.Xb=function(){return this.orientation};f.ap=function(a){this.Vr=a};f.cp=function(a){this.Em=a};f.Xo=function(a){this.bm=a};f.II=function(){return this.Qb};
f.g=function(){Wl.d.g.call(this);null!=this.Vr&&(tb(this.Vr),delete this.zQ);null!=this.Em&&(tb(this.Em),delete this.KQ);null!=this.bm&&(tb(this.bm),delete this.$P);null!=this.Qb&&(D(this.Qb,function(a){a.g()}),delete this.Qb);null!=this.oD&&Kb(this.oD);delete this.oD;delete this.orientation};v("gxnat.vis.ViewableTree.metadataCollection",Xl);v("gxnat.vis.ViewableTree.prototype.projectMetadata",Wl.prototype.Vr);v("gxnat.vis.ViewableTree.prototype.subjectMetadata",Wl.prototype.Em);
v("gxnat.vis.ViewableTree.prototype.experimentMetadata",Wl.prototype.bm);v("gxnat.vis.ViewableTree.prototype.orientation",Wl.prototype.orientation);v("gxnat.vis.ViewableTree.prototype.getOrientation",Wl.prototype.Xb);v("gxnat.vis.ViewableTree.prototype.setProjectMetadata",Wl.prototype.ap);v("gxnat.vis.ViewableTree.prototype.setSubjectMetadata",Wl.prototype.cp);v("gxnat.vis.ViewableTree.prototype.setExperimentMetadata",Wl.prototype.Xo);v("gxnat.vis.ViewableTree.prototype.getViewableGroups",Wl.prototype.II);
v("gxnat.vis.ViewableTree.prototype.dispose",Wl.prototype.g);function Yl(a,b,c){Wl.call(this);this.js(a);null!=c&&null!=b&&(this.Mn=c,this.ni=ah(this.Mn,b.URI,"experiments"),this.Fp=new Wg(this.ni));this.no=b;this.Ce={}}w(Yl,Wl);v("gxnat.vis.AjaxViewableTree",Yl);var Zl={ID:"Scan ID",Name:"Name",type:"Scan Type"},$l={yob:"Year of Birth",acquisition_site:"Acq. Site",date:"Date",scanner:"Scanner",label:"Subject"},am={label:"Session"};function bm(a,b,c){L.fi(a,function(a){g(a);D(a,function(a){b(a)});c&&c()})}f=Yl.prototype;f.Yh=null;f.kj=!1;
f.rC=function(a,b){null==this.Yh&&(this.Yh={});this.Yh[a]=b};f.wA=function(){var a=0;C(this.Yh,function(b,c){a+=this.Zz(c)}.bind(this));return a};f.Zz=function(a){return parseInt(this.Yh[a].Size,10)};f.oH=function(){return this.Yh};f.qH=function(){return this.kj};f.sC=function(a){this.kj=a};f.kH=function(){return this.Mn};f.gI=function(){return this.ni};f.lI=function(){return this.Ce};f.Cu=function(){var a="";C(this.Ce,function(b,c){null!=b&&0<b.length&&(a+=c+": "+b+"<br>")});return a};
f.IC=function(a){this.Ce=a};f.Cm=function(){C(Zl,function(a,b){null!=this.no[b]&&(this.Ce[a]=this.no[b])}.bind(this))};f.ap=function(a){Yl.d.ap.call(this,a)};f.cp=function(a){Yl.d.cp.call(this,a);C($l,function(a,c){null!=this.Em[c]&&(this.Ce[a]=this.Em[c])}.bind(this))};f.Xo=function(a){Yl.d.Xo.call(this,a);C(am,function(a,c){null!=this.bm[c]&&(this.Ce[a]=this.bm[c])}.bind(this))};f.rH=function(){return this.On};f.wr=function(a){a=a[this.Nn];if(!Ea(a,"/"))return this.ni+"!"+a};
f.mj=function(a){if(this.kj)a();else{var b=0,c=0,d="",e;L.fi(this.ni+this.Eq,function(h){for(c=h.length;b<c;b++)if(e=h[b],d=this.wr(e))this.rC(d,e),this.Pi(d,this.yk);a();this.kj=!0}.bind(this))}};f.yk=function(a){return-1<a.indexOf("_MACOSX")?null:a};f.Dk=function(){};function cm(a,b,c,d){var e=new Wg(a);bm(a+"/"+b.prototype.On,function(a){new b(a,e.mi("experiments"),c)},d)}
f.g=function(){Yl.d.g.call(this);null!=this.Yh&&(tb(this.Yh),delete this.Yh);delete this.kj;tb(this.Ce);delete this.Ce;null!=this.no&&(tb(this.no),delete this.no);null!=this.Fp&&(this.Fp.g(),delete this.Fp);delete this.Mn;delete this.ni};v("gxnat.vis.AjaxViewableTree.VIEWABLE_KEY_MAP",Zl);v("gxnat.vis.AjaxViewableTree.SUBJECT_KEY_MAP",$l);v("gxnat.vis.AjaxViewableTree.EXPERIMENT_KEY_MAP",am);v("gxnat.vis.AjaxViewableTree.FILE_SIZE_KEY","Size");v("gxnat.vis.AjaxViewableTree.loopFolderContents",bm);
v("gxnat.vis.AjaxViewableTree.getViewableTrees",cm);v("gxnat.vis.AjaxViewableTree.prototype.filesGotten",Yl.prototype.kj);v("gxnat.vis.AjaxViewableTree.prototype.setFileMetadata",Yl.prototype.rC);v("gxnat.vis.AjaxViewableTree.prototype.getTotalSize",Yl.prototype.wA);v("gxnat.vis.AjaxViewableTree.prototype.getFileSize",Yl.prototype.Zz);v("gxnat.vis.AjaxViewableTree.prototype.getFileMetadata",Yl.prototype.oH);v("gxnat.vis.AjaxViewableTree.prototype.getFilesGotten",Yl.prototype.qH);
v("gxnat.vis.AjaxViewableTree.prototype.setFilesGotten",Yl.prototype.sC);v("gxnat.vis.AjaxViewableTree.prototype.getExperimentUrl",Yl.prototype.kH);v("gxnat.vis.AjaxViewableTree.prototype.getQueryUrl",Yl.prototype.gI);v("gxnat.vis.AjaxViewableTree.prototype.getSessionInfo",Yl.prototype.lI);v("gxnat.vis.AjaxViewableTree.prototype.getSessionInfoAsHtml",Yl.prototype.Cu);v("gxnat.vis.AjaxViewableTree.prototype.setSessionInfo",Yl.prototype.IC);
v("gxnat.vis.AjaxViewableTree.prototype.setViewableMetadata",Yl.prototype.Cm);v("gxnat.vis.AjaxViewableTree.prototype.setProjectMetadata",Yl.prototype.ap);v("gxnat.vis.AjaxViewableTree.prototype.setSubjectMetadata",Yl.prototype.cp);v("gxnat.vis.AjaxViewableTree.prototype.setExperimentMetadata",Yl.prototype.Xo);v("gxnat.vis.AjaxViewableTree.prototype.getFolderQuerySuffix",Yl.prototype.rH);v("gxnat.vis.AjaxViewableTree.prototype.makeFileUrl",Yl.prototype.wr);
v("gxnat.vis.AjaxViewableTree.prototype.getFileList",Yl.prototype.mj);v("gxnat.vis.AjaxViewableTree.prototype.fileFilter",Yl.prototype.yk);v("gxnat.vis.AjaxViewableTree.prototype.getThumbnailImage",Yl.prototype.Dk);v("gxnat.vis.AjaxViewableTree.prototype.dispose",Yl.prototype.g);function dm(a,b,c,d){this.files=a;this.UJ=b;this.Pw=c;this.ru=d}v("xiv.sampleData.Sample",dm);function em(){xc.call(this);this.Lg=[]}w(em,xc);v("xiv.sampleData.SampleCollection",em);em.prototype.iI=function(){return this.Lg};em.prototype.g=function(){em.d.g.call(this);D(this.Lg,function(a){tb(a)});delete this.Lg};v("xiv.sampleData.SampleCollection.Samples",em.Lg);v("xiv.sampleData.SampleCollection.getSamples",em.iI);v("xiv.sampleData.SampleCollection.dispose",em.g);function fm(){em.call(this);this.Lg.push(this.mw)}w(fm,em);v("xiv.sampleData.SlicerScenes",fm);
fm.prototype.mw=new dm("src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Slicer Data Bundle Scene View_4.png;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/oneView_brain_2.mrml;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-176-slutbu.dcm.nrrd.nrrd;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/5%3a%20t1_mpr_1mm_p2_pos50-label.nrrd;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/F.fcsv;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/brain.vtk;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/BrainMesh_Underside.png;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/Top.png".split(";"),{Name:"Example Slicer Scene",
Type:"Slicer Scene"},"src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Slicer Data Bundle Scene View_4.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
*/
function gm(){}v("xiv",gm);gm.MODE="live";v("xiv.SAMPLE_DATA_PATH","xiv/sample-data");v("xiv.SAMPLE_SCAN_PREFIX","xiv/sample-data/scans/");function hm(a){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(a,"application/xml");if("undefined"!=typeof ActiveXObject){var b=new ActiveXObject("MSXML2.DOMDocument");if(b){b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",2048),b.setProperty("MaxElementDepth",256)}catch(c){}}b.loadXML(a);return b}throw Error("Your browser does not support loading xml documents");};function im(a,b,c){Yl.call(this,"Scans",a,b);this.Ce["Total Frames"]=0;c&&c(this)}w(im,Yl);v("gxnat.vis.Scan",im);var jm=["dcm","dicom","nii.gz","nii"];f=im.prototype;f.On="scans";f.Eq="/files";f.Nn="URI";
f.Cm=function(){im.d.Cm.call(this);if(null!=this.$k["parameters/orientation"]){var a;a:{switch(this.$k["parameters/orientation"]){case "Sag":a="Sagittal";break a;case "Cor":a="Coronal";break a;case "Tra":a="Transverse";break a}a=void 0}this.Ce.Orientation=a;this.orientation=this.Ce.Orientation}null!=this.$k["parameters/acqType"]&&(this.Ce["Acq. Type"]=this.$k["parameters/acqType"])};
f.mj=function(a){this.kj?a():L.fi(this.Fp.originalUrl,function(b){this.$k=b.items[0].data_fields;this.Cm();im.d.mj.call(this,function(){this.Dk();a()}.bind(this))}.bind(this))};f.yk=function(a){a=im.d.yk.call(this,a);if(null!=a){for(var b=0,c=jm.length;b<c;b++)if(Fa(a,"."+jm[b]))return a;return null}};
function km(a,b){for(var c=b.split("/"),d=0;d<c.length;d++)if("resources"==c[d]){var e=c[d+1];-1!=c[c.length-1].toLowerCase().indexOf("nii")&&(e=e+" - "+c[c.length-1]);break}void 0==e&&(e="scan");for(d=0;d<a.Qb.length;d++)if(a.Qb[d].ip==e)return a.Qb[d];var h=new Vl;h.LC(e);h.Lc(e);h.js("scans");L.get(b.replace(/\/files\/.*$/,"?format=xml"),function(a){try{var b=hm(a),c=b.getElementsByTagName("Catalog"),d=b.getElementsByTagName("DCMCatalog");if((void 0==c||1>c.length)&&(void 0==d||1>d.length))if(0<=
a.indexOf("DCMCatalog"))h.Lc("DICOM"+(0<e.indexOf("-")?e.substring(e.indexOf("-")-1):""));else{if(0<=a.indexOf("Catalog ID=")){var m=a.replace(/(\r\n|\n|\r)/gm,"").replace(/^.*Catalog ID=\\*"/,"").replace(/\\*".*$/,"");0<m.length&&0>m.indexOf("<")&&h.Lc(m+(0<e.indexOf("-")?e.substring(e.indexOf("-")-1):""))}}else 0<d.length?h.Lc("DICOM"+(0<e.indexOf("-")?e.substring(e.indexOf("-")-1):"")):0<c.length&&(m=c[0].attributes.getNamedItem("ID").nodeValue,h.Lc(m+(0<e.indexOf("-")?e.substring(e.indexOf("-")-
1):"")))}catch(q){h.Lc(e)}},"text");a.Qb.push(h);return h}
f.Pi=function(a){this.js("Scans");D(a.split(","),function(b){b=this.yk(b);null!=b&&(b=km(this,b),0==b.xb.length&&b.By(new Ul),b.xb[0].Pi(a,this.yk))},this);this.Ce["Total Frames"]=0<this.Qb.length?this.Qb[0].xb[0].Gc().length:0;this.Qb.sort(function(a,c){var d=!1,e=!1,h=!1,k=!1;0<a.xb.length&&0<a.xb[0].Gc().length&&(0<=a.xb[0].Gc()[0].toLowerCase().indexOf(".dcm")||0<=a.xb[0].Gc()[0].toLowerCase().indexOf(".dcm")?d=!0:0<=a.xb[0].Gc()[0].toLowerCase().indexOf(".nii")&&(e=!0));0<c.xb.length&&0<c.xb[0].Gc().length&&
(0<=c.xb[0].Gc()[0].toLowerCase().indexOf(".dcm")||0<=c.xb[0].Gc()[0].toLowerCase().indexOf(".dcm")?h=!0:0<=c.xb[0].Gc()[0].toLowerCase().indexOf(".nii")&&(k=!0));d=d?9:e?5:a.Hc()<c.Hc()?1:0;return(h?9:k?5:a.Hc()<c.Hc()?0:1)-d})};f.wr=function(a){return ah(this.Mn,a[this.Nn],"experiments")};
f.Dk=function(a){if(this.Qb&&this.Qb[0]){for(var b=0;b<this.Qb.length;b++){var c=this.Qb[b].xb[0].Gc().sort(L.Er);0<=c[0].toLowerCase().indexOf(".nii")?this.Qb[b].dl(serverRoot+"/images/viewer/xiv/ui/Thumbnail/silhouette.png"):this.Qb[b].dl(c[Math.floor(c.length/2)]+L.JPEG_CONVERT_SUFFIX);0==b&&this.dl(this.Qb[0].hl)}null!=a&&a(this)}};f.g=function(){im.d.g.call(this);null!=this.$k&&tb(this.$k);delete this.$k};v("gxnat.vis.Scan.acceptableFileTypes",jm);
v("gxnat.vis.Scan.prototype.folderQuerySuffix",im.prototype.On);v("gxnat.vis.Scan.prototype.fileQuerySuffix",im.prototype.Eq);v("gxnat.vis.Scan.prototype.fileContentsKey",im.prototype.Nn);v("gxnat.vis.Scan.prototype.setViewableMetadata",im.prototype.Cm);v("gxnat.vis.Scan.prototype.getFileList",im.prototype.mj);v("gxnat.vis.Scan.prototype.fileFilter",im.prototype.yk);v("gxnat.vis.Scan.prototype.addFiles",im.prototype.Pi);v("gxnat.vis.Scan.prototype.makeFileUrl",im.prototype.wr);
v("gxnat.vis.Scan.prototype.getThumbnailImage",im.prototype.Dk);v("gxnat.vis.Scan.prototype.dispose",im.prototype.g);function lm(a,b,c){ad.call(this);this.target=a;this.handle=b||a;this.uo=c||new yh(NaN,NaN,NaN,NaN);this.la=Oh(a);this.Ec=new hj(this);Ac(this,va(Bc,this.Ec));F(this.handle,["touchstart","mousedown"],this.jp,!1,this)}w(lm,ad);var mm=E||ic&&qc("1.9.3");f=lm.prototype;f.clientX=0;f.clientY=0;f.screenX=0;f.screenY=0;f.Iw=0;f.Jw=0;f.Uh=0;f.Td=0;f.Vb=!0;f.ej=!1;f.UA=0;f.Cr=0;f.iJ=!1;f.jl=!1;f.gj=function(a){this.jl=a};f.jb=function(){return this.Ec};function nm(a,b){a.uo=b||new yh(NaN,NaN,NaN,NaN)}
f.FC=function(a){this.ds=a};f.Mb=function(a){this.Vb=a};f.f=function(){lm.d.f.call(this);Vc(this.handle,["touchstart","mousedown"],this.jp,!1,this);this.Ec.zg();mm&&this.la.releaseCapture();this.handle=this.target=null};function om(a){da(a.oh)||(a.oh=Ni(a.target));return a.oh}
f.jp=function(a){var b="mousedown"==a.type;if(!this.Vb||this.ej||b&&!Kc(a))this.dispatchEvent("earlycancel");else{pm(a);if(0==this.UA)if(this.dispatchEvent(new qm("start",this,a.clientX,a.clientY)))this.ej=!0,a.preventDefault();else return;else a.preventDefault();var b=this.la,c=b.documentElement,d=!mm;this.Ec.D(b,["touchmove","mousemove"],this.ZI,d);this.Ec.D(b,["touchend","mouseup"],this.hj,d);mm?(c.setCapture(!1),this.Ec.D(c,"losecapture",this.hj)):this.Ec.D(Yh(b),"blur",this.hj);E&&this.iJ&&this.Ec.D(b,
"dragstart",Fc);this.ds&&this.Ec.D(this.ds,"scroll",this.yj,d);this.clientX=this.Iw=a.clientX;this.clientY=this.Jw=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Uh=this.jl?Wj(this.target):this.target.offsetLeft;this.Td=this.target.offsetTop;this.aw=zi(Mh(this.la));this.Cr=xa()}};
f.hj=function(a,b){this.Ec.zg();mm&&this.la.releaseCapture();if(this.ej){pm(a);this.ej=!1;var c=rm(this,this.Uh),d=sm(this,this.Td);this.dispatchEvent(new qm("end",this,a.clientX,a.clientY,0,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function pm(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.ua(a.Vc.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.ua(a.Vc.changedTouches[0],a.currentTarget)}
f.ZI=function(a){if(this.Vb){pm(a);var b=(this.jl&&om(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.ej){var d=this.Iw-this.clientX,e=this.Jw-this.clientY;if(d*d+e*e>this.UA)if(this.dispatchEvent(new qm("start",this,a.clientX,a.clientY)))this.ej=!0;else{this.rk||this.hj(a);return}}c=tm(this,b,c);b=c.x;c=c.y;this.ej&&this.dispatchEvent(new qm("beforedrag",this,a.clientX,a.clientY,0,b,
c))&&(um(this,a,b,c),a.preventDefault())}};function tm(a,b,c){var d=zi(Mh(a.la));b+=d.x-a.aw.x;c+=d.y-a.aw.y;a.aw=d;a.Uh+=b;a.Td+=c;b=rm(a,a.Uh);a=sm(a,a.Td);return new th(b,a)}f.yj=function(a){var b=tm(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;um(this,a,b.x,b.y)};function um(a,b,c,d){a.cu(c,d);a.dispatchEvent(new qm("drag",a,b.clientX,b.clientY,0,c,d))}
function rm(a,b){var c=a.uo,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function sm(a,b){var c=a.uo,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}f.cu=function(a,b){this.jl&&om(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};f.rg=function(){return this.ej};
function qm(a,b,c,d,e,h,k,l){Ec.call(this,a);this.clientX=c;this.clientY=d;this.left=da(h)?h:b.Uh;this.top=da(k)?k:b.Td;this.lu=b;this.CG=!!l}w(qm,Ec);zb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function vm(){this.gw="";this.TE=wm;this.yz=null}vm.prototype.Wz=function(){return this.yz};vm.prototype.toString=function(){return"SafeHtml{"+this.gw+"}"};function xm(a){if(a instanceof vm&&a.constructor===vm&&a.TE===wm)return a.gw;fb("expected object of type SafeHtml, got '"+a+"'");return"type_error:SafeHtml"}zb("action","cite","data","formaction","href","manifest","poster","src");zb("link","script","style");var wm={};function ym(a,b){var c=new vm;c.gw=a;c.yz=b;return c}var zm=ym("",0);function Am(a,b){ad.call(this);this.ld=new hj(this);this.pw(a||null);b&&(this.Km=b)}w(Am,ad);f=Am.prototype;f.q=null;f.aG=!0;f.Py=null;f.Qy=null;f.tm=!1;f.hM=!1;f.dv=-1;f.dJ=!1;f.EG=!0;f.Km="toggle_display";f.a=function(){return this.q};f.pw=function(a){if(this.tm)throw Error("Can not change this state of the popup while showing.");this.q=a};f.NC=function(a,b){this.Dm=a;this.lm=b};f.jb=function(){return this.ld};f.va=function(){return this.tm};
f.ca=function(a){this.Dm&&this.Dm.stop();this.lm&&this.lm.stop();a?this.Aw():this.mm()};f.Be=fa;
f.Aw=function(){if(!this.tm&&this.Dv()){if(!this.q)throw Error("Caller must call setElement before trying to show the popup");this.Be();var a=Oh(this.q);this.dJ&&this.ld.D(a,"keydown",this.pK,!0);if(this.aG)if(this.ld.D(a,"mousedown",this.HB,!0),E){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}this.ld.D(a,"mousedown",this.HB,!0);this.ld.D(a,"deactivate",this.GB)}else this.ld.D(a,"blur",
this.GB);"toggle_display"==this.Km?(this.q.style.visibility="visible",Yi(this.q,!0)):"move_offscreen"==this.Km&&this.Be();this.tm=!0;this.dv=xa();this.Dm?(Uc(this.Dm,"end",this.OB,!1,this),this.Dm.play()):this.OB()}};f.mm=function(a){if(!this.tm||!this.dispatchEvent({type:"beforehide",target:a}))return!1;this.ld&&this.ld.zg();this.tm=!1;xa();this.lm?(Uc(this.lm,"end",va(this.ez,a),!1,this),this.lm.play()):this.ez(a);return!0};
f.ez=function(a){"toggle_display"==this.Km?this.hM?$f(this.TA,0,this):this.TA():"move_offscreen"==this.Km&&(this.q.style.top="-10000px");this.Mv(a)};f.TA=function(){this.q.style.visibility="hidden";Yi(this.q,!1)};f.Dv=function(){return this.dispatchEvent("beforeshow")};f.OB=function(){this.dispatchEvent("show")};f.Mv=function(a){this.dispatchEvent({type:"hide",target:a})};f.HB=function(a){a=a.target;ji(this.q,a)||Bm(this,a)||this.Qy&&!ji(this.Qy,a)||150>xa()-this.dv||this.mm(a)};
f.pK=function(a){27==a.keyCode&&this.mm(a.target)&&(a.preventDefault(),a.stopPropagation())};f.GB=function(a){if(this.EG){var b=Oh(this.q);if("undefined"!=typeof document.activeElement){if(a=b.activeElement,!a||ji(this.q,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>xa()-this.dv||this.mm()}};function Bm(a,b){return Fb(a.Py||[],function(a){return b===a||ji(a,b)})}f.f=function(){Am.d.f.call(this);this.ld.g();Bc(this.Dm);Bc(this.lm);delete this.q;delete this.ld;delete this.Py};function Cm(a){ad.call(this);this.q=a;a=E?"focusout":"blur";this.FJ=F(this.q,E?"focusin":"focus",this,!E);this.GJ=F(this.q,a,this,!E)}w(Cm,ad);Cm.prototype.handleEvent=function(a){var b=new Ic(a.Vc);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Cm.prototype.f=function(){Cm.d.f.call(this);Wc(this.FJ);Wc(this.GJ);delete this.q};function Dm(a,b){lj.call(this,b);this.KM=!!a;this.ro=null}w(Dm,lj);f=Dm.prototype;f.pu=null;f.Nc=!1;f.Qe=null;f.xd=null;f.Eg=null;f.Dt=!1;f.$=function(){return"goog-modalpopup"};f.Zh=function(){return this.Qe};f.B=function(){Dm.d.B.call(this);var a=this.a(),b=Ia(this.$()).split(" ");gl(a,b);ni(a,!0);Yi(a,!1);Em(this);Fm(this)};
function Em(a){if(a.KM&&!a.xd){var b;b=a.O().B("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.xd=b;a.xd.className=a.$()+"-bg";Yi(a.xd,!1);Xi(a.xd,0)}a.Qe||(a.Qe=a.O().B("div",a.$()+"-bg"),Yi(a.Qe,!1))}function Fm(a){a.Eg||(a.Eg=a.O().createElement("span"),Yi(a.Eg,!1),ni(a.Eg,!0),a.Eg.style.position="absolute")}f.fC=function(){this.Dt=!1};f.Re=function(a){return!!a&&"DIV"==a.tagName};
f.pe=function(a){Dm.d.pe.call(this,a);a=Ia(this.$()).split(" ");gl(this.a(),a);Em(this);Fm(this);Yi(this.a(),!1)};f.ib=function(){this.xd&&ci(this.xd,this.a());ci(this.Qe,this.a());Dm.d.ib.call(this);var a=this.a();a.parentNode&&a.parentNode.insertBefore(this.Eg,a.nextSibling);this.pu=new Cm(wi(this.O()));this.jb().D(this.pu,"focusin",this.uK);Gm(this,!1)};f.Fc=function(){this.va()&&this.ca(!1);Bc(this.pu);Dm.d.Fc.call(this);R(this.xd);R(this.Qe);R(this.Eg)};
f.ca=function(a){a!=this.Nc&&(this.Wk&&this.Wk.stop(),this.Sl&&this.Sl.stop(),this.Vk&&this.Vk.stop(),this.Rl&&this.Rl.stop(),this.ma&&Gm(this,a),a?this.Aw():this.mm())};function Gm(a,b){if(b){a.jm||(a.jm=[]);for(var c=a.O(),c=c.su(c.la.body),d=0;d<c.length;d++){var e=c[d];e==a.q||cl(e,"hidden")||(bl(e,"hidden",!0),a.jm.push(e))}}else if(a.jm){for(d=0;d<a.jm.length;d++)a.jm[d].removeAttribute("aria-hidden");a.jm=null}}f.NC=function(a,b,c,d){this.Wk=a;this.Vk=b;this.Sl=c;this.Rl=d};
f.Aw=function(){if(this.dispatchEvent("beforeshow")){try{this.ro=wi(this.O()).activeElement}catch(a){}this.lw();this.Be();this.jb().D(yi(this.O()),"resize",this.lw);Hm(this,!0);this.focus();this.Nc=!0;this.Wk&&this.Sl?(Uc(this.Wk,"end",this.Nr,!1,this),this.Sl.play(),this.Wk.play()):this.Nr()}};
f.mm=function(){if(this.dispatchEvent("beforehide")){this.jb().wb(yi(this.O()),"resize",this.lw);this.Nc=!1;this.Vk&&this.Rl?(Uc(this.Vk,"end",this.Co,!1,this),this.Rl.play(),this.Vk.play()):this.Co();try{var a=wi(this.O()).body,b=wi(this.O()).activeElement||a;this.ro&&b==a&&this.ro!=a&&this.ro.focus()}catch(c){}this.ro=null}};function Hm(a,b){a.xd&&Yi(a.xd,b);a.Qe&&Yi(a.Qe,b);Yi(a.a(),b);Yi(a.Eg,b)}f.Nr=function(){this.dispatchEvent("show")};f.Co=function(){Hm(this,!1);this.dispatchEvent("hide")};
f.va=function(){return this.Nc};f.focus=function(){this.Lz()};f.lw=function(){this.xd&&Yi(this.xd,!1);this.Qe&&Yi(this.Qe,!1);var a=wi(this.O()),b=Wh(Yh(a)||window||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.xd&&(Yi(this.xd,!0),Si(this.xd,c,a));this.Qe&&(Yi(this.Qe,!0),Si(this.Qe,c,a))};
f.Be=function(){var a=wi(this.O()),b=Yh(a)||window;if("fixed"==Ei(this.a()))var c=a=0;else c=zi(this.O()),a=c.x,c=c.y;var d=S(this.a()),b=Wh(b||window),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);Fi(this.a(),a,c);Fi(this.Eg,a,c)};f.uK=function(a){this.Dt?this.fC():a.target==this.Eg&&$f(this.Lz,0,this)};f.Lz=function(){try{E&&wi(this.O()).body.focus(),this.a().focus()}catch(a){}};
f.f=function(){Bc(this.Wk);this.Wk=null;Bc(this.Vk);this.Vk=null;Bc(this.Sl);this.Sl=null;Bc(this.Rl);this.Rl=null;Dm.d.f.call(this)};function Im(a,b,c){Dm.call(this,b,c);this.Sd=a||"modal-dialog";this.ba=Jm(Jm(new Km,Lm,!0),Mm,!1,!0)}w(Im,Dm);f=Im.prototype;f.Ez=!0;f.Ou=!0;f.sv=!0;f.Aq=!0;f.hq=.5;f.Ob="";f.Tc=null;f.Ma=null;f.iu=!1;f.Hd=null;f.ae=null;f.zs=null;f.Ee=null;f.hg=null;f.hd=null;f.fw="dialog";f.$=function(){return this.Sd};f.Lc=function(a){this.Ob=a;this.ae&&ki(this.ae,a)};f.Hc=function(){return this.Ob};f.cl=function(a){this.Tc=a=ym(a,null);this.hg&&(this.hg.innerHTML=xm(a))};
f.getContent=function(){return null!=this.Tc?xm(this.Tc):""};f.nj=function(){return this.fw};f.Ha=function(){this.a()||this.k();return this.hg};f.Qq=function(){this.a()||this.k();return this.Hd};f.Zh=function(){this.a()||this.k();return Im.d.Zh.call(this)};function Nm(a,b){a.hq=b;if(a.a()){var c=a.Zh();c&&Xi(c,a.hq)}}function Om(a,b){b!=a.sv&&Pm(a,b)}function Pm(a,b){a.sv=b;if(a.ma){var c=a.O(),d=a.Zh(),e=a.xd;b?(e&&c.Vu(e,a.a()),c.Vu(d,a.a())):(c.removeNode(e),c.removeNode(d))}a.va()&&Gm(a,b)}
f.ms=function(a){this.Aq=a;this.Wo(a&&this.ma)};f.Wo=function(a){var b=Ia(this.Sd+"-title-draggable").split(" ");this.a()&&(a?gl(this.Hd,b):il(this.Hd,b));a&&!this.Ma?(this.Ma=new lm(this.a(),this.Hd),gl(this.Hd,b),F(this.Ma,"start",this.ns,!1,this)):!a&&this.Ma&&(this.Ma.g(),this.Ma=null)};
f.B=function(){Im.d.B.call(this);var a=this.a(),b=this.O();this.Hd=b.B("div",this.Sd+"-title",this.ae=b.B("span",{className:this.Sd+"-title-text",id:oj(this)},this.Ob),this.Ee=b.B("span",this.Sd+"-title-close"));Q(a,this.Hd,this.hg=b.B("div",this.Sd+"-content"),this.hd=b.B("div",this.Sd+"-buttons"));al(this.ae,"heading");al(this.Ee,"button");ni(this.Ee,!0);bl(this.Ee,"label",Qm);this.zs=this.ae.id;al(a,this.nj());bl(a,"labelledby",this.zs||"");this.Tc&&(this.hg.innerHTML=xm(this.Tc));Yi(this.Ee,this.Ou);
this.ba&&(a=this.ba,a.q=this.hd,a.k());Yi(this.hd,!!this.ba);Nm(this,this.hq)};
f.pe=function(a){Im.d.pe.call(this,a);a=this.a();var b=this.Sd+"-content";this.hg=Sh(document,null,b,a)[0];this.hg||(this.hg=this.O().B("div",b),this.Tc&&(this.hg.innerHTML=xm(this.Tc)),a.appendChild(this.hg));var b=this.Sd+"-title",c=this.Sd+"-title-text",d=this.Sd+"-title-close";(this.Hd=Sh(document,null,b,a)[0])?(this.ae=Sh(document,null,c,this.Hd)[0],this.Ee=Sh(document,null,d,this.Hd)[0]):(this.Hd=this.O().B("div",b),a.insertBefore(this.Hd,this.hg));this.ae?(this.Ob=qi(this.ae),this.ae.id||(this.ae.id=
oj(this))):(this.ae=O("span",{className:c,id:oj(this)}),this.Hd.appendChild(this.ae));this.zs=this.ae.id;bl(a,"labelledby",this.zs||"");this.Ee||(this.Ee=this.O().B("span",d),this.Hd.appendChild(this.Ee));Yi(this.Ee,this.Ou);b=this.Sd+"-buttons";(this.hd=Sh(document,null,b,a)[0])?(this.ba=new Km(this.O()),this.ba.Kb(this.hd)):(this.hd=this.O().B("div",b),a.appendChild(this.hd),this.ba&&(a=this.ba,a.q=this.hd,a.k()),Yi(this.hd,!!this.ba));Nm(this,this.hq)};
f.ib=function(){Im.d.ib.call(this);this.jb().D(this.a(),"keydown",this.ki).D(this.a(),"keypress",this.ki);this.jb().D(this.hd,"click",this.mK);this.Wo(this.Aq);this.jb().D(this.Ee,"click",this.gL);var a=this.a();al(a,this.nj());""!==this.ae.id&&bl(a,"labelledby",this.ae.id);this.sv||Pm(this,!1)};f.Fc=function(){this.va()&&this.ca(!1);this.Wo(!1);Im.d.Fc.call(this)};f.ca=function(a){a!=this.va()&&(this.ma||this.k(),Im.d.ca.call(this,a))};f.Nr=function(){Im.d.Nr.call(this);this.dispatchEvent(Rm)};
f.Co=function(){Im.d.Co.call(this);this.dispatchEvent(Sm);this.iu&&this.g()};f.ns=function(){var a=wi(this.O()),b=Wh(Yh(a)||window||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=S(this.a());"fixed"==Ei(this.a())?nm(this.Ma,new yh(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height))):nm(this.Ma,new yh(0,0,c-d.width,a-d.height))};f.gL=function(){Tm(this)};
function Tm(a){if(a.Ou){var b=a.ba,c=b&&b.Kt;c?(b=b.get(c),a.dispatchEvent(new Um(c,b))&&a.ca(!1)):a.ca(!1)}}f.f=function(){this.hd=this.Ee=null;Im.d.f.call(this)};function Vm(a,b){a.ba=b;if(a.hd){if(a.ba){var c=a.ba;c.q=a.hd;c.k()}else a.hd.innerHTML=xm(zm);Yi(a.hd,!!a.ba)}}f.mK=function(a){a:{for(a=a.target;null!=a&&a!=this.hd;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.ba.get(a);this.dispatchEvent(new Um(a,b))&&this.ca(!1)}};
f.ki=function(a){var b=!1,c=!1,d=this.ba,e=a.target;if("keydown"==a.type)if(this.Ez&&27==a.keyCode){var h=d&&d.Kt,e="SELECT"==e.tagName&&!e.disabled;h&&!e?(c=!0,b=d.get(h),b=this.dispatchEvent(new Um(h,b))):e||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&e==this.a()){this.Dt=!0;try{this.Eg.focus()}catch(k){}$f(this.fC,0,this)}}else if(13==a.keyCode){if("BUTTON"==e.tagName&&!e.disabled)h=e.name;else if(e==this.Ee)Tm(this);else if(d){var l=d.du,n;if(n=l)a:{n=d.q.getElementsByTagName("BUTTON");for(var p=
0,m;m=n[p];p++)if(m.name==l||m.id==l){n=m;break a}n=null}e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!n||n.disabled||e||(h=l)}h&&d&&(c=!0,b=this.dispatchEvent(new Um(h,String(d.get(h)))))}else e==this.Ee&&32==a.keyCode&&Tm(this);if(b||c)a.stopPropagation(),a.preventDefault();b&&this.ca(!1)};function Um(a,b){this.type=Wm;this.key=a;this.caption=b}w(Um,Ec);var Wm="dialogselect",Sm="afterhide",Rm="aftershow";function Km(a){this.sb=a||Mh();kd.call(this)}var Xm,Ym;
w(Km,kd);f=Km.prototype;f.Sd="goog-buttonset";f.du=null;f.q=null;f.Kt=null;f.set=function(a,b,c,d){kd.prototype.set.call(this,a,b);c&&(this.du=a);d&&(this.Kt=a);return this};function Jm(a,b,c,d){return a.set(b.key,b.caption,c,d)}f.k=function(){if(this.q){this.q.innerHTML=xm(zm);var a=Mh(this.q);this.forEach(function(b,c){var d=a.B("button",{name:c},b);c==this.du&&(d.className=this.Sd+"-default");this.q.appendChild(d)},this)}};
f.Kb=function(a){if(a&&1==a.nodeType){this.q=a;a=this.q.getElementsByTagName("button");for(var b=0,c,d,e;c=a[b];b++)if(d=c.name||c.id,e=qi(c)||c.value,d){var h=0==b;this.set(d,e,h,c.name==Zm);h&&fl(c,this.Sd+"-default")}}};f.a=function(){return this.q};f.O=function(){return this.sb};var Zm="cancel",Qm="Close",Lm={key:"ok",caption:"OK"},Mm={key:Zm,caption:"Cancel"},$m={key:"yes",caption:"Yes"},cn={key:"no",caption:"No"},dn={key:"save",caption:"Save"},en={key:"continue",caption:"Continue"};
"undefined"!=typeof document&&(Xm=Jm(new Km,Lm,!0,!0),Jm(Jm(new Km,Lm,!0),Mm,!1,!0),Ym=Jm(Jm(new Km,$m,!0),cn,!1,!0),Jm(Jm(Jm(new Km,$m),cn,!0),Mm,!1,!0),Jm(Jm(Jm(new Km,en),dn),Mm,!0,!0));function fn(){try{this.al=serverRoot}catch(a){this.al=""}Im.call(this);this.Ez=!1}w(fn,Im);v("nrg.ui.Dialog",fn);fn.ID_PREFIX="nrg.ui.Dialog";fn.CSS={Cx:"nrg-ui-dialog-overlay",Cp:"nrg-ui-dialog-background",Mj:"nrg-ui-dialog-closebutton",UD:"nrg-ui-dialog-closebutton-image",$E:"nrg-ui-dialog-subtext",Tj:"nrg-ui-dialog-text",TITLE:"nrg-ui-dialog-title",yh:"nrg-ui-dialog-content",ND:"nrg-ui-dialog-buttons"};f=fn.prototype;f.pl={x:20,y:20};f.Aq=!0;f.Ma=null;f.Xk=null;f.xm=null;
f.Ay=function(a){M(this.Qw,a)};f.OF=function(a){M(this.Tc,a)};f.MF=function(a){M(this.lk.parentNode,a)};f.NF=function(a){M(this.lk,a)};f.ly=function(a){M(this.nq,a)};f.LF=function(a){M(this.It,a)};
function gn(a){a.nq=Rh("modal-dialog-title-close",a.a())[0];M(a.nq,fn.CSS.Mj);a.lk=O("img",{id:a.constructor.ID_PREFIX+"_CloseButton_"+B(),"class":fn.CSS.UD});a.lk.src=a.al+"/images/viewer/xiv/ui/Modal/close.png";a.nq.appendChild(a.lk);F(a.lk,"click",function(a){this.ca(!this.va());this.dispatchEvent({type:"f"});a.stopPropagation()}.bind(a))}f.YF=function(){var a=this.a(),b=ek(a,600),c=dk(a,600),d=ek(a,600),a=dk(a,600);this.NC(b,c,d,a)};
f.Dr=function(a,b,c,d){var e=this.a(),h=S(e.parentNode),k=S(e);c=null!=c?c:0;"left"==a?e.style.left=(0+c).toString()+"px":"right"==a&&(e.style.left=h.width-k.width+c+"px");"top"==b&&(e.style.top=(0+(null!=d?d:0)).toString()+"px")};
f.Rd=function(){var a=this.a(),b=S(this.a().parentNode);if(null!=this.Zh()){var c=this.Zh();0==c.opacity?R(c):tk(c,{width:b.width,height:b.height,"z-index":199})}var c=S(a),d=0,e=0;c.width<=b.width&&(d=b.width/2-c.width/2);c.height<=b.height&&(e=b.height/2-c.height/2);Fi(a,d,e)};f.ms=function(a){this.Aq=a;this.Wo(a&&this.ma)};
f.Wo=function(a){var b=Ia(this.$()+"-title-draggable").split(" "),c=this.Qq();this.a()&&(a?gl(c,b):il(c,b));a&&!this.Ma?(this.Ma=new lm(this.a(),this.Hd),gl(c,b),F(this.Ma,"start",this.ns,!1,this)):!a&&this.Ma&&(this.Ma.g(),this.Ma=null)};f.Zw=function(){this.ns()};f.dI=function(){return this.xm};f.Xz=function(){return null!=this.Ma?this.Ma.uo:null};
f.ns=function(){var a=wi(this.O()),b=Yh(a)||window;null!=this.a()&&(a=S(this.a().parentNode),b=Wh(b||window),S(this.a()),this.xm=this.Ma.uo.clone(),"fixed"==Ei(this.a())?nm(this.Ma,new yh(0,0,Math.max(0,b.width-this.pl.x),Math.max(0,b.height-this.pl.y))):nm(this.Ma,new yh(-1*this.pl.x,-1*this.pl.y,a.width+this.pl.x,a.height+this.pl.y)))};
f.ny=function(a){var b=O("img",{id:this.constructor.ID_PREFIX+"_Image_"+B(),"class":fn.CSS.Ah});null==this.fo&&(this.fo=[]);this.fo.push(b);this.Ha().appendChild(b);null!=a&&(b.src=a);return b};f.hk=function(a){var b=O("div",{id:this.constructor.ID_PREFIX+"_Text_"+B(),"class":fn.CSS.Tj},a);null==this.th&&(this.th=[]);this.th.push(b);b.innerHTML=a||"";this.Ha().appendChild(b);return b};f.xt=function(a){var b=O("div",{id:"ErrorSub_"+B(),"class":fn.CSS.$E});b.innerHTML=a;this.Ha().appendChild(b);return b};
f.WH=function(){return this.a()};f.k=function(a){if(!this.ma)fn.d.k.call(this,a);else if(null!=a&&this.a().parentNode!=a){Q(a,this.a());return}M(this.a(),"nrg-ui-dialog");this.Qw=Rh("modal-dialog-title",this.a())[0];this.Tc=Rh("modal-dialog-content",this.a())[0];this.It=Rh("modal-dialog-buttons",this.a())[0];this.lk=null;gn(this);M(this.It,fn.CSS.ND);M(this.Qw,fn.CSS.TITLE);M(this.Tc,fn.CSS.yh);fn.d.ms.call(this,!1);this.ms(!0)};
f.ca=function(a,b){!0==b&&fn.d.ca.call(this,a);null!=this.a()&&(null==this.Xk&&(this.Xk=Hi(this.a())),this.va()&&!1==a?(this.Xk=Hi(this.a()),Ck(this.a(),200,function(){this.ca(a,!0)}.bind(this))):this.va()||!0!=a||(fn.d.ca.call(this,a),Fi(this.a(),this.Xk),this.a().style.opacity=0,zk(this.a(),200)))};
f.Zr=function(){var a=this.a(),b=this.Ha(),c=0,d=0,e=0,h=0,k=a.style.overflow;a.style.overflow="visible";var l=this.a().style.opacity,n=this.a().style.visibility;this.a().style.opacity=1;null!=this.th&&D(this.th,function(a){e=a.scrollWidth;h=a.scrollHeight;c=e>c?e:c;d=h>d?h:d;Si(a,e,h)});null!=k?a.style.overflow=k:a.style.removeProperty("overflow");var p=S(b),k=c>p.width?c:p.width,p=d>p.height?d:p.height;Si(b,k,p);Si(a,k+20,p+20);this.a().style.opacity=l;this.a().style.visibility=n};f.sI=function(){return this.th};
f.eJ=function(){};f.f=function(){fn.d.f.call(this);delete this.It;delete this.Qw;delete this.Tc;delete this.lk;delete this.nq;null!=this.al&&delete this.al;null!=this.RB&&(R(this.RB),delete this.RB);null!=this.th&&(D(this.th,function(a){R(a);delete a}),delete this.th);null!=this.fo&&(D(this.fo,function(a){R(a);delete a}),delete this.fo);null!=this.Xk&&(tb(this.Xk),delete this.Xk);null!=this.xm&&(tb(this.xm),delete this.xm)};v("nrg.ui.Dialog.ID_PREFIX",fn.ID_PREFIX);
v("nrg.ui.Dialog.EventType",{eO:"d",CLOSED:"e",aN:"f"});v("nrg.ui.Dialog.prototype.addTitleClass",fn.prototype.Ay);v("nrg.ui.Dialog.prototype.addContentClass",fn.prototype.OF);v("nrg.ui.Dialog.prototype.addCloseButtonClass",fn.prototype.MF);v("nrg.ui.Dialog.prototype.addCloseButtonImageClass",fn.prototype.NF);v("nrg.ui.Dialog.prototype.addCloseSpanClass",fn.prototype.ly);v("nrg.ui.Dialog.prototype.addButtonsClass",fn.prototype.LF);v("nrg.ui.Dialog.prototype.applyFadeTransitions",fn.prototype.YF);
v("nrg.ui.Dialog.prototype.moveToCorner",fn.prototype.Dr);v("nrg.ui.Dialog.prototype.center",fn.prototype.Rd);v("nrg.ui.Dialog.prototype.hideWindowOnHover",fn.prototype.eJ);v("nrg.ui.Dialog.prototype.setDraggable",fn.prototype.ms);v("nrg.ui.Dialog.prototype.updateLimits",fn.prototype.Zw);v("nrg.ui.Dialog.prototype.addImage",fn.prototype.ny);v("nrg.ui.Dialog.prototype.addText",fn.prototype.hk);v("nrg.ui.Dialog.prototype.addSubText",fn.prototype.xt);v("nrg.ui.Dialog.prototype.getOverlay",fn.prototype.WH);
v("nrg.ui.Dialog.prototype.render",fn.prototype.k);v("nrg.ui.Dialog.prototype.setVisible",fn.prototype.ca);v("nrg.ui.Dialog.prototype.getTextElements",fn.prototype.sI);v("nrg.ui.Dialog.prototype.resizeToContents",fn.prototype.Zr);v("nrg.ui.Dialog.prototype.getPreviousDraggerLimits",fn.prototype.dI);v("nrg.ui.Dialog.prototype.getDraggerLimits",fn.prototype.Xz);v("nrg.ui.Dialog.prototype.disposeInternal",fn.prototype.f);function hn(){fn.call(this);Vm(this,null)}w(hn,fn);v("nrg.ui.ErrorDialog",hn);hn.ID_PREFIX="nrg.ui.ErrorDialog";hn.CSS={Cx:"nrg-ui-errordialog",Ah:"nrg-ui-errordialog-image",Tj:"nrg-ui-errordialog-text"};hn.prototype.$l=null;hn.prototype.hk=function(a){hn.d.hk.call(this,a);a=this.th;M(a[a.length-1],hn.CSS.Tj)};hn.prototype.k=function(a){hn.d.k.call(this,a);M(this.a(),hn.CSS.Cx);null==this.$l&&(this.$l=this.ny(this.al+"/images/viewer/xiv/ui/Overlay/sadbrain-white.png"),M(this.$l,hn.CSS.Ah),this.Rd())};
hn.prototype.f=function(){hn.d.f.call(this);null!=this.$l.parentNode&&R(this.$l);delete this.$l};v("nrg.ui.ErrorDialog.ID_PREFIX",hn.ID_PREFIX);v("nrg.ui.ErrorDialog.CSS",hn.CSS);v("nrg.ui.ErrorDialog.prototype.addText",hn.prototype.hk);v("nrg.ui.ErrorDialog.prototype.disposeInternal",hn.prototype.f);function jn(a,b,c,d){na(this);this.url=a;this.document=b;this.files=d}w(jn,El);v("gxnat.slicerNode.Mrml",jn);function kn(a,b){na(this);this.file=a;this.ze=b}w(kn,El);v("gxnat.slicerNode.Displayable",kn);function ln(a,b,c){na(this);this.position=a;this.JM=b;this.focus=c}w(ln,El);v("gxnat.slicerNode.Camera",ln);function mn(a,b,c,d,e,h){na(this);this.position=a;this.color=b;this.name=h}w(mn,El);v("gxnat.slicerNode.Annotations",mn);function nn(){na(this)}w(nn,El);v("gxnat.slicerNode.Layout",nn);L.I={};v("gxnat.slicerUtils",L.I);L.I.lx="/scripts/viewer/xiv/vis/GenericColorTable.txt";L.I.Iz=function(a){for(var b=[],c=0,d=a.length;c<d;c++)Fa(a[c],".mrml")&&b.push(a[c]);return b};L.I.Bu=function(a,b){L.get(a,function(a){b(new hm(a))},"text")};L.I.mA=function(a,b,c){a=g(a)?a:[a];var d=L.I.Iz(a),e=[],h=0;D(d,function(b){L.I.Bu(b,function(l){h++;e.push(new jn(b,l,0,a));h==d.length&&c(e)})})};
L.I.mz=function(a,b,c){L.I.Oz(a,b,function(b){c(new Rl(a,L.I.Sz(a),L.I.Pz(a),L.I.gA(a),b,L.I.DA(a),L.I.lA(a),null))})};L.I.qA=function(a,b){var c=[],d=[],e=0;D(a,function(a){c=L.I.rA(a.document);D(c,function(k){L.I.mz(k,a,function(a){e++;d.push(a);e==c.length&&b(d)})})})};L.I.Yz=function(a,b){a=r(a)?L.I.Bu(a):a;var c=[];D(a.getElementsByTagName(b),function(a){c.push(a)});return c};L.I.rA=function(a){return L.I.Yz(a,"SceneView")};
L.I.Sz=function(a){var b=a.getElementsByTagName("Camera").length-1,c=a.getElementsByTagName("Camera")[b].getAttribute("position"),d=a.getElementsByTagName("Camera")[b].getAttribute("viewUp");a=a.getElementsByTagName("Camera")[b].getAttribute("focalPoint");return new ln(Dl(c),Dl(d),Dl(a))};L.I.vA=function(a,b){for(var c=a.getAttribute("storageNodeRef"),d=b.getElementsByTagName("SceneViewStorage"),e=0,h=d.length;e<h;e++)if(d[e].getAttribute("id")===c)return d[e].getAttribute("fileName")};
L.I.Pz=function(a){return new Ql(a.getElementsByTagName("View")[0].getAttribute("backgroundColor"),a.getElementsByTagName("View")[0].getAttribute("backgroundColor2"))};L.I.gA=function(a){return new nn(a.getElementsByTagName("Layout")[0].getAttribute("currentViewArrangement"))};
L.I.um=function(a,b){if(null!=a)for(var c=0,d=b.length,e="",h="";c<d;c++)if(e=decodeURIComponent(b[c].toLowerCase()),h=decodeURIComponent(a.toLowerCase()),-1<h.indexOf("%")&&(h=decodeURIComponent(h)),e.indexOf(h)==e.length-h.length)return b[c].replace(/%/g,"%25")};L.I.pH=function(a,b){var c=a.slice(0,a.lastIndexOf("/")+1);/^\/+$/.test(c)||(c=c.replace(/\/+$/,""));return Ya(b,"!",Rk(c),"/",Rk(a))};
L.I.Oz=function(a,b,c){var d=a.getElementsByTagName("MarkupsDisplay"),e=a.getElementsByTagName("MarkupsFiducial");a=a.getElementsByTagName("MarkupsFiducialStorage");var h=[],k=[],l=0,n,p,m="rgb(255,0,0)",q="",t="",s="",z=0,y,I;0==a.length?c(null):(D(a,function(a){k.push(L.I.um(a.getAttribute("fileName"),b.files))}),0==k.length?c(null):D(k,function(a){L.get(a,function(a){l++;D(a.split(/\n/),function(a){if(-1==a.indexOf("#")&&(n=a.split(/,/),1!=n.length)){p=[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])];
s=n[11];m=[1,0,0];t=q="";z=0;for(len=e.length;z<len;z++)if(y=e[z],q=y.getAttribute("id"),q===n[0].replace("_","")){t=y.getAttribute("displayNodeRef");break}len=d.length;for(z=0;z<len;z++)if(I=d[z],q=I.getAttribute("id"),q===t){m=Dl(I.getAttribute("color")).map(function(a){return parseFloat(a)});break}h.push(new mn(p,m,0,0,0,s))}});l==k.length&&c(h)},"text")}))};
L.I.xu=function(a,b,c){var d=[],e=a.getElementsByTagName(c),h=null,k=0,l=e.length;D(a.getElementsByTagName(b),function(a){for(k=0;k<l;k++)if(h=e[k],h.getAttribute("id")===a.getAttribute("storageNodeRef")){d.push(new kn(h.getAttribute("fileName"),a));break}});return d};L.I.mH=function(){return null};
L.I.DA=function(a){var b=a.getElementsByTagName("Selection")[0].getAttribute("activeVolumeID"),c=L.I.xu(a,"Volume","VolumeArchetypeStorage"),d=a.getElementsByTagName("LabelMapVolumeDisplay"),e=[],h=[],k="";D(c,function(a){k=a.ze.getAttribute("displayNodeRef");1<k.indexOf("LabelMap")?(D(d,function(b){b.getAttribute("id")==k&&(a.In=b,-1!=b.getAttribute("colorNodeID").indexOf("vtkMRMLColorTableNodeFileGeneric")?a.Pt=serverRoot+L.I.lx:window.console.log("Custom color table: ",b.getAttribute("colorNodeID")))}),
e.push(a)):h.push(a)});var l="";D(e,function(a){l=a.ze.getAttribute("attributes").split(";");D(l,function(b){-1!=b.indexOf("AssociatedNodeID")&&(refVol=b.split(":")[1],D(h,function(b){b.ze.getAttribute("id")==refVol&&(b.ih=a)}.bind(this)))}.bind(this))});D(h,function(c){c.yg=new Ol(a,c.ze,b);c.ih&&(c.yg.ih=c.ih,delete c.ih)});return h};L.I.lA=function(a){var b=L.I.xu(a,"Model","ModelStorage");D(b,function(b){b.yg=new Gl(a,b.ze)});return b};v("gxnat.slicerUtils.GENERIC_COLORTABLE_FILE",L.I.lx);
v("gxnat.slicerUtils.extractMrmls",L.I.Iz);v("gxnat.slicerUtils.getMrmlAsXml",L.I.Bu);v("gxnat.slicerUtils.getMrmlNodes",L.I.mA);v("gxnat.slicerUtils.createSceneViewProperties",L.I.mz);v("gxnat.slicerUtils.getSceneViewNodes",L.I.qA);v("gxnat.slicerUtils.getElementsFromMrml",L.I.Yz);v("gxnat.slicerUtils.getSceneViewsFromMrml",L.I.rA);v("gxnat.slicerUtils.getCameraFromSceneView",L.I.Sz);v("gxnat.slicerUtils.getThumbnail",L.I.vA);v("gxnat.slicerUtils.mrmlColorToRgb",L.I.pQ);
v("gxnat.slicerUtils.getBackgroundColorFromSceneView",L.I.Pz);v("gxnat.slicerUtils.getLayoutFromSceneView",L.I.gA);v("gxnat.slicerUtils.matchFileToSet",L.I.um);v("gxnat.slicerUtils.getFileUrlRelativeToMrbUrl",L.I.pH);v("gxnat.slicerUtils.getAnnotations",L.I.Oz);v("gxnat.slicerUtils.getDisplayables",L.I.xu);v("gxnat.slicerUtils.getFibers",L.I.mH);v("gxnat.slicerUtils.getVolumes",L.I.DA);v("gxnat.slicerUtils.getMeshes",L.I.lA);function on(a,b,c){this.ii=[];Yl.call(this,"Slicer Scenes",a,b);c&&c(this)}w(on,Yl);v("gxnat.vis.Slicer",on);var pn=["jpeg","jpg","png","gif"];f=on.prototype;f.On="resources/Slicer/files";f.Eq="?listContents=true";f.Nn="File Name";f.mj=function(a){this.kj?qn(this,a):im.d.mj.call(this,function(){this.Dk(function(){this.Cm();qn(this,a)}.bind(this))}.bind(this))};function qn(a,b){L.I.mA(a.ii,0,function(a){L.I.qA(a,function(d){this.gz(d,a,b)}.bind(this))}.bind(a))}
f.gz=function(a,b,c){this.aK=b;this.UL=a;var d,e,h,k;D(this.UL,function(a){d=[a.OM||[],a.TJ||[],a.LG||[]];e=[];D(d,function(a){D(a,function(a){h=L.I.um(Rk(a.file),this.ii);a.yg instanceof Ol&&a.yg.ih&&(a.yg.labelMapFile=L.I.um(a.yg.ih.file,this.ii),null!=a.yg.ih.Pt&&null==L.I.um(a.yg.ih.Pt,this.ii)&&(a.yg.colorTableFile=a.yg.ih.Pt));e.push(new Ul(h,a.yg))}.bind(this))}.bind(this));k=new Vl(e);k.dl(L.I.um(L.I.vA(a.element,this.aK[0].document),this.ii));k.Lc(a.element.getAttribute("name"));k.ww(a);
this.Qb.push(k)}.bind(this));c&&c(this)};f.Dk=function(a){var b="",c=0,d=this.ii.length;for(this.thumbnailFiles=[];c<d;c++)b=xj(this.ii[c]),-1!=pn.indexOf(b)&&this.thumbnailFiles.push(this.ii[c]);D(this.thumbnailFiles,function(a,b){-1!=a.indexOf("%20")&&(this.thumbnailFiles[b]=a.replace(/%20/g,"%2520"))}.bind(this));d=this.thumbnailFiles.length;for(c=0;c<d;c++)if("Data"!=vj(wj(this.thumbnailFiles[c]))){this.dl(this.thumbnailFiles[c]);break}a&&a(this)};f.Pi=function(a){g(a)||(a=[a]);D(a,function(a){this.ii.push(a)}.bind(this))};
v("gxnat.vis.Slicer.thumbnailExtensions",pn);v("gxnat.vis.Slicer.prototype.folderQuerySuffix",on.prototype.On);v("gxnat.vis.Slicer.prototype.fileQuerySuffix",on.prototype.Eq);v("gxnat.vis.Slicer.prototype.fileContentsKey",on.prototype.Nn);v("gxnat.vis.Slicer.prototype.getFileList",on.prototype.mj);v("gxnat.vis.Slicer.prototype.convertToViewableGroups",on.prototype.gz);v("gxnat.vis.Slicer.prototype.getThumbnailImage",on.prototype.Dk);v("gxnat.vis.Slicer.prototype.addFiles",on.prototype.Pi);function rn(){em.call(this);this.Lg.push(this.mw);this.Lg.push(this.SL);this.Lg.push(this.TL)}w(rn,em);v("xiv.sampleData.Scans",rn);
rn.prototype.mw=new dm("src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 1","Total Frames":176,Type:"t1_mpr_1mm_p2_pos50"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample1/Sample1.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);
rn.prototype.SL=new dm("src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 2","Total Frames":176,Type:"t1_mpr_1mm_p2_pos50"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample2/Sample2.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);
rn.prototype.TL=new dm("src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 3","Total Frames":176,Type:"t2_spc_1mm_p2"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample3/Sample3.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function sn(a,b,c,d){xc.call(this);tn();un();this.Ip={h:im,pM:on};this.kd=null!=a?a:sn.States.Nj;this.WJ=b;this.iC=d;this.Xr=Yg(d);this.Wg=this.Wg?this.Wg:[];a="/"!==c[0]?"/"+c:c;-1===this.Wg.indexOf(this.Xr+a)&&this.Wg.push(-1===a.indexOf(this.Xr)?this.Xr+a:a);1==this.Wg.length&&(this.Xd=new Wg(this.Wg[0]))}w(sn,xc);v("xiv.start",sn);sn.ModalStates={Je:"fullscreen",mf:"popup",Ms:"fullscreen-popup",Ng:"windowed",Nj:"demo",YD:"demp-fullscreen"};sn.States={Nj:"demo",TN:"live"};
function tn(){Tf.IMA=[Uf,null]}function un(){document.body.style.overflow="hidden"}f=sn.prototype;f.Ks=B();f.Ky=300;f.uJ=1E3;f.br=!1;f.er=!1;f.HC=function(){};f.Sy=function(){vn(this);this.show();this.kd==sn.States.Nj?(gm.MODE="demo",R(this.eb.ba.mf),R(this.eb.ba.ol),wn(this)):(this.eb.xc(this.WJ),xn(this))};f.eM=function(a){this.XJ=a};function vn(a){a.eb=new a.XJ;a.eb.vC(serverRoot);F(a.eb,"g",a.DK.bind(a));window.onresize=function(){null!=this.eb&&this.eb.o()}.bind(a)}
f.DK=function(){this.fe.nB(null,function(a){D(a,function(a){yn(this,a);this.eb.aa.Xc()}.bind(this))}.bind(this))};f.show=function(){this.eb.a().style.opacity=0;this.eb.k();this.kd!==sn.States.Nj&&this.eb.ky();F(this.eb.aa.pa,"a",this.Zv.bind(this));F(this.eb.ba.mf,"click",this.oG.bind(this));F(this.eb.ba.ol,"click",this.g.bind(this));this.eb.Ib.ic(!0,0,this.uJ);Bk(this.eb.a(),this.Ky)};
function wn(a){var b=a.eb.aa,c={slicer:(new fm).Lg,scan:(new rn).Lg},d,e=null;C(c,function(a,b){D(a,function(a){d="scan"==b?new this.Ip.h:new this.Ip.pM;d.Pi(a.files);d.sC(!0);d.IC(a.UJ);d.dl(a.Pw);zn(this,d,a.ru);null==e&&(e=a.ru);D(a.ru,function(a){Jb(e,a)||e.push(a)})}.bind(this))}.bind(a));a=b.pa.Iq(e);var h=[];D(a,function(a){null!=a&&(a.ec.Qi=0,a.ic(!0),a=a.uf,a.style.opacity=0,h.push(a))});b.pa.a().style.opacity=1;Pb(h,void 0,0,b.pa.a());Dk(h,400,200)}
function xn(a){var b=a.eb.aa.pa,c=0;a.eb.aa&&F(a.eb.aa.pa,An,a.uL.bind(a));a.fe=new bh(a.Wg[0]);a.fe.kB(function(a){var e=yn(this,a);0==c&&(this.lJ=a,this.Su=b.Oc[e[0]],b.So(e[0]));1==c&&(this.er=!0,this.mJ=a,this.fr=this.Su.Oc[e[1]]);2==c&&(this.br=!0,this.cr=a,this.XA=this.fr.Oc[e[2]],zl([this.Su,this.fr,this.XA]));c++}.bind(a))}
function Bn(a,b){var c=a.fe.Rn(b),d=a.fe.Qz(b),e=0;C(c,function(a,b){var c=d[e];25<c.length&&(c=Xa(c,25));d[e]=b.toUpperCase()+":&nbsp&nbsp&nbsp&nbsp&nbsp"+c;e++});return d}function yn(a,b){var c=a.fe.Rz(b),d=Bn(a,b);Cn(a,d,c);return d}function Dn(a,b){a.fe.jB(b.originalUrl,null,function(a){if(b.mi("subjects")==this.Xd.mi("subjects")&&this.er){var d=this.Xd.mi("experiments");this.cr=this.fe.em(d);Mb(a,this.cr);Pb(a,0,0,this.cr);this.er=!1}D(a,function(a){yn(this,a)}.bind(this))}.bind(a))}
f.Zv=function(a){if(null!=a.ze[this.Ks])switch(a=new Wg(a.ze[this.Ks]),a.Gq()){case "subjects":Dn(this,a);break;case "experiments":En(this,a.originalUrl)}};f.km=function(a){Ck(this.eb.a(),this.Ky,a)};f.g=function(){this.km(this.yG.bind(this))};
function En(a,b){if(null==a.mv)a.mv=[];else if(-1<a.mv.indexOf(b)){window.console.log("don't need to reload",b);return}var c=a.fe.Rn(a.fe.em(b)),c=new Xl(c.projects[nh],c.subjects[nh],c.experiments[nh]);Fn(a,b,function(){this.mv.push(b);this.br&&(this.br=!1,C(this.fr.Oc,function(){}.bind(this)))}.bind(a),c)}f.uL=function(a){var b=a.ze.ec.Qi;a.ze.ec.Qi=0;a.ze.ec.Qi=b};
f.oG=function(){var a=open(this.iC+"/scripts/viewer/xiv/popup.html?"+this.Wg[0],"XImgView","width=1200,height=800");a.focus();var b=this.Wg[0];a.onload=function(){a.kQ(b,sn.ModalStates.mf,serverRoot)}.bind(this);this.g()};function Fn(a,b,c,d){Gn(a,b,function(a){var b=a.ni;Hn(this,a,b,function(a){zn(this,a)}.bind(this));null!=d&&(this.Qa[b].ap(d.FL),this.Qa[b].cp(d.tM),this.Qa[b].Xo(d.JG))}.bind(a),c)}
function Cn(a,b,c){var d=a.eb.aa.pa;d.En(b);zippyNodes=d.Iq(b);D(zippyNodes,function(a,b){-1<a.Hc().toLowerCase().indexOf("experiments")&&!a.Nu()&&Uc(a,"a",function(){a.ry()});null==c||null==c[b]||null==a[this.Ks]&&(a[this.Ks]=c[b])}.bind(a))}
function zn(a,b,c){var d=a.eb.aa;null!=d&&(null==c&&null!=a.fe&&(c=Bn(a,a.fe.em(b.Mn))),"Scans"!=b.tf&&c.push(b.tf),b.mj(function(){if(0<b.Qb.length){var a=d.Zi(b,c);if("Scans"!=b.tf){var h=d.pa.Iq(c);0<c.length&&1<h.length&&d.ic(c[c.length-1],h[h.length-2])}a.rw(b.hl)}}.bind(a)))}function Hn(a,b,c,d){a.Qa=a.Qa?a.Qa:{};null==a.Qa[c]&&(a.Qa[c]=b,d(b))}
f.yG=function(){sn.d.g.call(this);document.body.style.overflow="visible";C(this.Qa,function(a,b){a.g();delete this.Qa[b]}.bind(this));delete this.Qa;this.fe&&(this.fe.g(),delete this.fe);delete this.Wg;delete this.iC;delete this.Xr;delete this.cQ;null!=this.Xd&&(this.Xd.g(),delete this.Xd);delete this.br;delete this.er;delete this.lJ;delete this.mJ;delete this.cr;delete this.Su;delete this.fr;delete this.XA;G(this.eb);this.eb.g();R(this.eb.a());delete this.eb};
function Gn(a,b,c,d){var e=nb(a.Ip),h=0;C(a.Ip,function(a){cm(b,a,c,function(){h++;h===e&&null!=d&&d()})})}v("xiv.start.States",sn.States);v("xiv.start.loadCustomExtensions",tn);v("xiv.start.adjustDocumentStyle",un);v("xiv.start.ModalStates",sn.ModalStates);v("xiv.start.checkForWebGL",sn.checkForWebGL);v("xiv.start.isCompatible",sn.vJ);v("xiv.start.prototype.setServerRoot",sn.prototype.HC);v("xiv.start.prototype.setModalType",sn.prototype.eM);v("xiv.start.prototype.begin",sn.prototype.Sy);
v("xiv.start.prototype.show",sn.prototype.show);v("xiv.start.prototype.hide",sn.prototype.km);v("xiv.start.prototype.dispose",sn.prototype.g);window["xiv.start.isCompatible"]=sn.vJ;window["xiv.start.checkForWebGL"]=sn.checkForWebGL;window["xiv.start.ModalStates"]=sn.ModalStates;sn.prototype.setServerRoot=sn.prototype.HC;sn.prototype.begin=sn.prototype.Sy;function In(){ad.call(this);this.mo=[];this.mD=[];this.Qo=[]}w(In,ad);f=In.prototype;f.Zu=!1;f.$u=!1;f.wj=!1;f.bB=function(){return this.wj};function Jn(a,b){a.mD.push(b);b.$u=!0;a.Zu=!0}f.FC=function(a){this.ds=a};f.ua=function(){if(!this.wj){for(var a,b=0;a=this.mo[b];b++)Kn(this,a);this.wj=!0}};function Kn(a,b){a.Zu&&(F(b.element,"mousedown",b.vg,!1,b),a.Ew&&fl(b.element,a.Ew));a.$u&&a.Ow&&fl(b.element,a.Ow)}
function Ln(a){for(var b,c=0;b=a.mo[c];c++){var d=a;d.Zu&&(Vc(b.element,"mousedown",b.vg,!1,b),d.Ew&&hl(b.element,d.Ew));d.$u&&d.Ow&&hl(b.element,d.Ow);b.g()}a.mo.length=0}
f.jp=function(a,b){if(!this.xf)if(this.xf=b,!1==this.dispatchEvent(new Mn("dragstart",0,this.xf)))this.xf=null;else{var c=b.aj;this.tk=this.Vt(c);var d=Oh(c);d.body.appendChild(this.tk);var e=this.tk,h=Mi(c),c=dj(c,"margin");h.x-=2*(c.left||0);h.y-=2*(c.top||0);e.style.position="absolute";e.style.left=h.x+"px";e.style.top=h.y+"px";this.Ma=new lm(e);this.Ma.FC(this.ds);F(this.Ma,"drag",this.xB,!1,this);F(this.Ma,"end",this.hj,!1,this);F(d.body,"selectstart",this.jD);this.Gm=[];for(e=0;d=this.mD[e];e++)for(var k,
h=0;k=d.mo[h];h++)for(var c=d,l=[k.element],n=this.Gm,p=0;p<l.length;p++){var m=l[p],q,t=m;q=Mi(t);t=S(t);q=new vh(q.y,q.x+t.width,q.y+t.height,q.x);n.push(new Nn(q,c,k,m));On(this,q)}this.ui||(this.ui=new vh(0,0,0,0));for(e=0;d=this.Qo[e];e++)d.Rt=[],d.jC=d.q.scrollLeft,d.kC=d.q.scrollTop,h=Mi(d.q),c=S(d.q),d.Bc=new vh(h.y,h.x+c.width,h.y+c.height,h.x);for(e=0;c=this.Gm[e];e++)for(h=0;d=this.Qo[h];h++)ji(d.q,c.q)&&(d.Rt.push(c),c.Po=d);this.fk=null;for(e=0;d=this.Qo[e];e++)F(d.q,"scroll",this.cz,
!1,this);this.Ma.jp(a);a.preventDefault()}};
f.hj=function(a){var b=a.CG?null:this.fk;if(b&&b.el){var c=a.clientX;a=a.clientY;var d=zi(Mh(this.tk)),e=c+d.x,d=a+d.y,h;this.np&&(h=this.np(b.ei,b.Bc,e,d));this.dispatchEvent(new Mn("drag",0,this.xf,0,b.ei,0,c,a));b.el.dispatchEvent(new Mn("drop",0,this.xf,0,b.ei,0,c,a,0,0,h))}this.dispatchEvent(new Mn("dragend",0,this.xf));Vc(this.Ma,"drag",this.xB,!1,this);Vc(this.Ma,"end",this.hj,!1,this);Vc(Oh(this.xf.aj).body,"selectstart",this.jD);for(b=0;c=this.Qo[b];b++)Vc(c.q,"scroll",this.cz,!1,this),c.Rt=
[];this.Ma.g();R(this.tk);delete this.xf;delete this.tk;delete this.Ma;delete this.Gm;delete this.fk};
f.xB=function(a){var b,c=zi(Mh(this.tk));b=new th(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.fk,h;if(e){this.np&&e.el&&(h=this.np(e.ei,e.Bc,c,d));if(e.Bc.contains(b)&&h==this.jy)return;e.el&&(this.dispatchEvent(new Mn("dragout",0,this.xf,0,e.ei)),e.el.dispatchEvent(new Mn("dragout",0,this.xf,0,e.ei,0,void 0,void 0,0,0,this.jy)));this.jy=h;this.fk=null}if(this.ui.contains(b)){a:{for(var k=0;e=this.Gm[k];k++)if(e.Bc.contains(b))if(e.Po){if(e.Po.Bc.contains(b)){b=e;break a}}else{b=e;break a}b=
null}if((e=this.fk=b)&&e.el)this.np&&(h=this.np(e.ei,e.Bc,c,d)),c=new Mn("dragover",0,this.xf,0,e.ei),c.uM=h,this.dispatchEvent(c),e.el.dispatchEvent(new Mn("dragover",0,this.xf,0,e.ei,0,a.clientX,a.clientY,0,0,h));else if(!e){this.Se||(this.Se=new Nn(this.ui.clone()));a=this.Se.Bc;a.top=this.ui.top;a.right=this.ui.right;a.bottom=this.ui.bottom;a.left=this.ui.left;for(h=0;e=this.Gm[h];h++)b=e.Bc,e.Po&&(e=e.Po.Bc,b=new vh(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,e.bottom),
Math.max(b.left,e.left))),e=null,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),k=null,d>=b.bottom?k=b.bottom>a.top?b.bottom:a.top:d<b.top&&(k=b.top<a.bottom?b.top:a.bottom),null===e||null===k||(Math.abs(e-c)>Math.abs(k-d)?k=null:e=null),null!==e?e<=c?a.left=e:a.right=e:null!==k&&(k<=d?a.top=k:a.bottom=k);this.fk=10<=(a.right-a.left)*(a.bottom-a.top)?this.Se:null}}};f.jD=function(){return!1};
f.cz=function(a){for(var b=0,c;c=this.Qo[b];b++)if(a.target==c.q){var d=c.kC-c.q.scrollTop,e=c.jC-c.q.scrollLeft;c.kC=c.q.scrollTop;c.jC=c.q.scrollLeft;this.Se&&this.fk==this.Se&&(0<d?this.Se.Bc.top+=d:this.Se.Bc.bottom+=d,0<e?this.Se.Bc.left+=e:this.Se.Bc.right+=e);for(var h=0,k;k=c.Rt[h];h++)k=k.Bc,k.top+=d,k.left+=e,k.bottom+=d,k.right+=e,On(this,k)}this.Ma.yj(a)};
f.Vt=function(a){a:{for(var b=a.cloneNode(!0),c=a.getElementsByTagName("textarea"),d=b.getElementsByTagName("textarea"),e=0;e<c.length;e++)d[e].value=c[e].value;switch(a.tagName.toLowerCase()){case "tr":a=O("table",null,O("tbody",null,b));break a;case "td":case "th":a=O("table",null,O("tbody",null,O("tr",null,b)));break a;case "textarea":b.value=a.value;default:a=b}}this.DG&&fl(a,this.DG);return a};f.Hq=function(){return this.Ma};
function On(a,b){if(1==a.Gm.length)a.ui=new vh(b.top,b.right,b.bottom,b.left);else{var c=a.ui;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}f.f=function(){In.d.f.call(this);Ln(this)};function Mn(a,b,c,d,e,h,k,l,n,p,m){Ec.call(this,a);this.zq=c;this.Xl=e;this.clientX=k;this.clientY=l;this.uM=m}w(Mn,Ec);Mn.prototype.f=function(){};
function Pn(a,b){ad.call(this);this.element=Ph(a);this.data=b;this.Va=null;this.Ec=new hj(this);Ac(this,va(Bc,this.Ec));if(!this.element)throw Error("Invalid argument");}w(Pn,ad);f=Pn.prototype;f.aj=null;f.vg=function(a){if(Kc(a)){var b=a.target;b&&(this.Ec.D(b,"mousemove",this.uB,!1).D(b,"mouseout",this.uB,!1),this.Ec.D(Oh(b),"mouseup",this.ZJ,!0),this.aj=b,this.Hw=new th(a.clientX,a.clientY),a.preventDefault())}};f.Zo=function(a){this.Va=a};
f.uB=function(a){var b=this.aj,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Hw.x)+Math.abs(a.clientY-this.Hw.y)||b)this.Ec.zg(),this.Va.jp(a,this)};f.ZJ=function(){this.Ec.zg();delete this.Hw;this.aj=null};function Nn(a,b,c,d){this.Bc=a;this.el=b;this.ei=c;this.q=d}Nn.prototype.Po=null;function Qn(a,b){this.type=a;this.currentTarget=this.target=b||null}f=Qn.prototype;f.xg=!1;f.defaultPrevented=!1;f.No=!0;f.stopPropagation=function(){this.xg=!0};f.preventDefault=function(){this.defaultPrevented=!0;this.No=!1};
function Rn(a){a=new Qn("click",a);a.button=0;var b=void 0;if(!b&&a.target&&1==a.target.nodeType)try{b=Pi(a.target)}catch(c){}a.clientX=b?b.x:0;a.clientY=b?b.y:0;a.screenX=a.clientX;a.screenY=a.clientY;a.No=!0;for(var b=[],d=a.target;d;d=d.parentNode)b.push(d);for(d=b.length-1;0<=d&&!a.xg;d--){var e=b[d],h=a.type,k=new Ic(a,b[d]);hb(e)?bd(e,h,!0,k):Yc(e,h,!0,k)}for(d=0;d<b.length&&!a.xg;d++)e=b[d],h=a.type,k=new Ic(a,b[d]),hb(e)?bd(e,h,!1,k):Yc(e,h,!1,k)};function Sn(a,b){if(!a)throw Error("Invalid class name "+a);if(!la(b))throw Error("Invalid decorator function "+b);Tn[a]=b}var Un={},Tn={};function Vn(){}var Wn;ga(Vn);var Xn={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};f=Vn.prototype;f.ah=function(){};f.B=function(a){var b=a.O().B("div",this.Ak(a).join(" "),a.getContent());Yn(this,a,b);return b};f.Ha=function(a){return a};f.wk=function(a,b,c){if(a=a.a?a.a():a){var d=[b];E&&!qc("7")&&(d=Zn(dl(a),b),d.push(b));(c?gl:il)(a,d)}};f.Re=function(){return!0};
f.Kb=function(a,b){b.id&&pj(a,b.id);var c=this.Ha(b);c&&c.firstChild?$n(a,c.firstChild.nextSibling?Ob(c.childNodes):c.firstChild):a.Tc=null;var d=0,e=this.$(),h=this.$(),k=!1,l=!1,c=!1,n=Ob(dl(b));D(n,function(a){k||a!=e?l||a!=h?d|=this.Du(a):l=!0:(k=!0,h==e&&(l=!0))},this);a.U=d;k||(n.push(e),h==e&&(l=!0));l||n.push(h);var p=a.kg;p&&n.push.apply(n,p);if(E&&!qc("7")){var m=Zn(n);0<m.length&&(n.push.apply(n,m),c=!0)}if(!k||!l||p||c)b.className=n.join(" ");Yn(this,a,b);return b};
f.pm=function(a){a.We()&&this.Bm(a.a(),!0);a.isEnabled()&&this.Dj(a,a.va())};function ao(a,b,c){if(a=c||a.ah())c=b.getAttribute("role")||null,a!=c&&al(b,a)}function Yn(a,b,c){b.va()||bl(c,"hidden",!b.va());b.isEnabled()||a.vh(c,1,!b.isEnabled());bo(b,8)&&a.vh(c,8,!!(b.U&8));bo(b,16)&&a.vh(c,16,b.gh());bo(b,64)&&a.vh(c,64,!!(b.U&64))}f.Ro=function(a,b){aj(a,!b,!E&&!hc)};f.Bm=function(a,b){this.wk(a,this.$()+"-rtl",b)};f.di=function(a){var b;return bo(a,32)&&(b=a.uc())?oi(b)&&pi(b):!1};
f.Dj=function(a,b){var c;if(bo(a,32)&&(c=a.uc())){if(!b&&a.U&32){try{c.blur()}catch(d){}a.U&32&&a.Fk(null)}(oi(c)&&pi(c))!=b&&ni(c,b)}};f.ca=function(a,b){Yi(a,b);a&&bl(a,"hidden",!b)};f.xc=function(a,b,c){var d=a.a();if(d){var e=this.Sn(b);e&&this.wk(a,e,c);this.vh(d,b,c)}};f.vh=function(a,b,c){Wn||(Wn={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=Wn[b];var d=a.getAttribute("role")||null;d&&(d=Xn[d]||b,b="checked"==b||"selected"==b?d:b);b&&bl(a,b,c)};
f.cl=function(a,b){var c=this.Ha(a);if(c&&(bi(c),b))if(r(b))ki(c,b);else{var d=function(a){if(a){var b=Oh(c);c.appendChild(r(a)?b.createTextNode(a):a)}};g(b)?D(b,d):!ia(b)||"nodeType"in b?d(b):D(Ob(b),d)}};f.uc=function(a){return a.a()};f.$=function(){return"goog-control"};f.Ak=function(a){var b=this.$(),c=[b],d=this.$();d!=b&&c.push(d);b=a.gm();for(d=[];b;){var e=b&-b;d.push(this.Sn(e));b&=~e}c.push.apply(c,d);(a=a.kg)&&c.push.apply(c,a);E&&!qc("7")&&c.push.apply(c,Zn(c));return c};
function Zn(a,b){var c=[];b&&(a=a.concat([b]));D([],function(d){!Gb(d,va(Jb,a))||b&&!Jb(d,b)||c.push(d.join("_"))});return c}f.Sn=function(a){this.mq||co(this);return this.mq[a]};f.Du=function(a){if(!this.gD){this.mq||co(this);var b=this.mq,c={},d;for(d in b)c[b[d]]=d;this.gD=c}a=parseInt(this.gD[a],10);return isNaN(a)?0:a};function co(a){var b=a.$();b.replace(/\xa0|\s/g," ");a.mq={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function eo(a,b){ad.call(this);a&&this.Ql(a,b)}w(eo,ad);f=eo.prototype;f.q=null;f.nr=null;f.av=null;f.or=null;f.Xe=-1;f.xj=-1;f.Bt=!1;
var fo={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},go={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ho=E||jc&&qc("525"),io=dc&&ic;f=eo.prototype;
f.Tq=function(a){jc&&(17==this.Xe&&!a.ctrlKey||18==this.Xe&&!a.altKey||dc&&91==this.Xe&&!a.metaKey)&&(this.xj=this.Xe=-1);-1==this.Xe&&(a.ctrlKey&&17!=a.keyCode?this.Xe=17:a.altKey&&18!=a.keyCode?this.Xe=18:a.metaKey&&91!=a.keyCode&&(this.Xe=91));ho&&!ll(a.keyCode,this.Xe,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.xj=nl(a.keyCode),io&&(this.Bt=a.altKey))};f.WI=function(a){this.xj=this.Xe=-1;this.Bt=a.altKey};
f.handleEvent=function(a){var b=a.Vc,c,d,e=b.altKey;E&&"keypress"==a.type?(c=this.xj,d=13!=c&&27!=c?b.keyCode:0):jc&&"keypress"==a.type?(c=this.xj,d=0<=b.charCode&&63232>b.charCode&&ml(c)?b.charCode:0):hc?(c=this.xj,d=ml(c)?b.keyCode:0):(c=b.keyCode||this.xj,d=b.charCode||0,io&&(e=this.Bt),dc&&63==d&&224==c&&(c=191));var h=c=nl(c),k=b.keyIdentifier;c?63232<=c&&c in fo?h=fo[c]:25==c&&a.shiftKey&&(h=9):k&&k in go&&(h=go[k]);a=h==this.Xe;this.Xe=h;b=new jo(h,d,a,b);b.altKey=e;this.dispatchEvent(b)};
f.a=function(){return this.q};f.Ql=function(a,b){this.or&&this.detach();this.q=a;this.nr=F(this.q,"keypress",this,b);this.av=F(this.q,"keydown",this.Tq,b,this);this.or=F(this.q,"keyup",this.WI,b,this)};f.detach=function(){this.nr&&(Wc(this.nr),Wc(this.av),Wc(this.or),this.or=this.av=this.nr=null);this.q=null;this.xj=this.Xe=-1};f.f=function(){eo.d.f.call(this);this.detach()};function jo(a,b,c,d){Ic.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}w(jo,Ic);function ko(a,b,c){lj.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=na(b);if(d=Un[d])break;b=b.d?b.d.constructor:null}b=d?la(d.te)?d.te():new d:null}this.wa=b;this.Tc=da(a)?a:null}w(ko,lj);f=ko.prototype;f.Tc=null;f.U=0;f.op=39;f.vn=255;f.lp=0;f.Nc=!0;f.kg=null;f.Hk=!0;f.fq=!1;f.fw=null;f.Yo=function(a){this.ma&&a!=this.Hk&&lo(this,a);this.Hk=a};f.uc=function(){return this.wa.uc(this)};f.Lq=function(){return this.tb||(this.tb=new eo)};f.Ua=function(){return this.wa};
f.wk=function(a,b){b?a&&(this.kg?Jb(this.kg,a)||this.kg.push(a):this.kg=[a],this.wa.wk(this,a,!0)):a&&this.kg&&Mb(this.kg,a)&&(0==this.kg.length&&(this.kg=null),this.wa.wk(this,a,!1))};f.B=function(){var a=this.wa.B(this);this.q=a;ao(this.wa,a,this.nj());this.fq||this.wa.Ro(a,!1);this.va()||this.wa.ca(a,!1)};f.nj=function(){return this.fw};f.Ha=function(){return this.wa.Ha(this.a())};f.Re=function(a){return this.wa.Re(a)};
f.pe=function(a){this.q=a=this.wa.Kb(this,a);ao(this.wa,a,this.nj());this.fq||this.wa.Ro(a,!1);this.Nc="none"!=a.style.display};f.ib=function(){ko.d.ib.call(this);this.wa.pm(this);if(this.op&-2&&(this.Hk&&lo(this,!0),bo(this,32))){var a=this.uc();if(a){var b=this.Lq();b.Ql(a);this.jb().D(b,"key",this.dh).D(a,"focus",this.Gk).D(a,"blur",this.Fk)}}};
function lo(a,b){var c=a.jb(),d=a.a();b?(c.D(d,"mouseover",a.Ik).D(d,"mousedown",a.eh).D(d,"mouseup",a.og).D(d,"mouseout",a.Vq),a.Yn!=fa&&c.D(d,"contextmenu",a.Yn),E&&c.D(d,"dblclick",a.FA)):(c.wb(d,"mouseover",a.Ik).wb(d,"mousedown",a.eh).wb(d,"mouseup",a.og).wb(d,"mouseout",a.Vq),a.Yn!=fa&&c.wb(d,"contextmenu",a.Yn),E&&c.wb(d,"dblclick",a.FA))}f.Fc=function(){ko.d.Fc.call(this);this.tb&&this.tb.detach();this.va()&&this.isEnabled()&&this.wa.Dj(this,!1)};
f.f=function(){ko.d.f.call(this);this.tb&&(this.tb.g(),delete this.tb);delete this.wa;this.kg=this.Tc=null};f.getContent=function(){return this.Tc};f.cl=function(a){this.wa.cl(this.a(),a);this.Tc=a};function $n(a,b){a.Tc=b}f.Fq=function(){var a=this.getContent();if(!a)return"";a=r(a)?a:g(a)?Eb(a,si).join(""):qi(a);return Ha(a)};f.Bm=function(a){ko.d.Bm.call(this,a);var b=this.a();b&&this.wa.Bm(b,a)};f.Ro=function(a){this.fq=a;var b=this.a();b&&this.wa.Ro(b,a)};f.va=function(){return this.Nc};
f.ca=function(a,b){if(b||this.Nc!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.wa.ca(c,a);this.isEnabled()&&this.wa.Dj(this,a);this.Nc=a;return!0}return!1};f.isEnabled=function(){return!(this.U&1)};f.Mb=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!mo(this,1,!a)||(a||(this.setActive(!1),this.Bg(!1)),this.va()&&this.wa.Dj(this,a),this.xc(1,!a))};f.Bg=function(a){mo(this,2,a)&&this.xc(2,a)};f.fh=function(){return!!(this.U&4)};
f.setActive=function(a){mo(this,4,a)&&this.xc(4,a)};f.bp=function(a){mo(this,8,a)&&this.xc(8,a)};f.gh=function(){return!!(this.U&16)};f.Fd=function(a){mo(this,16,a)&&this.xc(16,a)};f.jc=function(a){mo(this,64,a)&&this.xc(64,a)};f.gm=function(){return this.U};f.xc=function(a,b){bo(this,a)&&b!=!!(this.U&a)&&(this.wa.xc(this,a,b),this.U=b?this.U|a:this.U&~a)};function bo(a,b){return!!(a.op&b)}
f.pd=function(a,b){if(this.ma&&this.U&a&&!b)throw Error("Component already rendered");!b&&this.U&a&&this.xc(a,!1);this.op=b?this.op|a:this.op&~a};function no(a,b){return!!(a.vn&b)&&bo(a,b)}function mo(a,b,c){return bo(a,b)&&!!(a.U&b)!=c&&(!(a.lp&b)||a.dispatchEvent(nj(b,c)))&&!a.rk}f.Ik=function(a){(!a.relatedTarget||!ji(this.a(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&no(this,2)&&this.Bg(!0)};
f.Vq=function(a){a.relatedTarget&&ji(this.a(),a.relatedTarget)||!this.dispatchEvent("leave")||(no(this,4)&&this.setActive(!1),no(this,2)&&this.Bg(!1))};f.Yn=fa;f.eh=function(a){this.isEnabled()&&(no(this,2)&&this.Bg(!0),Kc(a)&&(no(this,4)&&this.setActive(!0),this.wa.di(this)&&this.uc().focus()));!this.fq&&Kc(a)&&a.preventDefault()};f.og=function(a){this.isEnabled()&&(no(this,2)&&this.Bg(!0),this.fh()&&this.Uk(a)&&no(this,4)&&this.setActive(!1))};f.FA=function(a){this.isEnabled()&&this.Uk(a)};
f.Uk=function(a){no(this,16)&&this.Fd(!this.gh());no(this,8)&&this.bp(!0);no(this,64)&&this.jc(!(this.U&64));var b=new Ec("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.cw=a.cw);return this.dispatchEvent(b)};f.Gk=function(){no(this,32)&&mo(this,32,!0)&&this.xc(32,!0)};f.Fk=function(){no(this,4)&&this.setActive(!1);no(this,32)&&mo(this,32,!1)&&this.xc(32,!1)};
f.dh=function(a){return this.va()&&this.isEnabled()&&this.ng(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};f.ng=function(a){return 13==a.keyCode&&this.Uk(a)};if(!la(ko))throw Error("Invalid component class "+ko);if(!la(Vn))throw Error("Invalid renderer class "+Vn);var oo=na(ko);Un[oo]=Vn;Sn("goog-control",function(){return new ko(null)});function po(){this.Zy=[]}w(po,Vn);ga(po);function qo(a,b){var c=a.Zy[b];if(!c){switch(b){case 0:c=a.$()+"-highlight";break;case 1:c=a.$()+"-checkbox";break;case 2:c=a.$()+"-content"}a.Zy[b]=c}return c}f=po.prototype;f.ah=function(){return"menuitem"};f.B=function(a){var b=a.O().B("div",this.Ak(a).join(" "),ro(this,a.getContent(),a.O()));so(this,a,b,bo(a,8)||bo(a,16));return b};f.Ha=function(a){return a&&a.firstChild};
f.Kb=function(a,b){var c=fi(b),d=qo(this,2);c&&el(c,d)||b.appendChild(ro(this,b.childNodes,a.O()));el(b,"goog-option")&&(a.ks(!0),this.ks(a,b,!0));return po.d.Kb.call(this,a,b)};f.cl=function(a,b){var c=this.Ha(a),d=to(this,a)?c.firstChild:null;po.d.cl.call(this,a,b);d&&!to(this,a)&&c.insertBefore(d,c.firstChild||null)};function ro(a,b,c){a=qo(a,2);return c.B("div",a,b)}f.GC=function(a,b,c){a&&b&&so(this,a,b,c)};f.ks=function(a,b,c){a&&b&&so(this,a,b,c)};
function to(a,b){var c=a.Ha(b);if(c){var c=c.firstChild,d=qo(a,1);return!!c&&ii(c)&&el(c,d)}return!1}function so(a,b,c,d){ao(a,c,b.nj());Yn(a,b,c);d!=to(a,c)&&(jl(c,"goog-option",d),c=a.Ha(c),d?(a=qo(a,1),c.insertBefore(b.O().B("div",a),c.firstChild||null)):c.removeChild(c.firstChild))}f.Sn=function(a){switch(a){case 2:return qo(this,0);case 16:case 8:return"goog-option-selected";default:return po.d.Sn.call(this,a)}};
f.Du=function(a){var b=qo(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return po.d.Du.call(this,a)}};f.$=function(){return"goog-menuitem"};function uo(a,b,c,d){ko.call(this,a,d||po.te(),c);this.C(b)}w(uo,ko);f=uo.prototype;f.w=function(){var a=this.tv;return null!=a?a:this.Fq()};f.C=function(a){this.tv=a};f.pd=function(a,b){uo.d.pd.call(this,a,b);switch(a){case 8:this.gh()&&!b&&this.Fd(!1);var c=this.a();c&&this.Ua().GC(this,c,b);break;case 16:(c=this.a())&&this.Ua().ks(this,c,b)}};f.GC=function(a){this.pd(8,a)};f.ks=function(a){this.pd(16,a)};
f.Fq=function(){var a=this.getContent();return g(a)?(a=Eb(a,function(a){return ii(a)&&(el(a,"goog-menuitem-accel")||el(a,"goog-menuitem-mnemonic-separator"))?"":si(a)}).join(""),Ha(a)):uo.d.Fq.call(this)};f.og=function(a){var b=this.getParent();if(b){var c=b.QB;b.QB=null;if(b=c&&u(a.clientX))b=new th(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}uo.d.og.call(this,a)};f.ng=function(a){return a.keyCode==this.tB&&this.Uk(a)?!0:uo.d.ng.call(this,a)};f.TH=function(){return this.tB};
Sn("goog-menuitem",function(){return new uo(null)});uo.prototype.nj=function(){return bo(this,16)?"menuitemcheckbox":bo(this,8)?"menuitemradio":uo.d.nj.call(this)};function vo(a){this.Oy=a}ga(vo);f=vo.prototype;f.ah=function(){return this.Oy};function wo(a,b){a&&(a.tabIndex=b?0:-1)}f.B=function(a){return a.O().B("div",this.Ak(a).join(" "))};f.Ha=function(a){return a};f.Re=function(a){return"DIV"==a.tagName};f.Kb=function(a,b){b.id&&pj(a,b.id);var c=this.$(),d=!1,e=dl(b);e&&D(e,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Mb(!1):b==c+"-horizontal"?a.ri(xo):b==c+"-vertical"&&a.ri(yo))},this);d||fl(b,c);zo(this,a,this.Ha(b));return b};
function zo(a,b,c){if(c)for(var d=c.firstChild,e;d&&d.parentNode==c;){e=d.nextSibling;if(1==d.nodeType){var h=a.wu(d);h&&(h.q=d,b.isEnabled()||h.Mb(!1),b.tn(h),h.Kb(d))}else d.nodeValue&&""!=Ia(d.nodeValue)||c.removeChild(d);d=e}}f.wu=function(a){a:{var b;a=dl(a);for(var c=0,d=a.length;c<d;c++)if(b=a[c],b=b in Tn?Tn[b]():null){a=b;break a}a=null}return a};f.pm=function(a){a=a.a();aj(a,!0,ic);E&&(a.hideFocus=!0);var b=this.ah();b&&al(a,b)};f.uc=function(a){return a.a()};f.$=function(){return"goog-container"};
f.Ak=function(a){var b=this.$(),c=[b,a.Xb()==xo?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function Ao(){}w(Ao,Vn);ga(Ao);Ao.prototype.B=function(a){return a.O().B("div",this.$())};Ao.prototype.Kb=function(a,b){b.id&&pj(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);ci(b,c);R(c)}else fl(b,this.$());return b};Ao.prototype.cl=function(){};Ao.prototype.$=function(){return"goog-menuseparator"};function Bo(a,b){ko.call(this,null,a||Ao.te(),b);this.pd(1,!1);this.pd(2,!1);this.pd(4,!1);this.pd(32,!1);this.U=1}w(Bo,ko);Bo.prototype.ib=function(){Bo.d.ib.call(this);al(this.a(),"separator")};Sn("goog-menuseparator",function(){return new Bo});function Co(a){this.Oy=a||"menu"}w(Co,vo);ga(Co);f=Co.prototype;f.Re=function(a){return"UL"==a.tagName||Co.d.Re.call(this,a)};f.wu=function(a){return"HR"==a.tagName?new Bo:Co.d.wu.call(this,a)};f.mk=function(a,b){return ji(a.a(),b)};f.$=function(){return"goog-menu"};f.pm=function(a){Co.d.pm.call(this,a);bl(a.a(),"haspopup","true")};function Do(a,b,c,d,e,h,k,l,n){var p,m;if(p=c.offsetParent){var q="HTML"==p.tagName||"BODY"==p.tagName;q&&"static"==Ei(p)||(m=Mi(p),q||(q=(q=Ni(p))&&ic?-p.scrollLeft:!q||E&&qc("8")||"visible"==Di(p,"overflowX")?p.scrollLeft:p.scrollWidth-p.clientWidth-p.scrollLeft,m=uh(m,new th(q,p.scrollTop))))}p=m||new th;m=Wi(a);(q=Li(a))&&m.$A(new yh(q.left,q.top,q.right-q.left,q.bottom-q.top));var q=Mh(a),t=Mh(c);if(q.la!=t.la){var s=q.la.body,t=yi(t),z=new th(0,0),y=Yh(Oh(s)),I=s;do{var P=y==t?Mi(I):Qi(I);z.x+=
P.x;z.y+=P.y}while(y&&y!=t&&(I=y.frameElement)&&(y=y.parent));s=uh(z,Mi(s));E&&!xi(q)&&(s=uh(s,zi(q)));m.left+=s.x;m.top+=s.y}a=Eo(a,b);b=new th(a&2?m.left+m.width:m.left,a&1?m.top+m.height:m.top);b=uh(b,p);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var N;if(k)if(n)N=n;else if(N=Li(c))N.top-=p.y,N.right-=p.x,N.bottom-=p.y,N.left-=p.x;return Fo(b,c,d,h,N,k,l)}
function Fo(a,b,c,d,e,h,k){a=a.clone();var l=0,n=Eo(b,c);c=S(b);k=k?k.clone():c.clone();if(d||0!=n)n&2?a.x-=k.width+(d?d.right:0):d&&(a.x+=d.left),n&1?a.y-=k.height+(d?d.bottom:0):d&&(a.y+=d.top);if(h&&(e?(l=a,d=0,65==(h&65)&&(l.x<e.left||l.x>=e.right)&&(h&=-2),132==(h&132)&&(l.y<e.top||l.y>=e.bottom)&&(h&=-5),l.x<e.left&&h&1&&(l.x=e.left,d|=1),l.x<e.left&&l.x+k.width>e.right&&h&16&&(k.width=Math.max(k.width-(l.x+k.width-e.right),0),d|=4),l.x+k.width>e.right&&h&1&&(l.x=Math.max(e.right-k.width,e.left),
d|=1),h&2&&(d=d|(l.x<e.left?16:0)|(l.x+k.width>e.right?32:0)),l.y<e.top&&h&4&&(l.y=e.top,d|=2),l.y<=e.top&&l.y+k.height<e.bottom&&h&32&&(k.height=Math.max(k.height-(e.top-l.y),0),l.y=e.top,d|=8),l.y>=e.top&&l.y+k.height>e.bottom&&h&32&&(k.height=Math.max(k.height-(l.y+k.height-e.bottom),0),d|=8),l.y+k.height>e.bottom&&h&4&&(l.y=Math.max(e.bottom-k.height,e.top),d|=2),h&8&&(d=d|(l.y<e.top?64:0)|(l.y+k.height>e.bottom?128:0)),l=d):l=256,l&496))return l;Fi(b,a);xh(c,k)||(e=xi(Mh(Oh(b))),!E||e&&qc("8")?
(b=b.style,ic?b.MozBoxSizing="border-box":jc?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(k.width,0)+"px",b.height=Math.max(k.height,0)+"px"):(a=b.style,e?(e=dj(b,"padding"),b=gj(b),a.pixelWidth=k.width-b.left-e.left-e.right-b.right,a.pixelHeight=k.height-b.top-e.top-e.bottom-b.bottom):(a.pixelWidth=k.width,a.pixelHeight=k.height)));return l}function Eo(a,b){return(b&4&&Ni(a)?b^2:b)&-5};var Go,Ho;Ho=Go=!1;var Io=Vb;Io&&(-1!=Io.indexOf("Firefox")||-1!=Io.indexOf("Camino")||(-1!=Io.indexOf("iPhone")||-1!=Io.indexOf("iPod")?Go=!0:-1!=Io.indexOf("iPad")&&(Ho=!0)));var Jo=Go,Ko=Ho;Sn("goog-menuseparator",function(){return new Bo});function Lo(a,b,c){lj.call(this,c);this.wa=b||vo.te();this.Ja=a||yo}w(Lo,lj);var xo="horizontal",yo="vertical";f=Lo.prototype;f.bv=null;f.tb=null;f.wa=null;f.Ja=null;f.Nc=!0;f.Vb=!0;f.qu=!0;f.Ve=-1;f.Jc=null;f.hi=!1;f.TF=!1;f.yL=!0;f.Sh=null;f.uc=function(){return this.bv||this.wa.uc(this)};f.Lq=function(){return this.tb||(this.tb=new eo(this.uc()))};f.Ua=function(){return this.wa};f.B=function(){this.q=this.wa.B(this)};f.Ha=function(){return this.wa.Ha(this.a())};f.Re=function(a){return this.wa.Re(a)};
f.pe=function(a){this.q=this.wa.Kb(this,a);"none"==a.style.display&&(this.Nc=!1)};f.ib=function(){Lo.d.ib.call(this);rj(this,function(a){a.ma&&Mo(this,a)},this);var a=this.a();this.wa.pm(this);this.ca(this.Nc,!0);this.jb().D(this,"enter",this.Ku).D(this,"highlight",this.Lu).D(this,"unhighlight",this.Mu).D(this,"open",this.$I).D(this,"close",this.RI).D(a,"mousedown",this.eh).D(Oh(a),"mouseup",this.TI).D(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.QI);this.di()&&No(this,!0)};
function No(a,b){var c=a.jb(),d=a.uc();b?c.D(d,"focus",a.Gk).D(d,"blur",a.Fk).D(a.Lq(),"key",a.dh):c.wb(d,"focus",a.Gk).wb(d,"blur",a.Fk).wb(a.Lq(),"key",a.dh)}f.Fc=function(){this.qh(-1);this.Jc&&this.Jc.jc(!1);this.hi=!1;Lo.d.Fc.call(this)};f.f=function(){Lo.d.f.call(this);this.tb&&(this.tb.g(),this.tb=null);this.wa=this.Jc=this.Sh=this.bv=null};f.Ku=function(){return!0};
f.Lu=function(a){var b=uj(this,a.target);if(-1<b&&b!=this.Ve){var c=Oo(this);c&&c.Bg(!1);this.Ve=b;c=Oo(this);this.hi&&c.setActive(!0);this.yL&&this.Jc&&c!=this.Jc&&(bo(c,64)?c.jc(!0):this.Jc.jc(!1))}b=this.a();null!=a.target.a()&&bl(b,"activedescendant",a.target.a().id)};f.Mu=function(a){a.target==Oo(this)&&(this.Ve=-1);this.a().removeAttribute("aria-activedescendant")};f.$I=function(a){(a=a.target)&&a!=this.Jc&&a.getParent()==this&&(this.Jc&&this.Jc.jc(!1),this.Jc=a)};
f.RI=function(a){a.target==this.Jc&&(this.Jc=null)};f.eh=function(a){this.Vb&&(this.hi=!0);var b=this.uc();b&&oi(b)&&pi(b)?b.focus():a.preventDefault()};f.TI=function(){this.hi=!1};f.QI=function(a){var b;a:{b=a.target;if(this.Sh)for(var c=this.a();b&&b!==c;){var d=b.id;if(d in this.Sh){b=this.Sh[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.eh(a);break;case "mouseup":b.og(a);break;case "mouseover":b.Ik(a);break;case "mouseout":b.Vq(a);break;case "contextmenu":b.Yn(a)}};
f.Gk=function(){};f.Fk=function(){this.qh(-1);this.hi=!1;this.Jc&&this.Jc.jc(!1)};f.dh=function(a){return this.isEnabled()&&this.va()&&(0!=sj(this)||this.bv)&&this.ng(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
f.ng=function(a){var b=Oo(this);if(b&&"function"==typeof b.dh&&b.dh(a)||this.Jc&&this.Jc!=b&&"function"==typeof this.Jc.dh&&this.Jc.dh(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.di())this.uc().blur();else return!1;break;case 36:Po(this);break;case 35:Qo(this);break;case 38:if(this.Ja==yo)Ro(this);else return!1;break;case 37:if(this.Ja==xo)this.We()?So(this):Ro(this);else return!1;break;case 40:if(this.Ja==yo)So(this);else return!1;break;case 39:if(this.Ja==
xo)this.We()?Ro(this):So(this);else return!1;break;default:return!1}return!0};function Mo(a,b){var c=b.a(),c=c.id||(c.id=oj(b));a.Sh||(a.Sh={});a.Sh[c]=b}f.tn=function(a,b){Lo.d.tn.call(this,a,b)};f.wt=function(a,b,c){a.lp|=2;a.lp|=64;!this.di()&&this.TF||a.pd(32,!1);a.Yo(!1);Lo.d.wt.call(this,a,b,c);a.ma&&this.ma&&Mo(this,a);b<=this.Ve&&this.Ve++};
f.removeChild=function(a,b){if(a=r(a)?qj(this,a):a){var c=uj(this,a);-1!=c&&(c==this.Ve?(a.Bg(!1),this.Ve=-1):c<this.Ve&&this.Ve--);(c=a.a())&&c.id&&this.Sh&&ub(this.Sh,c.id)}a=Lo.d.removeChild.call(this,a,b);a.Yo(!0);return a};f.Xb=function(){return this.Ja};f.ri=function(a){if(this.a())throw Error("Component already rendered");this.Ja=a};f.va=function(){return this.Nc};
f.ca=function(a,b){if(b||this.Nc!=a&&this.dispatchEvent(a?"show":"hide")){this.Nc=a;var c=this.a();c&&(Yi(c,a),this.di()&&wo(this.uc(),this.Vb&&this.Nc),b||this.dispatchEvent(this.Nc?"aftershow":"afterhide"));return!0}return!1};f.isEnabled=function(){return this.Vb};
f.Mb=function(a){this.Vb!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Vb=!0,rj(this,function(a){a.DD?delete a.DD:a.Mb(!0)})):(rj(this,function(a){a.isEnabled()?a.Mb(!1):a.DD=!0}),this.hi=this.Vb=!1),this.di()&&wo(this.uc(),a&&this.Nc))};f.di=function(){return this.qu};f.Dj=function(a){a!=this.qu&&this.ma&&No(this,a);this.qu=a;this.Vb&&this.Nc&&wo(this.uc(),a)};f.qh=function(a){(a=tj(this,a))?a.Bg(!0):-1<this.Ve&&Oo(this).Bg(!1)};f.Bg=function(a){this.qh(uj(this,a))};
function Oo(a){return tj(a,a.Ve)}function Po(a){To(a,function(a,c){return(a+1)%c},sj(a)-1)}function Qo(a){To(a,function(a,c){a--;return 0>a?c-1:a},0)}function So(a){To(a,function(a,c){return(a+1)%c},a.Ve)}function Ro(a){To(a,function(a,c){a--;return 0>a?c-1:a},a.Ve)}function To(a,b,c){c=0>c?uj(a,a.Jc):c;var d=sj(a);c=b.call(a,c,d);for(var e=0;e<=d;){var h=tj(a,c);if(h&&a.Xy(h)){a.qh(c);break}e++;c=b.call(a,c,d)}}f.Xy=function(a){return a.va()&&a.isEnabled()&&bo(a,2)};function Uo(){}w(Uo,Vn);ga(Uo);Uo.prototype.$=function(){return"goog-menuheader"};function Vo(a,b,c){ko.call(this,a,c||Uo.te(),b);this.pd(1,!1);this.pd(2,!1);this.pd(4,!1);this.pd(32,!1);this.U=1}w(Vo,ko);Sn("goog-menuheader",function(){return new Vo(null)});function Wo(a,b){Lo.call(this,yo,b||Co.te(),a);this.Dj(!1)}w(Wo,Lo);f=Wo.prototype;f.At=!0;f.UF=!1;f.$=function(){return this.Ua().$()};f.mk=function(a){if(this.Ua().mk(this,a))return!0;for(var b=0,c=sj(this);b<c;b++){var d=tj(this,b);if("function"==typeof d.mk&&d.mk(a))return!0}return!1};f.gk=function(a){this.tn(a,!0)};f.vw=function(a,b){var c=this.va();c||Yi(this.a(),!0);var d=this.a(),e=a,h=b,k=Mi(d);e instanceof th&&(h=e.y,e=e.x);Fi(d,d.offsetLeft+(e-k.x),d.offsetTop+(h-k.y));c||Yi(this.a(),!1)};
f.ca=function(a,b,c){(b=Wo.d.ca.call(this,a,b))&&a&&this.ma&&this.At&&this.uc().focus();this.QB=a&&c&&u(c.clientX)?new th(c.clientX,c.clientY):null;return b};f.Ku=function(a){this.At&&this.uc().focus();return Wo.d.Ku.call(this,a)};f.Xy=function(a){return(this.UF||a.isEnabled())&&a.va()&&bo(a,2)};f.pe=function(a){var b=this.Ua(),c;c=this.O();c=Sh(c.la,"div",b.$()+"-content",a);for(var d=c.length,e=0;e<d;e++)zo(b,this,c[e]);Wo.d.pe.call(this,a)};
f.ng=function(a){var b=Wo.d.ng.call(this,a);b||rj(this,function(c){!b&&c.TH&&c.tB==a.keyCode&&(this.isEnabled()&&this.Bg(c),b=c.dh(a))},this);return b};f.qh=function(a){Wo.d.qh.call(this,a);var b=tj(this,a);if(b){a=this.a();var b=b.a(),c=Mi(b),d=Mi(a),e=gj(a),h=c.x-d.x-e.left,c=c.y-d.y-e.top,d=a.clientHeight-b.offsetHeight,e=a.scrollLeft,k=a.scrollTop,e=e+Math.min(h,Math.max(h-(a.clientWidth-b.offsetWidth),0)),k=k+Math.min(c,Math.max(c-d,0)),b=new th(e,k);a.scrollLeft=b.x;a.scrollTop=b.y}};function Xo(){}Xo.prototype.Be=function(){};function Yo(a,b,c){this.element=a;this.Dn=b;this.zL=c}w(Yo,Xo);Yo.prototype.Be=function(a,b,c){Do(this.element,this.Dn,a,b,void 0,c,this.zL)};function Zo(a,b,c,d){Yo.call(this,a,b);this.qr=c?5:0;this.$v=d||void 0}w(Zo,Yo);Zo.prototype.FH=function(){return this.qr};Zo.prototype.Be=function(a,b,c,d){var e=Do(this.element,this.Dn,a,b,null,c,10,d,this.$v);if(e&496){var h=$o(e,this.Dn);b=$o(e,b);e=Do(this.element,h,a,b,null,c,10,d,this.$v);e&496&&(h=$o(e,h),b=$o(e,b),Do(this.element,h,a,b,null,c,this.qr,d,this.$v))}};function $o(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function ap(a,b,c,d){Zo.call(this,a,b,c||d);if(c||d)this.qr=65|(d?32:132)}w(ap,Zo);function bp(){}w(bp,Vn);ga(bp);f=bp.prototype;f.ah=function(){return"button"};f.vh=function(a,b,c){switch(b){case 8:case 16:bl(a,"pressed",c);break;default:case 64:case 1:bp.d.vh.call(this,a,b,c)}};f.B=function(a){var b=bp.d.B.call(this,a);this.rs(b,a.Xn());var c=a.w();c&&this.C(b,c);bo(a,16)&&this.vh(b,16,a.gh());return b};f.Kb=function(a,b){b=bp.d.Kb.call(this,a,b);var c=this.w(b);a.Zc=c;a.Tw=this.Xn(b);bo(a,16)&&this.vh(b,16,a.gh());return b};f.w=fa;f.C=fa;f.Xn=function(a){return a.title};
f.rs=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};f.So=function(a,b){var c=a.We(),d=this.$()+"-collapse-left",e=this.$()+"-collapse-right";a.wk(c?e:d,!!(b&1));a.wk(c?d:e,!!(b&2))};f.$=function(){return"goog-button"};function cp(){}w(cp,bp);ga(cp);f=cp.prototype;f.ah=function(){};f.B=function(a){a.Yo(!1);a.vn&=-256;a.pd(32,!1);return a.O().B("button",{"class":this.Ak(a).join(" "),disabled:!a.isEnabled(),title:a.Xn()||"",value:a.w()||""},a.Fq()||"")};f.Re=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};f.Kb=function(a,b){a.Yo(!1);a.vn&=-256;a.pd(32,!1);if(b.disabled){var c=this.Sn(1);fl(b,c)}return cp.d.Kb.call(this,a,b)};
f.pm=function(a){a.jb().D(a.a(),"click",a.Uk)};f.Ro=fa;f.Bm=fa;f.di=function(a){return a.isEnabled()};f.Dj=fa;f.xc=function(a,b,c){cp.d.xc.call(this,a,b,c);(a=a.a())&&1==b&&(a.disabled=c)};f.w=function(a){return a.value};f.C=function(a,b){a&&(a.value=b)};f.vh=fa;function dp(a,b,c){ko.call(this,a,b||cp.te(),c)}w(dp,ko);f=dp.prototype;f.w=function(){return this.Zc};f.C=function(a){this.Zc=a;this.Ua().C(this.a(),a)};f.Xn=function(){return this.Tw};f.rs=function(a){this.Tw=a;this.Ua().rs(this.a(),a)};f.So=function(a){this.Ua().So(this,a)};f.f=function(){dp.d.f.call(this);delete this.Zc;delete this.Tw};f.ib=function(){dp.d.ib.call(this);if(bo(this,32)){var a=this.uc();a&&this.jb().D(a,"keyup",this.ng)}};
f.ng=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Uk(a):32==a.keyCode};Sn("goog-button",function(){return new dp(null)});function ep(){}w(ep,bp);ga(ep);f=ep.prototype;f.B=function(a){var b={"class":"goog-inline-block "+this.Ak(a).join(" ")},b=a.O().B("div",b,this.pq(a.getContent(),a.O()));this.rs(b,a.Xn());Yn(this,a,b);return b};f.ah=function(){return"button"};f.Ha=function(a){return a&&a.firstChild.firstChild};f.pq=function(a,b){return b.B("div","goog-inline-block "+(this.$()+"-outer-box"),b.B("div","goog-inline-block "+(this.$()+"-inner-box"),a))};f.Re=function(a){return"DIV"==a.tagName};
f.Kb=function(a,b){fp(b,!0);fp(b,!1);var c;a:{c=a.O().$z(b);var d=this.$()+"-outer-box";if(c&&el(c,d)&&(c=a.O().$z(c),d=this.$()+"-inner-box",c&&el(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.pq(b.childNodes,a.O()));gl(b,["goog-inline-block",this.$()]);return ep.d.Kb.call(this,a,b)};f.$=function(){return"goog-custom-button"};
function fp(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ia(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function gp(){}w(gp,ep);ga(gp);f=gp.prototype;f.Ha=function(a){return gp.d.Ha.call(this,a&&a.firstChild)};f.Kb=function(a,b){var c=Sh(document,"*","goog-menu",b)[0];if(c){Yi(c,!1);Oh(c).body.appendChild(c);var d=new Wo;d.Kb(c);hp(a,d)}return gp.d.Kb.call(this,a,b)};f.pq=function(a,b){return gp.d.pq.call(this,[this.createCaption(a,b),b.B("div","goog-inline-block "+(this.$()+"-dropdown"),"\u00a0")],b)};f.createCaption=function(a,b){return b.B("div","goog-inline-block "+(this.$()+"-caption"),a)};
f.$=function(){return"goog-menu-button"};function ip(a,b,c,d,e){dp.call(this,a,c||gp.te(),d);this.pd(64,!0);this.yr=new ap(null,5);b&&hp(this,b);this.RJ=null;this.P=new Yf(500);!Jo&&!Ko||qc("533.17.9")||(this.ir=!0);this.SJ=e||Co.te()}w(ip,dp);f=ip.prototype;f.ir=!1;f.ML=!1;f.ib=function(){ip.d.ib.call(this);jp(this,!0);this.W&&kp(this,this.W,!0);bl(this.q,"haspopup",!!this.W)};f.Fc=function(){ip.d.Fc.call(this);jp(this,!1);if(this.W){this.jc(!1);this.W.Fc();kp(this,this.W,!1);var a=this.W.a();a&&R(a)}};
f.f=function(){ip.d.f.call(this);this.W&&(this.W.g(),delete this.W);delete this.EL;this.P.g()};f.eh=function(a){ip.d.eh.call(this,a);this.fh()&&(this.jc(!(this.U&64),a),this.W&&(this.W.hi=!!(this.U&64)))};f.og=function(a){ip.d.og.call(this,a);this.W&&!this.fh()&&(this.W.hi=!1)};f.Uk=function(){this.setActive(!1);return!0};f.SI=function(a){this.W&&this.W.va()&&!this.mk(a.target)&&this.jc(!1)};f.mk=function(a){return a&&ji(this.a(),a)||this.W&&this.W.mk(a)||!1};
f.ng=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.W&&this.W.va()){var b=this.W.dh(a);return 27==a.keyCode?(this.jc(!1),!0):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.jc(!0,a),!0):!1};f.XI=function(){this.jc(!1)};f.YI=function(){this.fh()||this.jc(!1)};f.Fk=function(a){this.ir||this.jc(!1);ip.d.Fk.call(this,a)};f.Au=function(){this.W||hp(this,new Wo(this.O(),this.SJ));return this.W||null};
function hp(a,b){var c=a.W;b!=c&&(c&&(a.jc(!1),a.ma&&kp(a,c,!1),delete a.W),a.ma&&bl(a.q,"haspopup",!!b),b&&(a.W=b,b.Zo(a),b.ca(!1),c=a.ir,(b.At=c)&&b.Dj(!0),a.ma&&kp(a,b,!0)))}f.gk=function(a){this.Au().tn(a,!0)};f.ca=function(a,b){var c=ip.d.ca.call(this,a,b);c&&!this.va()&&this.jc(!1);return c};f.Mb=function(a){ip.d.Mb.call(this,a);this.isEnabled()||this.jc(!1)};f.xw=function(){this.jc(!0)};f.$n=function(){this.jc(!1)};
f.jc=function(a,b){ip.d.jc.call(this,a);if(this.W&&!!(this.U&64)==a){if(a){if(!this.W.ma)if(this.ML){var c=hi(this.a());c?this.W.nh(c.parentNode,c):this.W.k(this.a().parentNode)}else this.W.k();this.AD=Li(this.a());this.Vy=Wi(this.a());lp(this);this.W.qh(!b||40!=b.keyCode&&38!=b.keyCode?-1:0)}else{this.setActive(!1);this.W.hi=!1;if(c=this.a())bl(c,"activedescendant",""),bl(c,"owns","");null!=this.Pr&&(this.Pr=void 0,(c=this.W.a())&&Si(c,"",""))}this.W.ca(a,!1,b);if(!this.rk){var c=this.jb(),d=a?c.D:
c.wb;d.call(c,wi(this.O()),"mousedown",this.SI,!0);this.ir&&d.call(c,this.W,"blur",this.YI);d.call(c,this.P,Zf,this.fL);a?this.P.start():this.P.stop()}}};function lp(a){if(a.W.ma){var b=a.yr;a.yr.element=a.EL||a.a();var c=a.W.a();a.W.va()||(c.style.visibility="hidden",Yi(c,!0));!a.Pr&&a.yr.FH&&a.yr.qr&32&&(a.Pr=S(c));b.Be(c,b.Dn^1,a.RJ,a.Pr);a.W.va()||(Yi(c,!1),c.style.visibility="visible")}}
f.fL=function(){var a=Wi(this.a()),b=Li(this.a()),c=this.Vy;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.AD,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.Vy=a,this.AD=b,lp(this))};function kp(a,b,c){var d=a.jb();c=c?d.D:d.wb;c.call(d,b,"action",a.XI);c.call(d,b,"highlight",a.Lu);c.call(d,b,"unhighlight",a.Mu)}function jp(a,b){var c=a.jb();(b?c.D:c.wb).call(c,a.a(),"keydown",a.VI)}
f.Lu=function(a){var b=this.a();if(a=a.target.a()){var c=cl(a,"activedescendant");a=Oh(a).getElementById(c)||a;a.id||(c=kj.te(),a.id=":"+(c.DB++).toString(36));c="";a&&(c=a.id);bl(b,"activedescendant",c);bl(b,"owns",a.id)}};f.VI=function(a){bo(this,32)&&this.uc()&&this.W&&this.W.va()&&a.stopPropagation()};f.Mu=function(){if(!Oo(this.W)){var a=this.a();bl(a,"activedescendant","");bl(a,"owns","")}};Sn("goog-menu-button",function(){return new ip(null)});function mp(){U.call(this);this.ve=O("div",{id:this.constructor.ID_PREFIX+"_Holder_"+B(),"class":mp.CSS.yE});Q(this.a(),this.ve);this.uj=O("img",{id:this.constructor.ID_PREFIX+"_Icon_"+B(),"class":mp.CSS.pb});Q(this.a(),this.uj);this.W=new Wo;this.gd=new jk;this.Qd=[];np(this);this.$n(void 0,0);this.W.k(this.ve);M(this.W.a(),mp.CSS.xE)}w(mp,U);v("nrg.ui.SlideInMenu",mp);mp.ID_PREFIX="nrg.ui.SlideInMenu";
mp.CSS_SUFFIX={pb:"icon",zN:"icon-hovered",xE:"menu",yE:"menuholder",zE:"menuitem",zx:"menuitem-highlight",AE:"menuitem-icon"};var op={Os:null,yh:null,pb:null};function pp(a,b,c,d){d=da(d)?d:200;return[new ek(a,d),new Yj(a,b,c,d,xk)]}function qp(a,b,c,d){d=da(d)?d:200;return[new dk(a,d),new Yj(a,b,c,d,xk)]}f=mp.prototype;f.vc=null;f.TB=null;f.Hn=null;f.vm=!1;f.ao=[-100,-100];f.gp=[0,0];f.qv=!0;f.rv=!1;f.uC=function(a,b){return this.ao=[a,b]};f.JC=function(a,b){return this.gp=[a,b]};f.xH=function(){return this.ao};
f.mI=function(){return this.gp};f.Au=function(){return this.W};f.OH=function(){return this.ve};f.PH=function(){return this.uj};f.yC=function(a){this.uj.src=a};f.bM=function(a,b){this.vc[a].pb.src=b};f.dA=function(a){return pb(this.vc).indexOf(a)};f.Fu=function(a){return pb(this.vc)[a]};f.yu=function(a){return this.vc[pb(this.vc)[a]]};f.pB=function(a){return this.qv=a};f.OJ=function(a){return this.rv=a};f.kI=function(){return this.Hn};
function rp(a){null!=a.gd&&(a.gd.stop(),D(a.Qd,function(a){this.gd.remove(a);a.g()}.bind(a)),Kb(a.Qd))}function sp(a,b,c){rp(a);D(g(b)?b:[b],function(a){this.gd.add(a);this.Qd.push(a)}.bind(a));a.ve.style.visibility="visible";Uc(a.gd,"end",function(){c&&c()}.bind(a));a.gd.play()}f.dm=null;f.vq=null;f.nC=function(a){this.vq=a;this.a().title=a};function tp(a){null!=a.dm&&(ba.clearTimeout(a.dm),a.dm=null);a.dm=$f(function(){this.dm=null;this.vm&&(!this.vv&&this.vm?this.$n():tp(this))}.bind(a),450)}
f.qh=function(a){M(this.vc[this.Fu(a)].yh,mp.CSS.zx);this.qv&&(this.uj.src=this.vc[this.Fu(a)].pb.src);this.rv?this.a().title=this.yu(a).Os.getContent():null!=this.vq&&(this.a().title=this.vq)};f.vz=function(){C(this.vc,function(a){Eh(a.yh,mp.CSS.zx)}.bind(this))};
f.sy=function(a,b){null==this.vc&&(this.vc={});a=r(a)?[a]:a;b=b||[];b=g(b)?b:[b];var c=null,d=null,e=null;D(a,function(a,k){if(this.vc[a])throw Error(a+" is already in use!");c=new uo(a);this.W.gk(c);d=c.Ha();M(d,mp.CSS.zE);d.title=a;e=O("img",{id:mp.ID_PREFIX+"_MenuItemIcon_"+B(),"class":mp.CSS.AE});e.src=k<=b.length-1?b[k]:null;Q(d,e);this.vc[a]=wb(op);this.vc[a].Os=c;this.vc[a].yh=d;this.vc[a].pb=e}.bind(this))};
f.bp=function(a,b){var c=a;if(r(c)){if(!this.vc[c])throw Error(c+" does not exist!");c=this.dA(c)}this.TB=this.Hn?this.Hn:a;this.Hn=a;da(b)&&!b||this.vz();this.qh(c);this.dispatchEvent({type:"item_selected",index:c,title:this.yu(c).Os.getContent()})};f.xw=function(a,b){sp(this,pp(this.ve,this.ao,this.gp,b),function(){this.vm=!0;null!=a&&a()}.bind(this))};f.$n=function(a,b){sp(this,qp(this.ve,this.gp,this.ao,b),function(){this.vm=!1;this.ve.style.visibility="hidden";da(a)&&a()}.bind(this))};
function np(a){F(a.a(),"click",function(){this.vm?this.$n():this.xw()}.bind(a));F(a.W,"action",function(a){this.bp(a.target.getContent())}.bind(a));F(a.ve,"mouseover",function(){this.vv=!0}.bind(a));F(a.ve,"mouseout",function(){this.vv=!1;tp(this)}.bind(a))}
f.f=function(){mp.d.f.call(this);delete this.vv;delete this.dm;rp(this);Kb(this.Qd);delete this.Qd;C(this.vc,function(a,b){G(a);R(a);delete this.vc[b]}.bind(this));tb(this.vc);delete this.vc;R(this.ve);delete this.ve;R(this.uj);delete this.uj;G(this.W);this.W.g();this.xq(this.gd);delete this.gd;delete this.vq;delete this.TB;delete this.Hn;delete this.vm;delete this.ao;delete this.gp;delete this.qv;delete this.rv};v("nrg.ui.SlideInMenu.ID_PREFIX",mp.ID_PREFIX);v("nrg.ui.SlideInMenu.EventType",{EN:"item_selected"});
v("nrg.ui.SlideInMenu.CSS_SUFFIX",mp.CSS_SUFFIX);v("nrg.ui.SlideInMenu.menuItemCollection",op);v("nrg.ui.SlideInMenu.FADE_OUT_COUNTDOWN",450);v("nrg.ui.SlideInMenu.ANIM_LEN_IN",200);v("nrg.ui.SlideInMenu.ANIM_LEN_OUT",200);v("nrg.ui.SlideInMenu.MOUSEOUT_HIDE",1E3);v("nrg.ui.SlideInMenu.prototype.setHidePosition",mp.prototype.uC);v("nrg.ui.SlideInMenu.prototype.setShowPosition",mp.prototype.JC);v("nrg.ui.SlideInMenu.prototype.getHidePosition",mp.prototype.xH);
v("nrg.ui.SlideInMenu.prototype.getShowPosition",mp.prototype.mI);v("nrg.ui.SlideInMenu.prototype.getMenu",mp.prototype.Au);v("nrg.ui.SlideInMenu.prototype.getMenuHolder",mp.prototype.OH);v("nrg.ui.SlideInMenu.prototype.getMenuIcon",mp.prototype.PH);v("nrg.ui.SlideInMenu.prototype.setMenuIconSrc",mp.prototype.yC);v("nrg.ui.SlideInMenu.prototype.setMenuItemIconSrc",mp.prototype.bM);v("nrg.ui.SlideInMenu.prototype.getIndexFromTitle",mp.prototype.dA);
v("nrg.ui.SlideInMenu.prototype.getTitleFromIndex",mp.prototype.Fu);v("nrg.ui.SlideInMenu.prototype.getItemCollectionFromIndex",mp.prototype.yu);v("nrg.ui.SlideInMenu.prototype.matchMenuIconToSelected",mp.prototype.pB);v("nrg.ui.SlideInMenu.prototype.matchMenuTitleToSelected",mp.prototype.OJ);v("nrg.ui.SlideInMenu.prototype.getSelectedMenuItem",mp.prototype.kI);v("nrg.ui.SlideInMenu.prototype.setHighlightedIndex",mp.prototype.qh);v("nrg.ui.SlideInMenu.prototype.deselectAll",mp.prototype.vz);
v("nrg.ui.SlideInMenu.prototype.addMenuItem",mp.prototype.sy);v("nrg.ui.SlideInMenu.prototype.setSelected",mp.prototype.bp);v("nrg.ui.SlideInMenu.prototype.showMenu",mp.prototype.xw);v("nrg.ui.SlideInMenu.prototype.hideMenu",mp.prototype.$n);v("nrg.ui.SlideInMenu.prototype.setDefaultTitle",mp.prototype.nC);v("nrg.ui.SlideInMenu.prototype.disposeInternal",mp.prototype.f);function up(){U.call(this)}w(up,U);v("nrg.ui.HoverInput",up);up.ID_PREFIX="nrg.ui.HoverInput";up.CSS_SUFFIX={nE:"inputbox",DN:"inputbox-hovered",jx:"display"};f=up.prototype;f.Dc=null;f.da=null;f.nJ=!1;f.Vb=!0;f.gu="";f.Mb=function(a){this.Vb=a};f.C=function(a){null!=this.da&&(this.da.value=a,this.Gg())};f.w=function(){if(null!=this.da)return parseInt(this.da.value)};f.Gb=function(a){null!=this.da&&(this.da.max=a,this.Gg())};f.T=function(){if(null!=this.da)return this.da.max};
f.Nb=function(a){null!=this.da&&(this.da.min=a,this.Gg())};f.ha=function(){if(null!=this.da)return this.da.min};f.Kc=function(a){null!=this.da&&(this.da.step=a,this.Gg())};f.Cd=function(){if(null!=this.da)return this.da.step};f.CH=function(){return this.da};f.jH=function(){return this.Dc};f.Jy="right";f.pC=function(a){a=a.toLowerCase();if("right"==a||"left"==a)this.Jy=a;else throw Error("Invalid alignment: "+a);};
f.eq=function(){this.Dc.style.left="right"==this.Jy?"calc(100% - "+S(this.Dc).width.toString()+"px)":"0px"};f.Gg=function(){this.Dc.innerHTML=this.da.value.toString()+this.gu;this.eq()};f.IB=function(a){this.Vb&&(this.da.value=parseInt(a.target.value),this.dispatchEvent({type:"h",value:this.da.value}),this.Gg())};
f.k=function(a){up.d.k.call(this,a);this.Dc=O("div");this.a().appendChild(this.Dc);M(this.Dc,up.CSS.jx);this.da=O("input");this.da.type="number";this.da.step=1;this.da.min=0;this.da.max=100;this.da.value=100;this.a().appendChild(this.da);M(this.da,up.CSS.nE);F(this.da,"input",this.IB.bind(this));this.Gg()};f.Vo=function(a){this.gu=a};f.f=function(){up.d.f.call(this);delete this.nJ;delete this.Vb;delete this.gu;this.da&&(G(this.da),R(this.da),delete this.da);this.Dc&&(G(this.Dc),R(this.Dc),delete this.Dc)};
v("nrg.ui.HoverInput.EventType",{CN:"h",jx:"i"});v("nrg.ui.HoverInput.ID_PREFIX",up.ID_PREFIX);v("nrg.ui.HoverInput.CSS_SUFFIX",up.CSS_SUFFIX);v("nrg.ui.HoverInput.prototype.displayElt",up.prototype.Dc);v("nrg.ui.HoverInput.prototype.inputBox",up.prototype.da);v("nrg.ui.HoverInput.prototype.alignDisplayElement",up.prototype.eq);v("nrg.ui.HoverInput.prototype.setDisplayAlignment",up.prototype.pC);v("nrg.ui.HoverInput.prototype.getValue",up.prototype.w);v("nrg.ui.HoverInput.prototype.setValue",up.prototype.C);
v("nrg.ui.HoverInput.prototype.setStep",up.prototype.Kc);v("nrg.ui.HoverInput.prototype.getStep",up.prototype.Cd);v("nrg.ui.HoverInput.prototype.setMaximum",up.prototype.Gb);v("nrg.ui.HoverInput.prototype.getMaximum",up.prototype.T);v("nrg.ui.HoverInput.prototype.setMinimum",up.prototype.Nb);v("nrg.ui.HoverInput.prototype.getMinimum",up.prototype.ha);v("nrg.ui.HoverInput.prototype.updateValue",up.prototype.Gg);v("nrg.ui.HoverInput.prototype.onInput",up.prototype.IB);
v("nrg.ui.HoverInput.prototype.getInputElement",up.prototype.CH);v("nrg.ui.HoverInput.prototype.getDisplayElement",up.prototype.jH);v("nrg.ui.HoverInput.prototype.setDisplaySuffix",up.prototype.Vo);v("nrg.ui.HoverInput.prototype.render",up.prototype.k);v("nrg.ui.HoverInput.prototype.disposeInternal",up.prototype.f);function vp(a,b){ad.call(this);this.q=a;var c=ii(this.q)?this.q:this.q?this.q.body:null;this.zJ=!!c&&Ni(c);this.hB=F(this.q,ic?"DOMMouseScroll":"mousewheel",this,b)}w(vp,ad);
vp.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.Vc;if("mousewheel"==a.type){c=1;if(E||jc&&(ec||qc("532.0")))c=40;d=wp(-a.wheelDelta,c);da(a.wheelDeltaX)?(b=wp(-a.wheelDeltaX,c),c=wp(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),da(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;u(this.qB)&&(b=id(b,-this.qB,this.qB));u(this.rB)&&(c=id(c,-this.rB,this.rB));this.zJ&&(b=-b);b=new xp(d,a,b,c);this.dispatchEvent(b)};function wp(a,b){return jc&&(dc||fc)&&0!=a%b?a:a/b}
vp.prototype.f=function(){vp.d.f.call(this);Wc(this.hB);this.hB=null};function xp(a,b,c,d){Ic.call(this,b);this.type="mousewheel";this.detail=a;this.Uh=c;this.Td=d}w(xp,Ic);function yp(a){cd.call(this);this.u="interactor";this.Ne=a;this.gt=this.$x=this.Zx=this.ay=this.Yx=this.by=null;this.Vp=!0;this.Ni=this.Hi=this.Rg=!1;this.cd=[0,0];this.bt=new A.S(0,0,0);this.Wm=new A.S(0,0,0);this.eB=0;this.hy=this.Qp=null;this.qt=!1;this.yb={MOUSEWHEEL_ENABLED:!0,MOUSECLICKS_ENABLED:!0,KEYBOARD_ENABLED:!0,HOVERING_ENABLED:!0,CONTEXTMENU_ENABLED:!1,TOUCH_ENABLED:!0,TOUCH_BOUNCING_ENABLED:!1}}w(yp,cd);yp.prototype.__defineGetter__("config",function(){return this.yb});
yp.prototype.__defineGetter__("leftButtonDown",function(){return this.Rg});yp.prototype.__defineGetter__("middleButtonDown",function(){return this.Hi});yp.prototype.__defineGetter__("rightButtonDown",function(){return this.Ni});
yp.prototype.ua=function(){this.yb.MOUSEWHEEL_ENABLED?(this.gt=new vp(this.Ne),this.by=F(this.gt,"mousewheel",this.Do.bind(this))):(Wc(this.by),this.gt=null);this.yb.MOUSECLICKS_ENABLED?(this.Yx=F(this.Ne,"mousedown",this.Rv.bind(this)),this.ay=F(this.Ne,"mouseup",this.Sv.bind(this))):(Wc(this.Yx),Wc(this.ay));this.Ne.oncontextmenu=this.yb.CONTEXTMENU_ENABLED?null:function(){return!1};window.onkeydown=this.yb.KEYBOARD_ENABLED?this.ki.bind(this):null;this.yb.TOUCH_ENABLED?(this.yb.TOUCH_BOUNCING_ENABLED||
document.body.addEventListener("touchmove",function(a){a.preventDefault()},!1),this.HF=F(this.Ne,"touchstart",this.oL.bind(this)),this.GF=F(this.Ne,"touchmove",this.mL.bind(this)),this.FF=F(this.Ne,"touchend",this.iL.bind(this))):(Wc(this.HF),Wc(this.GF),Wc(this.FF));Wc(this.Zx);Wc(this.$x);this.Zx=F(this.Ne,"mousemove",this.JK.bind(this));this.$x=F(this.Ne,"mouseout",this.KK.bind(this))};
yp.prototype.Rv=function(a){0==a.button?this.Rg=!0:1==a.button?this.Hi=!0:2==a.button&&(this.Ni=!0);eval("this.onMouseDown("+this.Rg+","+this.Hi+","+this.Ni+")");zp(this);a.preventDefault()};yp.prototype.GK=function(){};yp.prototype.Sv=function(a){0==a.button?this.Rg=!1:1==a.button?this.Hi=!1:2==a.button&&(this.Ni=!1);eval("this.onMouseUp("+this.Rg+","+this.Hi+","+this.Ni+")");zp(this);a.preventDefault()};yp.prototype.__defineGetter__("mousePosition",function(){return this.cd});f=yp.prototype;
f.MK=function(){};f.KK=function(a){this.Vp=!1;this.yb.KEYBOARD_ENABLED&&(window.onkeydown=null);this.Ni=this.Hi=this.Rg=!1;zp(this);this.bt=new A.S(0,0,0);a.preventDefault()};f.IK=function(){};f.oL=function(a){a.preventDefault();a.ua(a.Vc.targetTouches[0],a.currentTarget);eval("this.onTouchStart("+a.clientX+","+a.clientY+")");this.Wm=new A.S(a.clientX,a.clientY,0);this.hy=setTimeout(this.kL.bind(this,a),500)};f.nL=function(){};
f.kL=function(a){eval("this.onTouchHover("+a.clientX+","+a.clientY+")");a=new ue;a.Qg=!0;a.Wf=this instanceof Ap;this.dispatchEvent(a);this.Zp=!0};f.jL=function(){};function Bp(a){clearTimeout(a.hy);if(a.Zp){var b=new ue;b.Qg=!1;b.Wf=a instanceof Ap;a.dispatchEvent(b)}a.Zp=!1}f.iL=function(a){a.preventDefault();eval("this.onTouchEnd()");Bp(this)};f.hL=function(){};
f.mL=function(a){a.preventDefault();this.Zp||Bp(this);this.touchmoveEvent=a=a.Vc;eval("this.onTouchMove(this['touchmoveEvent'])");var b=a.targetTouches;if(1==b.length){a=b[0];var c=[a.clientX,a.clientY];a=new A.S(c[0],c[1],0);var b=c[0]>3*this.Ne.clientWidth/4,d=c[0]<this.Ne.clientWidth/4,e=c[1]<this.Ne.clientHeight/4,c=c[1]>3*this.Ne.clientHeight/4,c=!b&&!d&&!e&&!c,e=this.Wm.Mc(a);this.Wm=a.clone();if(this.Zp)a=new re,5<e.x?e.x=1:-5>e.x&&(e.x=-1),5<e.y?e.y=1:-5>e.y&&(e.y=-1),a.td=e,this.dispatchEvent(a);
else if(this instanceof Cp&&(b||d))a=new ve,a.hc=0>e.y,this.dispatchEvent(a);else if(this instanceof Ap||c)e.scale(3),a=new se,a.td=e,this.dispatchEvent(a)}else 2==b.length&&(a=b[0],b=b[1],a=[a.clientX,a.clientY],b=[b.clientX,b.clientY],a=new A.S(a[0],a[1],0),b=new A.S(b[0],b[1],0),e=sd(a,b),b=e-this.eB,this.eB=e,this.Wm.Mc(a),this.Wm=a.clone(),10<Math.abs(b)&&(a=new ue,a.Qg=0<b,a.Wf=this instanceof Ap,this.dispatchEvent(a)))};f.lL=function(){};
f.JK=function(a){this.mousemoveEvent=a;eval("this.onMouseMove(this['mousemoveEvent'])");this.Vp=!0;this.yb.KEYBOARD_ENABLED&&null==window.onkeydown&&(window.onkeydown=this.ki.bind(this));a.preventDefault();var b=a.shiftKey;this.qt=b;this.cd=[a.offsetX,a.offsetY];var c=new A.S(this.cd[0],this.cd[1],0);a=this.bt.Mc(c);this.bt=c.clone();this.yb.HOVERING_ENABLED&&((0<Math.abs(a.x)||0<Math.abs(a.y)||this.Hi||this.Rg||this.Ni)&&zp(this),this.Qp=setTimeout(function(){zp(this);var a=new we;a.cq=c.x;a.dq=
c.y;this.dispatchEvent(a);this.Qp=null}.bind(this),300));0!=a.tg()&&(this.Rg&&!b?(b=new se,a.scale(3),b.td=a,this.dispatchEvent(b)):this.Hi||this.Rg&&b?(b=new re,b.td=a,this.dispatchEvent(b)):this.Ni&&(b=new ue,b.Qg=0<a.y,b.Wf=!1,this.dispatchEvent(b)))};function zp(a){a.Qp&&clearTimeout(a.Qp);a.dispatchEvent(new xe)}f.NK=function(){};f.Do=function(a){this.mouseWheelEvent=a;eval("this.onMouseWheel(this['mouseWheelEvent'])");zp(this);a.preventDefault()};f.yK=function(){};
f.ki=function(a){if(this.Vp){this.keyEvent=a;eval("this.onKey(this['keyEvent'])");zp(this);var b=a.altKey,c=a.ctrlKey,d=a.metaKey,e=a.shiftKey,h=a.keyCode;82!=h||b||c||d||e?37<=h&&40>=h&&(a.preventDefault(),e?a=new re:b?a=new ue:(a=new se,this instanceof Cp&&(a=new ve)),a&&(c=new A.S(0,0,0),37==h?(c.x=5,a.hc=!1,b&&(a.hc=!0,a.Qg=!0,a.Wf=!1)):39==h?(c.x=-5,a.hc=!0,b&&(a.Qg=!1,a.Wf=!1)):38==h?(c.y=5,a.hc=!0,b&&(a.Qg=!0,a.Wf=!0)):40==h&&(c.y=-5,a.hc=!1,b&&(a.Qg=!1,a.Wf=!0)),a.td=c,this.dispatchEvent(a))):
(a.preventDefault(),a=new ye,this.dispatchEvent(a))}};v("X.interactor",yp);v("X.interactor.prototype.init",yp.prototype.ua);v("X.interactor.prototype.onMouseDown",yp.prototype.GK);v("X.interactor.prototype.onMouseUp",yp.prototype.MK);v("X.interactor.prototype.onMouseMove",yp.prototype.IK);v("X.interactor.prototype.onMouseWheel",yp.prototype.NK);v("X.interactor.prototype.onKey",yp.prototype.yK);v("X.interactor.prototype.onTouchStart",yp.prototype.nL);v("X.interactor.prototype.onTouchMove",yp.prototype.lL);
v("X.interactor.prototype.onTouchEnd",yp.prototype.hL);v("X.interactor.prototype.onTouchHover",yp.prototype.jL);function Cp(a){yp.call(this,a);this.u="interactor2D"}w(Cp,yp);Cp.prototype.Do=function(a){Cp.d.Do.call(this,a);var b=new ve;null==a.Td&&(a.Td=0);b.hc=0>a.Td;this.dispatchEvent(b)};function Dp(a,b){if(!u(a)||!u(b))throw Error("A camera needs valid width and height values.");cd.call(this);this.u="camera";this.Zj=new A.S(0,100,0);this.Al=new A.S(0,0,0);this.hc=new A.S(0,0,1);this.$a=a;this.La=b;this.Q=this.ur(this.Zj,this.Al)}w(Dp,cd);Dp.prototype.observe=function(a){if(!(null!=a&&a instanceof yp))throw Error("Could not observe the interactor.");F(a,de,this.WK.bind(this));F(a,ce,this.PK.bind(this));F(a,ee,this.xL.bind(this))};
Dp.prototype.WK=function(a){if(!(a instanceof se))throw Error("Received no valid rotate event.");this.rotate(a.td)};Dp.prototype.xL=function(a){if(!(a instanceof ue))throw Error("Received no valid zoom event.");a.Qg?this.Mm(a.Wf):this.Nm(a.Wf)};Dp.prototype.PK=function(a){if(!(a instanceof re))throw Error("Received no valid pan event.");this.Qr(a.td)};Dp.prototype.__defineGetter__("view",function(){return this.Q});
Dp.prototype.__defineSetter__("view",function(a){if(!(null!=a&&a instanceof Float32Array))throw Error("Invalid view matrix.");this.Q=a});Dp.prototype.__defineGetter__("position",function(){return[this.Zj.x,this.Zj.y,this.Zj.z]});Dp.prototype.__defineSetter__("position",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid position.");this.Zj=new A.S(a[0],a[1],a[2]);this.reset()});Dp.prototype.__defineGetter__("focus",function(){return[this.Al.x,this.Al.y,this.Al.z]});
Dp.prototype.__defineSetter__("focus",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid focus");this.Al=new A.S(a[0],a[1],a[2]);this.reset()});Dp.prototype.__defineGetter__("up",function(){return[this.hc.x,this.hc.y,this.hc.z]});Dp.prototype.__defineSetter__("up",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid up vector.");this.hc=new A.S(a[0],a[1],a[2]);this.reset()});f=Dp.prototype;f.reset=function(){this.Q=this.ur(this.Zj,this.Al)};
f.rotate=function(a){if(g(a)&&2==a.length)a=new A.S(a[0],a[1],0);else if(!(a instanceof A.S))throw Error("Invalid distance vector for rotate operation.");return a};f.Qr=function(a){if(g(a)&&2==a.length)a=new A.S(a[0],a[1],0);else if(!(a instanceof A.S))throw Error("Invalid distance vector for pan operation.");this.Q[12]-=a.x;this.Q[13]+=a.y};f.Mm=function(a){var b=20;null!=a&&!a&&(b=1);this.Q[14]+=b};f.Nm=function(a){var b=20;null!=a&&!a&&(b=1);this.Q[14]-=b};
f.ur=function(a,b){if(!(a instanceof A.S&&b instanceof A.S))throw Error("3D vectors required for calculating the view.");return A.v.eo()};v("X.camera",Dp);v("X.camera.prototype.pan",Dp.prototype.Qr);v("X.camera.prototype.rotate",Dp.prototype.rotate);v("X.camera.prototype.zoomIn",Dp.prototype.Mm);v("X.camera.prototype.zoomOut",Dp.prototype.Nm);function Ep(a,b,c){this.jf=this.hf=this.gf=0;3==arguments.length?(this.gf=Number(a),this.hf=Number(b),this.jf=Number(c)):a instanceof Ep?(this.gf=Number(a.x()),this.hf=Number(a.y()),this.jf=Number(a.z())):(this.gf=Number(a[0]),this.hf=Number(a[1]),this.jf=Number(a[2]))}
Ep.prototype={clone:function(){return new Ep(this.gf,this.hf,this.jf)},dj:function(a){return this.gf*a.x()+this.hf*a.y()+this.jf*a.z()},sr:function(a,b){return Fp(this,Gp(Hp(a,this),b))},length:function(){return Math.sqrt(this.dj(this))},pk:function(a){return new Ep(this.hf*a.z()-this.jf*a.y(),this.jf*a.x()-this.gf*a.z(),this.gf*a.y()-this.hf*a.x())},x:function(){return this.gf},y:function(){return this.hf},z:function(){return this.jf}};
function Ip(a){var b=a.length();return new Ep(a.gf/b,a.hf/b,a.jf/b)}function Gp(a,b){return new Ep(a.gf*b,a.hf*b,a.jf*b)}function Hp(a,b){return new Ep(a.gf-b.x(),a.hf-b.y(),a.jf-b.z())}function Fp(a,b){return new Ep(a.gf+b.x(),a.hf+b.y(),a.jf+b.z())}function Jp(a){return new Ep(-a.gf,-a.hf,-a.jf)};function Kp(a,b){this.dw=new Ep(a);this.od=new Ep(b)}Kp.prototype={clone:function(){return new Kp(this.dw.clone(),this.od.clone())},zk:function(){this.od=Jp(this.od)},Ae:function(){return this.dw}};function Lp(a,b){this.od=a;this.Bp=b}Lp.prototype={clone:function(){return new Lp(this.od.clone(),this.Bp)},zk:function(){this.od=Jp(this.od);this.Bp=-this.Bp}};function Mp(a,b){this.wi=a;this.ss=b;var c=a[0].Ae(),d=a[1].Ae(),e=a[2].Ae(),d=Ip(Hp(d,c).pk(Hp(e,c)));this.bf=new Lp(d,d.dj(c))}Mp.prototype={clone:function(){var a=this.wi.map(function(a){return a.clone()});return new Mp(a,this.ss)},zk:function(){this.wi.reverse().map(function(a){a.zk()});this.bf.zk()}};
function Np(a,b,c,d,e,h){for(var k=0,l=[],n=0;n<a.wi.length;n++){var p=b.od.dj(a.wi[n].Ae())-b.Bp,p=-1E-5>p?2:1E-5<p?1:0,k=k|p;l.push(p)}switch(k){case 0:(0<b.od.dj(a.bf.od)?c:d).push(a);break;case 1:e.push(a);break;case 2:h.push(a);break;case 3:c=[];d=[];for(n=0;n<a.wi.length;n++){var m=(n+1)%a.wi.length,p=l[n],q=l[m],k=a.wi[n],m=a.wi[m];2!=p&&c.push(k);1!=p&&d.push(2!=p?k.clone():k);3==(p|q)&&(p=(b.Bp-b.od.dj(k.Ae()))/b.od.dj(Hp(m.Ae(),k.Ae())),p=new Kp(k.dw.sr(m.Ae(),p),k.od.sr(m.od,p)),c.push(p),
d.push(p.clone()))}3<=c.length&&e.push(new Mp(c,a.ss));3<=d.length&&h.push(new Mp(d,a.ss))}};function Op(a){this.ab=this.Xa=this.bf=null;this.Lb=[];a&&Pp(this,a)}Op.prototype={clone:function(){var a=new Op;Qp(a,this.bf&&this.bf.clone());Rp(a,this.Xa&&this.Xa.clone());Sp(a,this.ab&&this.ab.clone());a.ps(this.Lb.map(function(a){return a.clone()}));return a},Eb:function(){for(var a=0;a<this.Lb.length;a++)this.Lb[a].zk();this.bf.zk();this.Xa&&this.Xa.Eb();this.ab&&this.ab.Eb();a=this.Xa;this.Xa=this.ab;this.ab=a},ps:function(a){this.Lb=a}};function Sp(a,b){a.ab=b}function Rp(a,b){a.Xa=b}
function Qp(a,b){a.bf=b}function Pp(a,b){if(b.length){a.bf||(a.bf=b[0].bf.clone());for(var c=[],d=[],e=0;e<b.length;e++)Np(b[e],a.bf,a.Lb,a.Lb,c,d);c.length&&(a.Xa||(a.Xa=new Op),Pp(a.Xa,c));d.length&&(a.ab||(a.ab=new Op),Pp(a.ab,d))}}function Tp(a){var b=a.Lb.slice();a.Xa&&(b=b.concat(Tp(a.Xa)));a.ab&&(b=b.concat(Tp(a.ab)));return b}function Up(a,b){a.Lb=Vp(b,a.Lb);a.Xa&&Up(a.Xa,b);a.ab&&Up(a.ab,b)}
function Vp(a,b){if(!a.bf)return b.slice();for(var c=[],d=[],e=0;e<b.length;e++)Np(b[e],a.bf,c,d,c,d);a.Xa&&(c=Vp(a.Xa,c));d=a.ab?Vp(a.ab,d):[];return c.concat(d)};function Wp(){this.Lb=[]}function Xp(a){var b=new Wp;b.ps(a);return b}
Wp.prototype={clone:function(){var a=new Wp;a.ps(this.Lb.map(function(a){return a.clone()}));return a},Xw:function(a){var b=new Op(this.clone().Lb);a=new Op(a.clone().Lb);Up(b,a);Up(a,b);a.Eb();Up(a,b);a.Eb();Pp(b,Tp(a));return Xp(Tp(b))},Mc:function(a){var b=new Op(this.clone().Lb);a=new Op(a.clone().Lb);b.Eb();Up(b,a);Up(a,b);a.Eb();Up(a,b);a.Eb();Pp(b,Tp(a));b.Eb();return Xp(Tp(b))},Wu:function(a){var b=new Op(this.clone().Lb);a=new Op(a.clone().Lb);b.Eb();Up(a,b);a.Eb();Up(b,a);Up(a,b);Pp(b,Tp(a));
b.Eb();return Xp(Tp(b))},inverse:function(){var a=this.clone();a.Lb.map(function(a){a.zk()});return a},ps:function(a){this.Lb=a}};function Yp(){}function Zp(a){for(var b=a.G.count,c=[],d=0,d=0;d<b;d+=3){var e=a.G.get(d),h=a.G.get(d+1),k=a.G.get(d+2),l=a.fa.get(d),n=a.fa.get(d+1),p=a.fa.get(d+2),m=a.Ka;a.Rc&&0<a.Rc.length&&(m=a.Rc.get(d));var q=[];q.push(new Kp(e,l));q.push(new Kp(h,n));q.push(new Kp(k,p));c.push(new Mp(q,m))}return Xp(c)}
function $p(a,b){if(!(null!=b&&b instanceof Wp))throw Error("Invalid CSG object.");var c=new ed,d=[];Eb(b.Lb,function(a){var b=[],k=a.ss,b=Eb(a.wi,function(a){a.color=k;return c.add(a)});for(a=a=2;a<b.length;a++)d.push([b[0],b[a-1],b[a]])}.bind(a));a.zF=Eb(c.unique(),function(a){return[a.Ae().x(),a.Ae().y(),a.Ae().z()]});a.yF=Eb(c.unique(),function(a){return[a.od.x(),a.od.y(),a.od.z()]});a.xF=Eb(c.unique(),function(a){return a.color?[a.color[0],a.color[1],a.color[2]]:null});a.G=new dd(9*d.length);
a.fa=new dd(9*d.length);a.Rc=new dd(9*d.length);Eb(d,function(a){var b=a[0],c=a[1];a=a[2];var d=this.zF,n=this.yF,p=this.xF;this.G.add(d[b][0],d[b][1],d[b][2]);this.G.add(d[c][0],d[c][1],d[c][2]);this.G.add(d[a][0],d[a][1],d[a][2]);this.fa.add(n[b][0],n[b][1],n[b][2]);this.fa.add(n[c][0],n[c][1],n[c][2]);this.fa.add(n[a][0],n[a][1],n[a][2]);p[b]&&this.Rc.add(p[b][0],p[b][1],p[b][2]);p[c]&&this.Rc.add(p[c][0],p[c][1],p[c][2]);p[a]&&this.Rc.add(p[a][0],p[a][1],p[a][2])}.bind(a));0==a.Rc.Ra&&(a.Rc=null);
a.Pd=Ud}Yp.prototype.Xw=function(a){if(null==a||!(a instanceof Wp||a instanceof Xd))throw Error("Invalid object.");var b=a;a instanceof Xd&&(b=Zp(b));a=new Xd;Aa(a,new Yp);$p(a,Zp(this).Xw(b));return a};Yp.prototype.Mc=function(a){if(null==a||!(a instanceof Wp||a instanceof Xd))throw Error("Invalid object.");var b=a;a instanceof Xd&&(b=Zp(b));a=new Xd;Aa(a,new Yp);$p(a,Zp(this).Mc(b));return a};
Yp.prototype.Wu=function(a){if(null==a||!(a instanceof Wp||a instanceof Xd))throw Error("Invalid object.");var b=a;a instanceof Xd&&(b=Zp(b));a=new Xd;Aa(a,new Yp);$p(a,Zp(this).Wu(b));return a};Yp.prototype.inverse=function(){var a=new Xd;Aa(a,new Yp);$p(a,Zp(this).inverse());return a};v("X.constructable",Yp);v("X.constructable.prototype.intersect",Yp.prototype.Wu);v("X.constructable.prototype.inverse",Yp.prototype.inverse);v("X.constructable.prototype.subtract",Yp.prototype.Mc);
v("X.constructable.prototype.union",Yp.prototype.Xw);function aq(a){function b(a,b,d){b=b*Math.PI*2;b=Fp(Gp(n,Math.cos(b)),Gp(p,Math.sin(b)));a=Fp(Fp(c,Gp(e,a)),Gp(b,h));d=Fp(Gp(b,1-Math.abs(d)),Gp(k,d));return new Kp(a,d)}this.Lb=[];a=a||{};var c=new Ep(a.start||[0,-1,0]),d=new Ep(a.end||[0,1,0]),e=Hp(d,c),h=a.lh||1;a=a.ra||16;for(var k=Ip(e),l=.5<Math.abs(k.y()),n=Ip((new Ep(l,!l,0)).pk(k)),p=Ip(n.pk(k)),l=new Kp(c,Jp(k)),d=new Kp(d,Ip(k)),m=[],q=0;q<a;q++){var t=q/a,s=(q+1)/a;m.push(new Mp([l,b(0,t,-1),b(0,s,-1)]));m.push(new Mp([b(0,s,0),b(0,t,
0),b(1,t,0),b(1,s,0)]));m.push(new Mp([d,b(1,s,1),b(1,t,1)]))}return Xp(m)}w(aq,Wp);function bq(){Xd.call(this);this.u="cylinder";this.st=[-10,-10,-10];this.$s=[10,10,10];this.$j=10;this.fd=32;Aa(this,new Yp)}w(bq,Xd);bq.prototype.__defineGetter__("start",function(){return this.st});bq.prototype.__defineSetter__("start",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid start");this.st=a});bq.prototype.__defineGetter__("end",function(){return this.$s});bq.prototype.__defineSetter__("end",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid end");this.$s=a});
bq.prototype.__defineGetter__("radius",function(){return this.$j});bq.prototype.__defineSetter__("radius",function(a){if(!u(a))throw Error("Invalid radius.");this.$j=a});bq.prototype.ga=function(){$p(this,new aq({start:this.st,end:this.$s,lh:this.$j,ra:this.fd}));bq.d.ga.call(this)};v("X.cylinder",bq);v("X.cylinder.prototype.modified",bq.prototype.ga);function cq(a){function b(a,b){a=2*a*Math.PI;b*=Math.PI;var e=new Ep(Math.cos(a)*Math.sin(b),Math.cos(b),Math.sin(a)*Math.sin(b));k.push(new Kp(Fp(c,Gp(e,d)),e))}this.Lb=[];a=a||{};var c=new Ep(a.Rd||[0,0,0]),d=a.lh||1,e=a.ra||16;a=a.rM||8;for(var h=[],k=[],l=0;l<e;l++)for(var n=0;n<a;n++)k=[],b(l/e,n/a),0<n&&b((l+1)/e,n/a),n<a-1&&b((l+1)/e,(n+1)/a),b(l/e,(n+1)/a),h.push(new Mp(k));return Xp(h)}w(cq,Wp);function dq(){Xd.call(this);this.u="sphere";this.Wa=[0,0,0];this.$j=5;this.fd=32;this.EF=16;Aa(this,new Yp)}w(dq,Xd);dq.prototype.__defineGetter__("center",function(){return this.Wa});dq.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center");this.Wa=a});dq.prototype.__defineGetter__("radius",function(){return this.$j});dq.prototype.__defineSetter__("radius",function(a){if(!u(a))throw Error("Invalid radius.");this.$j=a});
dq.prototype.ga=function(){$p(this,new cq({Rd:this.Wa,lh:this.$j,ra:this.fd,rM:this.EF}));dq.d.ga.call(this)};v("X.sphere",dq);v("X.sphere.prototype.modified",dq.prototype.ga);function Re(a){J.call(this);this.u="labelmap";this.Nh=a;this.rt=new Float32Array([-255,-255,-255,-255])}w(Re,J);Re.prototype.ga=function(){var a=new Yd;a.Sa=this;this.dispatchEvent(a);this.Nh.ga()};Re.prototype.__defineSetter__("showOnly",function(a){var b=[-1,-1,-1,-1];if(null!=a)if(g(a)&&4==a.length)b=a;else{if(!this.Md)throw Error("No colortable assigned.");b=this.Md.je.get(a).slice(1,5)}this.rt=new Float32Array([Math.floor(255*b[0]),Math.floor(255*b[1]),Math.floor(255*b[2]),Math.floor(255*b[3])])});
v("X.labelmap",Re);function eq(a){this.Lb=[];a=a||{};var b=new Ep(a.Rd||[0,0,0]),c=a.lh?a.lh.length?a.lh:[a.lh,a.lh,a.lh]:[1,1,1];return Xp([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(a){return new Mp(a[0].map(function(e){e=new Ep(b.x()+c[0]*(2*!!(e&1)-1),b.y()+c[1]*(2*!!(e&2)-1),b.z()+c[2]*(2*!!(e&4)-1));return new Kp(e,new Ep(a[1]))}))}))}w(eq,Wp);function fq(){Xd.call(this);this.u="cube";this.Wa=[0,0,0];this.et=this.dt=this.ct=20;this.Ml=[0,1,1,1,1,0,0,1,1,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0];Aa(this,new Yp)}w(fq,Xd);fq.prototype.__defineGetter__("center",function(){return this.Wa});fq.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center");this.Wa=a});fq.prototype.__defineGetter__("lengthX",function(){return this.ct});
fq.prototype.__defineSetter__("lengthX",function(a){if(!u(a))throw Error("Invalid lengthX.");this.ct=a});fq.prototype.__defineGetter__("lengthY",function(){return this.dt});fq.prototype.__defineSetter__("lengthY",function(a){if(!u(a))throw Error("Invalid lengthY.");this.dt=a});fq.prototype.__defineGetter__("lengthZ",function(){return this.et});fq.prototype.__defineSetter__("lengthZ",function(a){if(!u(a))throw Error("Invalid lengthZ.");this.et=a});
fq.prototype.ga=function(){$p(this,new eq({Rd:this.Wa,lh:[this.ct/2,this.dt/2,this.et/2]}));fq.d.ga.call(this)};v("X.cube",fq);v("X.cube.prototype.modified",fq.prototype.ga);function Ap(a){yp.call(this,a);this.u="interactor3D"}w(Ap,yp);Ap.prototype.Do=function(a){Ap.d.Do.call(this,a);var b=new ue;null==a.Td&&(a.Td=0);b.Qg=0>a.Td;b.Wf=!0;this.dispatchEvent(b)};function gq(a){cd.call(this);this.u="array";this.gb=[];this.Ox=a}w(gq,cd);function hq(a,b,c){for(var d=0;4>d;d++)if(a[d+0]!==b[d+c])return!1;return!0}gq.prototype.add=function(a){this.gb.push(a);return!0};gq.prototype.remove=function(a){a=this.gb.indexOf(a);-1<a&&this.gb.splice(a,1);return!0};gq.prototype.clear=function(){this.gb.length=0};
function iq(a,b,c){var d=c-b;if(!(2>d))for(d=b+Math.floor(d/2),iq(a,b,d),iq(a,d,c);b<d;++b)if(0<a.Ox(a.gb[b],a.gb[d])){var e=a.gb[b];a.gb[b]=a.gb[d];for(var h=a,k=d,l=c;k+1<l&&0>h.Ox(h.gb[k+1],e);){var n=h,p=k+1,m=n.gb[k];n.gb[k]=n.gb[p];n.gb[p]=m;++k}h.gb[k]=e}}gq.prototype.sort=function(){iq(this,0,this.gb.length)};function jq(a,b){Dp.call(this,a,b);this.u="camera2D"}w(jq,Dp);jq.prototype.rotate=function(a){a=jq.d.rotate.call(this,a);var b=new qe;0<a.x?b.ut--:0>a.x&&b.ut++;0<a.y?b.ft++:0>a.y&&b.ft--;this.dispatchEvent(b)};jq.prototype.Mm=function(a){var b=20;null!=a&&!a&&(b=.02);this.Q[14]+=b};jq.prototype.Nm=function(a){var b=20;null!=a&&!a&&(b=.02);this.Q[14]-=b};
jq.prototype.Qr=function(a){if(g(a)&&2==a.length)a=new A.S(a[0],a[1],0);else if(!(a instanceof A.S))throw Error("Invalid distance vector for pan operation.");this.Q[12]-=a.x/this.Q[14];this.Q[13]+=a.y/this.Q[14]};function kq(a,b){Dp.call(this,a,b);this.u="camera3D";this.Rx=45;this.kt=A.v.pv(A.v.eo(),this.Rx,a/b,1,1E4)}w(kq,Dp);kq.prototype.rotate=function(a){a=kq.d.rotate.call(this,a);var b=-a.x/5*Math.PI/180;a=-a.y/5*Math.PI/180;var c=new A.S(this.Q[1],this.Q[5],this.Q[9]),d=new A.S(this.Q[0],this.Q[4],this.Q[8]);c.normalize();d.normalize();A.v.rotate(this.Q,b,c.x,c.y,c.z);A.v.rotate(this.Q,a,d.x,d.y,d.z)};kq.prototype.ur=function(a,b){var c=kq.d.ur.call(this,a,b);A.v.oB(c,a,b,this.hc);return c};
function lq(a,b,c,d){var e=new Float32Array(4),h=new Float32Array(4),k=new Float32Array(16),l=new Float32Array(16);new Float32Array(16);A.v.multiply(a.kt,a.Q,l);A.v.Eb(l,k);e[0]=b;e[1]=c;e[2]=2*d-1;e[3]=1;A.v.yB(k,e,h);h[3]=1/h[3];h[0]*=h[3];h[1]*=h[3];h[2]*=h[3];return h}v("X.camera3D",kq);function mq(){ad.call(this)}w(mq,ad);f=mq.prototype;f.Zc=0;f.ug=0;f.Ff=100;f.Te=0;f.si=1;f.we=!1;f.Pk=!1;f.C=function(a){a=nq(this,a);this.Zc!=a&&(this.Zc=a+this.Te>this.Ff?this.Ff-this.Te:a<this.ug?this.ug:a,this.we||this.Pk||this.dispatchEvent("change"))};f.w=function(){return nq(this,this.Zc)};f.If=function(a){a=nq(this,a);this.Te!=a&&(this.Te=0>a?0:this.Zc+a>this.Ff?this.Ff-this.Zc:a,this.we||this.Pk||this.dispatchEvent("change"))};
f.Ad=function(){var a=this.Te;return null==this.si?a:Math.round(a/this.si)*this.si};f.Nb=function(a){if(this.ug!=a){var b=this.we;this.we=!0;this.ug=a;a+this.Te>this.Ff&&(this.Te=this.Ff-this.ug);a>this.Zc&&this.C(a);a>this.Ff&&(this.Te=0,this.Gb(a),this.C(a));(this.we=b)||this.Pk||this.dispatchEvent("change")}};f.ha=function(){return nq(this,this.ug)};
f.Gb=function(a){a=nq(this,a);if(this.Ff!=a){var b=this.we;this.we=!0;this.Ff=a;a<this.Zc+this.Te&&this.C(a-this.Te);a<this.ug&&(this.Te=0,this.Nb(a),this.C(this.Ff));a<this.ug+this.Te&&(this.Te=this.Ff-this.ug);(this.we=b)||this.Pk||this.dispatchEvent("change")}};f.T=function(){return nq(this,this.Ff)};f.Cd=function(){return this.si};f.Kc=function(a){this.si!=a&&(this.si=a,a=this.we,this.we=!0,this.Gb(this.T()),this.If(this.Ad()),this.C(this.w()),(this.we=a)||this.Pk||this.dispatchEvent("change"))};
function nq(a,b){return null==a.si?b:a.ug+Math.round((b-a.ug)/a.si)*a.si};function oq(a){lj.call(this,a);this.mh=new mq;F(this.mh,"change",this.Iu,!1,this)}w(oq,lj);var pq={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};f=oq.prototype;f.B=function(){this.ef=this.ok();var a=pq[this.Ja];this.q=this.O().B("div",a,this.ef);qq(this);rq(this);sq(this)};f.ib=function(){oq.d.ib.call(this);E&&7>oc&&F(this.a(),"resize",this.wh,!1,this);this.wh();var a=this.a();al(a,"progressbar");bl(a,"live","polite")};f.Fc=function(){oq.d.Fc.call(this);tq(this)};
f.ok=function(){return this.O().B("div","progress-bar-thumb")};function tq(a){E&&7>oc&&Vc(a.a(),"resize",a.wh,!1,a)}f.pe=function(a){oq.d.pe.call(this,a);fl(this.a(),pq[this.Ja]);a=Sh(document,null,"progress-bar-thumb",this.a())[0];a||(a=this.ok(),this.a().appendChild(a));this.ef=a};f.w=function(){return this.mh.w()};f.C=function(a){this.mh.C(a);this.a()&&qq(this)};function qq(a){bl(a.a(),"valuenow",a.w())}f.ha=function(){return this.mh.ha()};f.Nb=function(a){this.mh.Nb(a);this.a()&&rq(this)};
function rq(a){bl(a.a(),"valuemin",a.ha())}f.T=function(){return this.mh.T()};f.Gb=function(a){this.mh.Gb(a);this.a()&&sq(this)};function sq(a){bl(a.a(),"valuemax",a.T())}f.Ja="horizontal";f.Iu=function(){this.wh();this.dispatchEvent("change")};
f.wh=function(){if(this.ef){var a=this.ha(),b=this.T(),a=(this.w()-a)/(b-a),b=Math.round(100*a);"vertical"==this.Ja?E&&7>oc?(this.ef.style.top=0,this.ef.style.height="100%",b=this.ef.offsetHeight,a=Math.round(a*b),this.ef.style.top=b-a+"px",this.ef.style.height=a+"px"):(this.ef.style.top=100-b+"%",this.ef.style.height=b+"%"):this.ef.style.width=b+"%"}};
f.ri=function(a){if(this.Ja!=a){var b=pq[this.Ja],c=pq[a];this.Ja=a;if(a=this.a())el(a,b)&&(hl(a,b),fl(a,c)),b=this.ef.style,"vertical"==this.Ja?(b.left=0,b.width="100%"):(b.top=b.left=0,b.height="100%"),this.wh()}};f.Xb=function(){return this.Ja};f.f=function(){tq(this);oq.d.f.call(this);this.ef=null;this.mh.g()};f.Cd=function(){return this.mh.Cd()};f.Kc=function(a){this.mh.Kc(a)};function uq(a,b){if(null==a)throw Error("No valid parent element.");if(null==b)throw Error("Invalid initial value.");oq.call(this);this.u="progressbar";this.qf=a;this.jt="";this.Np=this.Mh=null;this.Xj=[];var c;c=".progress-bar-horizontal {\n  position: relative;\n  border: 1px solid #949dad;\n";c+="  background: white;\n";c+="  padding: 1px;\n";c+="  overflow: hidden;\n";c+="  margin: 2px;\n";c+="  width: 100px;\n";c+="  height: 5px;\n";c+="}";var d;d=".progress-bar-thumb {\n  position: relative;\n  background: #F62217;\n";
d+="  overflow: hidden;\n";d+="  width: 0%;\n";d+="  height: 100%;\n";d+="}";var e;e=".progress-bar-thumb-done {\n  background: #57E964;\n}";this.Xj=[c,d,e];this.C(b);this.Tu()}w(uq,oq);
uq.prototype.Tu=function(){var a=Ci(this.qf,"position");if("static"==a||""==a)this.jt=this.qf.style.position,this.qf.style.position="relative";var a=document.getElementsByTagName("head")[0],b=O("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.Xj[0])),d=document.createTextNode(String(this.Xj[1])),e=document.createTextNode(String(this.Xj[2]));a.appendChild(b);b.appendChild(c);b.appendChild(d);b.appendChild(e);this.Mh=b;this.k(this.qf);a=this.a();a.style.position=
"absolute";a.style.top=(this.qf.clientHeight-5)/2+"px";a.style.left=(this.qf.clientWidth-100)/2+"px";a.classList.add("xtk-progress-bar")};uq.prototype.done=function(){var a=this.a().style.top,b=this.a().style.left;R(this.a());var c=new uq(this.qf,100),d=c.a();d.style.position="absolute";d.style.top=a;d.style.left=b;d.classList.add("xtk-progress-bar");fi(d).classList.add("progress-bar-thumb-done");this.Np=c};
uq.prototype.oo=function(){this.Mh&&R(this.Mh);this.a()&&R(this.a());this.Np&&R(this.Np.a());this.Np=this.Mh=null;this.jt&&(this.qf.style.position=this.jt)};function vq(){cd.call(this);this.u="renderer";this.ya=window.document.body;this.$a=this.ya.clientWidth;this.La=this.ya.clientHeight;this.Ga=this.oa=this.Ac=null;this.Sg=new gq($d);this.vd=[];this.Rb=null;this.Wp=this.Xm=this.Tp=!1;this.b=this.Li=this.me=null;this.yb={PROGRESSBAR_ENABLED:!0,INTERMEDIATE_RENDERING:!1,SLICENAVIGATORS:!0};this.Xs=-1;window.console.log("XTK release 10 -- ###TIMESTAMP### -- http://www.goXTK.com -- @goXTK")}w(vq,cd);f=vq.prototype;
f.Fv=function(){window.cancelAnimationFrame(this.Xs);this.yb.PROGRESSBAR_ENABLED&&(this.Li=new uq(this.ya,3))};f.Gv=function(){this.yb.PROGRESSBAR_ENABLED&&this.Li&&(this.Li.done(),this.Kp=$f(function(){this.Kp=null;this.Li&&(this.Li.oo(),this.Li=null);this.Xm=this.Wp=!0;this.k()}.bind(this),700))};f.Hv=function(a){this.Li&&this.Li.C(100*a.dk)};f.Sk=function(a){this.me&&this.me.C(100*a.dk)};f.FK=function(a){null!=a&&a instanceof Yd&&a.Sa&&this.xh(a.Sa)};
f.RK=function(a){null!=a&&a instanceof Zd&&a.Sa&&this.remove(a.Sa)};f.Nv=function(a){if(!(null!=a&&a instanceof we))throw Error("Invalid hover event.");};f.Tk=function(){var a=Ph(this.ya);this.$a=a.clientWidth;this.La=a.clientHeight;a=Ph(this.Ac);null!=a&&(a.width=this.$a,a.height=this.La,"renderer3D"==this.u&&(this.b.viewport(0,0,this.$a,this.La),this.oa.kt=A.v.pv(A.v.eo(),this.oa.Rx,this.Ac.width/this.Ac.height,1,1E4)))};
f.yj=function(a){if(!(null!=a&&a instanceof ve))throw Error("Invalid scroll event.");};vq.prototype.__defineGetter__("config",function(){return this.yb});vq.prototype.__defineGetter__("interactor",function(){return this.Ga});vq.prototype.__defineGetter__("camera",function(){return this.oa});vq.prototype.__defineGetter__("loadingCompleted",function(){return this.Xm});vq.prototype.__defineGetter__("container",function(){return this.ya});
vq.prototype.__defineSetter__("container",function(a){if(null==a)throw Error("An ID to a valid container (<div>..) is required.");var b=a;r(b)&&(b=Ph(a));if(!ii(b))throw Error("Could not find the given container.");this.ya=b});f=vq.prototype;f.Mo=function(){this.oa.reset()};function wq(a){a.yb.PROGRESSBAR_ENABLED&&a.me&&!a.Kp&&(a.me.done(),a.Kp=$f(function(){this.Kp=null;this.me&&(this.me.oo(),this.me=null);this.k()}.bind(a),700))}
f.ua=function(a){var b=O("canvas");this.ya.appendChild(b);this.$a=this.ya.clientWidth;this.La=this.ya.clientHeight;b.width=this.$a;b.height=this.La;try{var c=b.getContext(a);if(!c)throw Error();}catch(d){throw a="Sorry, "+a+' context is <strong>not supported</strong> on this machine! See <a href="http://crash.goXTK.com" target="_blank">http://crash.goXTK.com</a> for requirements..',this.ya.innerHTML='<h3 style="color:red;font-family:sans-serif;">Oooops..</h3><p style="color:red;font-family:sans-serif;">'+
a+"</p>",Error(a);}this.Rb=new Qf;F(this.Rb,ke,this.Sk.bind(this));this.Ac=b;this.b=c;b=new Ap(this.Ac);"2d"==a&&(b=new Cp(this.Ac));b.ua();F(b,ge,this.Mo.bind(this));F(b,le,this.Nv.bind(this));F(b,fe,this.yj.bind(this));this.Ga=b;b=new kq(this.$a,this.La);"2d"==a&&(b=new jq(this.$a,this.La));b.observe(this.Ga);this.oa=b;F(window,"resize",this.Tk,!1,this)};f.add=function(a){(a instanceof fq||a instanceof dq||a instanceof bq)&&a.ga();this.vd.push(a);this.xh(a)};
f.remove=function(a){if(!this.Ac||!this.b)throw Error("The renderer was not initialized properly.");null!=a&&G(a);return!1};f.xh=function(a){if(!this.Ac||!this.b)throw Error("The renderer was not initialized properly.");null!=a&&(Xc(a,ie)||F(a,ie,this.FK.bind(this)),Xc(a,je)||F(a,je,this.RK.bind(this)),Xc(a,ne)||F(a,ne,this.Fv.bind(this)),Xc(a,pe)||F(a,pe,this.Hv.bind(this)),Xc(a,oe)||F(a,oe,this.Gv.bind(this)))};
f.get=function(a){if(null==a)throw Error("Invalid object id.");for(var b=this.Sg.gb,c=b.length,d=0,d=0;d<c;d++)if(b[d].ud==a)return b[d];return null};
f.k=function(){if(!this.Ac||!this.b)throw Error("The renderer was not initialized properly.");if(null==this.ey){if(this.Rb.Fl.St(!1)){if(this.yb.PROGRESSBAR_ENABLED&&!this.me&&(this.me=new uq(this.ya,3)),this.Wp=this.Xm=!1,this.ey=$f(function(){this.ey=null;this.k()}.bind(this),100),!this.yb.INTERMEDIATE_RENDERING)return}else if(this.Xm||this.Wp||(this.Wp=!0,eval("this.onShowtime()"),this.Xm=!0),this.me){wq(this);return}this.Xs=window.requestAnimationFrame(this.k.bind(this));eval("this.onRender()");
this.nh(!1,!0)}};f.PB=function(){};f.LB=function(){};f.nh=function(){};f.qe=function(){window.cancelAnimationFrame(this.Xs);this.Rb&&(delete this.Rb,this.Rb=null);this.me&&(this.me.oo(),delete this.me,this.me=null);this.Sg.clear();delete this.Sg;this.vd.length=0;delete this.vd;delete this.Rb;this.Rb=null;delete this.oa;this.oa=null;delete this.Ga;this.Ga=null;delete this.b;this.b=null;R(this.Ac);delete this.Ac;this.Ac=null};function xq(){vq.call(this);this.u="renderer2D";this.ed=null;this.Nd=-1;this.le=[];this.Wx=this.Rp=this.Sx=this.Pp=null;this.Jl=this.Ll=this.ak=this.bk=0;this.Sb=this.Tb=this.Cb=this.Ab=this.Px=-1;this.Xx=new Float32Array([-255,-255,-255,-255]);this.dy=!0}w(xq,vq);xq.prototype.Vv=function(){};xq.prototype.rL=function(){};xq.prototype.yj=function(a){xq.d.yj.call(this,a);var b=this.vd[0];if(b){var c="",c=0==this.Nd?"indexX":1==this.Nd?"indexY":"indexZ";b[c]=a.hc?b[c]+1:b[c]-1;eval("this.onScroll();")}};
xq.prototype.sL=function(a){var b=this.vd[0];if(b){var c=b.Sb-b.Tb,d=c/2,e=parseInt(c+c/15*-a.ut,10);a=parseInt(d+d/15*a.ft,10);c==e&&e++;d==a&&a++;b.Tb-=parseInt(d-a,10);b.Tb-=parseInt(c-e,10);b.Tb=Math.max(b.Tb,b.ke);b.Sb-=parseInt(d-a,10);b.Sb+=parseInt(c-e,10);b.Sb=Math.min(b.Sb,b.fc);eval("this.onWindowLevel();")}};xq.prototype.__defineGetter__("orientation",function(){return this.ed});
xq.prototype.__defineSetter__("orientation",function(a){a=a.toUpperCase();"AXIAL"==a?(a="Z",this.Nd=2):"SAGITTAL"==a?(a="X",this.Nd=0):"CORONAL"==a&&(a="Y",this.Nd=1);if("X"!=a&&"Y"!=a&&"Z"!=a)throw Error("Invalid orientation.");this.ed=a});xq.prototype.__defineGetter__("radiological",function(){return this.dy});xq.prototype.__defineSetter__("radiological",function(a){this.dy=a});f=xq.prototype;
f.ua=function(){if(!this.ed)throw Error("No 2D orientation set.");xq.d.ua.call(this,"2d");this.b.fillStyle="rgba(50,50,50,0)";this.b.fillRect(0,0,this.Ac.width,this.Ac.height);this.Pp=O("canvas");this.Rp=O("canvas");F(this.oa,he,this.sL.bind(this))};f.Tk=function(){xq.d.Tk.call(this);yq(this)};f.Mo=function(){xq.d.Mo.call(this);yq(this);var a=this.vd[0];a&&(a.Sb=a.fc,a.Tb=a.ke)};
f.xh=function(a){xq.d.xh.call(this,a);var b=!1;this.get(a.ud)&&(b=!0);if(a instanceof J){var c=a.ja,d=a.t,e=a.Md;if(null!=d&&null!=d.ja&&d.ja.J)this.xh(d);else if(null!=e&&null!=e.ja&&e.ja.J)this.Rb.load(e,a);else{if(null!=c&&g(c))if(null!=a.Bh){if(a.Bh.wo!=c.length||b&&!a.J)return}else{b=0;d=c.length;for(b=0;b<d;b++)this.Rb.load(c[b],a);return}else if(null!=c&&c.J){this.Rb.load(a,a);return}c=this.ed;this.Nd="X"==c?0:"Y"==c?1:2;this.fd=a.j[this.Nd].j;e=null;e=0==this.Nd?a.indexX:1==this.Nd?a.indexY:
a.indexZ;c=a.j[this.Nd].j[e].Vx;d=a.j[this.Nd].j[e].Ux;this.Ll=a.j[this.Nd].j[e].Oh;this.Jl=a.j[this.Nd].j[e].Hh;this.bk=c;this.ak=d;e=this.Pp;e.width=c;e.height=d;var h=this.Rp;h.width=c;h.height=d;this.Sx=e.getContext("2d");this.Wx=h.getContext("2d");b||(this.Sg.add(a),yq(this))}}};function yq(a){var b=Math.min(a.$a/(a.bk*a.Ll),a.La/(a.ak*a.Jl));null!=a.oa&&(a.oa.Q[14]=b)}f.Or=function(){};
f.ED=function(a,b){var c=this.vd[0],d=this.oa.Q,e=null,h=this.bk,k=this.ak,l=null,n=null;if("Y"==this.ed)e=this.fd[parseInt(c.indexY,10)],l=e.Oh,n=e.Hh,this.le[0]="red",this.le[1]="blue";else if("Z"==this.ed)e=this.fd[parseInt(c.indexZ,10)],l=e.Oh,n=e.Hh,this.le[0]="red",this.le[1]="green";else{e=this.fd[parseInt(c.indexX,10)];l=e.Hh;n=e.Oh;this.le[0]="green";this.le[1]="blue";var p=h,h=k,k=p}var m=1*d[12],q=-1*d[13],p=Math.max(d[14],.6),d=[this.$a/2,this.La/2],l=h*l*p,n=k*n*p,t=d[0]-l/2,d=d[1]-n/
2,t=t+m*p,d=d+q*p;return a>t&&a<t+l&&b>d&&b<d+n?(m=(a-t)/l*h,q=(b-d)/n*k,n=e.JF[4],"X"==this.ed?(p=h-m,m=q,q=p):"Y"==this.ed?m=h-m:"Z"==this.ed&&(m=h-m,q=k-q),m=e.IF+m*e.Oh,q=e.CF+q*e.Hh,m=Cd(m,q,n,1),h=Dd(),Nd(e.vF,m,h),k=Dd(),Nd(e.wF,m,k),e=Math.round((c.e[0].H[0]*k[0]+c.e[0].H[1]*k[1]+c.e[0].H[2]*k[2]+c.e[0].it)/c.e[0].Kl),e>=c.e[0].ea?e=c.e[0].ea-1:0>e&&(e=0),m=Math.round((c.e[1].H[0]*k[0]+c.e[1].H[1]*k[1]+c.e[1].H[2]*k[2]+c.e[1].it)/c.e[1].Kl),m>=c.e[1].ea?m=c.e[1].ea-1:0>m&&(m=0),q=Math.round((c.e[2].H[0]*
k[0]+c.e[2].H[1]*k[1]+c.e[2].H[2]*k[2]+c.e[2].it)/c.e[2].Kl),q>=c.e[2].ea?q=c.e[2].ea-1:0>q&&(q=0),[[e,m,q],[h[0],h[1],h[2]],[k[0],k[1],k[2]]]):null};
f.nh=function(a,b){xq.d.nh.call(this,a,b);if(0!=this.Sg.gb.length){var c=this.vd[0],d=null,d=0==this.Nd?c.indexX:1==this.Nd?c.indexY:c.indexZ,e=this.fd[parseInt(d,10)].Vx,h=this.fd[parseInt(d,10)].Ux;this.Ll=this.fd[parseInt(d,10)].Oh;this.Jl=this.fd[parseInt(d,10)].Hh;this.bk=e;this.ak=h;var k=this.$a,l=this.La,n=this.oa.Q;this.b.save();this.b.clearRect(-k,-l,2*k,2*l);this.b.restore();var p=Math.max(n[14],.1);this.b.setTransform(p,0,0,p,0,0);var m=1*n[12],n=-1*n[13],q=null;c.t&&(q=c.t.rt);var t=
this.fd[parseInt(d,10)],s=t.Za.Mi,t=t.t,z=null;t&&(z=t.Mi);var y=this.bk,I=this.ak,P=this.Sx,N=this.Wx,H=P.getImageData(0,0,y,I),T=N.getImageData(0,0,y,I),ca=H.data,V=T.data,wa=ca.length,oa=c.fc,ya=c.Ab,Oa=c.Cb,Ja=c.Tb/oa,Pa=c.Sb/oa;if(this.Px!=d||this.Ab!=ya||this.Cb!=Oa||this.Tb!=Ja||this.Sb!=Pa||q&&!hq(q,this.Xx,0)){var ka=this.Pp;ka.width=e;ka.height=h;ka=this.Rp;ka.width=e;ka.height=h;e=0;do{var ka=[0,0,0,0],h=[0,0,0,0],za=s[e]/255*oa,qa=s[e],qa=(qa/255-Ja)/(Pa-Ja),qa=255*qa;za>=ya&&za<=Oa&&
(ka=new qd(c.Ii[0],c.Ii[1],c.Ii[2]),ka=(new qd(c.Gi[0],c.Gi[1],c.Gi[2])).scale(qa).add(ka.scale(255-qa)),ka=[Math.floor(ka.x),Math.floor(ka.y),Math.floor(ka.z),255],t&&(-255==q[3]?h=[z[e],z[e+1],z[e+2],z[e+3]]:hq(q,z,e)&&(h=[z[e],z[e+1],z[e+2],z[e+3]])));"X"==this.ed?(ca[e]=ka[0],ca[e+1]=ka[1],ca[e+2]=ka[2],ca[e+3]=ka[3],V[e]=h[0],V[e+1]=h[1],V[e+2]=h[2],V[e+3]=h[3]):"Y"==this.ed?(qa=Math.floor(e/(4*y)),qa=qa*y*4+(4*(y-1)-(e-qa*y*4)),ca[qa]=ka[0],ca[qa+1]=ka[1],ca[qa+2]=ka[2],ca[qa+3]=ka[3],V[qa]=
h[0],V[qa+1]=h[1],V[qa+2]=h[2],V[qa+3]=h[3]):(qa=wa-1-e,ca[qa-3]=ka[0],ca[qa-2]=ka[1],ca[qa-1]=ka[2],ca[qa]=ka[3],V[qa-3]=h[0],V[qa-2]=h[1],V[qa-1]=h[2],V[qa]=h[3]);e+=4}while(e<wa);P.putImageData(H,0,0);N.putImageData(T,0,0);this.Px=d;this.Ab=ya;this.Cb=Oa;this.Tb=Ja;this.Sb=Pa;t&&(this.Xx=q)}this.b.globalAlpha=1;this.b.translate(k/2/p,l/2/p);"X"==this.ed&&(this.b.rotate(.5*Math.PI),d=m,m=n,n=-d);m=-y*this.Ll/2+m;n=-I*this.Jl/2+n;this.b.drawImage(this.Pp,m,n,y*this.Ll,I*this.Jl);t&&c.t.rb&&(this.b.globalAlpha=
c.t.dd,this.b.drawImage(this.Rp,m,n,y*this.Ll,I*this.Jl));this.yb.SLICENAVIGATORS&&this.Ga.Vp&&this.Ga.qt&&!this.Ga.Rg&&(m=this.Ga.cd,m=this.ED(m[0],m[1]))&&(c.Ih=m[0][0],c.Jh=m[0][1],c.Kh=m[0][2],c.ga(!1),this.onSliceNavigation(),this.b.setTransform(1,0,0,1,0,0),this.b.lineWidth=1,this.b.beginPath(),this.b.moveTo(this.Ga.cd[0],0),this.b.lineTo(this.Ga.cd[0],this.Ga.cd[1]-10),this.b.moveTo(this.Ga.cd[0],this.Ga.cd[1]+10),this.b.lineTo(this.Ga.cd[0],this.La),this.b.strokeStyle=this.le[0],this.b.stroke(),
this.b.closePath(),this.b.beginPath(),this.b.moveTo(0,this.Ga.cd[1]),this.b.lineTo(this.Ga.cd[0]-10,this.Ga.cd[1]),this.b.moveTo(this.Ga.cd[0]+10,this.Ga.cd[1]+.5),this.b.lineTo(this.$a,this.Ga.cd[1]),this.b.strokeStyle=this.le[1],this.b.stroke(),this.b.closePath(),this.b.font="10pt Arial",this.b.textAlign="left",this.b.textBaseline="top",this.b.fillStyle="white",this.b.fillText("RAS: "+m[2][0].toFixed(2)+", "+m[2][1].toFixed(2)+", "+m[2][2].toFixed(2),0,0),y=t=n="undefined","undefined"!=typeof c.mc[m[1][2].toFixed(0)]&&
"undefined"!=typeof c.mc[m[1][2].toFixed(0)][m[1][1].toFixed(0)]&&(n=c.mc[m[1][2].toFixed(0)][m[1][1].toFixed(0)][m[1][0].toFixed(0)],c.kb&&(t=c.t.mc[m[1][2].toFixed(0)][m[1][1].toFixed(0)][m[1][0].toFixed(0)],c.t.Um&&(y=c.t.Um.get(t),"undefined"!=typeof y&&(y=y[0])))),this.b.fillText("Background:  "+n+" ("+m[1][0].toFixed(0)+", "+m[1][1].toFixed(0)+", "+m[1][2].toFixed(0)+")",0,15),c.kb&&this.b.fillText("Labelmap:  "+y+" ("+t+")",0,30))}};v("X.renderer2D",xq);v("X.renderer2D.prototype.init",xq.prototype.ua);
v("X.renderer2D.prototype.add",xq.prototype.add);v("X.renderer2D.prototype.onShowtime",xq.prototype.PB);v("X.renderer2D.prototype.onRender",xq.prototype.LB);v("X.renderer2D.prototype.onScroll",xq.prototype.Vv);v("X.renderer2D.prototype.onWindowLevel",xq.prototype.rL);v("X.renderer2D.prototype.get",xq.prototype.get);v("X.renderer2D.prototype.resetViewAndRender",xq.prototype.Mo);v("X.renderer2D.prototype.xy2ijk",xq.prototype.ED);v("X.renderer2D.prototype.render",xq.prototype.k);
v("X.renderer2D.prototype.destroy",xq.prototype.qe);v("X.renderer2D.prototype.onSliceNavigation",xq.prototype.Or);function zq(){ad.call(this)}w(zq,ad);v("xiv.vis.RenderEngine",zq);zq.prototype.ID_PREFIX="xiv.vis.RenderEngine";var Aq="isSelectedVolume"+B();v("xiv.vis.RenderEngine.EventType",{lO:"j",iO:"k",jO:"l"});v("xiv.vis.RenderEngine.SELECTED_VOL_KEY",Aq);v("xiv.vis.RenderEngine.prototype.ID_PREFIX",zq.prototype.ID_PREFIX);function Bq(){xq.call(this)}w(Bq,xq);v("xiv.vis.XtkRenderer2D",Bq);f=Bq.prototype;f.af=function(){this.Tk()};f.Vv=function(){this.Or()};f.Sk=function(a){Bq.d.Sk.call(this,a);this.dispatchEvent({type:"k",value:a.dk})};f.ua=function(){this.config.PROGRESSBAR_ENABLED=!1;this.config.SLICENAVIGATORS=!1;Bq.d.ua.call(this);this.Ga.onMouseMove=this.xK.bind(this);this.Ga.config.MOUSEWHEEL_ENABLED=!1;this.Ga.config.MOUSECLICKS_ENABLED=!1;this.Ga.config.KEYBOARD_ENABLED=!1;this.Ga.ua()};f.Xb=function(){return this.ed};
f.VG=function(){return this.oa};f.UH=function(){return this.Ga.mousePosition};f.jr=function(){};f.xK=function(){this.dispatchEvent({type:"mouseover",YJ:this.Ga.YJ,gM:this.Ga.shiftDown})};f.Or=function(){this.dispatchEvent({type:"m",volume:this.vd[0],PP:this.vd[0]["index"+this.ed],OP:this.ed,gM:this.Ga.qt})};f.k=function(){this.Ac&&this.b?(Bq.d.k.call(this),this.dispatchEvent({type:"l"})):(window.console.log("init"),this.ua(),window.console.log(this.hm().visible))};f.WG=function(){return this.Ac};
f.hm=function(){return this.vd[0]};f.oA=function(){if(null!=this.fd){var a=this.vd[0];if(null!=a[J.REORIENTED_DIMENSIONS_KEY]&&"false"==a.reslicing.toString())switch(this.Xb()){case "X":return a[J.REORIENTED_DIMENSIONS_KEY][0];case "Y":return a[J.REORIENTED_DIMENSIONS_KEY][1];case "Z":return a[J.REORIENTED_DIMENSIONS_KEY][2]}return this.fd.length}};f.EA=function(){return this.oa.Q[14]};f.SC=function(a){this.oa.Q[14]=a};function Cq(a){.01>a.oa.Q[14]&&(a.oa.Q[14]=.01)}
f.Mm=function(){this.oa.Q[14]+=.03;Cq(this)};f.Nm=function(){this.oa.Q[14]+=-.03;Cq(this)};
function Dq(a,b,c,d){var e=a.vd[0],h=a.oa.Q,k=null,l=a.bk,n=a.ak,p=null,m=null;if(null!=e){"Y"==a.ed?(k=a.fd[parseInt(e.indexY,10)],p=k.Oh,m=k.Hh,a.le[0]="red",a.le[1]="blue"):"Z"==a.ed?(k=a.fd[parseInt(e.indexZ,10)],p=k.Oh,m=k.Hh,a.le[0]="red",a.le[1]="green"):(k=a.fd[parseInt(e.indexX,10)],p=k.Hh,m=k.Oh,a.le[0]="green",a.le[1]="blue",e=l,l=n,n=e);var e=1*h[12],k=-1*h[13],h=Math.max(h[14],.6),q=[a.$a/2,a.La/2],p=l*p*h,m=n*m*h,t=q[0]-p/2,q=q[1]-m/2,t=t+e*h,q=q+k*h;if("vertical"===c)return b=Math.max(0,
b),b=Math.min(b,l),d?t+(a.bk-b)/l*p:t+b/l*p;b=Math.max(0,b);b=Math.min(b,n);return d?q+(a.ak-b)/n*m:q+b/n*m}}f.xA=function(a,b){return Dq(this,a,"vertical",b)};f.cA=function(a,b){return Dq(this,a,"horizontal",b)};f.qe=function(){Bq.d.qe.call(this)};v("xiv.vis.XtkRenderer2D.ZOOM_MINIMUM",.01);v("xiv.vis.XtkRenderer2D.prototype.onResize",Bq.prototype.af);v("xiv.vis.XtkRenderer2D.prototype.onScroll",Bq.prototype.Vv);v("xiv.vis.XtkRenderer2D.prototype.onProgress",Bq.prototype.Sk);
v("xiv.vis.XtkRenderer2D.prototype.init",Bq.prototype.ua);v("xiv.vis.XtkRenderer2D.prototype.getOrientation",Bq.prototype.Xb);v("xiv.vis.XtkRenderer2D.prototype.getCamera",Bq.prototype.VG);v("xiv.vis.XtkRenderer2D.prototype.getMousePosition",Bq.prototype.UH);v("xiv.vis.XtkRenderer2D.prototype.isMouseOver",Bq.prototype.jr);v("xiv.vis.XtkRenderer2D.prototype.onSliceNavigation",Bq.prototype.Or);v("xiv.vis.XtkRenderer2D.prototype.render",Bq.prototype.k);v("xiv.vis.XtkRenderer2D.prototype.getCanvas",Bq.prototype.WG);
v("xiv.vis.XtkRenderer2D.prototype.getVolume",Bq.prototype.hm);v("xiv.vis.XtkRenderer2D.prototype.getNumberSlices",Bq.prototype.oA);v("xiv.vis.XtkRenderer2D.prototype.getZoom",Bq.prototype.EA);v("xiv.vis.XtkRenderer2D.prototype.setZoom",Bq.prototype.SC);v("xiv.vis.XtkRenderer2D.prototype.zoomIn",Bq.prototype.Mm);v("xiv.vis.XtkRenderer2D.prototype.zoomOut",Bq.prototype.Nm);v("xiv.vis.XtkRenderer2D.prototype.getVerticalSliceX",Bq.prototype.xA);
v("xiv.vis.XtkRenderer2D.prototype.getHorizontalSliceY",Bq.prototype.cA);v("xiv.vis.XtkRenderer2D.prototype.destroy",Bq.prototype.qe);function Eq(){U.call(this)}w(Eq,up);v("xiv.ui.ZoomDisplay",Eq);Eq.ID_PREFIX="xiv.ui.ZoomDisplay";Eq.prototype.k=function(a){Eq.d.k.call(this,a);this.da.max=1E5;this.da.min=1;M(this.Dc,"xiv-ui-framedisplay-text");M(this.da,"xiv-ui-framedisplay-text")};Eq.prototype.Gg=function(){this.Dc.innerHTML="Zoom:&nbsp"+this.da.value+"%";this.eq()};v("xiv.ui.ZoomDisplay.ID_PREFIX",Eq.ID_PREFIX);v("xiv.ui.ZoomDisplay.prototype.updateValue",Eq.prototype.Gg);v("xiv.ui.ZoomDisplay.prototype.render",Eq.prototype.k);function Fq(){U.call(this)}w(Fq,up);v("xiv.ui.FrameDisplay",Fq);Fq.ID_PREFIX="xiv.ui.FrameDisplay";Fq.prototype.k=function(a){Fq.d.k.call(this,a);M(this.Dc,"xiv-ui-framedisplay-text");M(this.da,"xiv-ui-framedisplay-text")};Fq.prototype.Gg=function(){this.Dc.innerHTML=this.da.value+" / "+this.da.max;this.eq()};v("xiv.ui.FrameDisplay.ID_PREFIX",Fq.ID_PREFIX);v("xiv.ui.FrameDisplay.prototype.updateValue",Fq.prototype.Gg);v("xiv.ui.FrameDisplay.prototype.render",Fq.prototype.k);function Gq(a,b){if(null==a)throw Error("Invalid direction for ResizeDragger: "+a);U.call(this);this.zz=a;this.Bj=b;this.xn=null;this.ob=new lm(this.a());this.qw()}w(Gq,U);v("nrg.ui.ResizeDragger",Gq);Gq.ID_PREFIX="nrg.ui.ResizeDragger";Gq.CSS_SUFFIX={};f=Gq.prototype;f.Hg=null;f.bi=null;f.Wl=null;f.Ln=null;f.Yg=null;f.Wh=null;f.Bq=null;f.Kn=null;f.offsetX=0;f.CC=function(a){this.offsetX=a};f.offsetY=0;f.fM=function(a){this.offsetY=a};f.bb=null;f.ai=null;f.Ba=null;f.Zd=null;f.za=null;f.pc=null;
f.Yd=!1;f.ye=new wh(10,10);f.zd=function(){return this.xn};f.oi=function(a){this.xn=a};f.Hq=function(){return this.ob};f.Wz=function(){return this.zz};f.Bd=function(){return this.a()};
f.Jj=function(){this.ai=S(this.a());this.bb=Hi(this.a());this.Hg=-1*this.ai.height/2+this.offsetY;this.bi=-1*this.ai.width/2+this.offsetX;this.ob.rg()||this.Yd||(this.Ba=wb(Hi(this.Bj)),this.Zd=wb(S(this.Bj)),this.Ba.left=this.Ba.x,this.Ba.top=this.Ba.y,this.Ba.right=this.Ba.x+this.Zd.width,this.Ba.bottom=this.Ba.y+this.Zd.height,this.za=wb(Hi(this.xn)),this.pc=wb(S(this.xn)),this.za.left=this.za.x,this.za.top=this.za.y,this.za.right=this.za.x+this.pc.width,this.za.bottom=this.za.y+this.pc.height,
this.Ug&&this.Ug(this))};f.AC=function(a){return this.ye=a};f.qw=function(){F(this.ob,"start",this.Uv.bind(this));F(this.ob,"drag",this.af.bind(this));F(this.ob,"end",this.Eo.bind(this))};f.Uv=function(){this.dispatchEvent({type:"start_resize"})};f.af=function(){this.Jj();this.dispatchEvent({type:"resize",OL:this.Ba,Zd:this.Zd,fG:this.za,pc:this.pc});null!=this.cf&&this.cf()};f.Eo=function(){this.dispatchEvent({type:"end_resize"})};f.update=function(){this.ob.rg()||this.Yd||this.Jj()};f.yf=function(){};
f.Kf=function(a,b,c){this.Jj();a=this.yf(a);u(c)&&0===c?(Fi(this.a(),a.end),this.af(),this.Eo()):Hq(this,a.start,a.end,b,c)};f.hD=function(){null!=this.rh&&(this.rh.stop(),this.af(),this.Eo())};function Hq(a,b,c,d,e){a.rh=new Yj(a.a(),[b.x,b.y],[c.x,c.y],u(e)?e:500,xk);F(a.rh,"begin",function(){this.Yd=!0;this.Uv()}.bind(a));F(a.rh,"animate",a.af.bind(a));F(a.rh,"end",function(){this.Yd=!1;this.rh.g();G(this.rh);this.rh.qe();this.rh=null;Fi(this.a(),c);this.Eo();d&&d()}.bind(a));a.rh.play()}
f.f=function(){delete this.vQ;delete this.wQ;delete this.bi;delete this.Wl;delete this.Ln;delete this.Yg;delete this.Wh;delete this.Bq;delete this.Kn;delete this.Yd;tb(this.ye);delete this.ye;delete this.Bj;delete this.xn;tb(this.bb);delete this.bb;tb(this.ai);delete this.ai;tb(this.Ba);delete this.Ba;tb(this.Zd);delete this.Zd;tb(this.za);delete this.za;tb(this.pc);delete this.pc;R(this.ob.handle);this.ob.handle=null;G(this.ob);this.ob.g();delete this.ob;delete this.zz};
v("nrg.ui.ResizeDragger.EventType",{Rs:"resize",QE:"start_resize",PE:"end_resize"});v("nrg.ui.ResizeDragger.ID_PREFIX",Gq.ID_PREFIX);v("nrg.ui.ResizeDragger.CSS_SUFFIX",Gq.CSS_SUFFIX);v("nrg.ui.ResizeDragger.ANIM_MED",500);v("nrg.ui.ResizeDragger.prototype.vertDraggerOffset",Gq.prototype.Hg);v("nrg.ui.ResizeDragger.prototype.horizDraggerOffset",Gq.prototype.bi);v("nrg.ui.ResizeDragger.prototype.draggerLimitLeft",Gq.prototype.Wl);v("nrg.ui.ResizeDragger.prototype.draggerLimitRight",Gq.prototype.Ln);
v("nrg.ui.ResizeDragger.prototype.draggerLimitTop",Gq.prototype.Yg);v("nrg.ui.ResizeDragger.prototype.draggerLimitBottom",Gq.prototype.Wh);v("nrg.ui.ResizeDragger.prototype.draggerLimitWidth",Gq.prototype.Bq);v("nrg.ui.ResizeDragger.prototype.draggerLimitHeight",Gq.prototype.Kn);v("nrg.ui.ResizeDragger.prototype.offsetX",Gq.prototype.offsetX);v("nrg.ui.ResizeDragger.prototype.setOffsetX",Gq.prototype.CC);v("nrg.ui.ResizeDragger.prototype.offsetY",Gq.prototype.offsetY);
v("nrg.ui.ResizeDragger.prototype.setOffsetY",Gq.prototype.fM);v("nrg.ui.ResizeDragger.prototype.handlePos",Gq.prototype.bb);v("nrg.ui.ResizeDragger.prototype.handleSize",Gq.prototype.ai);v("nrg.ui.ResizeDragger.prototype.resizeePos",Gq.prototype.Ba);v("nrg.ui.ResizeDragger.prototype.resizeeSize",Gq.prototype.Zd);v("nrg.ui.ResizeDragger.prototype.boundaryPos",Gq.prototype.za);v("nrg.ui.ResizeDragger.prototype.boundarySize",Gq.prototype.pc);v("nrg.ui.ResizeDragger.prototype.isAnimating",Gq.prototype.Yd);
v("nrg.ui.ResizeDragger.prototype.minSize",Gq.prototype.ye);v("nrg.ui.ResizeDragger.prototype.getBoundaryElement",Gq.prototype.zd);v("nrg.ui.ResizeDragger.prototype.setBoundaryElement",Gq.prototype.oi);v("nrg.ui.ResizeDragger.prototype.getDragger",Gq.prototype.Hq);v("nrg.ui.ResizeDragger.prototype.getDirection",Gq.prototype.Wz);v("nrg.ui.ResizeDragger.prototype.getHandle",Gq.prototype.Bd);v("nrg.ui.ResizeDragger.prototype.updateTrackingValues",Gq.prototype.Jj);
v("nrg.ui.ResizeDragger.prototype.setMinSize",Gq.prototype.AC);v("nrg.ui.ResizeDragger.prototype.onResizeStart",Gq.prototype.Uv);v("nrg.ui.ResizeDragger.prototype.onResize",Gq.prototype.af);v("nrg.ui.ResizeDragger.prototype.onResizeEnd",Gq.prototype.Eo);v("nrg.ui.ResizeDragger.prototype.update",Gq.prototype.update);v("nrg.ui.ResizeDragger.prototype.getSlideTrajectory",Gq.prototype.yf);v("nrg.ui.ResizeDragger.prototype.stopSlideAnimation",Gq.prototype.hD);
v("nrg.ui.ResizeDragger.prototype.slideToLimits",Gq.prototype.Kf);v("nrg.ui.ResizeDragger.prototype.disposeInternal",Gq.prototype.f);function Iq(a){Gq.call(this,"right",a)}w(Iq,Gq);v("nrg.ui.ResizeDraggerRight",Iq);Iq.ID_PREFIX="nrg.ui.ResizeDraggerRight";Iq.CSS_SUFFIX={};Iq.prototype.Ug=function(){this.Wl=this.Ba.left+this.ye.width+this.bi;this.Ln=this.za.right+this.bi;this.Bq=this.Ln-this.Wl};v("nrg.ui.ResizeDraggerRight.prototype.calculateDraggerLimits",Iq.prototype.Ug);Iq.prototype.cf=function(){Ti(this.Bj,Math.min(Math.max(this.Zd.width+(this.Yd?this.bb.x-this.Ba.right+this.bi:this.ob.clientX-this.ob.Iw),this.ye.width),this.pc.width))};
v("nrg.ui.ResizeDraggerRight.prototype.resizeMethod",Iq.prototype.cf);Iq.prototype.update=function(a){this.ob.rg()||this.Yd||(Iq.d.update.call(this,a),nm(this.ob,new yh(this.Wl,this.Ba.y,this.Bq,0)),Fi(this.a(),this.Ba.right+this.bi,this.Ba.y),Ui(this.a(),this.Zd.height))};Iq.prototype.yf=function(a){return{start:new th(this.bb.x,this.bb.y),end:"MIN"==a?new th(this.Wl,this.bb.y):new th(this.Ln,this.bb.y)}};v("nrg.ui.ResizeDraggerRight.ID_PREFIX",Iq.ID_PREFIX);
v("nrg.ui.ResizeDraggerRight.CSS_SUFFIX",Iq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerRight.prototype.update",Iq.prototype.update);v("nrg.ui.ResizeDraggerRight.prototype.getSlideTrajectory",Iq.prototype.yf);function Jq(a){Gq.call(this,"right",a)}w(Jq,Gq);v("nrg.ui.ResizeDraggerBottom",Jq);Jq.ID_PREFIX="nrg.ui.ResizeDraggerBottom";Jq.CSS_SUFFIX={};Jq.prototype.Ug=function(){this.Yg=this.Ba.top+this.ye.height+this.Hg;this.Wh=this.za.bottom+this.Hg;this.Kn=this.Wh-this.Yg};v("nrg.ui.ResizeDraggerBottom.prototype.calculateDraggerLimits",Jq.prototype.Ug);Jq.prototype.cf=function(){Ui(this.Bj,Math.max(this.Zd.height+(this.bb.y-this.Ba.bottom),this.ye.height))};
v("nrg.ui.ResizeDraggerBottom.prototype.resizeMethod",Jq.prototype.cf);Jq.prototype.update=function(){this.ob.rg()||this.Yd||(Jq.d.update.call(this),nm(this.ob,new yh(this.za.x,this.Yg,0,this.Wh)),Fi(this.a(),this.Ba.x,this.Ba.bottom+this.Hg))};Jq.prototype.yf=function(a){return{start:new th(this.bb.x,this.bb.y),end:"MIN"==a?new th(this.bb.x,this.Yg):new th(this.bb.x,this.Wh)}};v("nrg.ui.ResizeDraggerBottom.ID_PREFIX",Jq.ID_PREFIX);v("nrg.ui.ResizeDraggerBottom.CSS_SUFFIX",Jq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerBottom.prototype.update",Jq.prototype.update);v("nrg.ui.ResizeDraggerBottom.prototype.getSlideTrajectory",Jq.prototype.yf);function Kq(a){Gq.call(this,"right",a)}w(Kq,Gq);v("nrg.ui.ResizeDraggerTop",Kq);Kq.ID_PREFIX="nrg.ui.ResizeDraggerTop";Kq.CSS_SUFFIX={};Kq.prototype.Ug=function(){this.Yg=this.za.top-this.Hg;this.Wh=this.Ba.bottom-this.ye.height+this.Hg;this.Kn=this.Wh-this.Yg};v("nrg.ui.ResizeDraggerTop.calculateDraggerLimits",Kq.Ug);Kq.prototype.cf=function(){var a=this.bb.y-this.Hg,b=this.Zd.height+(this.Yd?this.Ba.y-a:this.ob.Jw-this.ob.clientY);this.Bj.style.top=a.toString()+"px";Ui(this.Bj,Math.max(b,this.ye.height))};
Kq.prototype.update=function(){this.ob.rg()||this.Yd||(Kq.d.update.call(this),nm(this.ob,new yh(this.za.x,this.Yg,0,this.Kn)),Fi(this.a(),this.Ba.x,this.Ba.y+this.Hg))};Kq.prototype.yf=function(a){return{start:new th(this.bb.x,this.bb.y),end:"MIN"==a?new th(this.bb.x,this.Wh):new th(this.bb.x,this.Yg)}};v("nrg.ui.ResizeDraggerTop.ID_PREFIX",Kq.ID_PREFIX);v("nrg.ui.ResizeDraggerTop.CSS_SUFFIX",Kq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerTop.prototype.calculateDraggerLimits",Kq.prototype.Ug);
v("nrg.ui.ResizeDraggerTop.prototype.resizeMethod",Kq.prototype.cf);v("nrg.ui.ResizeDraggerTop.resizeMethod",Kq.cf);v("nrg.ui.ResizeDraggerTop.prototype.update",Kq.prototype.update);v("nrg.ui.ResizeDraggerTop.prototype.getSlideTrajectory",Kq.prototype.yf);function Lq(a){Gq.call(this,"right",a)}w(Lq,Gq);v("nrg.ui.ResizeDraggerTopRight",Lq);Lq.ID_PREFIX="nrg.ui.ResizeDraggerTopRight";Lq.CSS_SUFFIX={};Lq.prototype.Jj=function(){Lq.d.Jj.call(this);this.ob.rg()||this.Yd||(Iq.prototype.Ug.bind(this)(),Kq.prototype.Ug.bind(this)())};Lq.prototype.af=function(){Lq.d.af.call(this);Iq.prototype.cf.bind(this)();Kq.prototype.cf.bind(this)()};
Lq.prototype.update=function(a){this.ob.rg()||this.Yd||(Lq.d.update.call(this,a),nm(this.ob,new yh(this.za.x+this.bi,this.za.y+this.Hg,this.pc.width,this.pc.height)),Fi(this.a(),this.Ba.right+this.bi,this.Ba.y+this.Hg))};
Lq.prototype.yf=function(a){var b=new th(this.bb.x,this.bb.y),c;"TOP_LEFT"==a?c=new th(this.za.x,this.za.y):"TOP_RIGHT"==a?c=new th(this.za.x+this.pc.width,this.za.y):"BOTTOM_RIGHT"==a?c=new th(this.za.x+this.pc.width,this.za.y+this.pc.height):"BOTTOM_LEFT"==a&&(c=new th(this.za.x,this.za.y+this.pc.height));return{start:b,end:c}};v("nrg.ui.ResizeDraggerTopRight.ID_PREFIX",Lq.ID_PREFIX);v("nrg.ui.ResizeDraggerTopRight.CSS_SUFFIX",Lq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerTopRight.prototype.updateTrackingValues",Lq.prototype.Jj);v("nrg.ui.ResizeDraggerTopRight.prototype.onResize",Lq.prototype.af);v("nrg.ui.ResizeDraggerTopRight.prototype.update",Lq.prototype.update);v("nrg.ui.ResizeDraggerTopRight.prototype.getSlideTrajectory",Lq.prototype.yf);function Mq(a){Gq.call(this,"right",a)}w(Mq,Gq);v("nrg.ui.ResizeDraggerLeft",Mq);Mq.ID_PREFIX="nrg.ui.ResizeDraggerLeft";Mq.CSS_SUFFIX={};Mq.prototype.cf=function(){Ti(this.Bj,Math.min(Math.max(this.Zd.width+(this.Ba.x-this.bb.x),this.ye.width),this.pc.width));Fi(this.a(),this.bb.x,this.Ba.y)};v("nrg.ui.ResizeDraggerLeft.prototype.resizeMethod",Mq.prototype.cf);
Mq.prototype.update=function(a){this.ob.rg()||this.Yd||(Mq.d.update.call(this,a),nm(this.ob,new yh(this.za.x-this.ai.width,this.za.y,this.pc.width-this.ye.width-this.ai.width,0)),Fi(this.a(),this.Ba.x-this.ai.width,this.Ba.y))};Mq.prototype.yf=function(a){return{start:new th(this.bb.x,this.bb.y),end:"MIN"==a?new th(this.za.x+this.ye.width,this.bb.y):new th(this.za.x+this.pc.width-this.ye.width,this.bb.y)}};v("nrg.ui.ResizeDraggerLeft.ID_PREFIX",Mq.ID_PREFIX);
v("nrg.ui.ResizeDraggerLeft.CSS_SUFFIX",Mq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerLeft.resizeMethod",Mq.cf);v("nrg.ui.ResizeDraggerLeft.prototype.update",Mq.prototype.update);v("nrg.ui.ResizeDraggerLeft.prototype.getSlideTrajectory",Mq.prototype.yf);function Nq(a,b){U.call(this);this.q=Ph(a);this.he={};this.Ar=this.Br=20;this.Am(b||Nq.VP)}w(Nq,U);v("nrg.ui.Resizable",Nq);Nq.ID_PREFIX="nrg.ui.Resizable";Nq.CSS_SUFFIX={XM:"boundary"};var Oq="TOP RIGHT BOTTOM LEFT TOP_LEFT TOP_RIGHT BOTTOM_RIGHT BOTTOM_LEFT".split(" "),Pq=["RIGHT","BOTTOM"],Qq=new yh(0,0,600,600);f=Nq.prototype;f.ZL=function(a,b){this.QP(a);if(0>b)throw Error("Threshold must be greater than zero!");this.MP[a]=b};f.Bd=function(a){return this.he[a].Bd()};f.Bk=function(a){return this.he[a]};
f.uH=function(){var a=[];D(ob(this.he),function(b){a.push(b.Bd())});return a};f.zd=function(){return this.eg};f.oi=function(a){this.eg=a;if(this.eg.parentNode!==this.q.parentNode)throw Error("Boundary element parentNode must be same as resizable  element's parentNode.");this.update()};f.zC=function(a){this.Ar=a};f.BC=function(a){this.Br=a};f.RH=function(){return this.Ar};f.SH=function(){return this.Br};
f.Am=function(a){a=a||"DEFAULT";r(a)&&(a="ALL"==a.toUpperCase()?Oq:"DEFAULT"==a.toUpperCase()?Pq:[a]);Rq(this);D(a,function(a){if(!r(a))throw Error("String required!");if(!Jb(Oq,a))throw Error("Invalid direction: ",a);this.ty(a)}.bind(this))};f.Lt=function(a){if(!Jb(Oq,a))throw Error("Invalid draggerDir '"+a);};f.aJ=function(a){this.Lt(a);if(!this.he[a])throw Error("No ResizeDragger for "+a);};f.Kf=function(a,b,c,d){a=a.toUpperCase();this.Lt(a);this.update();this.he[a].Kf(b,c,d)};
function Sq(a,b){switch(a){case "TOP":return new Kq(b);case "BOTTOM":return new Jq(b);case "LEFT":return new Mq(b);case "RIGHT":return new Iq(b);case "TOP_RIGHT":return new Lq(b);case "TOP_LEFT":window.console.log("ToDo: need to implement resize dragger for top left.");break;case "BOTTOM_LEFT":window.console.log("ToDo: need to implement resize dragger for bottom left.");break;case "BOTTOM_RIGHT":window.console.log("ToDo: need to implement resize dragger for bottom right.")}}
f.ty=function(a){if(a in this.he)throw Error("Resize direction "+a+" already in use.");this.he[a]=Sq(a,this.q);F(this.he[a],"start_resize",this.VK.bind(this));F(this.he[a],"resize",this.Tk.bind(this));F(this.he[a],"end_resize",this.UK.bind(this));this.update()};f.update=function(){if(null!=this.eg){var a=new wh(this.Br,this.Ar);C(this.he,function(b){this.eg&&this.eg.parentNode&&Q(this.eg.parentNode,b.Bd());b.zd()!==this.eg&&b.oi(this.eg);b.AC(a);b.Jj();b.update()}.bind(this))}};f.VK=function(){this.dispatchEvent({type:"resize_start"})};
f.Tk=function(a){this.dispatchEvent({type:"resize",OL:a.Ba,Zd:a.Zd,fG:a.za,pc:a.pc})};f.UK=function(){this.update();this.dispatchEvent({type:"resize_end"})};function Rq(a){C(a.he,function(a){a&&(G(a),a.g())});tb(a.he)}f.f=function(){Nq.d.f.call(this);Rq(this);delete this.he;this.eg&&(R(this.eg.parentNode),delete this.eg)};v("nrg.ui.Resizable.EventType",{Rs:"resize",QE:"resize_start",PE:"resize_end"});v("nrg.ui.Resizable.ID_PREFIX",Nq.ID_PREFIX);v("nrg.ui.Resizable.CSS_SUFFIX",Nq.CSS_SUFFIX);
v("nrg.ui.Resizable.DIRECTIONS",Oq);v("nrg.ui.Resizable.DEFAULT_DIRECTIONS",Pq);v("nrg.ui.Resizable.DEFAULT_LIMITS",Qq);v("nrg.ui.Resizable.DEFAULT_MIN_HEIGHT",20);v("nrg.ui.Resizable.DEFAULT_MIN_WIDTH",20);v("nrg.ui.Resizable.createResizeDragger",Sq);v("nrg.ui.Resizable.prototype.setBoundThreshold",Nq.prototype.ZL);v("nrg.ui.Resizable.prototype.getHandle",Nq.prototype.Bd);v("nrg.ui.Resizable.prototype.getResizeDragger",Nq.prototype.Bk);v("nrg.ui.Resizable.prototype.getHandles",Nq.prototype.uH);
v("nrg.ui.Resizable.prototype.getBoundaryElement",Nq.prototype.zd);v("nrg.ui.Resizable.prototype.setBoundaryElement",Nq.prototype.oi);v("nrg.ui.Resizable.prototype.setMinHeight",Nq.prototype.zC);v("nrg.ui.Resizable.prototype.setMinWidth",Nq.prototype.BC);v("nrg.ui.Resizable.prototype.getMinHeight",Nq.prototype.RH);v("nrg.ui.Resizable.prototype.getMinWidth",Nq.prototype.SH);v("nrg.ui.Resizable.prototype.setResizeDirections",Nq.prototype.Am);v("nrg.ui.Resizable.prototype.checkDirectionValid",Nq.prototype.Lt);
v("nrg.ui.Resizable.prototype.hasDragger",Nq.prototype.aJ);v("nrg.ui.Resizable.prototype.slideToLimits",Nq.prototype.Kf);v("nrg.ui.Resizable.prototype.addResizeDirection",Nq.prototype.ty);v("nrg.ui.Resizable.prototype.update",Nq.prototype.update);v("nrg.ui.Resizable.prototype.disposeInternal",Nq.prototype.f);function Tq(a){U.call(this);this.Ob=a}w(Tq,U);v("xiv.ui.layouts.LayoutFrame",Tq);Tq.ID_PREFIX="xiv.ui.layouts.LayoutFrame";Tq.CSS_SUFFIX={};f=Tq.prototype;f.Hc=function(){return this.Ob};f.Pc=null;f.R=function(){return this.Gp};f.Am=function(a){this.Gp=this.Gp?this.Gp:new Nq(this.a());this.Gp.Am(a)};f.f=function(){Tq.d.f.call(this);delete this.Ob};v("xiv.ui.layouts.LayoutFrame.EventType",{});v("xiv.ui.layouts.LayoutFrame.ID_PREFIX",Tq.ID_PREFIX);v("xiv.ui.layouts.LayoutFrame.CSS_SUFFIX",Tq.CSS_SUFFIX);
v("xiv.ui.layouts.LayoutFrame.prototype.getTitle",Tq.prototype.Hc);v("xiv.ui.layouts.LayoutFrame.prototype.getResizable",Tq.prototype.R);v("xiv.ui.layouts.LayoutFrame.prototype.setResizeDirections",Tq.prototype.Am);v("xiv.ui.layouts.LayoutFrame.prototype.disposeInternal",Tq.prototype.f);function Uq(){U.call(this);if(null==this.constructor.TITLE)throw window.console.log("\n\n\n\nThis is the class attempting to inherit from it:"),window.console.log(this,this.constructor,this.constructor.TITLE,this.constructor.ID_PREFIX),Error("Sublcasses of xiv.ui.layouts.Layout must have  the TITLE defined as a constructor property!");this.i={}}w(Uq,U);v("xiv.ui.layouts.Layout",Uq);
var Vq="Slider_"+B(),Wq="FrameDisplay_"+B(),Xq="ZoomDisplay_"+B(),Yq="Crosshairs_"+B(),Zq="PlayButton_"+B(),$q={ia:Vq,Jd:Wq,pf:Xq,qd:Yq,Dh:Zq};Uq.ID_PREFIX="xiv.ui.layouts.Layout";Uq.CSS_SUFFIX={};f=Uq.prototype;f.vb=20;f.nd=20;f.cM=function(a){this.nd=a};f.dM=function(a){this.vb=a};f.HH=function(){return this.i};f.zu=function(a){return this.i[a]};f.GH=function(a){window.console.log(a,this.i[a]);var b={};C($q,function(c){b[c]=this.i[a][c]}.bind(this));window.console.log("INTERACTORS!",b);return b};
f.Hc=function(){return this.constructor.TITLE};f.qy=function(a){this.i=this.i?this.i:{};this.i[a.Hc()]=a};f.Xg=function(){this.dispatchEvent({type:"n"})};f.jw=function(){C(this.fm(),function(a){null!=a.ia&&(a.ia.g(),delete a.ia);null!=a.qd&&(a.qd.g(),delete a.qd);null!=a.Jd&&(a.Jd.g(),delete a.Jd);null!=a.pf&&(a.pf.g(),delete a.pf);null!=a.Dh&&(a.Dh.g(),delete a.Dh)})};
f.zp=function(){C(this.fm(),function(a){null!=a.ia&&(a.ia.o(),a.ia.C(a.ia.w()));null!=a.qd&&a.qd.o();null!=a.Jd&&a.Jd.o();null!=a.pf&&a.pf.o();null!=a.Dh&&a.Dh.o()})};f.o=function(){Uq.d.o.call(this);this.Xg()};f.f=function(){Uq.d.f.call(this);delete this.nd;delete this.vb;this.Jn(this.vE);delete this.vE};v("xiv.ui.layouts.Layout.EventType",{Rs:"n"});v("xiv.ui.layouts.Layout.INTERACTORS",$q);v("xiv.ui.layouts.Layout.ID_PREFIX",Uq.ID_PREFIX);v("xiv.ui.layouts.Layout.CSS_SUFFIX",Uq.CSS_SUFFIX);
v("xiv.ui.layouts.Layout.prototype.setMinLayoutFrameHeight",Uq.prototype.cM);v("xiv.ui.layouts.Layout.prototype.setMinLayoutFrameWidth",Uq.prototype.dM);v("xiv.ui.layouts.Layout.prototype.getLayoutFrames",Uq.prototype.HH);v("xiv.ui.layouts.Layout.prototype.getLayoutFrameByTitle",Uq.prototype.zu);v("xiv.ui.layouts.Layout.prototype.getLayoutFrameInteractors",Uq.prototype.GH);v("xiv.ui.layouts.Layout.prototype.getTitle",Uq.prototype.Hc);v("xiv.ui.layouts.Layout.prototype.addLayoutFrame",Uq.prototype.qy);
v("xiv.ui.layouts.Layout.prototype.dispatchResize",Uq.prototype.Xg);v("xiv.ui.layouts.Layout.prototype.removeAllInteractors",Uq.prototype.jw);v("xiv.ui.layouts.Layout.prototype.updateInteractors",Uq.prototype.zp);v("xiv.ui.layouts.Layout.prototype.updateStyle",Uq.prototype.o);v("xiv.ui.layouts.Layout.prototype.disposeInternal",Uq.prototype.f);function ar(){U.call(this)}w(ar,U);v("xiv.ui.Crosshairs",ar);ar.ID_PREFIX="xiv.ui.Crosshairs";ar.CSS_SUFFIX={wN:"horizontal",nP:"vertical"};f=ar.prototype;f.Ig=null;f.pg=null;f.QC=function(a){null!=a&&(this.Ig.style.left=a.toString()+"px")};f.RC=function(a){null!=a&&(this.pg.style.top=a.toString()+"px")};f.k=function(a){this.Ig=br(this,"vertical");this.pg=br(this,"horizontal");a.appendChild(this.pg);a.appendChild(this.Ig)};
f.tp=function(a){a=!1===a?"hidden":"visible";this.Ig.style.visibility=a;this.pg.style.visibility=a};function br(a,b){b=b.toLowerCase();if(!qb(ar.CSS_SUFFIX,b))throw Error("Invalid orientation: "+b);return O("div",{id:a.constructor.ID_PREFIX+"_"+b+"_"+B(),"class":a.constructor.ad+"-"+b.toLowerCase()})}f.f=function(){ar.d.f.call(this);R(this.Ig);delete this.Ig;R(this.pg);delete this.pg};v("xiv.ui.Crosshairs.EventType",{});v("xiv.ui.Crosshairs.ID_PREFIX",ar.ID_PREFIX);
v("xiv.ui.Crosshairs.CSS_SUFFIX",ar.CSS_SUFFIX);v("xiv.ui.Crosshairs.prototype.vertical",ar.prototype.Ig);v("xiv.ui.Crosshairs.prototype.horizontal",ar.prototype.pg);v("xiv.ui.Crosshairs.prototype.setX",ar.prototype.QC);v("xiv.ui.Crosshairs.prototype.setY",ar.prototype.RC);v("xiv.ui.Crosshairs.prototype.render",ar.prototype.k);v("xiv.ui.Crosshairs.prototype.toggleVisible",ar.prototype.tp);v("xiv.ui.Crosshairs.prototype.disposeInternal",ar.prototype.f);function cr(a,b){lj.call(this,a);this.Hy=null;this.Na=new mq;this.CJ=b||hd;F(this.Na,"change",this.KA,!1,this)}w(cr,lj);f=cr.prototype;f.Ja="horizontal";f.jo=!1;f.$J=!1;f.Tg=10;f.zr=0;f.aB=!0;f.Cr=0;f.FE=1E3;f.Vb=!0;f.Ue=!1;f.B=function(){cr.d.B.call(this);var a=this.O().B("div",this.$(this.Ja));this.pe(a)};f.pe=function(a){cr.d.pe.call(this,a);fl(a,this.$(this.Ja));this.oz();al(this.a(),"slider");dr(this)};
f.ib=function(){cr.d.ib.call(this);this.Ie=new lm(this.sa);this.jg=new lm(this.tc);this.Ie.gj(this.Ue);this.jg.gj(this.Ue);this.Ie.cu=this.jg.cu=fa;this.tb=new eo(this.a());er(this,!0);this.a().tabIndex=0;this.wh()};
function er(a,b){b?(a.jb().D(a.Ie,"beforedrag",a.Sq).D(a.jg,"beforedrag",a.Sq).D(a.Ie,["start","end"],a.Xq).D(a.jg,["start","end"],a.Xq).D(a.tb,"key",a.Tq).D(a.a(),"click",a.Uq).D(a.a(),"mousedown",a.Uq),a.aB&&fr(a,!0)):(a.jb().wb(a.Ie,"beforedrag",a.Sq).wb(a.jg,"beforedrag",a.Sq).wb(a.Ie,["start","end"],a.Xq).wb(a.jg,["start","end"],a.Xq).wb(a.tb,"key",a.Tq).wb(a.a(),"click",a.Uq).wb(a.a(),"mousedown",a.Uq),a.aB&&fr(a,!1))}f.Fc=function(){cr.d.Fc.call(this);Cc(this.Ie,this.jg,this.tb,this.Ok)};
f.Sq=function(a){var b=a.lu==this.Ie?this.sa:this.tc,c;"vertical"==this.Ja?(c=this.a().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.T()-this.ha())+this.ha()):c=a.left/(this.a().clientWidth-b.offsetWidth)*(this.T()-this.ha())+this.ha();c=a.lu==this.Ie?Math.min(Math.max(c,this.ha()),this.w()+this.Ad()):Math.min(Math.max(c,this.w()),this.T());gr(this,b,c)};
f.Xq=function(a){var b="start"==a.type;jl(this.a(),"goog-slider-dragging",b);jl(a.target.handle,"goog-slider-thumb-dragging",b);a=a.lu==this.Ie;b?(this.dispatchEvent("s"),this.dispatchEvent(a?"o":"q")):(this.dispatchEvent("t"),this.dispatchEvent(a?"p":"r"))};
f.Tq=function(a){var b=!0;switch(a.keyCode){case 36:hr(this,this.ha());break;case 35:hr(this,this.T());break;case 33:ir(this,this.Tg);break;case 34:ir(this,-this.Tg);break;case 37:var c=this.Ue&&this.We()?1:-1;ir(this,a.shiftKey?c*this.Tg:c*this.yp);break;case 40:ir(this,a.shiftKey?-this.Tg:-this.yp);break;case 39:c=this.Ue&&this.We()?-1:1;ir(this,a.shiftKey?c*this.Tg:c*this.yp);break;case 38:ir(this,a.shiftKey?this.Tg:this.yp);break;default:b=!1}b&&a.preventDefault()};
f.Uq=function(a){this.a().focus&&this.a().focus();var b=a.target;ji(this.sa,b)||ji(this.tc,b)||(b="click"==a.type,b&&xa()<this.Cr+this.FE||(b||(this.Cr=xa()),this.$J?hr(this,jr(this,a)):(this.Mw(a),this.Mf=kr(this,jr(this,a)),this.WA="vertical"==this.Ja?this.pr<this.Mf.offsetTop:this.pr>lr(this,this.Mf)+this.Mf.offsetWidth,a=Oh(this.a()),this.jb().D(a,"mouseup",this.Kw,!0).D(this.a(),"mousemove",this.Mw),this.vj||(this.vj=new Yf(200),this.jb().D(this.vj,Zf,this.LA)),this.LA(),this.vj.start())))};
f.JA=function(a){ir(this,(0<a.detail?-1:1)*this.yp);a.preventDefault()};f.LA=function(){var a;if("vertical"==this.Ja){var b=this.pr,c=this.Mf.offsetTop;this.WA?b<c&&(a=mr(this,this.Mf)+this.Tg):b>c+this.Mf.offsetHeight&&(a=mr(this,this.Mf)-this.Tg)}else b=this.pr,c=lr(this,this.Mf),this.WA?b>c+this.Mf.offsetWidth&&(a=mr(this,this.Mf)+this.Tg):b<c&&(a=mr(this,this.Mf)-this.Tg);da(a)&&gr(this,this.Mf,a)};
f.Kw=function(){this.vj&&this.vj.stop();var a=Oh(this.a());this.jb().wb(a,"mouseup",this.Kw,!0).wb(this.a(),"mousemove",this.Mw)};function nr(a,b){var c=Oi(b,a.a());return"vertical"==a.Ja?c.y:a.Ue&&a.We()?a.a().clientWidth-c.x:c.x}f.Mw=function(a){this.pr=nr(this,a)};function jr(a,b){var c=a.ha(),d=a.T();if("vertical"==a.Ja){var e=a.sa.offsetHeight,h=a.a().clientHeight-e,e=nr(a,b)-e/2;return(d-c)*(h-e)/h+c}e=a.sa.offsetWidth;h=a.a().clientWidth-e;e=nr(a,b)-e/2;return(d-c)*e/h+c}
function mr(a,b){if(b==a.sa)return a.Na.w();if(b==a.tc)return a.Na.w()+a.Na.Ad();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");}f.rg=function(){return this.Ie.rg()||this.jg.rg()};function ir(a,b){Math.abs(b)<a.Cd()&&(b=(0==b?0:0>b?-1:1)*a.Cd());var c=mr(a,a.sa)+b,d=mr(a,a.tc)+b,c=id(c,a.ha(),a.T()-a.zr),d=id(d,a.ha()+a.zr,a.T());a.Ej(c,d-c)}function gr(a,b,c){var d=nq(a.Na,c);c=b==a.sa?d:a.Na.w();b=b==a.tc?d:a.Na.w()+a.Na.Ad();c>=a.ha()&&b>=c+a.zr&&a.T()>=b&&a.Ej(c,b-c)}
f.Ej=function(a,b){this.ha()<=a&&a<=this.T()-b&&this.zr<=b&&b<=this.T()-a&&(a!=this.w()||b!=this.Ad())&&(this.Na.Pk=!0,this.Na.If(0),this.Na.C(a),this.Na.If(b),this.Na.Pk=!1,this.KA())};f.ha=function(){return this.Na.ha()};f.Nb=function(a){this.Na.Nb(a)};f.T=function(){return this.Na.T()};f.Gb=function(a){this.Na.Gb(a)};function kr(a,b){return b<=a.Na.w()+a.Na.Ad()/2?a.sa:a.tc}f.KA=function(){this.wh();dr(this);this.dispatchEvent("change")};
f.wh=function(){if(this.sa&&!this.jo){var a=or(this,mr(this,this.sa)),b=or(this,mr(this,this.tc));if("vertical"==this.Ja)this.sa.style.top=a.y+"px",this.tc.style.top=b.y+"px",this.ac&&(a=pr(b.y,a.y,this.sa.offsetHeight),this.ac.style.top=a.offset+"px",this.ac.style.height=a.size+"px");else{var c=this.Ue&&this.We()?"right":"left";this.sa.style[c]=a.x+"px";this.tc.style[c]=b.x+"px";this.ac&&(a=pr(a.x,b.x,this.sa.offsetWidth),this.ac.style[c]=a.offset+"px",this.ac.style.width=a.size+"px")}}};
function pr(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}}function or(a,b){var c=new th;if(a.sa){var d=a.ha(),e=a.T(),e=b==d&&d==e?0:(b-d)/(e-d);"vertical"==a.Ja?(d=a.a().clientHeight-a.sa.offsetHeight,e=Math.round(e*d),c.x=lr(a,a.sa),c.y=d-e):(d=Math.round(e*(a.a().clientWidth-a.sa.offsetWidth)),c.x=d,c.y=a.sa.offsetTop)}return c}
function hr(a,b){b=id(b,a.ha(),a.T());a.jo&&a.uq.stop(!0);var c=new jk,d,e=kr(a,b),h=a.w(),k=a.Ad(),l=mr(a,e),n=or(a,l);d=a.Cd();Math.abs(b-l)<d&&(b=id(l+(b>l?d:-d),a.ha(),a.T()));gr(a,e,b);l=or(a,mr(a,e));d="vertical"==a.Ja?[lr(a,e),l.y]:[l.x,e.offsetTop];n=new Yj(e,[n.x,n.y],d,100);n.gj(a.Ue);c.add(n);a.ac&&qr(a,e,h,k,l,c);a.Hy&&(e=a.Hy.TP(h,b,100),D(e,function(a){c.add(a)}));a.uq=c;a.jb().D(c,"end",a.FG);a.jo=!0;c.play(!1)}f.Yd=function(){return this.jo};
function qr(a,b,c,d,e,h){var k=or(a,c),l=or(a,c+d);c=k;d=l;b==a.sa?c=e:d=e;"vertical"==a.Ja?(b=pr(l.y,k.y,a.sa.offsetHeight),k=pr(d.y,c.y,a.sa.offsetHeight),e=new Yj(a.ac,[lr(a,a.ac),b.offset],[lr(a,a.ac),k.offset],100),b=new bk(a.ac,b.size,k.size,100)):(b=pr(k.x,l.x,a.sa.offsetWidth),k=pr(c.x,d.x,a.sa.offsetWidth),e=new Yj(a.ac,[b.offset,a.ac.offsetTop],[k.offset,a.ac.offsetTop],100),b=new ak(a.ac,b.size,k.size,100));e.gj(a.Ue);b.gj(a.Ue);h.add(e);h.add(b)}f.FG=function(){this.jo=!1};
f.ri=function(a){if(this.Ja!=a){var b=this.$(this.Ja),c=this.$(a);this.Ja=a;this.a()&&(a=this.a(),el(a,b)&&(hl(a,b),fl(a,c)),b=this.Ue&&this.We()?"right":"left",this.sa.style[b]=this.sa.style.top="",this.tc.style[b]=this.tc.style.top="",this.ac&&(this.ac.style[b]=this.ac.style.top="",this.ac.style.width=this.ac.style.height=""),this.wh())}};f.Xb=function(){return this.Ja};
f.f=function(){cr.d.f.call(this);this.vj&&this.vj.g();delete this.vj;this.uq&&this.uq.g();delete this.uq;delete this.sa;delete this.tc;this.ac&&delete this.ac;this.Na.g();delete this.Na;this.tb&&(this.tb.g(),delete this.tb);this.Ok&&(this.Ok.g(),delete this.Ok);this.Ie&&(this.Ie.g(),delete this.Ie);this.jg&&(this.jg.g(),delete this.jg)};f.yp=1;f.Cd=function(){return this.Na.Cd()};f.Kc=function(a){this.Na.Kc(a)};f.w=function(){return this.Na.w()};f.C=function(a){gr(this,this.sa,a)};f.Ad=function(){return this.Na.Ad()};
f.If=function(a){gr(this,this.tc,this.Na.w()+a)};f.ca=function(a){Yi(this.a(),a);a&&this.wh()};function dr(a){var b=a.a();b&&(bl(b,"valuemin",a.ha()),bl(b,"valuemax",a.T()),bl(b,"valuenow",a.w()),bl(b,"valuetext",a.CJ(a.w())||""))}function fr(a,b){b?(a.Ok||(a.Ok=new vp(a.a())),a.jb().D(a.Ok,"mousewheel",a.JA)):a.jb().wb(a.Ok,"mousewheel",a.JA)}f.Mb=function(a){this.Vb!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.Vb=a,er(this,a),a||this.Kw(),jl(this.a(),"goog-slider-disabled",!a))};
f.isEnabled=function(){return this.Vb};function lr(a,b){return a.Ue?Wj(b):b.offsetLeft};function rr(a,b){cr.call(this,a,b);this.Na.If(0)}w(rr,cr);rr.prototype.$=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};rr.prototype.oz=function(){var a=this.a(),b=Sh(document,null,"goog-slider-thumb",a)[0];b||(b=this.ok(),a.appendChild(b));this.sa=this.tc=b};rr.prototype.ok=function(){var a=this.O().B("div","goog-slider-thumb");al(a,"button");return a};function sr(){U.call(this)}w(sr,U);v("xiv.ui.PlayButton",sr);sr.ID_PREFIX="xiv.ui.PlayButton";sr.CSS_SUFFIX={Ah:"image"};f=sr.prototype;f.cb=null;f.lo=!1;f.sh=null;f.P=null;f.qg=70;f.k=function(a){sr.d.k.call(this,a);this.cb=O("img",{id:"PlayButton_"+B()});M(this.cb,sr.CSS.Ah);this.a().appendChild(this.cb);this.cb.src=serverRoot+"/images/viewer/xiv/ui/other/play.png";F(this.cb,"click",function(){this.lo?(this.lo=!1,this.pause()):(this.lo=!0,this.play())}.bind(this))};
f.pause=function(){this.cb.src=serverRoot+"/images/viewer/xiv/ui/other/play.png";null!=this.sh&&null!=this.P&&this.P.stop()};f.play=function(){this.cb.src=serverRoot+"/images/viewer/xiv/ui/other/pause.png";null!=this.sh&&(null==this.P&&(this.P=new Yf),this.P.setInterval(this.qg),this.P.addEventListener(Zf,function(){this.sh.w()==this.sh.T()?this.sh.C(this.sh.ha()):this.sh.C(this.sh.w()+1)}.bind(this)),this.P.start())};f.setInterval=function(a){this.qg=a};f.Cf=function(){return this.lo};
f.KC=function(a){this.sh=a};f.f=function(){sr.d.f.call(this);R(this.cb);G(this.cb);delete this.cb;null!=this.P&&(G(this.P),this.P.g());delete this.sh;delete this.lo;delete this.P;delete this.qg};v("xiv.ui.PlayButton.ID_PREFIX",sr.ID_PREFIX);v("xiv.ui.PlayButton.prototype.pause",sr.prototype.pause);v("xiv.ui.PlayButton.prototype.play",sr.prototype.play);v("xiv.ui.PlayButton.prototype.isPlaying",sr.prototype.Cf);v("xiv.ui.PlayButton.prototype.setInterval",sr.prototype.setInterval);
v("xiv.ui.PlayButton.prototype.setSlider",sr.prototype.KC);function tr(){this.Xa=[];this.ab=[]}f=tr.prototype;f.lg=function(){return this.Xa.length+this.ab.length};f.qm=function(){return 0==this.Xa.length&&0==this.ab.length};f.clear=function(){this.Xa=[];this.ab=[]};f.contains=function(a){return Jb(this.Xa,a)||Jb(this.ab,a)};f.remove=function(a){var b=Cb(this.Xa,a);if(0>b)return Mb(this.ab,a);Ab.splice.call(this.Xa,b,1);return!0};
f.$h=function(){for(var a=[],b=this.Xa.length-1;0<=b;--b)a.push(this.Xa[b]);for(var c=this.ab.length,b=0;b<c;++b)a.push(this.ab[b]);return a};function ur(a){rr.call(this);this.constructor.Dp=this.constructor.ID_PREFIX.toLowerCase().replace(/\./g,"-");this.constructor.ad=this.constructor.Dp;U.prototype.qq.bind(this)();null!=a&&this.ri(a)}w(ur,rr);v("nrg.ui.Slider",ur);ur.ID_PREFIX="nrg.ui.Slider";ur.CSS_SUFFIX={cF:"track",YO:"track-hovered",Ss:"thumb",WO:"thumb-hovered"};f=ur.prototype;f.mr=!1;f.us=!1;f.AJ=function(){return this.mr};f.ti=function(a){this.us=a};
f.k=function(a){this.q=O("div",{id:ur.ID_PREFIX+"_Widget_"+B()});this.Kb(this.q);a=null!=a?a:document.body;a.appendChild(this.q);this.uh=O("div",{id:ur.ID_PREFIX+"_Track_"+B()});this.q.appendChild(this.uh);this.Nf=Th("goog-slider-thumb",this.q);F(this,"change",this.Ev.bind(this));F(this,"s",this.bL.bind(this));F(this,"t",this.ZK.bind(this));this.ri(this.Xb().toLowerCase())};f.a=function(){return this.q};f.zI=function(){return this.uh};f.tI=function(){return this.Nf};
f.iq=function(a){null==this.Qj&&(this.Qj={});if(null==this.Qj[a.id]){var b=new vp(a);b.addEventListener("mousewheel",this.OK,!1,this);this.Qj[a.id]=b}};f.dG=function(a){null==this.Oj&&(this.Oj={});if(null==this.Oj[a.id]){var b=new eo(a);F(b,"key",this.ki.bind(this));this.Oj[a.id]=b}};f.ki=function(){};f.o=function(){var a=this.w(),a=or(this,a);"horizontal"==this.Xb().toLowerCase()?this.Nf.style.left=a.x.toString()+"px":"vertical"==this.Xb().toLowerCase()&&(this.Nf.style.left=a.y.toString()+"px")};
f.ri=function(a){ur.d.ri.call(this,a);this.ma&&vr(this,this.Xb().toLowerCase())};function vr(a,b){function c(a,c){Gh(a,[zj(c,"horizontal"),zj(c,"vertical")],[c,zj(c,b)])}c(a.q,a.constructor.ad);c(a.uh,ur.CSS.cF);c(a.Nf,ur.CSS.Ss)}f.bx=!1;f.eu=1;f.OC=function(a,b){this.bx=a;u(b)&&(this.eu=b)};f.OK=function(a){var b=Math.abs(a.Td)<Math.abs(a.Uh)?a.Uh:a.Td;this.bx?this.C(Math.round(this.w()-b*this.eu)):this.C(Math.round(this.w()-(0>b?-1:1)));this.dispatchEvent({type:"v"});a.preventDefault()};f.ce=null;
f.pA=function(){if(null!=this.ce){var a=this.ce.$h();if(0<a.length)return a[0]}};f.Ev=function(a){a.stopPropagation();null==this.ce&&(this.ce=new tr);2>this.ce.lg()?(a=this.w(),this.ce.ab.push(a)):(a=this.w(),this.ce.ab.push(a),a=this.ce,0==a.Xa.length&&(a.Xa=a.ab,a.Xa.reverse(),a.ab=[]),a.Xa.pop());this.us||this.dispatchEvent({type:"u",value:this.w(),VJ:this.ha(),PJ:this.T()});this.us=!1};f.bL=function(){this.mr=!0};f.ZK=function(){this.mr=!1};
f.f=function(){ur.d.f.call(this);delete this.us;null!=this.q&&(G(this),R(this.q),delete this.q);null!=this.Nf&&(G(this.Nf),R(this.Nf),delete this.Nf);null!=this.uh&&(G(this.uh),R(this.uh),delete this.uh);null!=this.Oj&&(C(this.Oj,function(a){G(a);a.g()}),tb(this.Oj),delete this.Oj);null!=this.Qj&&(C(this.Qj,function(a){G(a);a.g()}),tb(this.Qj),delete this.Qj);null!=this.nD&&(Kb(this.nD),delete this.nD);null!=this.sD&&(Kb(this.sD),delete this.sD);null!=this.ce&&(tb(this.ce),delete this.ce);delete this.bx;
delete this.eu;delete this.mr};v("nrg.ui.Slider.EventType",{PD:"u",YN:"v"});v("nrg.ui.Slider.ID_PREFIX",ur.ID_PREFIX);v("nrg.ui.Slider.CSS_SUFFIX",ur.CSS_SUFFIX);v("nrg.ui.Slider.prototype.suspendChangeEvent",ur.prototype.ti);v("nrg.ui.Slider.prototype.render",ur.prototype.k);v("nrg.ui.Slider.prototype.isSliding",ur.prototype.AJ);v("nrg.ui.Slider.prototype.getPreviousValue",ur.prototype.pA);v("nrg.ui.Slider.prototype.getElement",ur.prototype.a);v("nrg.ui.Slider.prototype.getTrack",ur.prototype.zI);
v("nrg.ui.Slider.prototype.getThumb",ur.prototype.tI);v("nrg.ui.Slider.prototype.bindToMouseWheel",ur.prototype.iq);v("nrg.ui.Slider.prototype.bindToArrowKeys",ur.prototype.dG);v("nrg.ui.Slider.prototype.updateStyle",ur.prototype.o);v("nrg.ui.Slider.prototype.setOrientation",ur.prototype.ri);v("nrg.ui.Slider.prototype.setUseDeltaToScroll",ur.prototype.OC);v("nrg.ui.Slider.prototype.disposeInternal",ur.prototype.f);function wr(){ur.call(this)}w(wr,ur);v("xiv.ui.FrameSlider",wr);wr.ID_PREFIX="xiv.ui.FrameSlider";wr.CSS_SUFFIX={};wr.prototype.k=function(){wr.d.k.call(this)};wr.prototype.f=function(){wr.d.f.call(this)};v("xiv.ui.FrameSlider.EventType",{});v("xiv.ui.FrameSlider.ID_PREFIX",wr.ID_PREFIX);v("xiv.ui.FrameSlider.CSS_SUFFIX",wr.CSS_SUFFIX);v("xiv.ui.FrameSlider.prototype.render",wr.prototype.k);v("xiv.ui.FrameSlider.prototype.disposeInternal",wr.prototype.f);function xr(a){Uq.call(this);a=null!=a?a:ob(yr);a=g(a)?a:[a];D(a,function(b,c){a[c]=b.toUpperCase()});zr(this,a);Ar(this,a);null!=this.i.X&&this.De();null!=this.i.Y&&this.Dg();null!=this.i.Z&&this.Fj();null!=this.i.V&&this.fp();this.o()}w(xr,Uq);v("xiv.ui.layouts.XyzvLayout",xr);xr.TITLE="XyzvLayout";xr.ID_PREFIX="xiv.ui.layouts.XyzvLayout";var yr={Og:"X",Me:"Y",vl:"Z",Hp:"V"};
xr.CSS_SUFFIX={Og:"x",Me:"y",vl:"z",Hp:"v",ia:"slider",Kg:"slider-thumb",YE:"slider-thumb-hovered",Eh:"slider-track",GO:"slider-track-x",HO:"slider-track-y",IO:"slider-track-z",sN:"framenumber"};function Br(a,b,c,d,e){this.ia=a;this.Jd=b;this.qd=c;this.pf=d;this.Dh=e}f=xr.prototype;f.gC=0;f.qi=function(a,b){this.i[a].Am(b);var c=this.lz(a);Q(this.a(),c);c.style.position="absolute";this.i[a].R().oi(c);this.i[a].R().update()};
f.lz=function(a){return O("div",{id:this.constructor.ID_PREFIX+"_ResizeBoundary_"+a+"_"+B(),"class":zj(this.constructor.ad,a.toLowerCase()+"-resizeboundary")})};function zr(a,b){if(b.length>nb(yr))throw Error("Invalid amount of frames "+b+". Must be "+yr);D(b,function(a){if(!qb(yr,a))throw Error("Invalid frame title ",a);}.bind(a))}function Ar(a,b){var c="";D(b,function(a,b){c=a.toUpperCase();this.qy(new Tq(c));Q(this.a(),this.i[c].a());M(this.i[c].a(),xr.CSS[b])}.bind(a))}f.HM=function(a){a.sw(this.fm())};
f.sw=function(a){this.Ye(function(b,c){null!=a[c]&&(b[Vq]=a[c].ia,R(a[c].ia.a()),b.a().appendChild(a[c].ia.a()),b[Wq]=a[c].Jd,R(a[c].Jd.a()),b.a().appendChild(a[c].Jd.a()),b[Yq]=a[c].qd,b.a().appendChild(a[c].qd.Ig),b.a().appendChild(a[c].qd.pg))})};f.oy=function(){this.jw();Cr(this);Dr(this);Er(this);Fr(this);Gr(this)};f.fm=function(){var a={};this.Ye(function(b,c){a[c]=new Br(b[Vq],b[Wq],b[Yq],b[Xq],b[Zq])});return a};f.fA=function(a){a=this.i[a];return new Br(a[Vq],a[Wq],a[Yq],a[Xq],a[Zq])};
f.eA=function(a,b){return this.i[a][b]};f.bA=function(a){return this.i[a]};function Cr(a){var b;a.Ye(function(a,d){b=new ur("horizontal");b.k(a.a());b.a().id=d+"_LayoutFrameSlider_"+B();a[Vq]=b;Gh(b.a(),null,[xr.CSS.ia]);Gh(b.Nf,null,[xr.CSS.Kg]);Gh(b.uh,null,[xr.CSS.Eh,zj(xr.CSS.Eh,d.toLowerCase())])}.bind(a))}function Dr(a){var b;a.Ye(function(a){b=new Fq;b.k(a.a());a[Wq]=b}.bind(a))}function Er(a){var b;a.Ye(function(a){b=new Eq;b.k(a.a());a[Xq]=b}.bind(a))}
function Gr(a){var b;a.Ye(function(a){b=new sr;b.k(a.a());a[Zq]=b}.bind(a))}function Fr(a){var b;a.Ye(function(a){b=new ar;a[Yq]=b;b.k(a.a());a.a().appendChild(b.pg);a.a().appendChild(b.Ig)}.bind(a))}f.Ye=function(a){C(yr,function(b){b=b.toUpperCase();null!=this.i[b]&&"V"!=b&&a(this.i[b],b)}.bind(this))};f.loop=function(a){C(yr,function(b){b=b.toUpperCase();a(this.i[b],b)}.bind(this))};f.De=function(){null!=this.constructor.CSS&&M(this.i.X.a(),this.constructor.CSS.Og)};
f.Dg=function(){null!=this.constructor.CSS&&M(this.i.Y.a(),this.constructor.CSS.Me)};f.Go=function(a){this.Qh();var b=S(this.i.X.a()),c=S(this.i.Y.a()),d=S(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.A.width)};f.Fj=function(){null!=this.constructor.CSS&&M(this.i.Z.a(),this.constructor.CSS.vl)};f.fp=function(){null!=this.constructor.CSS&&M(this.i.V.a(),this.constructor.CSS.Hp)};f.$e=fa;f.Rk=fa;f.Jr=fa;f.Ir=fa;f.Ge=fa;f.ff=fa;f.He=fa;f.il=fa;f.f=function(){xr.d.f.call(this);delete this.gC};
v("xiv.ui.layouts.XyzvLayout.TITLE",xr.TITLE);v("xiv.ui.layouts.XyzvLayout.EventType",{});v("xiv.ui.layouts.XyzvLayout.ID_PREFIX",xr.ID_PREFIX);v("xiv.ui.layouts.XyzvLayout.FRAMES",yr);v("xiv.ui.layouts.XyzvLayout.CSS_SUFFIX",xr.CSS_SUFFIX);v("xiv.ui.layouts.XyzvLayout.InteractorSet",Br);v("xiv.ui.layouts.XyzvLayout.prototype.resizeMargin",xr.prototype.gC);v("xiv.ui.layouts.XyzvLayout.prototype.setLayoutFrameResizable",xr.prototype.qi);
v("xiv.ui.layouts.XyzvLayout.prototype.createResizeBoundary",xr.prototype.lz);v("xiv.ui.layouts.XyzvLayout.prototype.transferInteractors",xr.prototype.HM);v("xiv.ui.layouts.XyzvLayout.prototype.setInteractors",xr.prototype.sw);v("xiv.ui.layouts.XyzvLayout.prototype.addInteractors",xr.prototype.oy);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractors",xr.prototype.fm);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractorsByPlane",xr.prototype.fA);
v("xiv.ui.layouts.XyzvLayout.prototype.getInteractorByPlane",xr.prototype.eA);v("xiv.ui.layouts.XyzvLayout.prototype.getFrameByPlane",xr.prototype.bA);v("xiv.ui.layouts.XyzvLayout.prototype.loopXyz",xr.prototype.Ye);v("xiv.ui.layouts.XyzvLayout.prototype.loop",xr.prototype.loop);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_X",xr.prototype.De);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_Y",xr.prototype.Dg);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_Z",xr.prototype.Fj);
v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_V",xr.prototype.fp);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_X",xr.prototype.$e);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_Y",xr.prototype.Rk);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_Z",xr.prototype.Jr);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_V",xr.prototype.Ir);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_X",xr.prototype.Ge);
v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_Z",xr.prototype.ff);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_Y",xr.prototype.He);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_V",xr.prototype.il);v("xiv.ui.layouts.XyzvLayout.prototype.disposeInternal",xr.prototype.f);function Hr(){xr.call(this,["X","Y","Z"])}w(Hr,xr);v("xiv.ui.layouts.TwoDWidescreen",Hr);Hr.TITLE="TwoDWidescreen";Hr.ID_PREFIX="xiv.ui.layouts.TwoDWidescreen";Hr.CSS_SUFFIX={Og:"x",Me:"y",vl:"z"};f=Hr.prototype;f.De=function(){Hr.d.De.call(this);this.qi("X",["RIGHT"]);F(this.i.X.R(),"resize",this.$e.bind(this));F(this.i.X.R(),"resize_end",this.o.bind(this))};f.Dg=function(){Hr.d.Dg.call(this);this.qi("Y",["BOTTOM"]);F(this.i.Y.R(),"resize",this.Rk.bind(this));F(this.i.Y.R(),"resize_end",this.o.bind(this))};
f.$e=function(){this.Go(function(a){var b=a.width,c=Math.max(this.A.width-a.width,this.vb);D(["Y","Z"],function(a){this.i[a].a().style.left=b+"px";this.i[a].a().style.width=c+"px"}.bind(this))}.bind(this));this.Xg()};f.Rk=function(){this.Go(function(a,b){window.console.log("Y SIZE",b.height);var c=b.height,d=this.A.height-c;this.i.Z.a().style.top=c+"px";this.i.Z.a().style.height=d+"px"}.bind(this));this.Xg()};f.o=function(){Hr.d.o.call(this);this.Oo();this.Ge();this.He();this.ff()};
f.Oo=function(){if(this.qa.width!==this.A.width||this.qa.height!==this.A.height){var a=1-(this.qa.height-this.A.height)/this.qa.height,b=1-(this.qa.width-this.A.width)/this.qa.width;this.Ye(function(c){frameSize=S(c.a());c.a().style.width=Math.max(frameSize.width*b,this.vb).toString()+"px";c.a().style.height=Math.max(frameSize.height*a,this.nd).toString()+"px"}.bind(this))}};
f.Ge=function(){var a=this.i.X;a.a().style.height=this.A.height.toString()+"px";tk(a.R().zd(),{left:this.vb,width:this.A.width-2*this.vb});var b=a.R().Bd("RIGHT");b.style.left=a.a().style.width;Ui(b,this.A.height);a.R().update()};f.He=function(){var a=this.i.Y;a.a().style.left=this.i.X.a().style.width;tk(a.R().zd(),{top:this.nd,height:this.A.height-2*this.nd});var b=a.R().Bd("BOTTOM");b.style.top=a.a().style.height;Ti(b,parseInt(a.a().style.width));a.R().update()};
f.ff=function(){var a=this.i.Z;a.a().style.left=this.i.X.a().style.width;a.a().style.top=this.i.Y.a().style.height;a.a().style.height=this.A.height-parseInt(this.i.Y.a().style.height)+NaN};v("xiv.ui.layouts.TwoDWidescreen.TITLE",Hr.TITLE);v("xiv.ui.layouts.TwoDWidescreen.EventType",{});v("xiv.ui.layouts.TwoDWidescreen.ID_PREFIX",Hr.ID_PREFIX);v("xiv.ui.layouts.TwoDWidescreen.CSS_SUFFIX",Hr.CSS_SUFFIX);v("xiv.ui.layouts.TwoDWidescreen.prototype.setupLayoutFrame_X",Hr.prototype.De);
v("xiv.ui.layouts.TwoDWidescreen.prototype.setupLayoutFrame_Y",Hr.prototype.Dg);v("xiv.ui.layouts.TwoDWidescreen.prototype.onLayoutFrameResize_X",Hr.prototype.$e);v("xiv.ui.layouts.TwoDWidescreen.prototype.onLayoutFrameResize_Y",Hr.prototype.Rk);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle",Hr.prototype.o);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_X",Hr.prototype.Ge);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_Y",Hr.prototype.He);
v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_Z",Hr.prototype.ff);function Ir(a){xr.call(this,a)}w(Ir,xr);v("xiv.ui.layouts.SingleFrameLayout",Ir);Ir.TITLE="SingleFrameLayout";Ir.ID_PREFIX="xiv.ui.layouts.SingleFrameLayout";Ir.prototype.Oo=function(){if(this.qa.width!==this.A.width||this.qa.height!==this.A.height){var a=this.qa.height*(1-(this.qa.height-this.A.height)/this.qa.height),b=this.qa.width*(1-(this.qa.width-this.A.width)/this.qa.width);this.loop(function(c){null!=c&&Si(c.a(),Math.max(b,this.vb),Math.max(a,this.nd))}.bind(this))}};
Ir.prototype.o=function(){Ir.d.o.call(this);this.Oo()};v("xiv.ui.layouts.SingleFrameLayout.TITLE",Ir.TITLE);v("xiv.ui.layouts.SingleFrameLayout.ID_PREFIX",Ir.ID_PREFIX);v("xiv.ui.layouts.SingleFrameLayout.prototype.updateStyle",Ir.prototype.o);function Jr(){xr.call(this,"V");M(this.i.V.a(),zj(Tq.ad,this.constructor.TITLE))}w(Jr,Ir);v("xiv.ui.layouts.ThreeD",Jr);Jr.TITLE="ThreeD";Jr.ID_PREFIX="xiv.ui.layouts.ThreeD";v("xiv.ui.layouts.ThreeD.TITLE",Jr.TITLE);v("xiv.ui.layouts.ThreeD.ID_PREFIX",Jr.ID_PREFIX);function Kr(){xr.call(this,"X");M(this.i.X.a(),zj(Tq.ad,this.constructor.TITLE.toLowerCase()))}w(Kr,Ir);v("xiv.ui.layouts.Sagittal",Kr);Kr.TITLE="Sagittal";Kr.ID_PREFIX="xiv.ui.layouts.Sagittal";v("xiv.ui.layouts.Sagittal.TITLE",Kr.TITLE);v("xiv.ui.layouts.Sagittal.ID_PREFIX",Kr.ID_PREFIX);function Lr(){xr.call(this)}w(Lr,xr);v("xiv.ui.layouts.Conventional",Lr);Lr.TITLE="Conventional";Lr.ID_PREFIX="xiv.ui.layouts.Conventional";Lr.CSS_SUFFIX={Og:"x",Me:"y",vl:"z",Hp:"v",CP:"v-boundary"};f=Lr.prototype;f.De=function(){Lr.d.De.call(this);this.qi("X",["RIGHT","TOP_RIGHT"]);F(this.i.X.R(),"resize",this.$e.bind(this));F(this.i.X.R(),"resize_end",this.o.bind(this))};f.Dg=function(){Lr.d.Dg.call(this)};
f.Fj=function(){Lr.d.Fj.call(this);this.qi("Z",["RIGHT","TOP_RIGHT"]);F(this.i.Z.R(),"resize",this.Jr.bind(this));F(this.i.Z.R(),"resize_end",this.o.bind(this))};f.fp=function(){Lr.d.fp.call(this);this.qi("V","BOTTOM");F(this.i.V.R(),"resize",this.Ir.bind(this));F(this.i.V.R(),"resize_end",this.o.bind(this))};function Mr(a,b){a.Qh();var c=S(a.i.X.a()),d=S(a.i.Y.a()),e=S(a.i.Z.a());b(c,d,e)}
f.$e=function(){Mr(this,function(a,b,c){var d=Math.max(this.A.width-a.width-c.width,this.vb),e=c.width,h=this.A.height-a.height;this.vb==d&&(e=Math.max(this.A.width-a.width-b.width,this.vb),Fi(this.i.X.a(),e,h));Fi(this.i.Z.a(),0,h);Si(this.i.Z.a(),e,a.height);Fi(this.i.Y.a(),c.width+a.width,h);Si(this.i.Y.a(),d,a.height);Si(this.i.V.a(),this.A.width,this.A.height-a.height)}.bind(this));this.Xg()};
f.Jr=function(){Mr(this,function(a,b,c){var d=Math.max(this.A.width-c.width-b.width,this.vb),e=b.width,h=this.A.height-c.height;this.vb==d&&(e=Math.max(this.A.width-c.width-a.width,this.vb));Fi(this.i.X.a(),c.width,h);Si(this.i.X.a(),d,c.height);Fi(this.i.Y.a(),c.width+d,h);Si(this.i.Y.a(),e,b.height);Si(this.i.V.a(),this.A.width,this.A.height-c.height)}.bind(this));this.Xg()};
f.Ir=function(){this.Qh();var a=parseInt(this.i.V.a().style.height),b=this.A.height-a;C(this.i,function(c){c!==this.i.V&&tk(c.a(),{top:a,height:b})}.bind(this));this.Ge();this.He();this.Xg()};f.o=function(){Lr.d.o.call(this);this.il();this.$w();this.ax();this.Ge();this.He();this.ff()};f.$w=function(){var a=parseInt(this.i.V.a().style.height),b=Math.max(this.A.height-a,this.nd);this.Ye(function(c){c.a().style.top=a+"px";c.a().style.height=b+"px"})};
f.ax=function(){var a,b=1-(this.qa.width-this.A.width)/this.qa.width;this.qa.width!==this.A.width&&this.Ye(function(c){a=S(c.a());c.a().style.width=Math.max(a.width*b,this.vb).toString()+"px"}.bind(this))};
function Nr(a,b){var c=a.i.V.R().Bk("BOTTOM"),d=a.i[b].R().zd(),e=Hi(a.i[b].a()),h=S(a.i[b].a());Fi(d,parseInt(d.style.left),a.nd);Si(d,a.A.width-3*a.vb,a.A.height-2*a.nd);d=a.i[b].R().Bd("RIGHT");Fi(d,e.x+h.width,e.y);Ui(d,a.A.height-c.bb.y);Fi(a.i[b].R().Bd("TOP_RIGHT"),e.x+h.width,e.y);a.i[b].R().update()}f.Ge=function(){this.i.X.a().style.left=this.i.Z.a().style.width;tk(this.i.X.R().zd(),{left:2*this.vb});Nr(this,"X")};
f.He=function(){this.i.Y.a().style.left=(parseInt(this.i.Z.a().style.width)+parseInt(this.i.X.a().style.width)).toString()+"px"};f.ff=function(){tk(this.i.Z.R().zd(),{left:this.vb});Nr(this,"Z")};
f.il=function(){if(this.qa.width!==this.A.width||this.qa.height!==this.A.height){var a=S(this.i.V.a());Si(this.i.V.a(),this.A.width,Math.max(a.height*(1-(this.qa.height-this.A.height)/this.qa.height),this.nd))}Fi(this.i.V.R().zd(),this.A.width,this.nd);Si(this.i.V.R().zd(),this.A.width-3*this.vb,this.A.height-2*this.nd);a=this.i.V.R().Bd("BOTTOM");Fi(a,0,S(this.i.V.a()).height);Ti(a,this.A.width);this.i.V.R().update()};v("xiv.ui.layouts.Conventional.TITLE",Lr.TITLE);
v("xiv.ui.layouts.Conventional.EventType",{});v("xiv.ui.layouts.Conventional.ID_PREFIX",Lr.ID_PREFIX);v("xiv.ui.layouts.Conventional.CSS_SUFFIX",Lr.CSS_SUFFIX);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_X",Lr.prototype.De);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_Y",Lr.prototype.Dg);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_Z",Lr.prototype.Fj);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_V",Lr.prototype.fp);
v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_Z",Lr.prototype.Jr);v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_X",Lr.prototype.$e);v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_V",Lr.prototype.Ir);v("xiv.ui.layouts.Conventional.prototype.updateStyle",Lr.prototype.o);v("xiv.ui.layouts.Conventional.prototype.updateStyle_X",Lr.prototype.Ge);v("xiv.ui.layouts.Conventional.prototype.updateStyle_Y",Lr.prototype.He);
v("xiv.ui.layouts.Conventional.prototype.updateStyle_Z",Lr.prototype.ff);v("xiv.ui.layouts.Conventional.prototype.updateStyle_V",Lr.prototype.il);function Or(){xr.call(this,"Z");M(this.i.Z.a(),zj(Tq.ad,this.constructor.TITLE))}w(Or,Ir);v("xiv.ui.layouts.Transverse",Or);Or.TITLE="Transverse";Or.ID_PREFIX="xiv.ui.layouts.Transverse";v("xiv.ui.layouts.Transverse.TITLE",Or.TITLE);v("xiv.ui.layouts.Transverse.ID_PREFIX",Or.ID_PREFIX);function Pr(){xr.call(this)}w(Pr,xr);v("xiv.ui.layouts.FourUp",Pr);Pr.TITLE="Four-Up";Pr.ID_PREFIX="xiv.ui.layouts.FourUp";Pr.CSS_SUFFIX={Og:"x",Me:"y",vl:"z",Hp:"v"};f=Pr.prototype;f.De=function(){Pr.d.De.call(this);this.qi("X",["RIGHT","TOP","TOP_RIGHT"]);F(this.i.X.R(),"resize",this.$e.bind(this));F(this.i.X.R(),"resize_end",this.o.bind(this))};
f.$e=function(){var a=Hi(this.i.X.a()),b=S(this.i.X.a());Fi(this.i.Y.a(),b.width,a.y);Si(this.i.Y.a(),this.A.width-b.width,b.height);Fi(this.i.Z.a(),0,0);Si(this.i.Z.a(),b.width,a.y);Fi(this.i.V.a(),b.width,0);Si(this.i.V.a(),this.A.width-b.width,a.y);a=this.i.X.R().Bk("RIGHT").Bd();a.style.top="0px";a.style.height=this.A.height.toString()+"px";this.Xg()};f.o=function(){Pr.d.o.call(this);this.Oo();this.ff();this.il();this.Ge();this.He()};
f.Oo=function(){if(this.qa.width!==this.A.width||this.qa.height!==this.A.height){var a=this.qa.height*(1-(this.qa.height-this.A.height)/this.qa.height)/2,b=this.qa.width*(1-(this.qa.width-this.A.width)/this.qa.width)/2;this.loop(function(c){Si(c.a(),Math.max(b,this.vb),Math.max(a,this.nd))}.bind(this))}};
f.Ge=function(){this.i.X.a().style.top=this.i.Z.a().style.height;Fi(this.i.X.R().zd(),this.vb,this.nd);Si(this.i.X.R().zd(),this.A.width-2*this.vb,this.A.height-2*this.nd);var a=this.i.X.R().Bk("TOP").Bd();a.style.left="0px";a.style.width=this.A.width.toString()+"px";this.i.X.R().update();a=this.i.X.R().Bk("RIGHT").Bd();a.style.top="0px";a.style.height=this.A.height.toString()+"px"};f.He=function(){this.i.Y.a().style.left=this.i.Z.a().style.width;this.i.Y.a().style.top=this.i.Z.a().style.height};
f.ff=function(){};f.il=function(){this.i.V.a().style.left=this.i.Z.a().style.width};f.f=function(){Pr.d.f.call(this)};v("xiv.ui.layouts.FourUp.TITLE",Pr.TITLE);v("xiv.ui.layouts.FourUp.EventType",{});v("xiv.ui.layouts.FourUp.ID_PREFIX",Pr.ID_PREFIX);v("xiv.ui.layouts.FourUp.CSS_SUFFIX",Pr.CSS_SUFFIX);v("xiv.ui.layouts.FourUp.prototype.setupLayoutFrame_X",Pr.prototype.De);v("xiv.ui.layouts.FourUp.prototype.onLayoutFrameResize_X",Pr.prototype.$e);v("xiv.ui.layouts.FourUp.prototype.updateStyle",Pr.prototype.o);
v("xiv.ui.layouts.FourUp.prototype.updateStyle_X",Pr.prototype.Ge);v("xiv.ui.layouts.FourUp.prototype.updateStyle_Y",Pr.prototype.He);v("xiv.ui.layouts.FourUp.prototype.updateStyle_Z",Pr.prototype.ff);v("xiv.ui.layouts.FourUp.prototype.updateStyle_V",Pr.prototype.il);v("xiv.ui.layouts.FourUp.prototype.disposeInternal",Pr.prototype.f);function Qr(){xr.call(this,["X","Y","Z"])}w(Qr,xr);v("xiv.ui.layouts.TwoDRow",Qr);Qr.TITLE="TwoDRow";Qr.ID_PREFIX="xiv.ui.layouts.TwoDRow";Qr.CSS_SUFFIX={Og:"x",Me:"y",vl:"z"};f=Qr.prototype;f.De=function(){Qr.d.De.call(this);this.qi("X",["RIGHT"]);F(this.i.X.R(),"resize",this.$e.bind(this));F(this.i.X.R(),"resize_end",this.o.bind(this))};f.Dg=function(){Qr.d.Dg.call(this);this.qi("Y",["RIGHT"]);F(this.i.Y.R(),"resize",this.Rk.bind(this));F(this.i.Y.R(),"resize_end",this.o.bind(this))};f.Fj=function(){Qr.d.Fj.call(this)};
f.Go=function(a){this.Qh();var b=S(this.i.X.a()),c=S(this.i.Y.a()),d=S(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.A.width)};f.$e=function(){this.Go(function(a,b,c){b=Math.max(this.A.width-a.width-c.width,this.vb);var d=this.A.height-a.height;Fi(this.i.Y.a(),a.width,d);Si(this.i.Y.a(),b,a.height);Fi(this.i.Z.a(),a.width+b,d);Si(this.i.Z.a(),c.width,a.height)}.bind(this));this.Xg()};
f.Rk=function(){this.Go(function(a,b){var c=this.A.height-b.height;Fi(this.i.X.a(),0,c);Si(this.i.X.a(),a.width,b.height);Fi(this.i.Z.a(),a.width+b.width,c);Si(this.i.Z.a(),this.A.width-a.width-b.width,b.height)}.bind(this));this.Xg()};f.o=function(){Qr.d.o.call(this);this.ax();this.$w();this.Ge();this.He();this.ff()};f.$w=function(){var a=this.A.height.toString()+"px";this.Ye(function(b){b.a().style.height=a})};
f.ax=function(){var a,b=1-(this.qa.width-this.A.width)/this.qa.width;this.qa.width!==this.A.width&&this.Ye(function(c){a=S(c.a());newWidth=c.a().style.width=Math.max(a.width*b,this.vb).toString()+"px"}.bind(this))};function Rr(a,b){var c=a.i[b].R().zd(),d=Hi(a.i[b].a()),e=S(a.i[b].a());Fi(c,parseInt(c.style.left),a.nd);Si(c,a.A.width-3*a.vb,a.A.height-2*a.nd);c=a.i[b].R().Bd("RIGHT");Fi(c,d.x+e.width,d.y);Ui(c,a.A.height);a.i[b].R().update()}
f.Ge=function(){tk(this.i.X.R().zd(),{left:this.vb});Rr(this,"X")};f.He=function(){this.i.Y.a().style.left=this.i.X.a().style.width;tk(this.i.Y.R().zd(),{left:2*this.vb});Rr(this,"Y")};f.ff=function(){this.i.Z.a().style.left=(parseInt(this.i.X.a().style.width)+parseInt(this.i.Y.a().style.width)).toString()+"px"};v("xiv.ui.layouts.TwoDRow.TITLE",Qr.TITLE);v("xiv.ui.layouts.TwoDRow.EventType",{});v("xiv.ui.layouts.TwoDRow.ID_PREFIX",Qr.ID_PREFIX);v("xiv.ui.layouts.TwoDRow.CSS_SUFFIX",Qr.CSS_SUFFIX);
v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_X",Qr.prototype.De);v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_Y",Qr.prototype.Dg);v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_Z",Qr.prototype.Fj);v("xiv.ui.layouts.TwoDRow.prototype.onLayoutFrameResize_X",Qr.prototype.$e);v("xiv.ui.layouts.TwoDRow.prototype.onLayoutFrameResize_Y",Qr.prototype.Rk);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle",Qr.prototype.o);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_X",Qr.prototype.Ge);
v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_Y",Qr.prototype.He);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_Z",Qr.prototype.ff);v("nrg.array",function(){});v("nrg.array.naturalCompare",function(a,b){function c(a){for(var b=[],c=0,d=-1,e=0,h,k;h=(k=a.charAt(c++)).charCodeAt(0);)h=46==h||48<=h&&57>=h,h!==e&&(b[++d]="",e=h),b[d]+=k;return b}var d=c(a),e=c(b);for(x=0;d[x]&&e[x];x++)if(d[x]!==e[x]){var h=Number(d[x]),k=Number(e[x]);return h==d[x]&&k==e[x]?h-k:d[x]>e[x]?1:-1}return d.length-e.length});function Sr(){xr.call(this,"Y");M(this.i.Y.a(),zj(Tq.ad,this.constructor.TITLE.toLowerCase()))}w(Sr,Ir);v("xiv.ui.layouts.Coronal",Sr);Sr.TITLE="Coronal";Sr.ID_PREFIX="xiv.ui.layouts.Coronal";v("xiv.ui.layouts.Coronal.TITLE",Sr.TITLE);v("xiv.ui.layouts.Coronal.ID_PREFIX",Sr.ID_PREFIX);function Tr(){U.call(this);this.constructor.wx={};this.constructor.wx[Pr.TITLE]=Pr;this.constructor.wx[Lr.TITLE]=Lr;this.rl={};this.Aj={};this.vi={}}w(Tr,U);v("xiv.ui.layouts.LayoutHandler",Tr);Tr.ID_PREFIX="xiv.ui.layouts.LayoutHandler";Tr.CSS_SUFFIX={};f=Tr.prototype;f.qb=null;f.Dd=null;f.fv=!1;f.Ri=null;f.Fe=null;f.Ly=!0;f.EJ=function(){return this.fv};f.WF=function(a){this.Ly=a};f.Tz=function(){return this.qb[this.Uc]};f.Uz=function(a){return this.qb[this.Uc].zu(a)};
f.zp=function(){null!=this.Dd&&this.Dd.zp()};f.Mq=function(){return null!=this.Dd?this.Dd.fm():null};function Ur(a){var b=[];a=a.Dd.fm();C(a,function(a){C(a,function(a){b.push(a.a())})});return b}f.kA=function(a){return null!=this.Dd?this.Dd.fA(a):null};f.NH=function(a){return null!=this.Dd?this.Dd.bA(a):null};f.jA=function(a,b){return null!=this.Dd?this.Dd.eA(a,b):null};f.xC=function(a){this.pi(a);null!=this.Dd&&this.Dd.jw();this.qb[a].oy();this.Dd=this.qb[a]};
f.py=function(a,b){if(void 0 in this.rl)throw Error(a+" is an already used layout title!");b&&(this.rl[a]=b)};f.pi=function(a,b){if(!(a in this.rl))throw Error("Invalid layout: "+a+"!");null==this.qb&&(this.qb={});a in this.qb||(this.qb[a]=new this.rl[a],F(this.qb[a],"n",this.Kr.bind(this)),Vr(this.qb[a]),Q(this.a(),this.qb[a].a()));this.Tr=this.Uc;this.Uc=a;Wr(this);this.kD(!1===b?0:500)};
function Wr(a){var b;C(a.qb[a.Uc].i,function(a,d){b=this.kA(d);null!=b&&null!=b.ia&&null!=b.Dh&&(M(a.a(),"xiv-ui-layouts-hoverframe"),D([b.ia.a(),b.Dh.a()],function(a){M(a,"xiv-ui-layouts-fadeableinteractor")}.bind(this)))}.bind(a))}function Xr(a){var b;C(a.qb[a.Uc].i,function(a,d){b=this.jA(d,Vq);null!=b&&null==a[Yr]&&(b.iq(a.a()),a[Yr]=!0)}.bind(a))}f.Kr=function(){this.dispatchEvent({type:"z"})};
f.kD=function(a){a=u(a)&&0<=a?a:500;this.Tr==this.Uc?Xr(this):this.Tr?this.Ly?Zr(this,a):Zr(this,0):($r(this,this.Uc),as(this,this.Uc))};function bs(a,b,c){D(ei(b.a()),function(a){null!=this.Aj[c]||(this.Aj[c]=[]);this.Aj[c].push(a)}.bind(a))}function cs(a){C(a.vi,function(a){Q(this.a().parentNode,a)}.bind(a))}function ds(a,b){var c=[];C(a.vi,function(a,e){c=Nb(c,Nk(a,this.Ri[e],this.Fe[e],b))}.bind(a));return c}
function Zr(a,b){var c=a.qb[a.Uc].i,d;$r(a,a.Uc);as(a,a.Uc);null!=a.Ri&&tb(a.Ri);null!=a.Fe&&tb(a.Fe);a.Ri={};a.Fe={};C(a.qb[a.Tr].i,function(a,b){d=a.a().cloneNode(!1);this.vi[b]=d;bs(this,a,b);C(this.Aj,function(a,b){D(a,function(a){R(a);null!=this.vi[b]&&this.vi[b].appendChild(a)}.bind(this))}.bind(this));if(b in c){var k=Mk(a.a(),c[b].a());this.Ri[b]=k.$F;this.Fe[b]=k.EM}else this.Ri[b]={"z-index":0},this.Fe[b]={opacity:0}}.bind(a));cs(a);Ok(ds(a,b),a.Pv.bind(a),a.Qv.bind(a),a.Ov.bind(a))}
f.Pv=function(){this.SA();this.fv=!0;this.dispatchEvent({type:"w",Vw:this.vi})};var Yr=B();f=Tr.prototype;f.Qv=function(){this.dispatchEvent({type:"y",Vw:this.vi})};
f.Ov=function(){var a=this.qb[this.Uc].i;C(a,function(a,c){null!=this.Aj[c]&&D(this.Aj[c],function(c){a.a().appendChild(c)})}.bind(this));C(a,function(a,c){null!=this.Fe[c]&&tk(a.a(),this.Fe[c])}.bind(this));this.qb[this.Uc]!==this.Dd&&this.qb[this.Uc].sw(this.Mq());es(this);this.fv=!1;$r(this,this.Uc);as(this,this.Uc);fs(this);this.dispatchEvent({type:"x",frames:a});Xr(this);this.o()};function as(a,b){a.qb[b].a().style.opacity=1;a.qb[b].o()}
function $r(a,b){a.qb[b].a().style.visibility="visible";a.qb[b].o()}f.SA=function(){C(this.qb,function(a){a.a().style.visibility="hidden";a.o()}.bind(this))};function es(a){C(a.vi,function(a){R(a);delete a})}function Vr(a){C(a.i,function(a){F(a.a(),"dblclick",function(){})})}f.zK=function(a){this.xQ.push(a)};f.o=function(){Tr.d.o.call(this);this.qb[this.Uc].o()};
function fs(a){null!=a.Ri&&(C(a.Ri,function(a){tb(a)}),tb(a.Fe),delete a.Fe);null!=a.Fe&&(C(a.Fe,function(a){tb(a)}),tb(a.Fe),delete a.Fe)}f.f=function(){Tr.d.f.call(this);fs(this);delete this.vi;tb(this.Aj);delete this.Aj;delete this.Dd;this.Jn(this.qb);delete this.qb;tb(this.rl);delete this.rl;delete this.Uc;delete this.Tr};v("xiv.ui.layouts.LayoutHandler.EventType",{IN:"w",HN:"x",JN:"y",Rs:"z"});v("xiv.ui.layouts.LayoutHandler.ID_PREFIX",Tr.ID_PREFIX);
v("xiv.ui.layouts.LayoutHandler.CSS_SUFFIX",Tr.CSS_SUFFIX);v("xiv.ui.layouts.LayoutHandler.ANIM_TIME",500);v("xiv.ui.layouts.LayoutHandler.SLIDER_BOUND",Yr);v("xiv.ui.layouts.LayoutHandler.prototype.layoutChanging",Tr.prototype.EJ);v("xiv.ui.layouts.LayoutHandler.prototype.animateLayoutChange",Tr.prototype.WF);v("xiv.ui.layouts.LayoutHandler.prototype.getCurrentLayout",Tr.prototype.Tz);v("xiv.ui.layouts.LayoutHandler.prototype.getCurrentLayoutFrame",Tr.prototype.Uz);
v("xiv.ui.layouts.LayoutHandler.prototype.updateInteractors",Tr.prototype.zp);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractors",Tr.prototype.Mq);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorsElements",Tr.prototype.aQ);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorsByPlane",Tr.prototype.kA);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterFrameByPlane",Tr.prototype.NH);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorByPlane",Tr.prototype.jA);
v("xiv.ui.layouts.LayoutHandler.prototype.setMasterLayout",Tr.prototype.xC);v("xiv.ui.layouts.LayoutHandler.prototype.addLayout",Tr.prototype.py);v("xiv.ui.layouts.LayoutHandler.prototype.setLayout",Tr.prototype.pi);v("xiv.ui.layouts.LayoutHandler.prototype.switchLayout",Tr.prototype.kD);v("xiv.ui.layouts.LayoutHandler.prototype.hideAllLayouts",Tr.prototype.SA);v("xiv.ui.layouts.LayoutHandler.prototype.onLayoutFrameDoubleClicked",Tr.prototype.zK);
v("xiv.ui.layouts.LayoutHandler.prototype.updateStyle",Tr.prototype.o);v("xiv.ui.layouts.LayoutHandler.prototype.disposeInternal",Tr.prototype.f);function hs(a,b){this.x=a;this.y=b}w(hs,th);f=hs.prototype;f.clone=function(){return new hs(this.x,this.y)};f.tg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};f.scale=th.prototype.scale;f.Eb=function(){this.x=-this.x;this.y=-this.y;return this};f.normalize=function(){return this.scale(1/this.tg())};f.add=function(a){this.x+=a.x;this.y+=a.y;return this};f.Mc=function(a){this.x-=a.x;this.y-=a.y;return this};
f.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};f.Zl=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y};function is(){cd.call(this);this.u="shaders";this.$p="";var a;a="precision mediump float;\n\n";a+="attribute vec3 vertexPosition;\n";a+="attribute vec3 vertexNormal;\n";a+="attribute vec3 vertexColor;\n";a+="attribute vec2 vertexTexturePos;\n";a+="attribute float vertexScalar;\n";a+="\n";a+="uniform mat4 view;\n";a+="uniform mat4 perspective;\n";a+="uniform vec3 center;\n";a+="uniform mat4 objectTransform;\n";a+="uniform bool useObjectColor;\n";a+="uniform bool useScalars;\n";a+="uniform bool scalarsReplaceMode;\n";
a+="uniform float scalarsMin;\n";a+="uniform float scalarsMax;\n";a+="uniform vec3 scalarsMinColor;\n";a+="uniform vec3 scalarsMaxColor;\n";a+="uniform float scalarsMinThreshold;\n";a+="uniform float scalarsMaxThreshold;\n";a+="uniform int scalarsInterpolation;\n";a+="uniform vec3 objectColor;\n";a+="uniform float pointSize;\n";a+="\n";a+="varying float fDiscardNow;\n";a+="varying vec4 fVertexPosition;\n";a+="varying vec3 fragmentColor;\n";a+="varying vec2 fragmentTexturePos;\n";a+="varying vec3 fVertexNormal;\n";
a+="varying vec3 fTransformedVertexNormal;\n";a+="\n";a+="void main(void) {\n";a+="  fTransformedVertexNormal = mat3(view[0].xyz,view[1].xyz,view[2].xyz) * ";a+="mat3(objectTransform[0].xyz,objectTransform[1].xyz,objectTransform[2].xyz) * ";a+="vertexNormal;\n";a+="  fVertexNormal = vertexNormal;\n";a+="  fDiscardNow = 0.0;\n";a+="  vec3 vertexPosition2 = vertexPosition - center;\n";a+="  fVertexPosition = view * objectTransform * vec4(vertexPosition2, 1.0);\n";a+="  fragmentTexturePos = vertexTexturePos;\n";
a+="  if (useScalars) {\n";a+="    float scalarValue = vertexScalar;\n";a+="    if (scalarValue < scalarsMinThreshold || scalarValue > scalarsMaxThreshold) {\n";a+="      if (scalarsReplaceMode) {\n";a+="        fragmentColor = objectColor;\n";a+="      } else {\n";a+="        fDiscardNow = 1.0;\n";a+="      }\n";a+="    } else {\n";a+="      if (scalarsReplaceMode) {\n";a+="        if (scalarsInterpolation == 1) {\n";a+="            vec3 zeroMaxColor;\n";a+="            vec3 zeroMinColor;\n";a+=
"            zeroMaxColor[0] = scalarsMaxColor[0]*0.33;\n";a+="            zeroMaxColor[1] = scalarsMaxColor[1]*0.33;\n";a+="            zeroMaxColor[2] = scalarsMaxColor[2]*0.33;\n";a+="            zeroMinColor[0] = scalarsMinColor[0]*0.33;\n";a+="            zeroMinColor[1] = scalarsMinColor[1]*0.33;\n";a+="            zeroMinColor[2] = scalarsMinColor[2]*0.33;\n";a+="            if(scalarValue < 0.0) {fragmentColor = scalarValue/(scalarsMin) * scalarsMinColor + (1.0 - scalarValue/(scalarsMin)) * (zeroMinColor);}\n";
a+="            else {fragmentColor = scalarValue/(scalarsMax) * scalarsMaxColor + (1.0 - scalarValue/(scalarsMax)) * (zeroMaxColor);}\n";a+="        } else {\n";a+="            fragmentColor = scalarValue * scalarsMaxColor + (1.0 - scalarValue) * scalarsMinColor;\n";a+="          }\n";a+="      } else {\n";a+="        fragmentColor = vertexColor;\n";a+="      }\n";a+="    }\n";a+="  } else if (useObjectColor) {\n";a+="    fragmentColor = objectColor;\n";a+="  } else {\n";a+="    fragmentColor = vertexColor;\n";
a+="  }\n";a+="  gl_PointSize = pointSize;\n";a+="  gl_Position = perspective * fVertexPosition;\n";this.$p=a+="}\n";this.Op="";a="precision mediump float;\n\n";a+="uniform bool usePicking;\n";a+="uniform bool useTexture;\n";a+="uniform bool volumeTexture;\n";a+="uniform bool useLabelMapTexture;\n";a+="uniform sampler2D textureSampler;\n";a+="uniform sampler2D textureSampler2;\n";a+="uniform float objectOpacity;\n";a+="uniform float labelmapOpacity;\n";a+="uniform vec4 labelmapColor;\n";a+="uniform float volumeLowerThreshold;\n";
a+="uniform float volumeUpperThreshold;\n";a+="uniform float volumeScalarMin;\n";a+="uniform float volumeScalarMax;\n";a+="uniform vec3 volumeScalarMinColor;\n";a+="uniform vec3 volumeScalarMaxColor;\n";a+="uniform float volumeWindowLow;\n";a+="uniform float volumeWindowHigh;\n";a+="\n";a+="varying float fDiscardNow;\n";a+="varying vec4 fVertexPosition;\n";a+="varying vec3 fragmentColor;\n";a+="varying vec2 fragmentTexturePos;\n";a+="varying vec3 fVertexNormal;\n";a+="varying vec3 fTransformedVertexNormal;\n";
a+="\n";a+="void main(void) {\n";a+=" if (fDiscardNow > 0.0) {\n";a+="   discard;\n";a+=" }\n";a+=" if (usePicking) {\n";a+="   gl_FragColor = vec4(fragmentColor, 1.0);\n";a+=" } else if (useTexture) {\n";a+="   vec4 texture1 = texture2D(textureSampler,fragmentTexturePos);\n";a+="   vec4 textureSum = texture1;\n";a+="   if (volumeTexture) {\n";a+="     float _windowLow = (volumeWindowLow / volumeScalarMax);\n";a+="     float _windowHigh = (volumeWindowHigh / volumeScalarMax);\n";a+="     vec3 _minrange = vec3(_windowLow,_windowLow,_windowLow);\n";
a+="     vec3 _maxrange = vec3(_windowHigh,_windowHigh,_windowHigh);\n";a+="     vec3 fac = _maxrange - _minrange;\n";a+="     textureSum = vec4((textureSum.r - _minrange)/fac,1);\n";a+="     textureSum = textureSum.r * vec4(volumeScalarMaxColor,1) + (1.0 - textureSum.r) * vec4(volumeScalarMinColor,1);\n";a+="   }\n";a+="   if (useLabelMapTexture) {\n";a+="     vec4 texture2 = texture2D(textureSampler2,fragmentTexturePos);\n";a+="     if (texture2.a > 0.0) {\n";a+="         if (labelmapColor.a != -255.0) {\n";
a+="           if (all(equal(floor(texture2 * vec4(255)), labelmapColor))) {\n";a+="             if (labelmapOpacity < 1.0) {\n";a+="               textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";a+="             } else {\n";a+="               textureSum = texture2;\n";a+="             }\n";a+="           }\n";a+="         } else {\n";a+="           if (labelmapOpacity < 1.0) {\n";a+="             textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";a+="           } else {\n";
a+="             textureSum = texture2;\n";a+="           }\n";a+="         }\n";a+="     }\n";a+="   }\n";a+="   if (volumeTexture) {\n";a+="     float _volumeLowerThreshold = (volumeLowerThreshold / volumeScalarMax);\n";a+="     float _volumeUpperThreshold = (volumeUpperThreshold / volumeScalarMax);\n";a+="     if (texture1.r < _volumeLowerThreshold ||\n";a+="         texture1.r > _volumeUpperThreshold ||\n";a+="         texture1.a == 0.0 ) {\n";a+="       discard;\n";a+="     };\n";a+="   };\n";
a+="   gl_FragColor = textureSum;\n";a+="   gl_FragColor.a = objectOpacity;\n";a+=" } else {\n";a+="   vec3 nNormal = normalize(fTransformedVertexNormal);\n";a+="   if (fVertexNormal == vec3(0.0,0.0,0.0)) {\n";a+="     gl_FragColor = vec4(fragmentColor,1.0);\n";a+="     return;\n";a+="   }\n";a+="   vec3 light = vec3(0.0, 0.0, 1.0);\n";a+="   vec3 lightDirection = vec3(0,0,-10);\n";a+="   lightDirection = normalize(lightDirection);\n";a+="   vec3 eyeDirection = normalize(-fVertexPosition.xyz);\n";
a+="   vec3 reflectionDirection = reflect(-lightDirection, nNormal);\n";a+="   float specular = pow(max(dot(reflectionDirection, eyeDirection), 0.0), 10.0);\n";a+="   float diffuse = 0.8 * max(dot(nNormal, light), 0.0);\n";a+="   float ambient = 0.3;\n";a+="   gl_FragColor = vec4(fragmentColor * ambient +\n";a+="                       fragmentColor * diffuse +\n";a+="                       vec3(0.2, 0.2, 0.2) * specular,\n";a+="                       objectOpacity);\n";a+=" }\n";this.Op=a+="}\n"}
w(is,cd);
var js={kP:"vertexPosition",jP:"vertexNormal",iP:"vertexColor",mP:"vertexTexturePos",lP:"vertexScalar"},ks={oP:"view",fO:"perspective",YM:"center",cO:"objectTransform",eP:"useObjectColor",aO:"objectColor",gP:"useScalars",wO:"scalarsReplaceMode",tO:"scalarsMin",qO:"scalarsMax",uO:"scalarsMinColor",rO:"scalarsMaxColor",vO:"scalarsMinThreshold",sO:"scalarsMaxThreshold",pO:"scalarsInterpolation",gO:"pointSize",bO:"objectOpacity",$N:"normal",fP:"usePicking",hP:"useTexture",dP:"useLabelMapTexture",GN:"labelmapOpacity",
FN:"labelmapColor",OO:"textureSampler",PO:"textureSampler2",sP:"volumeLowerThreshold",zP:"volumeUpperThreshold",wP:"volumeScalarMin",uP:"volumeScalarMax",xP:"volumeScalarMinColor",vP:"volumeScalarMaxColor",BP:"volumeWindowLow",AP:"volumeWindowHigh",yP:"volumeTexture"};
function ls(a){var b=Object.keys(ks);if(!Object.keys(js).every(function(a){a=js[a];return-1!=this.$p.search(a)||-1!=this.Op.search(a)}.bind(a)))throw Error("Could not find all attributes in the shader sources.");if(!b.every(function(a){a=ks[a];return-1!=this.$p.search(a)||-1!=this.Op.search(a)}.bind(a)))throw Error("Could not find all uniforms in the shader sources.");};function ms(a,b,c){if(null==a)throw Error("Invalid GL Buffer.");if(null==b)throw Error("Invalid number of items.");if(null==c)throw Error("Invalid item size.");cd.call(this);this.u="buffer";this.zb=a;this.Ei=b;this.Fi=c}w(ms,cd);function ns(a,b){this.Tt=a instanceof th?a:new th(a,b)}w(ns,Xo);ns.prototype.Be=function(a,b,c,d){Do(Ii(a),0,a,b,this.Tt,c,null,d)};function os(a,b){this.DL=4;this.ew=b||void 0;Am.call(this,a)}w(os,Am);os.prototype.vw=function(a){this.ew=a||void 0;this.va()&&this.Be()};os.prototype.Be=function(){if(this.ew){var a=!this.va()&&"move_offscreen"!=this.Km,b=this.a();a&&(b.style.visibility="hidden",Yi(b,!0));this.ew.Be(b,this.DL,this.nQ);a&&Yi(b,!1)}};function ps(a,b,c){this.sb=c||(a?Mh(Ph(a)):Mh());os.call(this,this.sb.B("div",{style:"position:absolute;display:none;"}));this.Zt=new th(1,1);this.vk=new mg;a&&this.Ql(a);null!=b&&this.dp(b)}w(ps,os);var qs=[];f=ps.prototype;f.ne=null;f.className="goog-tooltip";f.YC=500;f.bJ=0;f.O=function(){return this.sb};f.Ql=function(a){a=Ph(a);this.vk.add(a);F(a,"mouseover",this.Ik,!1,this);F(a,"mouseout",this.Wq,!1,this);F(a,"mousemove",this.GA,!1,this);F(a,"focus",this.Gk,!1,this);F(a,"blur",this.Wq,!1,this)};
f.detach=function(a){if(a)a=Ph(a),rs(this,a),this.vk.remove(a);else{for(var b=this.vk.$h(),c=0;a=b[c];c++)rs(this,a);this.vk.clear()}};function rs(a,b){Vc(b,"mouseover",a.Ik,!1,a);Vc(b,"mouseout",a.Wq,!1,a);Vc(b,"mousemove",a.GA,!1,a);Vc(b,"focus",a.Gk,!1,a);Vc(b,"blur",a.Wq,!1,a)}f.dp=function(a){ki(this.a(),a)};f.pw=function(a){var b=this.a();b&&R(b);ps.d.pw.call(this,a);a&&(b=this.sb.la.body,b.insertBefore(a,b.lastChild))};f.Eu=function(){return qi(this.a())};
f.gm=function(){return this.Gj?this.va()?4:1:this.bo?3:this.va()?2:0};f.Dv=function(){if(!Am.prototype.Dv.call(this))return!1;if(this.anchor)for(var a,b=0;a=qs[b];b++)ji(a.a(),this.anchor)||a.ca(!1);Lb(qs,this);a=this.a();a.className=this.className;ss(this);F(a,"mouseover",this.NA,!1,this);F(a,"mouseout",this.MA,!1,this);ts(this);return!0};
f.Mv=function(){Mb(qs,this);for(var a=this.a(),b,c=0;b=qs[c];c++)b.anchor&&ji(a,b.anchor)&&b.ca(!1);this.SB&&us(this.SB);Vc(a,"mouseover",this.NA,!1,this);Vc(a,"mouseout",this.MA,!1,this);this.anchor=void 0;0==this.gm()&&(this.fs=!1);Am.prototype.Mv.call(this)};f.sB=function(a,b){this.anchor==a&&this.vk.contains(this.anchor)&&(this.fs||!this.DQ?(this.ca(!1),this.va()||(this.anchor=a,this.vw(b||vs(this,0)),this.ca(!0))):this.anchor=void 0);this.Gj=void 0};
f.QJ=function(a){this.bo=void 0;a==this.anchor&&(null!=this.ne&&(this.ne==this.a()||this.vk.contains(this.ne))||this.Yy&&this.Yy.ne||this.ca(!1))};function ws(a,b){var c=zi(a.sb);a.Zt.x=b.clientX+c.x;a.Zt.y=b.clientY+c.y}f.Ik=function(a){var b=xs(this,a.target);this.ne=b;ss(this);b!=this.anchor&&(this.anchor=b,this.Gj||(this.Gj=$f(ua(this.sB,this,b,void 0),this.YC)),ys(this),ws(this,a))};function xs(a,b){try{for(;b&&!a.vk.contains(b);)b=b.parentNode;return b}catch(c){return null}}
f.GA=function(a){ws(this,a);this.fs=!0};f.Gk=function(a){this.ne=a=xs(this,a.target);this.fs=!0;if(this.anchor!=a){this.anchor=a;var b=vs(this,1);ss(this);this.Gj||(this.Gj=$f(ua(this.sB,this,a,b),this.YC));ys(this)}};function vs(a,b){if(0==b){var c=a.Zt.clone();return new zs(c)}return new As(a.ne)}function ys(a){if(a.anchor)for(var b,c=0;b=qs[c];c++)ji(b.a(),a.anchor)&&(b.Yy=a,a.SB=b)}
f.Wq=function(a){var b=xs(this,a.target),c=xs(this,a.relatedTarget);b!=c&&(b==this.ne&&(this.ne=null),ts(this),this.fs=!1,!this.va()||a.relatedTarget&&ji(this.a(),a.relatedTarget)?this.anchor=void 0:us(this))};f.NA=function(){var a=this.a();this.ne!=a&&(ss(this),this.ne=a)};f.MA=function(a){var b=this.a();this.ne!=b||a.relatedTarget&&ji(b,a.relatedTarget)||(this.ne=null,us(this))};function ts(a){a.Gj&&(ba.clearTimeout(a.Gj),a.Gj=void 0)}
function us(a){2==a.gm()&&(a.bo=$f(ua(a.QJ,a,a.anchor),a.bJ))}function ss(a){a.bo&&(ba.clearTimeout(a.bo),a.bo=void 0)}f.f=function(){this.ca(!1);ts(this);this.detach();this.a()&&R(this.a());this.ne=null;delete this.sb;ps.d.f.call(this)};function zs(a,b){ns.call(this,a,b)}w(zs,ns);zs.prototype.Be=function(a,b,c){b=Ii(a);b=Li(b);c=c?new vh(c.top+10,c.right,c.bottom,c.left+10):new vh(10,0,0,10);Fo(this.Tt,a,4,c,b,9)&496&&Fo(this.Tt,a,4,c,b,5)};function As(a){Yo.call(this,a,3)}w(As,Yo);
As.prototype.Be=function(a,b,c){var d=new th(10,0);Do(this.element,this.Dn,a,b,d,c,9)&496&&Do(this.element,2,a,1,d,c,5)};function Bs(a,b,c,d){if(null==a)throw Error("No valid parent element.");if(!u(b)||!u(c))throw Error("Invalid coordinates.");if(!(null!=d&&d instanceof yp))throw Error("Invalid interactor.");ps.call(this);this.u="caption";this.qf=a;this.cq=b;this.dq=c;this.Ga=d;this.Mh=null;this.Xj=[];a=".x-tooltip {\n  background: #C0C0FF;\n  color: #000000;\n";a+="  border: 1px solid infotext;\n";a+="  padding: 1px;\n";a+="  font-family: sans-serif;\n";a+="}";this.Xj=[a];Uc(d,me,this.oo.bind(this));this.Tu()}
w(Bs,ps);Bs.prototype.Tu=function(){var a=Ci(this.qf,"position");if("static"==a||""==a)this.qf.style.position="relative";var a=document.getElementsByTagName("head")[0],b=O("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.Xj[0]));a.appendChild(b);b.appendChild(c);this.Mh=b;this.vw(new ns(this.cq,this.dq));this.ca(!0);this.Ql(this.qf);this.a().classList.add("x-tooltip")};Bs.prototype.oo=function(){this.ca(!1);this.Mh&&R(this.Mh);this.a()&&R(this.a());this.Mh=null};function Cs(){vq.call(this);this.u="renderer3D";this.an=this.en=this.$m=this.cn=this.Zm=this.bn=this.nt=this.pt=null;this.Wa=[0,0,0];this.Tm=[0,0,0];this.cy=null;this.Zs=new kd;this.qn=new kd;this.ek=new kd;this.fn=new kd;this.zl=new kd;this.Il=new kd;this.ck=new kd;this.Nl=new kd;this.yb={PROGRESSBAR_ENABLED:!0,PICKING_ENABLED:!0,ORDERING_ENABLED:!0,STATISTICS_ENABLED:!1,INTERMEDIATE_RENDERING:!1}}w(Cs,vq);Cs.prototype.__defineGetter__("config",function(){return this.yb});f=Cs.prototype;
f.NL=function(){this.an=this.en=this.$m=this.cn=this.Zm=this.bn=null;this.Wa=[0,0,0]};f.Nv=function(a){Cs.d.Nv.call(this,a);var b=a.cq;a=a.dq;var c=this.bw(b,a);if(c=this.get(c))if(c=c.yl){var d=Pi(this.ya),b=new Bs(this.ya,d.x+b+10,d.y+a+10,this.Ga);a=ym(c,null);if(b=b.a())b.innerHTML=xm(a)}};
f.ua=function(){Cs.d.ua.call(this,"experimental-webgl");try{if(this.b.viewport(0,0,this.$a,this.La),this.b.clearColor(this.Tm[0],this.Tm[1],this.Tm[2],0),this.b.enable(this.b.BLEND),this.b.blendEquation(this.b.FUNC_ADD),this.b.blendFunc(this.b.SRC_ALPHA,this.b.ONE_MINUS_SRC_ALPHA),this.b.enable(this.b.DEPTH_TEST),this.b.depthFunc(this.b.LEQUAL),this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT),this.yb.PICKING_ENABLED){var a=this.b.createFramebuffer(),b=this.b.createRenderbuffer(),c=this.b.createTexture();
this.b.bindTexture(this.b.TEXTURE_2D,c);this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGB,this.$a,this.La,0,this.b.RGB,this.b.UNSIGNED_BYTE,null);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.NEAREST);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.NEAREST);this.b.bindFramebuffer(this.b.FRAMEBUFFER,
a);this.b.bindRenderbuffer(this.b.RENDERBUFFER,b);this.b.renderbufferStorage(this.b.RENDERBUFFER,this.b.DEPTH_COMPONENT16,this.$a,this.La);this.b.bindRenderbuffer(this.b.RENDERBUFFER,null);this.b.framebufferTexture2D(this.b.FRAMEBUFFER,this.b.COLOR_ATTACHMENT0,this.b.TEXTURE_2D,c,0);this.b.framebufferRenderbuffer(this.b.FRAMEBUFFER,this.b.DEPTH_ATTACHMENT,this.b.RENDERBUFFER,b);this.b.bindFramebuffer(this.b.FRAMEBUFFER,null);this.cy=a}}catch(d){throw Error("Exception while accessing GL Context!\n"+
d);}a=new is;Ds(this,a)};
function Ds(a,b){if(null==a.Ac||null==a.b||null==a.oa)throw Error("Renderer was not initialized properly.");if(!(null!=b&&b instanceof is))throw Error("Could not add shaders.");ls(b);var c=a.b.createShader(a.b.FRAGMENT_SHADER),d=a.b.createShader(a.b.VERTEX_SHADER);a.b.shaderSource(c,b.Op);a.b.shaderSource(d,b.$p);a.b.compileShader(c);a.b.compileShader(d);if(!a.b.getShaderParameter(c,a.b.COMPILE_STATUS))throw Error("Fragement Shader compilation failed!\n"+a.b.getShaderInfoLog(c));if(!a.b.getShaderParameter(d,
a.b.COMPILE_STATUS))throw Error("Vertex Shader compilation failed!\n"+a.b.getShaderInfoLog(d));var e=a.b.createProgram();a.b.attachShader(e,d);a.b.attachShader(e,c);a.b.linkProgram(e);if(!a.b.getProgramParameter(e,a.b.LINK_STATUS))throw Error("Could not create shader program!\n"+a.b.getShaderInfoLog(c)+"\n"+a.b.getShaderInfoLog(d)+"\n"+a.b.getProgramInfoLog(e));a.b.useProgram(e);a.nt=e;Object.keys(js).forEach(function(a){a=js[a];this.Zs.set(a,this.b.getAttribLocation(this.nt,a));this.b.enableVertexAttribArray(this.Zs.get(a))}.bind(a));
Object.keys(ks).forEach(function(a){a=ks[a];this.qn.set(a,this.b.getUniformLocation(this.nt,a))}.bind(a));a.pt=b}
f.xh=function(a){Cs.d.xh.call(this,a);var b=!1;if(null!=a){this.get(a.ud)&&(b=!0);var c=a.ud,d=a.G,e=a.fa,h=a.Rc,k=a.Za,l=a.ja,n=a.nc,p=a.Md,m=a.t,q=a.hb;if(null!=m&&null!=m.ja&&m.ja.J)this.xh(m);else if(null!=m&&m.J&&this.xh(m),null!=p&&null!=p.ja&&p.ja.J)this.Rb.load(p,a);else if(null!=k&&null!=k.ja&&k.ja.J)this.Rb.load(k,a);else{if(null!=l&&g(l))if(null!=a.Bh){if(a.Bh.wo!=l.length||!a.J)return}else{b=0;c=l.length;for(b=0;b<c;b++)this.Rb.load(l[b],a);return}else{if(null!=l&&l.J){this.Rb.load(a,
a);return}if(null!=q&&null!=q.ja&&q.ja.J){this.Rb.load(q,a);return}}if(0<a.j.length)for(l=a.j,p=l.length,m=m=0;m<p;m++)this.xh(l[m]);if(d){for(l=0;this.Tp;)l++,window.console.log("Possible thread lock avoided: "+l);this.Tp=!0;p=a instanceof Me&&a.Nh instanceof Re;b&&null!=k&&k.J&&(l=this.ck.get(c),null!=l&&this.b.isBuffer(l.zb)&&this.b.deleteBuffer(l.zb));l=null;if(null!=k)if(!b||k.J){l=a.Ml;if(null==l)throw Error("Can not add an object and texture without valid coordinate mapping! Set the textureCoordinateMap!");
m=!1;k.Mi&&(m=!0);this.b.pixelStorei(this.b.UNPACK_FLIP_Y_WEBGL,m);m=this.b.createTexture();m.jJ=k.Xf;this.Nl.set(k.ud,m);this.b.bindTexture(this.b.TEXTURE_2D,m);k.Mi?(m=this.b.RGBA,k.Tx&&(m=this.b.LUMINANCE,this.b.pixelStorei(this.b.UNPACK_ALIGNMENT,1)),this.b.texImage2D(this.b.TEXTURE_2D,0,m,k.mt,k.lt,0,m,this.b.UNSIGNED_BYTE,k.Mi)):this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGBA,this.b.RGBA,this.b.UNSIGNED_BYTE,m.jJ);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);
this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);p?(this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.NEAREST),this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.NEAREST)):(this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.LINEAR),this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.LINEAR));this.b.bindTexture(this.b.TEXTURE_2D,null);m=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,
m);this.b.bufferData(this.b.ARRAY_BUFFER,new Float32Array(l),this.b.STATIC_DRAW);l=new ms(m,l.length,2);this.ck.set(c,l);k.J=!1}else l=this.ck.get(c);Rf(this.Rb,.1);if(p)this.Tp=!1,A.Kd(this.u+".update"),Rf(this.Rb,.9);else{if(!b||d.J||n.J){p=n.Bb;k=A.v.Zb(p,d.ag,d.bg,d.cg);p=A.v.Zb(p,d.Yf,d.Zf,d.$f);if(null===this.bn||k.x<this.bn)this.bn=k.x;if(null===this.Zm||p.x>this.Zm)this.Zm=p.x;if(null===this.cn||k.y<this.cn)this.cn=k.y;if(null===this.$m||p.y>this.$m)this.$m=p.y;if(null===this.en||k.z<this.en)this.en=
k.z;if(null===this.an||p.z>this.an)this.an=p.z;this.Wa=[(this.bn+this.Zm)/2,(this.cn+this.$m)/2,(this.en+this.an)/2];n.J=!1}b&&d.J&&(n=this.ek.get(c),null!=n&&this.b.isBuffer(n.zb)&&this.b.deleteBuffer(n.zb));n=null;!b||d.J?(n=this.b.createBuffer(),d.resize(),this.b.bindBuffer(this.b.ARRAY_BUFFER,n),this.b.bufferData(this.b.ARRAY_BUFFER,d.gc,this.b.STATIC_DRAW),n=new ms(n,d.count,3),d.J=!1):n=this.ek.get(c);Rf(this.Rb,.3);b&&e.J&&(k=this.ek.get(c),null!=k&&this.b.isBuffer(k.zb)&&this.b.deleteBuffer(k.zb));
k=null;!b||e.J?(k=this.b.createBuffer(),e.resize(),this.b.bindBuffer(this.b.ARRAY_BUFFER,k),this.b.bufferData(this.b.ARRAY_BUFFER,e.gc,this.b.STATIC_DRAW),k=new ms(k,e.count,3),e.J=!1):k=this.fn.get(c);Rf(this.Rb,.3);b&&h&&h.J&&(e=this.zl.get(c),null!=e&&this.b.isBuffer(e.zb)&&this.b.deleteBuffer(e.zb));e=null;if(h)if(!b||h.J){if(h.length!=d.length)throw Error("Mismatch between points and point colors.");e=this.b.createBuffer();h.resize();this.b.bindBuffer(this.b.ARRAY_BUFFER,e);this.b.bufferData(this.b.ARRAY_BUFFER,
h.gc,this.b.STATIC_DRAW);e=new ms(e,h.count,3);h.J=!1}else e=this.zl.get(c);Rf(this.Rb,.2);b&&q&&q.J&&(h=this.Il.get(c),null!=h&&this.b.isBuffer(h.zb)&&this.b.deleteBuffer(h.zb));h=null;if(q)if(h=q.Vm,!b||q.J){if(h.length!=d.length)throw Error("Mismatch between points and scalars.");d=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,d);this.b.bufferData(this.b.ARRAY_BUFFER,h,this.b.STATIC_DRAW);h=new ms(d,h.length,3);q.J=!1}else h=this.Il.get(c);Rf(this.Rb,.1);b||this.Sg.add(a);this.ek.set(c,
n);this.fn.set(c,k);this.zl.set(c,e);this.ck.set(c,l);this.Il.set(c,h);this.Tp=a.J=!1}}else a.J=!1}}};f.bw=function(a,b){if(this.yb.PICKING_ENABLED){this.nh(!0,!1);var c=new Uint8Array(4);this.b.readPixels(a,this.La-b,1,1,this.b.RGBA,this.b.UNSIGNED_BYTE,c);return c[0]+255*c[1]+65025*c[2]}return-1};
f.nh=function(a,b){Cs.d.nh.call(this,a,b);this.b.viewport(0,0,this.$a,this.La);this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT);var c=this.Sg.gb,d=c.length;if(0!=d){a?this.b.bindFramebuffer(this.b.FRAMEBUFFER,this.cy):this.b.bindFramebuffer(this.b.FRAMEBUFFER,null);var e=this.oa.kt,h=this.oa.Q;this.b.uniformMatrix4fv(this.qn.get("perspective"),!1,e);this.b.uniformMatrix4fv(this.qn.get("view"),!1,h);e=this.Wa;this.b.uniform3f(this.qn.get("center"),parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));
h=this.vd.length;for(e=0;e<h;++e){var k=this.vd[e];if(k instanceof J){var l=A.v.Zb(this.oa.Q,k.xa[0]+k.e[0].H[0],k.xa[1]+k.e[0].H[1],k.xa[2]+k.e[0].H[2]),n=A.v.Zb(this.oa.Q,k.xa[0]-k.e[0].H[0],k.xa[1]-k.e[0].H[1],k.xa[2]-k.e[0].H[2]),p=Math.abs(l.z-n.z),l=A.v.Zb(this.oa.Q,k.xa[0]+k.e[1].H[0],k.xa[1]+k.e[1].H[1],k.xa[2]+k.e[1].H[2]),n=A.v.Zb(this.oa.Q,k.xa[0]-k.e[1].H[0],k.xa[1]-k.e[1].H[1],k.xa[2]+-k.e[1].H[2]),m=Math.abs(l.z-n.z),l=A.v.Zb(this.oa.Q,k.xa[0]+k.e[2].H[0],k.xa[1]+k.e[2].H[1],k.xa[2]+
k.e[2].H[2]),n=A.v.Zb(this.oa.Q,k.xa[0]-k.e[2].H[0],k.xa[1]-k.e[2].H[1],k.xa[2]-k.e[2].H[2]),l=Math.max(p,m,Math.abs(l.z-n.z));l==p?Qe(k,0):l==m?Qe(k,1):Qe(k,2)}}if(this.yb.ORDERING_ENABLED){p=!1;h=this.vd;k=h.length-1;do if(e=h[k],e instanceof J&&e.Pe&&-1!=e.Jb){var p=e.j[e.Jb].j,m=e.Jb,l=A.v.Zb(this.oa.Q,e.xa[0]+e.e[m].Ta[0],e.xa[1]+e.e[m].Ta[1],e.xa[2]+e.e[m].Ta[2]),n=A.v.Zb(this.oa.Q,e.xa[0]-e.e[m].Ta[0],e.xa[1]-e.e[m].Ta[1],e.xa[2]-e.e[m].Ta[2]),l=l.z-n.z,n=Math.max(e.wl[e.Jb],Math.max(e.wl[e.Jb+
4],e.wl[e.Jb+8])),q=Math.min(e.wl[e.Jb],Math.min(e.wl[e.Jb+4],e.wl[e.Jb+8]));if(0>l*(n+q))for(l=l=0;l<e.kn[m]-1;l++)p[l]&&(p[l].dd=e.dd,p[l].td=e.e[m].Kl*l);else for(l=e.kn[m]-1;0<=l;l--)p[l]&&(p[l].dd=e.dd,p[l].td=(e.kn[m]-1)*e.e[m].Kl-e.e[m].Kl*l);p=!0}while(k--);h=this.Sg.gb;k=h.length-1;do e=h[k],!e.rb||1==e.dd||e instanceof Me||(p=e,m=e.G.Lp,e=A.v.Zb(e.nc.Bb,m[0],m[1],m[2]),e=A.v.Zb(this.oa.Q,e.x,e.y,e.z),e=A.S.ju(this.oa.Zj,e),e=Math.round(1E3*e)/1E3,p.td=e,p=!0);while(k--);p&&this.Sg.sort()}if(h=
!a&&null!=b&&b&&this.yb.STATISTICS_ENABLED)var t=0,s=0,z=0,y=0;var e=this.Zs,k=e.get("vertexPosition"),p=e.get("vertexNormal"),m=e.get("vertexColor"),l=e.get("vertexTexturePos"),n=e.get("vertexScalar"),e=this.qn,q=e.get("usePicking"),I=e.get("useObjectColor"),P=e.get("objectColor"),N=e.get("useScalars"),H=e.get("scalarsReplaceMode"),T=e.get("scalarsMin"),ca=e.get("scalarsMax"),V=e.get("scalarsMinColor"),wa=e.get("scalarsMaxColor"),oa=e.get("scalarsInterpolation"),ya=e.get("scalarsMinThreshold"),Oa=
e.get("scalarsMaxThreshold"),Ja=e.get("objectOpacity"),Pa=e.get("labelmapOpacity"),ka=e.get("labelmapColor"),za=e.get("useTexture"),qa=e.get("useLabelMapTexture"),Gc=e.get("textureSampler"),Be=e.get("textureSampler2"),Ce=e.get("volumeLowerThreshold"),De=e.get("volumeUpperThreshold"),ae=e.get("volumeScalarMin"),Qh=e.get("volumeScalarMax"),Pv=e.get("volumeWindowLow"),Qv=e.get("volumeWindowHigh"),Rv=e.get("volumeScalarMinColor"),Sv=e.get("volumeScalarMaxColor"),gs=e.get("volumeTexture"),Tv=e.get("objectTransform"),
Uv=e.get("pointSize"),e=d;do{var Qa=c[d-e];if(Qa){var lb=null;Qa instanceof Me&&Qa.Nh&&(lb=Qa.Nh);if(Qa.rb&&(!lb||lb.rb)&&(!a||Qa.gn)){var Dc=Qa.ud,Rd=Qa.Ym,jd=this.ek.get(Dc),te=this.fn.get(Dc),an=this.zl.get(Dc),of=this.Il.get(Dc),bn=this.ck.get(Dc);this.b.bindBuffer(this.b.ARRAY_BUFFER,jd.zb);this.b.vertexAttribPointer(k,jd.Fi,this.b.FLOAT,!1,0,0);this.b.bindBuffer(this.b.ARRAY_BUFFER,te.zb);this.b.vertexAttribPointer(p,te.Fi,this.b.FLOAT,!1,0,0);a?this.b.uniform1i(q,!0):this.b.uniform1i(q,!1);
!an||a||Rd?(te=1,Rd&&!a&&(te=0),this.b.uniform1i(I,te),te=Qa.Ka,a&&(te=[Math.floor(Dc%65025%255)/255,Math.floor(Dc%65025/255)/255,Math.floor(Dc/65025)/255]),this.b.uniform3f(P,parseFloat(te[0]),parseFloat(te[1]),parseFloat(te[2])),this.b.vertexAttribPointer(m,jd.Fi,this.b.FLOAT,!1,0,0)):(this.b.uniform1i(I,!1),this.b.bindBuffer(this.b.ARRAY_BUFFER,an.zb),this.b.vertexAttribPointer(m,an.Fi,this.b.FLOAT,!1,0,0));!of||a||Rd?(this.b.uniform1i(N,!1),this.b.vertexAttribPointer(n,jd.Fi,this.b.FLOAT,!1,0,
0)):(this.b.uniform1i(N,!0),this.b.uniform1i(H,Qa.hb.fy),Dc=Qa.hb.Ii,Rd=Qa.hb.Gi,this.b.uniform3f(V,parseFloat(Dc[0]),parseFloat(Dc[1]),parseFloat(Dc[2])),this.b.uniform3f(wa,parseFloat(Rd[0]),parseFloat(Rd[1]),parseFloat(Rd[2])),this.b.uniform1f(ya,parseFloat(Qa.hb.Ab)),this.b.uniform1f(Oa,parseFloat(Qa.hb.Cb)),this.b.uniform1f(T,parseFloat(Qa.hb.ke)),this.b.uniform1f(ca,parseFloat(Qa.hb.fc)),this.b.uniform1i(oa,parseInt(Qa.hb.at,10)),this.b.bindBuffer(this.b.ARRAY_BUFFER,of.zb),this.b.vertexAttribPointer(n,
of.Fi,this.b.FLOAT,!1,0,0));this.b.uniform1f(Ja,parseFloat(Qa.dd));Qa.Za&&bn&&!a?(this.b.uniform1i(za,!0),this.b.activeTexture(this.b.TEXTURE0),this.b.bindTexture(this.b.TEXTURE_2D,this.Nl.get(Qa.Za.ud)),this.b.uniform1i(Gc,0),this.b.bindBuffer(this.b.ARRAY_BUFFER,bn.zb),this.b.vertexAttribPointer(l,bn.Fi,this.b.FLOAT,!1,0,0),this.b.uniform1i(gs,!1)):(this.b.uniform1i(za,!1),this.b.vertexAttribPointer(l,jd.Fi,this.b.FLOAT,!1,0,0));lb&&(this.b.uniform1i(gs,!0),this.b.uniform1f(Ce,lb.Ab),this.b.uniform1f(De,
lb.Cb),this.b.uniform1f(ae,lb.ke),this.b.uniform1f(Qh,lb.fc),Dc=lb.Ii,Rd=lb.Gi,this.b.uniform3f(Rv,parseFloat(Dc[0]),parseFloat(Dc[1]),parseFloat(Dc[2])),this.b.uniform3f(Sv,parseFloat(Rd[0]),parseFloat(Rd[1]),parseFloat(Rd[2])),this.b.uniform1f(Pv,lb.Tb),this.b.uniform1f(Qv,lb.Sb),of=lb.t,this.b.uniform1i(qa,!1),lb.Pe?this.b.uniform1f(Ja,parseFloat(lb.dd)):of&&of.rb&&(lb=Qa.t.ud,this.b.uniform1i(qa,!0),this.b.activeTexture(this.b.TEXTURE1),this.b.bindTexture(this.b.TEXTURE_2D,this.Nl.get(lb)),this.b.uniform1i(Be,
1),this.b.uniform1f(Pa,of.dd),this.b.uniform4fv(ka,of.rt)));this.b.uniformMatrix4fv(Tv,!1,Qa.nc.Bb);lb=1;"POINTS"==Qa.Pd&&(lb=Qa.hn);this.b.uniform1f(Uv,lb);lb=-1;Qa.Pd==Ud?(lb=this.b.TRIANGLES,h&&(s+=jd.Ei/3)):"LINES"==Qa.Pd?(this.b.lineWidth(Qa.Gl),lb=this.b.LINES,h&&(z+=jd.Ei/2)):"POINTS"==Qa.Pd?(lb=this.b.POINTS,h&&(y+=jd.Ei)):"TRIANGLE_STRIPS"==Qa.Pd?(lb=this.b.TRIANGLE_STRIP,h&&(s+=jd.Ei/3)):"POLYGONS"==Qa.Pd&&(lb=0==jd.Ei%3?this.b.TRIANGLES:this.b.TRIANGLE_FAN,h&&(s+=jd.Ei/3));h&&(t+=jd.Ei);
this.b.drawArrays(lb,0,jd.Ei)}}}while(--e);h&&(c="Objects: "+d+" | "+("Vertices: "+t+" | "),c+="Triangles: "+Math.round(s)+" | ",c+="Lines: "+z+" | ",c+="Points: "+y+" | ",c+="Textures: "+this.Nl.lg(),window.console.log(c))}};
f.remove=function(a){Cs.d.remove.call(this,a);if(0<a.j.length)for(var b=a.j,c=b.length,d=0,d=0;d<c;d++)this.remove(b[d]);b=a.ud;c=this.ck.get(b);null!=c&&this.b.isBuffer(c.zb)&&this.b.deleteBuffer(c.zb);a.Za&&(c=this.Nl.get(a.Za.ud))&&(this.b.deleteTexture(c),this.Nl.remove(a.Za.ud));c=this.ek.get(b);null!=c&&this.b.isBuffer(c.zb)&&this.b.deleteBuffer(c.zb);c=this.fn.get(b);null!=c&&this.b.isBuffer(c.zb)&&this.b.deleteBuffer(c.zb);c=this.zl.get(b);null!=c&&this.b.isBuffer(c.zb)&&this.b.deleteBuffer(c.zb);
c=this.Il.get(b);null!=c&&this.b.isBuffer(c.zb)&&this.b.deleteBuffer(c.zb);this.ek.remove(b);this.fn.remove(b);this.zl.remove(b);this.ck.remove(b);this.Il.remove(b);this.Sg.remove(a);return!0};f.qe=function(){this.pt=null;delete this.pt;this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT);Cs.d.qe.call(this)};Cs.prototype.__defineGetter__("bgColor",function(){return this.Tm});Cs.prototype.__defineSetter__("bgColor",function(a){this.Tm=a});
Cs.prototype.BL=function(a,b,c,d,e){null!=c||(c=4);null!=d||(d=2);if(null==e){e=this.bw(a,b);if(-1==e)return null;e=this.get(e);if(!e)return null}var h=lq(this.oa,a/this.$a*2-1,(this.La-b)/this.La*2-1,0);a=lq(this.oa,a/this.$a*2-1,(this.La-b)/this.La*2-1,1);h[0]+=this.Wa[0];h[1]+=this.Wa[1];h[2]+=this.Wa[2];a[0]+=this.Wa[0];a[1]+=this.Wa[1];a[2]+=this.Wa[2];b=[e.G.ag,e.G.bg,e.G.cg];var k=[e.G.Yf,e.G.bg,e.G.cg],l=[e.G.Yf,e.G.Zf,e.G.cg],n=[e.G.ag,e.G.Zf,e.G.cg],p=[e.G.ag,e.G.Zf,e.G.$f],m=[e.G.ag,e.G.bg,
e.G.$f],q=[e.G.Yf,e.G.Zf,e.G.$f],t=[e.G.Yf,e.G.bg,e.G.$f];b=[A.v.Zb(e.nc.Bb,b[0],b[1],b[2]),A.v.Zb(e.nc.Bb,k[0],k[1],k[2]),A.v.Zb(e.nc.Bb,l[0],l[1],l[2]),A.v.Zb(e.nc.Bb,n[0],n[1],n[2]),A.v.Zb(e.nc.Bb,p[0],p[1],p[2]),A.v.Zb(e.nc.Bb,m[0],m[1],m[2]),A.v.Zb(e.nc.Bb,q[0],q[1],q[2]),A.v.Zb(e.nc.Bb,t[0],t[1],t[2])];var k=[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity],s;for(s in b)s=b[s],k=[Math.min(k[0],s.x),Math.max(k[1],s.x),Math.min(k[2],s.y),Math.max(k[3],s.y),Math.min(k[4],s.z),Math.max(k[5],
s.z)];s=k;b=[];k=[];for(l=0;6>l;l++){var n=Math.floor(l/2),p=(n+1)%3,m=(n+2)%3,t=(2+2*n)%6,z=(4+2*n)%6,y=1/a[n]*(s[l]-h[n]);Infinity!=y&&-Infinity!=y&&(q=h[p]+a[p]*y,y=h[m]+a[m]*y,q>=s[t]&&q<=s[t+1]&&y>=s[z]&&y<=s[z+1]?(t=[],t[n]=s[l],t[p]=q,t[m]=y,b.push(t)):(t=[],t[n]=s[l],t[p]=q,t[m]=y,k.push(t)))}a=[b,k];a=a[0];if(0==a.length)return null;k=Array(2);for(s=0;2>s;s++)b=a[s],k[s]=Math.sqrt((b[0]-h[0])*(b[0]-h[0])+(b[1]-h[1])*(b[1]-h[1])+(b[2]-h[2])*(b[2]-h[2]));h=b=s=null;k[0]<k[1]?(s=a[0],b=a[1]):
(s=a[1],b=a[0]);h=Math.sqrt((s[0]-b[0])*(s[0]-b[0])+(s[1]-b[1])*(s[1]-b[1])+(s[2]-b[2])*(s[2]-b[2]));h/=c;a=s;s=[b[0]-s[0],b[1]-s[1],b[2]-s[2]];b=Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);k=[s[0]/b,s[1]/b,s[2]/b];l=e.G.gc;n=l.length;for(s=0;s<h;s+=c)for(a=[a[0]+c*k[0],a[1]+c*k[1],a[2]+c*k[2]],b=0;b<n;b+=3)if(p=l[b],m=l[b+1],q=l[b+2],t=new A.S(p,m,q),t=A.v.Zb(e.nc.Bb,p,m,q),Math.sqrt((a[0]-t.x)*(a[0]-t.x)+(a[1]-t.y)*(a[1]-t.y)+(a[2]-t.z)*(a[2]-t.z))<=d)return[t.x,t.y,t.z];return null};
v("X.renderer3D",Cs);v("X.renderer3D.prototype.init",Cs.prototype.ua);v("X.renderer3D.prototype.add",Cs.prototype.add);v("X.renderer3D.prototype.onShowtime",Cs.prototype.PB);v("X.renderer3D.prototype.onRender",Cs.prototype.LB);v("X.renderer3D.prototype.get",Cs.prototype.get);v("X.renderer3D.prototype.render",Cs.prototype.k);v("X.renderer3D.prototype.destroy",Cs.prototype.qe);v("X.renderer3D.prototype.remove",Cs.prototype.remove);v("X.renderer3D.prototype.resetBoundingBox",Cs.prototype.NL);
v("X.renderer3D.prototype.resetViewAndRender",Cs.prototype.Mo);v("X.renderer3D.prototype.pick",Cs.prototype.bw);v("X.renderer3D.prototype.pick3d",Cs.prototype.BL);function Es(){Cs.call(this)}w(Es,Cs);v("xiv.vis.XtkRenderer3D",Es);f=Es.prototype;f.af=function(){this.Tk()};f.Sk=function(a){Es.d.Sk.call(this,a);this.dispatchEvent({type:"k",value:a.dk})};f.k=function(){this.Ac&&this.b?(Es.d.k.call(this),this.dispatchEvent({type:"l"})):(this.yb.PROGRESSBAR_ENABLED=!1,this.ua())};f.qe=function(){Es.d.qe.call(this)};f.remove=function(a){null!=a&&Es.d.remove.call(this,a)};v("xiv.vis.XtkRenderer3D.prototype.onResize",Es.prototype.af);
v("xiv.vis.XtkRenderer3D.prototype.onProgress",Es.prototype.Sk);v("xiv.vis.XtkRenderer3D.prototype.render",Es.prototype.k);v("xiv.vis.XtkRenderer3D.prototype.remove",Es.prototype.remove);function Fs(){ad.call(this);this.nl=[]}w(Fs,ad);v("xiv.vis.XtkPlane",Fs);var Gs=[-300,300,300];f=Fs.prototype;f.rm=!0;f.ul=null;f.orientation=null;f.Lo=null;f.Da=null;f.Xi=null;f.Ua=function(){return this.Da};f.Xb=function(){return this.orientation};f.is=function(a){null!=this.Da&&(null!=a?(this.lq=a,this.Da.camera.focus=a.focus,this.Da.camera.position=a.position,this.Da.camera.up=a.JM,a instanceof Dp&&(this.Da.camera.view=a.view)):this.Da.camera.position=Gs)};
f.hs=function(a){this.Xi.style.background=null!=a?r(a)?a:null!=a.Ry?"-webkit-linear-gradient(top, "+a.Ry+", "+a.backgroundColor+")":a.backgroundColor:"black"};f.fH=function(){return this.tq};f.bH=function(){return this.Xi};f.bl=function(a){this.Xi=a;null!=this.Da||this.ua(a);this.Da.container=a};f.Wv=function(a){this.dispatchEvent(a)};
f.ua=function(a){null!=this.Da&&(G(this.Da),this.Da.qe(),this.Da=null);if(null==this.ul)throw Error('XtkPlane subclass must have the property "XRenderer" defined.');this.Da=new this.ul;this.Da.orientation=this.orientation;this.bl(a||this.Xi||document.body);this.Da.ua();F(this.Da,"k",function(a){this.dispatchEvent({type:"k",value:a.value})}.bind(this));F(this.Da,"A",this.Wv.bind(this))};f.add=function(a){this.rm&&(!0==a.isSelectedVolume&&(this.tq=a),this.nl.push(a),this.Da.add(a))};f.isEnabled=function(){return this.rm};
function Hs(a){null!=a.Rf&&(R(a.Rf),delete a.Rf)}function Is(a){a.Rf=O("div",{id:"DisabledOverlay_"+B()});a.Rf.className="xiv-vis-xtkplane-disabledoverlay";var b=a.orientation;"V"==a.orientation&&(b="3D");var c=O("div",{id:"DisabledOverlay_"+B()});c.style.display="table-cell";c.style.verticalAlign="middle";c.innerHTML=b+" render plane disabled.";a.Rf.appendChild(c);a.Xi.appendChild(a.Rf)}
f.Mb=function(a){(this.rm=!1!==a)?Ck(this.Rf,200,function(){this.Rf.style.visibility="hidden";Hs(this)}.bind(this)):(null!=this.Rf||Is(this),this.Rf.style.visibility="visible",zk(this.Rf,200,function(){}.bind(this)))};f.restore=function(){this.ua();Js(this);null!=this.lq&&this.is(this.lq);null!=this.oc&&this.hs(this.oc);this.k()};f.KL=function(){D(this.nl,function(a){null!=a&&this.Da.remove(a)}.bind(this))};function Js(a){D(a.nl,function(a){this.Da.add(a)}.bind(a))}f.k=function(){this.rm&&this.Da.k()};
f.o=function(){null!=this.Da&&this.Da.af()};f.g=function(){Fs.d.g.call(this);null!=this.Da&&(this.Da.qe(),delete this.Da);Hs(this);null!=this.oc&&delete this.oc;null!=this.lq&&delete this.lq;null!=this.Lo&&(null!=this.Lo.g&&(this.Lo.stop(),this.Lo.g()),delete this.Lo);delete this.rm;delete this.ul;delete this.Xi;delete this.orientation;tb(this.nl);delete this.tq;delete this.CQ};v("xiv.vis.XtkPlane.DEFAULT_CAMERA_POSITION",Gs);v("xiv.vis.XtkPlane.DEFAULT_BACKGROUND","black");
v("xiv.vis.XtkPlane.prototype.XRenderer",Fs.prototype.ul);v("xiv.vis.XtkPlane.prototype.orientation",Fs.prototype.orientation);v("xiv.vis.XtkPlane.prototype.Renderer",Fs.prototype.Da);v("xiv.vis.XtkPlane.prototype.container",Fs.prototype.Xi);v("xiv.vis.XtkPlane.prototype.getRenderer",Fs.prototype.Ua);v("xiv.vis.XtkPlane.prototype.getOrientation",Fs.prototype.Xb);v("xiv.vis.XtkPlane.prototype.setCamera",Fs.prototype.is);v("xiv.vis.XtkPlane.prototype.setBackground",Fs.prototype.hs);
v("xiv.vis.XtkPlane.prototype.getCurrentVolume",Fs.prototype.fH);v("xiv.vis.XtkPlane.prototype.getContainer",Fs.prototype.bH);v("xiv.vis.XtkPlane.prototype.setContainer",Fs.prototype.bl);v("xiv.vis.XtkPlane.prototype.init",Fs.prototype.ua);v("xiv.vis.XtkPlane.prototype.add",Fs.prototype.add);v("xiv.vis.XtkPlane.prototype.isEnabled",Fs.prototype.isEnabled);v("xiv.vis.XtkPlane.prototype.setEnabled",Fs.prototype.Mb);v("xiv.vis.XtkPlane.prototype.restore",Fs.prototype.restore);
v("xiv.vis.XtkPlane.prototype.removeXObjectsFromRenderer",Fs.prototype.KL);v("xiv.vis.XtkPlane.prototype.render",Fs.prototype.k);v("xiv.vis.XtkPlane.prototype.updateStyle",Fs.prototype.o);v("xiv.vis.XtkPlane.prototype.dispose",Fs.prototype.g);function Ks(){Fs.call(this);this.orientation="V";this.ul=Es}w(Ks,Fs);v("xiv.vis.XtkPlane3D",Ks);v("xiv.vis.XtkPlane3D.DEFAULT_CAMERA_POSITION",[-300,300,300]);function Ls(a){cr.call(this,a);this.Na.C(this.ha());this.Na.If(this.T()-this.ha())}w(Ls,cr);Ls.prototype.$=function(a){return"vertical"==a?"goog-twothumbslider-vertical":"goog-twothumbslider-horizontal"};Ls.prototype.ok=function(a){a=this.O().B("div",a);al(a,"button");return a};
Ls.prototype.oz=function(){var a=Sh(document,null,"goog-twothumbslider-value-thumb",this.a())[0],b=Sh(document,null,"goog-twothumbslider-extent-thumb",this.a())[0],c=Sh(document,null,"goog-twothumbslider-rangehighlight",this.a())[0];a||(a=this.ok("goog-twothumbslider-value-thumb"),this.a().appendChild(a));b||(b=this.ok("goog-twothumbslider-extent-thumb"),this.a().appendChild(b));c||(c=this.O().B("div","goog-twothumbslider-rangehighlight"),this.O().Vu(c,a));this.sa=a;this.tc=b;this.ac=c};function Ms(){Xd.call(this);this.u="fibers";Aa(this,new gd)}w(Ms,Xd);v("X.fibers",Ms);function Ns(){this.Zk=O("div",{id:this.constructor.ID_PREFIX+"_"+B(),"class":this.constructor.ad});vl.call(this,"",this.Zk,!0);M(this.lb,Ns.CSS.SE);this.uf.style.marginTop="-4px";this.lb.style.marginTop="0px";this.lb.style.border="none";this.ZC(!1)}w(Ns,vl);v("nrg.ui.ZippyTree",Ns);var An="C",Os={gN:"B",GE:An};Ns.ID_PREFIX="nrg.ui.ZippyTree";Ns.CSS_SUFFIX={SE:"rootnode"};f=Ns.prototype;f.Mk=1;f.jj=!1;f.wJ=!0;f.dr=1;f.nu=0;f.es=null;f.Qf=null;f.ow=function(a){this.tz=a};
f.qm=function(){return 0===ei(this.uf).length};f.fz=function(){this.wp(function(a){a.ec.ic(!1)},this)};f.Bn=function(){this.fz()};f.Nz=function(){var a=[];this.wp(function(b){a.push(b)},this);return a};f.Hu=function(){var a=[];C(this.Oc,function(b){a.push(b)});return a};function Ps(a,b,c,d){c==d?a.xs.push(b):C(b.Oc,function(a){Ps(this,a,c+1,d)}.bind(a))}f.nA=function(a){this.xs=[];Ps(this,this,0,a);a=Ob(this.xs);Kb(this.xs);delete this.xs;return a};
f.am=function(){this.wp(function(a){a.ec.ic(!0)},this)};f.wp=function(a,b){C(b.Oc,function(b){a(b);this.wp(a,b)}.bind(this))};f.a=function(){return this.Zk};f.ic=function(a,b){return Qs(this,a,b,!0)};function Qs(a,b,c,d){c=null!=c?c:a;if(null!=c.Oc[b]){var e=c.Oc[b],h=e.ec;null!=h.sf?Uc(h,d?"a":"b",function(){h.ig!=d&&e.ic(d)}):e.ic(d);return e}}f.So=function(a,b){return Qs(this,a,b,!1)};f.Iq=function(a){var b=this,c=[];D(a,function(a){c.push(b.Oc[a]);b=b.Oc[a]}.bind(this));return c};
f.rf=function(a,b){!g(a)||ii(a)?Rs(this,a,b):D(a,function(a){this.rf(a,b)}.bind(this))};function Rs(a,b,c){c?(c&&(c=r(c)?[c]:c,c.length>a.Mk&&(a.Mk=c.length)),a.En(c,a,b)):Q(a.Zk,b)}
f.En=function(a,b,c,d){d=null!=d?d:1;b=null!=b?b:this;var e=b.uf;if(0==a.length)Ss(this,b,c),null!=c&&Ts(this,c,d-2);else{0<a.length&&a.length>this.Mk&&(this.Mk=a.length);if(b.Oc[a[0]])e=b.Oc[a[0]];else{var h=a[0];e.style.opacity=this.dr;var k=new vl(h,e,!1);b.lb.parentNode==this.Zk&&2==this.Zk.childNodes.length&&(k.lb.style.marginTop="5px");k.lb.style.left="inherit";k.lb.style.width="inherit";Us(this,k);b.Oc[h]=k;k.lb.style.opacity=this.dr;e.style.opacity=1;this.jj&&Vs(this,k.lb);this.dispatchEvent({type:An,
ze:k});e=k}Ts(this,e.lb,d-1);this.En(1<a.length?a.slice(1):[],e,c,d+1)}};function Ts(a,b,c){null!=b&&b._maxDepth!=a.Mk&&(null==b._maxDepth&&(b._maxDepth=a.Mk),c=0>c?0:c,null!=b._nodeDepth||(b._nodeDepth=c),b.style.width=(100-5*c).toString()+"%",b.style.left=(5*c).toString()+"%")}
f.cs=function(a,b,c,d){b=null!=b?b:0;D(this.Nz(),function(e){F(e,"c",function(){timer=new Yf;timer.setInterval(10);timer.addEventListener(Zf,function(){a.style.height=(S(this.a()).height+b).toString()+"px";null!=c&&c()}.bind(this));timer.start();Uc(e,e.ec.ig?"b":"a",function(){timer.stop();delete timer;null!=c&&c();null!=d&&d()}.bind(this))}.bind(this))}.bind(this))};
function Us(a,b){F(b,"a",function(){this.dispatchEvent({type:"a",ze:b})}.bind(a));F(b,"c",function(){this.dispatchEvent({type:"c",ze:b})}.bind(a));F(b,"b",function(){this.dispatchEvent({type:"b",ze:b})}.bind(a))}function Vs(a,b){(new ek(b,a.nu)).play()}f.CL=function(){this.jj&&!this.Qf.Cf()&&this.Qf.play()};f.GM=function(a){this.dr=(this.jj=!0===a)?0:1;this.nu=this.jj?300:0;this.jj&&(Ws(this),this.es=[],this.Qf=new jk,F(this.Qf,"end",this.dz.bind(this)))};
function Ss(a,b,c){if(null!=c){var d=b.uf;a=function(){tk(c,{position:"relative"});c.style.opacity=0;zk(c,300);null!=this.tz?this.tz(d,c):d.appendChild(c);Xs(d);this.jj?Vs(this,c,function(){this.dispatchEvent({type:"B"})}.bind(this)):this.dispatchEvent({type:"B"})}.bind(a);b.Nu()&&!b.tr&&b.kw(!0);a()}}
function Xs(a){var b=[],c=[],d=ei(a),e=d.length;D(d,function(a){el(a,vl.CSS.Qm)?b.push(a):1==a.childNodes.length&&el(a.childNodes[0],vl.CSS.yh)&&c.push(a)});D(b,function(b,d){di(a,b,e);di(a,c[d],e+1)})}f.dz=function(){for(this.Qf.g();this.es.length;)this.Qf.add(this.es[0]),Ab.splice.call(this.es,0,1);F(this.Qf,"end",this.dz.bind(this));this.Qf.play()};function Ws(a){null!=a.lC&&(a.hu(a.lC),delete a.lC);null!=a.Qf&&(a.xq(a.Qf),delete a.Qf)}
f.f=function(){Ns.d.f.call(this);R(this.Zk);delete this.Zk;Ws(this);delete this.Mk;delete this.jj;delete this.wJ;delete this.dr;delete this.nu};v("nrg.ui.ZippyTree.EventType",Os);v("nrg.ui.ZippyTree.INDENT_PCT",5);v("nrg.ui.ZippyTree.ID_PREFIX",Ns.ID_PREFIX);v("nrg.ui.ZippyTree.CSS_SUFFIX",Ns.CSS_SUFFIX);v("nrg.ui.ZippyTree.FADE_TIME",300);v("nrg.ui.ZippyTree.NODE_DEPTH_KEY","_nodeDepth");v("nrg.ui.ZippyTree.MAX_DEPTH_KEY","_maxDepth");
v("nrg.ui.ZippyTree.folderSorter",function(a,b){if(null!=a.childNodes&&0!=a.childNodes.length)for(var c=ei(a),d=b[wl].toLowerCase(),e,h,k=c.length,l=0;l<k;l++)if(h=c[l],null!=h[wl]&&(e=h[wl].toLowerCase(),e=La(d,e),0>e)){ci(b,h);return}a.appendChild(b)});v("nrg.ui.ZippyTree.prototype.setCustomInsertMethod",Ns.prototype.ow);v("nrg.ui.ZippyTree.prototype.isEmpty",Ns.prototype.qm);v("nrg.ui.ZippyTree.prototype.contractAll",Ns.prototype.fz);v("nrg.ui.ZippyTree.prototype.collapseAll",Ns.prototype.Bn);
v("nrg.ui.ZippyTree.prototype.getAllNodes",Ns.prototype.Nz);v("nrg.ui.ZippyTree.prototype.getTopLevelNodes",Ns.prototype.Hu);v("nrg.ui.ZippyTree.prototype.getNodesByLevel",Ns.prototype.nA);v("nrg.ui.ZippyTree.prototype.expandAll",Ns.prototype.am);v("nrg.ui.ZippyTree.prototype.traverse",Ns.prototype.wp);v("nrg.ui.ZippyTree.prototype.getElement",Ns.prototype.a);v("nrg.ui.ZippyTree.prototype.setExpanded",Ns.prototype.ic);v("nrg.ui.ZippyTree.prototype.setCollapsed",Ns.prototype.So);
v("nrg.ui.ZippyTree.prototype.getFolderNodes",Ns.prototype.Iq);v("nrg.ui.ZippyTree.prototype.addContents",Ns.prototype.rf);v("nrg.ui.ZippyTree.prototype.createBranch",Ns.prototype.En);v("nrg.ui.ZippyTree.prototype.scaleElementOnChange",Ns.prototype.cs);v("nrg.ui.ZippyTree.prototype.playFx",Ns.prototype.CL);v("nrg.ui.ZippyTree.prototype.toggleFadeInFx",Ns.prototype.GM);v("nrg.ui.ZippyTree.prototype.disposeInternal",Ns.prototype.f);function Ys(){}w(Ys,Vn);ga(Ys);Ys.prototype.B=function(a){var b=a.O().B("span",this.Ak(a).join(" "));Zs(this,b,a.Vi);return b};Ys.prototype.Kb=function(a,b){b=Ys.d.Kb.call(this,a,b);var c=dl(b),d=$s;Jb(c,at(this,bt))?d=bt:Jb(c,at(this,ct))?d=ct:Jb(c,at(this,$s))&&(d=$s);a.Vi=d;bl(b,"checked",d==bt?"mixed":d==ct?"true":"false");return b};Ys.prototype.ah=function(){return"checkbox"};
function Zs(a,b,c){if(b){var d=at(a,c);el(b,d)||(C(dt,function(a){a=at(this,a);jl(b,a,a==d)},a),bl(b,"checked",c==bt?"mixed":c==ct?"true":"false"))}}Ys.prototype.$=function(){return"goog-checkbox"};function at(a,b){var c=a.$();if(b==ct)return c+"-checked";if(b==$s)return c+"-unchecked";if(b==bt)return c+"-undetermined";throw Error("Invalid checkbox state: "+b);};function et(a,b,c){c=c||Ys.te();ko.call(this,null,c,b);this.Vi=da(a)?a:$s}w(et,ko);var ct=!0,$s=!1,bt=null,dt={ZM:ct,aP:$s,bP:bt};f=et.prototype;f.ub=null;f.gh=function(){return this.Vi==ct};f.Fd=function(a){a!=this.Vi&&(this.Vi=a,Zs(this.Ua(),this.a(),this.Vi))};f.Jf=function(a){this.ma?(this.Fc(),this.ub=a,this.ib()):this.ub=a};f.toggle=function(){this.Fd(this.Vi?$s:ct)};
f.ib=function(){et.d.ib.call(this);if(this.Hk){var a=this.jb();this.ub&&a.D(this.ub,"click",this.Ju).D(this.ub,"mouseover",this.Ik).D(this.ub,"mouseout",this.Vq).D(this.ub,"mousedown",this.eh).D(this.ub,"mouseup",this.og);a.D(this.a(),"click",this.Ju)}this.ub&&(this.ub.id||(this.ub.id=oj(this)+".lbl"),bl(this.a(),"labelledby",this.ub.id))};f.Mb=function(a){et.d.Mb.call(this,a);if(a=this.a())a.tabIndex=this.isEnabled()?0:-1};
f.Ju=function(a){a.stopPropagation();var b=this.Vi?"uncheck":"check";this.isEnabled()&&!a.target.href&&this.dispatchEvent(b)&&(a.preventDefault(),this.toggle(),this.dispatchEvent("change"))};f.ng=function(a){32==a.keyCode&&this.Ju(a);return!1};Sn("goog-checkbox",function(){return new et});function ft(){Xd.call(this);this.u="mesh";Aa(this,new gd)}w(ft,Xd);v("X.mesh",ft);function gt(){U.call(this);this.Ze=[];this.Lf=[]}w(gt,U);v("xiv.ui.XtkController",gt);gt.ID_PREFIX="xiv.ui.XtkController";gt.CSS_SUFFIX={pE:"label",XD:"component"};var ht=B();function it(){return O("div",{id:"Label_"+B(),"class":gt.CSS.pE})}function jt(a){a=g(a.file)?a.file[0]:a.file||a.name;return Rk(a)}function kt(a,b){b.tC([jt(a)])}f=gt.prototype;f.wj=!1;f.k=function(a){gt.d.k.call(this,a)};f.Jf=function(a){null==this.ub&&(this.ub=it(),Q(this.a(),this.ub));this.ub.innerHTML=a};f.DH=function(){return this.ub};
f.To=function(a){this.defaultValue=a};f.gH=function(){return this.defaultValue};f.tC=function(a){r(a)&&(a=[a]);this.Pn=a};f.sH=function(){return this.Pn};f.Cg=function(a){this.Oa=a};f.Vd=function(){return this.Oa};function lt(a){this.min=parseInt(a.min);this.max=parseInt(a.max);this.jh=parseInt(a.windowLow);this.rj=parseInt(a.windowHigh)}f.mg=function(){return new lt(this.Oa)};
f.Cj=function(a){a=this.ka=a;this.ka instanceof lj?(a=this.ka.a(),this.ka.ma?this.ka.a().parentNode!==this.a()&&this.ka.a()!==this.a()&&this.a().appendChild(this.ka.a()):this.ka.k(this.a())):this.a().appendChild(a);null!=a&&M(a,gt.CSS.XD)};f.Mz=function(){return Nb(this.Ze,this.Lf)};f.MH=function(){return this.Ze};f.bB=function(){return this.wj};f.aM=function(a){this.wj=a};f.pI=function(){return this.Lf};f.$G=function(){return this.ka};f.Cc=fa;
f.yd=function(a,b,c){a=new a;a.k();r(b)&&a.Jf(b);Q(this.a(),a.a());null!=c&&F(a,"D",c);return a};f.refresh=function(){};f.yt=function(a,b){var c=this.yd(b,"Color",function(b){a.color=b.color}.bind(this));kt(a,c);this.Lf.push(c);c[ht]=a;c.refresh()};f.Dy=function(a,b){var c=this.yd(b,"Opacity",function(b){a.opacity=parseFloat(b.value/100)});kt(a,c);this.Lf.push(c);c.ka.o();c.Vo("%")};f.zt=function(a,b){var c=this.yd(b,"Visible",function(b){a.visible=b.checked});kt(a,c);this.Lf.push(c);c.ka.Fd(a.visible)};
f.f=function(){gt.d.f.call(this);this[ht]=null;delete this.wj;delete this.Oa;D(this.Lf,function(a){G(a);a.g()});Kb(this.Lf);delete this.Lf;D(this.Ze,function(a){G(a);a.g();controller=null});Kb(this.Ze);delete this.Ze;null!=this.ka&&(G(this.ka),this.ka instanceof lj?this.ka.g():R(this.ka),delete this.ka);null!=this.Pn&&(Kb(this.Pn),delete this.Pn);null!=this.ub&&(R(this.ub),delete this.ub);delete this.defaultValue};v("xiv.ui.XtkController.ID_PREFIX",gt.ID_PREFIX);
v("xiv.ui.XtkController.CSS_SUFFIX",gt.CSS_SUFFIX);v("xiv.ui.XtkController.EventType",{PD:"D"});v("xiv.ui.XtkController.OBJ_KEY",ht);v("xiv.ui.XtkController.CurrentLevels",lt);v("xiv.ui.XtkController.createLabel",it);v("xiv.ui.XtkController.getXObjLabel",jt);v("xiv.ui.XtkController.getObjectCategory",function(a){if(a instanceof ft)return"Meshes";if(a instanceof J)return"Volumes";if(a instanceof Ms)return"Fibers";if(a instanceof dq)return"Annotations"});
v("xiv.ui.XtkController.setControllerFolders",kt);v("xiv.ui.XtkController.prototype.render",gt.prototype.k);v("xiv.ui.XtkController.prototype.setLabel",gt.prototype.Jf);v("xiv.ui.XtkController.prototype.getLabel",gt.prototype.DH);v("xiv.ui.XtkController.prototype.setDefaultValue",gt.prototype.To);v("xiv.ui.XtkController.prototype.getDefaultValue",gt.prototype.gH);v("xiv.ui.XtkController.prototype.setFolders",gt.prototype.tC);v("xiv.ui.XtkController.prototype.getFolders",gt.prototype.sH);
v("xiv.ui.XtkController.prototype.setXObj",gt.prototype.Cg);v("xiv.ui.XtkController.prototype.getXObj",gt.prototype.Vd);v("xiv.ui.XtkController.prototype.setComponent",gt.prototype.Cj);v("xiv.ui.XtkController.prototype.getAllControllers",gt.prototype.Mz);v("xiv.ui.XtkController.prototype.getMasterControllers",gt.prototype.MH);v("xiv.ui.XtkController.prototype.isInitialized",gt.prototype.bB);v("xiv.ui.XtkController.prototype.setInitialized",gt.prototype.aM);
v("xiv.ui.XtkController.prototype.getCurrentLevels",gt.prototype.mg);v("xiv.ui.XtkController.prototype.getSubControllers",gt.prototype.pI);v("xiv.ui.XtkController.prototype.getComponent",gt.prototype.$G);v("xiv.ui.XtkController.prototype.dispatchComponentEvent",gt.prototype.Cc);v("xiv.ui.XtkController.prototype.createController",gt.prototype.yd);v("xiv.ui.XtkController.prototype.refresh",gt.prototype.refresh);v("xiv.ui.XtkController.prototype.add_colorPalette",gt.prototype.yt);
v("xiv.ui.XtkController.prototype.add_opacity",gt.prototype.Dy);v("xiv.ui.XtkController.prototype.add_visible",gt.prototype.zt);v("xiv.ui.XtkController.prototype.disposeInternal",gt.prototype.f);function mt(a){ad.call(this);this.P=null;this.q=a;a=E||jc&&!qc("531")&&"TEXTAREA"==a.tagName;this.Ec=new hj(this);this.Ec.D(this.q,a?["keydown","paste","cut","drop","input"]:"input",this)}w(mt,ad);
mt.prototype.handleEvent=function(a){if("input"==a.type)E&&qc(10)&&0==a.keyCode&&0==a.charCode||(nt(this),hc&&this.q!=Oh(this.q).activeElement||this.dispatchEvent(ot(a)));else if("keydown"!=a.type||kl(a)){var b="keydown"==a.type?this.q.value:null;E&&229==a.keyCode&&(b=null);var c=ot(a);nt(this);this.P=$f(function(){this.P=null;this.q.value!=b&&this.dispatchEvent(c)},0,this)}};function nt(a){null!=a.P&&(ba.clearTimeout(a.P),a.P=null)}function ot(a){a=new Ic(a.Vc);a.type="input";return a}
mt.prototype.f=function(){mt.d.f.call(this);this.Ec.g();nt(this);delete this.q};function pt(a,b,c){lj.call(this,a);qt(this,b||"#f00");this.className=c||"goog-hsv-palette";this.la=wi(this.O())}w(pt,lj);f=pt.prototype;f.ls=function(a){a!=this.Tl&&(qt(this,a),rt(this),this.dispatchEvent("action"))};function qt(a,b){var c=Nj(b).qj,d=Tj(c),e=d[0],h=d[1],k=d[2],d=Math.max(Math.max(e,h),k),l=Math.min(Math.min(e,h),k);if(l==d)l=e=0;else{var n=d-l,l=n/d,e=60*(e==d?(h-k)/n:h==d?2+(k-e)/n:4+(e-h)/n);0>e&&(e+=360);360<e&&(e-=360)}a.md=[e,l,d];a.md[0]/=360;a.Tl=c}
function st(a,b,c,d){if(null!=b||null!=c||null!=d)a.md[0]=null!=b?b:a.md[0],a.md[1]=null!=c?c:a.md[1],a.md[2]=null!=d?d:a.md[2],b=[360*a.md[0],a.md[1],a.md[2]],b=Vj(b[0],b[1],b[2]),a.Tl=b,rt(a),a.dispatchEvent("action")}f.Re=function(){return!1};
f.B=function(){var a=this.O(),b=E&&!qc("7")?" "+(this.className+"-noalpha"):"",c=a.B("DIV",this.className+"-hs-backdrop");this.nm=a.B("DIV",this.className+"-hs-handle");this.tj=a.B("DIV",this.className+"-hs-image",this.nm);this.ll=a.B("DIV",this.className+"-v-image");this.Ap=a.B("DIV",this.className+"-v-handle");this.ws=a.B("DIV",this.className+"-swatch");this.Kk=a.B("input",{"class":this.className+"-input",type:"text",dir:"ltr"});var d=a.B("label",null,this.Kk);this.q=a.B("DIV",this.className+b,
c,this.tj,this.ll,this.Ap,this.ws,d)};f.ib=function(){pt.d.ib.call(this);rt(this);var a=this.jb();a.D(this.a(),"mousedown",this.eh);this.io||(this.io=new mt(this.Kk));a.D(this.io,"input",this.UI)};f.f=function(){pt.d.f.call(this);delete this.tj;delete this.nm;delete this.ll;delete this.Ap;delete this.ws;delete this.Kk;this.io&&(this.io.g(),delete this.io);Wc(this.wv);Wc(this.xv)};
function rt(a){if(a.ma){var b=a.md[1],c=a.md[2],d=a.tj.offsetWidth*a.md[0];a.We()&&(d=a.tj.offsetWidth-d);var e=Math.ceil(a.nm.offsetWidth/2),d=d-e,b=a.tj.offsetHeight*(1-b),b=b-Math.ceil(a.nm.offsetHeight/2),e=a.nm,h=a.We();null!==b&&(e.style.top=b+"px");h?(e.style.right=d+"px",e.style.left=""):(e.style.left=d+"px",e.style.right="");b=a.ll.offsetTop-Math.floor(a.Ap.offsetHeight/2)+(255-c)/255*a.ll.offsetHeight;a.Ap.style.top=b+"px";Xi(a.tj,c/255);Ai(a.ll,"background-color",Vj(360*a.md[0],a.md[1],
255));Ai(a.ws,"background-color",a.Tl);Ai(a.ws,"color",127.5<a.md[2]?"#000":"#fff");var k;try{k=Nj(a.Kk.value).qj}catch(l){}a.Tl!=k&&(a.Kk.value=a.Tl)}}f.eh=function(a){if(a.target==this.ll||a.target==this.Ap){var b=Wi(this.ll);this.IA(b,a);this.wv=F(this.la,"mousemove",ua(this.IA,this,b));this.xv=F(this.la,"mouseup",this.og,!1,this)}else if(a.target==this.tj||a.target==this.nm)b=Wi(this.tj),this.HA(b,a),this.wv=F(this.la,"mousemove",ua(this.HA,this,b)),this.xv=F(this.la,"mouseup",this.og,!1,this)};
f.IA=function(a,b){b.preventDefault();var c=zi(this.O()),c=Math.min(Math.max(c.y+b.clientY,a.top),a.top+a.height),c=Math.round(255*(a.top+a.height-c)/a.height);st(this,null,null,c)};f.HA=function(a,b){b.preventDefault();var c=zi(this.O()),d=(Math.min(Math.max(c.x+b.clientX,a.left),a.left+a.width)-a.left)/a.width,c=(-Math.min(Math.max(c.y+b.clientY,a.top),a.top+a.height)+a.top+a.height)/a.height;st(this,d,c,null)};f.og=function(){Wc(this.wv);Wc(this.xv)};
f.UI=function(){/^#?[0-9a-f]{6}$/i.test(this.Kk.value)&&this.ls(this.Kk.value)};function tt(){gt.call(this);this.Jf("Color");this.Wi=new pt;this.Wi.k();F(this.Wi,"action",this.Cc.bind(this));M(this.Wi.a(),this.constructor.CSS.VD);this.Cn=O("div",{id:this.constructor.ID_PREFIX+"_ColorPaletteHolder_"+B(),"class":tt.CSS.WD});Q(this.Cn,this.Wi.a());O("div",{id:this.constructor.ID_PREFIX+"_ColorPalette_"+B(),"class":tt.CSS.lN});this.a().appendChild(this.Cn);this.Cj(this.Cn)}w(tt,gt);v("xiv.ui.ColorPaletteController",tt);tt.ID_PREFIX="xiv.ui.ColorPaletteController";
tt.CSS_SUFFIX={cN:"colorsquare",WD:"colorpaletteholder",VD:"colorpalette",Mj:"closebutton"};tt.prototype.refresh=function(){var a=Math.floor(255*this[ht].color[0]),b=Math.floor(255*this[ht].color[1]),c=Math.floor(255*this[ht].color[2]),a=Math.min(255,Math.max(0,a)),b=Math.min(255,Math.max(0,b)),c=Math.min(255,Math.max(0,c));this.Wi.ls(Rj([a,b,c]))};tt.prototype.Cc=function(a){this.dispatchEvent({type:"D",color:Tj(a.target.Tl).map(function(a){return a/255})})};
tt.prototype.f=function(){tt.d.f.call(this);G(this.Wi);this.Wi.g();delete this.Wi;R(this.Cn);delete this.Cn};v("xiv.ui.ColorPaletteController.ID_PREFIX",tt.ID_PREFIX);v("xiv.ui.ColorPaletteController.CSS_SUFFIX",tt.CSS_SUFFIX);v("xiv.ui.ColorPaletteController.PANEL_MARGIN_X",20);v("xiv.ui.ColorPaletteController.PANEL_MARGIN_Y",20);v("xiv.ui.ColorPaletteController.prototype.refresh",tt.prototype.refresh);v("xiv.ui.ColorPaletteController.prototype.dispatchComponentEvent",tt.prototype.Cc);
v("xiv.ui.ColorPaletteController.prototype.disposeInternal",tt.prototype.f);function ut(){gt.call(this);this.Jf("Display All");this.zn=O("div",{id:"CheckboxHodler_"+B()});M(this.zn,ut.CSS.QD);this.kk=new et(!0);this.kk.Kb(this.zn);this.Cj(this.kk);F(this.kk,"change",this.Ev.bind(this))}w(ut,gt);v("xiv.ui.CheckboxController",ut);ut.ID_PREFIX="xiv.ui.CheckboxController";ut.CSS_SUFFIX={QD:"checkboxholder"};f=ut.prototype;f.refresh=function(){this.Fd(this.ka.gh())};f.Fd=function(a){this.ka.Fd(a)};f.Ev=function(){this.Cc()};f.Cc=function(){this.dispatchEvent({type:"D",checked:this.kk.gh()})};
f.YG=function(){return this.zn};f.f=function(){ut.d.f.call(this);R(this.zn);delete this.zn;G(this.kk);this.kk.g();delete this.kk};v("xiv.ui.CheckboxController.ID_PREFIX",ut.ID_PREFIX);v("xiv.ui.CheckboxController.CSS_SUFFIX",ut.CSS_SUFFIX);v("xiv.ui.CheckboxController.prototype.setChecked",ut.prototype.Fd);v("xiv.ui.CheckboxController.prototype.refresh",ut.prototype.refresh);v("xiv.ui.CheckboxController.prototype.getCheckboxHolder",ut.prototype.YG);
v("xiv.ui.CheckboxController.prototype.dispatchComponentEvent",ut.prototype.Cc);v("xiv.ui.CheckboxController.prototype.disposeInternal",ut.prototype.f);function vt(){gt.call(this);this.Jf("Slider")}w(vt,gt);v("xiv.ui.SliderBase",vt);vt.ID_PREFIX="xiv.ui.SliderBase";vt.CSS_SUFFIX={ia:"slider",Kg:"slider-thumb",Ex:"slider-thumb-hover",Eh:"slider-track",EO:"slider-track-hover",hF:"valueinput",jF:"valueinput-display",iF:"valueinput-box"};f=vt.prototype;f.wq=0;f.ta=null;f.s=null;f.Uo=function(a){this.wq=a};f.Vo=function(a){this.ta.Vo(a)};f.k=function(a){vt.d.k.call(this,a);this.Yt();this.ta=this.Xt(this.pL.bind(this))};
f.Yt=function(){this.s=new ur;this.Cj(this.s);this.s.Kc(1);this.s.Nb(0);this.s.Gb(100);this.s.C(100);M(this.s.a(),vt.CSS.ia);M(this.s.Nf,vt.CSS.Kg);M(this.s.uh,vt.CSS.Eh);F(this.s,"u",this.Cc.bind(this));this.s.a().style.zIndex=0};f.Xt=function(a){var b=new up;b.k(this.a());M(b.a(),vt.CSS.hF);M(b.Dc,vt.CSS.jF);M(b.da,vt.CSS.iF);F(b,"h",a);return b};
f.pL=function(a){window.console.log("INPUT",a);window.console.log(this.ta.Cd());window.console.log(this.ta.T());window.console.log(this.ta.ha());window.console.log(this.ta.w());a=parseFloat(this.ta.w());a=id(a,this.s.ha(),this.s.T());this.ta.C(a);this.s.C(a)};f.AI=function(){return this.ta};f.C=function(a){this.s.C(a);this.ta.Mb(!1);this.ta.C(a);this.ta.Mb(!0)};f.Gb=function(a){null!=this.ta&&this.ta.Gb(a);this.s.Gb(a);this.refresh()};f.Kc=function(a){null!=this.ta&&this.ta.Kc(a);this.s.Kc(a);this.refresh()};
f.Nb=function(a){null!=this.ta&&this.ta.Nb(a);this.s.Nb(a);this.refresh()};f.w=function(){return this.s.w()};f.T=function(){return this.s.T()};f.Cd=function(){return this.s.Cd()};f.ha=function(){return this.s.ha()};f.Cc=function(){var a=this.s.w().toFixed(this.wq),b=this.s.pA();null!=this.ta&&this.ta.C(a);this.dispatchEvent({type:"D",value:a,VJ:this.s.ha(),PJ:this.s.T(),yQ:b})};
f.pp=function(a){null!=a&&(this.s.Cd()!=a.Cd()&&a.Kc(this.s.Cd()),this.s.ha()!=a.ha()&&a.Nb(this.s.ha()),this.s.T()!=a.T()&&a.Gb(this.s.T()),this.s.w()!=a.w()&&a.C(this.s.w()))};f.refresh=function(){var a=this.s.w();this.s instanceof U&&this.s.o();this.s.C(0);this.s.C(a);this.pp(this.ta)};f.f=function(){vt.d.f.call(this);delete this.wq;null!=this.s&&(this.s.g(),delete this.s);null!=this.ta&&(this.ta.g(),delete this.ta)};v("xiv.ui.SliderBase.ID_PREFIX",vt.ID_PREFIX);
v("xiv.ui.SliderBase.CSS_SUFFIX",vt.CSS_SUFFIX);v("xiv.ui.SliderBase.prototype.slider",vt.prototype.s);v("xiv.ui.SliderBase.prototype.displayDecimals",vt.prototype.wq);v("xiv.ui.SliderBase.prototype.valueInput",vt.prototype.ta);v("xiv.ui.SliderBase.prototype.createSlider",vt.prototype.Yt);v("xiv.ui.SliderBase.prototype.createInputBox",vt.prototype.Xt);v("xiv.ui.SliderBase.prototype.dispatchComponentEvent",vt.prototype.Cc);v("xiv.ui.SliderBase.prototype.syncInputToSlider",vt.prototype.pp);
v("xiv.ui.SliderBase.prototype.setDisplayDecimals",vt.prototype.Uo);v("xiv.ui.SliderBase.prototype.render",vt.prototype.k);v("xiv.ui.SliderBase.prototype.getValueInput",vt.prototype.AI);v("xiv.ui.SliderBase.prototype.setValue",vt.prototype.C);v("xiv.ui.SliderBase.prototype.setStep",vt.prototype.Kc);v("xiv.ui.SliderBase.prototype.setMaximum",vt.prototype.Gb);v("xiv.ui.SliderBase.prototype.setMinumum",vt.prototype.Nb);v("xiv.ui.SliderBase.prototype.getValue",vt.prototype.w);
v("xiv.ui.SliderBase.prototype.getStep",vt.prototype.Cd);v("xiv.ui.SliderBase.prototype.getMaximum",vt.prototype.T);v("xiv.ui.SliderBase.prototype.getMinumum",vt.prototype.ha);v("xiv.ui.SliderBase.prototype.refresh",vt.prototype.refresh);v("xiv.ui.SliderBase.prototype.setDisplaySuffix",vt.prototype.Vo);v("xiv.ui.SliderBase.prototype.disposeInternal",vt.prototype.f);function wt(){vt.call(this);this.Jf("Master Opacity")}w(wt,vt);v("xiv.ui.SliderController",wt);wt.ID_PREFIX="xiv.ui.SliderController";v("xiv.ui.SliderController.ID_PREFIX",wt.ID_PREFIX);function xt(){vt.call(this);this.Jf("TwoThumb")}w(xt,vt);v("xiv.ui.TwoThumbSliderController",xt);xt.ID_PREFIX="xiv.ui.TwoThumbSliderController";xt.CSS_SUFFIX={ia:"slider",Eh:"slider-track",Kg:"slider-thumb",XE:"slider-thumb-extent",oN:"extent-input"};f=xt.prototype;f.Ud=null;f.k=function(a){xt.d.k.call(this,a);this.ta.pC("left");this.Ud=this.Xt(this.tK.bind(this))};f.lH=function(){return this.Ud};
f.Yt=function(){this.s=new Ls;this.s.B();var a=this.s.a();a.setAttribute("id","ThresholdSlider_"+B());M(a,vt.CSS.ia);M(a,xt.CSS.ia);var b=O("div",{id:"ThwoThumbSlider_track_"+B(),"class":vt.CSS.Eh});a.appendChild(b);M(b,xt.CSS.Eh);this.Cj(this.s);M(this.s.sa,vt.CSS.Kg);M(this.s.sa,xt.CSS.Kg);M(this.s.sa,xt.CSS.DO);vk(this.s.sa,vt.CSS.Ex);M(this.s.tc,vt.CSS.Kg);M(this.s.tc,xt.CSS.Kg);M(this.s.tc,xt.CSS.XE);vk(this.s.tc,vt.CSS.Ex);F(this.s,"change",this.Cc.bind(this))};
f.refresh=function(){xt.d.refresh.call(this);null!=this.Ud&&this.pp(this.Ud);var a=this.Vd(),b=parseInt(a.min),c=parseInt(a.max);if(null!=a){if(b!=this.s.ha()||c!=this.s.T())this.s.Nb(b),this.s.Gb(c),this.s.Ej(c-b),this.s.C(b),this.s.Kc(1);b=S(this.s.sa).width;a=this.s.T()-this.s.ha();c=S(this.s.a()).width-b;b=c*((this.s.w()-this.s.ha())/a);a=c*(this.s.Ad()/a);this.s.sa.style.left=b.toString()+"px";this.s.tc.style.left=a.toString()+"px"}};
f.pp=function(a){xt.d.pp.call(this,a);null!=this.Ud&&a==this.Ud&&this.Ud.C(this.s.Ad()+this.s.w())};f.Ej=function(a,b){this.s.Ej(a,b)};f.If=function(a){this.s.If(a)};f.Ad=function(){return this.s.Ad()};f.tK=function(){var a=parseInt(this.Ud.w());this.s.If(a-this.s.w())};f.Cc=function(){var a=this.s.w(),b=this.s.Ad()+a;this.ta.C(a);this.Ud.C(b);this.dispatchEvent({type:"D",lower:a,upper:b})};
f.f=function(){null!=this.s&&(G(this.s),null==this.s.Na&&(this.s.Na=new mq),this.s.g(),delete this.s);xt.d.f.call(this);null!=this.Ud&&(this.Ud.g(),delete this.Ud)};v("xiv.ui.TwoThumbSliderController.ID_PREFIX",xt.ID_PREFIX);v("xiv.ui.TwoThumbSliderController.CSS_SUFFIX",xt.CSS_SUFFIX);v("xiv.ui.TwoThumbSliderController.prototype.refresh",xt.prototype.refresh);v("xiv.ui.TwoThumbSliderController.prototype.extentInput",xt.prototype.Ud);v("xiv.ui.TwoThumbSliderController.prototype.getExtentInput",xt.prototype.lH);
v("xiv.ui.TwoThumbSliderController.prototype.setValueAndExtent",xt.prototype.Ej);v("xiv.ui.TwoThumbSliderController.prototype.setExtent",xt.prototype.If);v("xiv.ui.TwoThumbSliderController.prototype.getExtent",xt.prototype.Ad);v("xiv.ui.TwoThumbSliderController.prototype.dispatchComponentEvent",xt.prototype.Cc);v("xiv.ui.TwoThumbSliderController.prototype.disposeInternal",xt.prototype.f);function yt(){gt.call(this);this.Kj=[]}w(yt,gt);v("xiv.ui.MasterController3D",yt);yt.ID_PREFIX="xiv.ui.MasterController3D";yt.CSS_SUFFIX={};yt.prototype.add=function(a){this.Kj.push(a);this.Dy(a,wt);1==this.Kj.length&&Q(document.body,this.a())};yt.prototype.f=function(){yt.d.f.call(this);Kb(this.Kj);delete this.Kj};v("xiv.ui.MasterController3D.ID_PREFIX",yt.ID_PREFIX);v("xiv.ui.MasterController3D.CSS_SUFFIX",yt.CSS_SUFFIX);v("xiv.ui.MasterController3D.CONTROLLERS",{rP:"Visible",dO:"Opacity"});
v("xiv.ui.MasterController3D.prototype.add",yt.prototype.add);v("xiv.ui.MasterController3D.prototype.disposeInternal",yt.prototype.f);function zt(){yt.call(this)}w(zt,yt);v("xiv.ui.AnnotationsController3D",zt);zt.ID_PREFIX="xiv.ui.AnnotationsController3D";zt.CSS_SUFFIX={};zt.prototype.add=function(a){zt.d.add.call(this,a);this.zt(a,ut);this.yt(a,tt)};v("xiv.ui.AnnotationsController3D.ID_PREFIX",zt.ID_PREFIX);v("xiv.ui.AnnotationsController3D.CSS_SUFFIX",zt.CSS_SUFFIX);v("xiv.ui.AnnotationsController3D.prototype.add",zt.prototype.add);function At(){gt.call(this);this.Cj(O("input",{id:this.constructor.ID_PREFIX+"_RadioButtonHolder_"+B(),type:"radio"}));M(this.ka,At.CSS.OE);F(this.ka,"change",this.Cc.bind(this))}w(At,gt);v("xiv.ui.RadioButtonController",At);At.ID_PREFIX="xiv.ui.RadioButtonController";At.CSS_SUFFIX={OE:"radiobutton"};At.prototype.Cc=function(){this.dispatchEvent({type:"D",checked:this.ka.checked})};At.prototype.f=function(){At.d.f.call(this)};v("xiv.ui.RadioButtonController.ID_PREFIX",At.ID_PREFIX);
v("xiv.ui.RadioButtonController.CSS_SUFFIX",At.CSS_SUFFIX);v("xiv.ui.RadioButtonController.prototype.dispatchComponentEvent",At.prototype.Cc);v("xiv.ui.RadioButtonController.prototype.disposeInternal",At.prototype.f);function Bt(){gt.call(this);this.nl=[]}w(Bt,gt);v("xiv.ui.MasterController2D",Bt);Bt.ID_PREFIX="xiv.ui.MasterController2D";Bt.CSS_SUFFIX={};Bt.prototype.add=function(){};Bt.prototype.f=function(){Bt.d.f.call(this);Kb(this.nl);delete this.nl};v("xiv.ui.MasterController2D.ID_PREFIX",Bt.ID_PREFIX);v("xiv.ui.MasterController2D.CSS_SUFFIX",Bt.CSS_SUFFIX);v("xiv.ui.MasterController2D.prototype.add",Bt.prototype.add);v("xiv.ui.MasterController2D.prototype.disposeInternal",Bt.prototype.f);function Ct(){yt.call(this)}w(Ct,yt);v("xiv.ui.VolumeController3D",Ct);Ct.ID_PREFIX="xiv.ui.VolumeController3D";Ct.CSS_SUFFIX={};f=Ct.prototype;f.Gy=function(a){var b=this.yd(ut,"Volume Rendering",function(b){a.volumeRendering=b.checked});kt(a,b);this.Lf.push(b);b.ka.Fd(!1)};f.XK=function(a){null!=this.qp&&(this.qp.Vd().lowerThreshold=parseFloat(a.lower),this.qp.Vd().upperThreshold=parseFloat(a.upper))};f.qp=null;
f.Ey=function(a){var b=this.yd(xt,"Threshold",this.XK.bind(this));b.Cg(a);kt(a,b);this.Lf.push(b);var c=a.lowerThreshold,d=a.upperThreshold;-Infinity==c&&(c=-1E4,a.lowerThreshold=c);Infinity==a.upperThreshold&&(d=1E4,a.upperThreshold=d);var e=b.ka;e.Nb(c);e.Gb(d);e.Ej(d-c);e.C(c);e.Kc(1);e.If(d-c);a.upperThreshold=d;a.lowerThreshold=c;e.a().style.top="8px";b.ta.a().style.top="-1px";b.Ud.a().style.top="-1px";b.ta.a().style.left="calc(100% - 112px)";b.ta.Dc.style.textAlign="left";b.ta.da.style.textAlign=
"left";this.qp=b};f.add=function(a){Ct.d.add.call(this,a);this.Gy(a);this.Ey(a)};f.o=function(){Ct.d.o.call(this)};f.f=function(){Ct.d.f.call(this);this.qp.g()};v("xiv.ui.VolumeController3D.ID_PREFIX",Ct.ID_PREFIX);v("xiv.ui.VolumeController3D.DEFAULT_THRESHOLD",1E4);v("xiv.ui.VolumeController3D.CSS_SUFFIX",Ct.CSS_SUFFIX);v("xiv.ui.VolumeController3D.prototype.add_volumeRendering",Ct.prototype.Gy);v("xiv.ui.VolumeController3D.prototype.add_threshold",Ct.prototype.Ey);
v("xiv.ui.VolumeController3D.prototype.add",Ct.prototype.add);v("xiv.ui.VolumeController3D.prototype.updateStyle",Ct.prototype.o);v("xiv.ui.VolumeController3D.prototype.disposeInternal",Ct.prototype.f);function Dt(){yt.call(this)}w(Dt,yt);v("xiv.ui.MeshController3D",Dt);Dt.ID_PREFIX="xiv.ui.MeshController3D";Dt.CSS_SUFFIX={};Dt.prototype.add=function(a){Dt.d.add.call(this,a);this.zt(a,ut);this.yt(a,tt)};v("xiv.ui.MeshController3D.ID_PREFIX",Dt.ID_PREFIX);v("xiv.ui.MeshController3D.CSS_SUFFIX",Dt.CSS_SUFFIX);v("xiv.ui.MeshController3D.prototype.add",Dt.prototype.add);v("xiv.ui.MeshController3D.prototype.disposeInternal",Dt.prototype.f);function Et(){gt.call(this)}w(Et,gt);v("xiv.ui.Histogram",Et);Et.ID_PREFIX="xiv.ui.Histogram";Et.CSS_SUFFIX={OD:"canvas",rE:"linecanvas",wE:"max",DE:"min",SD:"clipmax",TD:"clipmin"};Et.LEVEL_CUTOFF=.999;f=Et.prototype;f.Ia=null;f.Yc=null;f.vp=null;f.Bs=null;f.xr=null;f.lG="rgb(40,40,40)";f.Ic=[null,null];f.gg=[null,null];f.fJ="rgb(90,90,90)";f.Om=[0,1E3];f.jd=[0,1E3];f.Ot=!1;f.UC=function(a,b){this.Om[0]=a;this.Om[1]=b};
f.nw=function(a,b){if(this.Ot)this.jd[0]=a,this.jd[1]=b;else{var c=this.mg();this.jd[0]=c.min;this.jd[1]=c.max}};f.TC=function(a,b){this.UC(a,b);this.nw(a,b)};
f.k=function(a){Et.d.k.call(this,a);this.Cj(this);this.Rh=O("canvas",{id:this.constructor.ID_PREFIX+"_Canvas_"+B(),"class":this.constructor.CSS.OD});this.a().appendChild(this.Rh);this.Yi=this.Rh.getContext("2d");this.Yi.fillStyle=this.lG;this.gi=O("canvas",{id:this.constructor.ID_PREFIX+"_LineCanvas_"+B(),"class":this.constructor.CSS.rE});this.a().appendChild(this.gi);this.sg=this.gi.getContext("2d");this.Ic[0]=O("div",{id:this.constructor.ID_PREFIX+"_Min_"+B(),"class":this.constructor.CSS.DE},"-1000");
this.a().appendChild(this.Ic[0]);this.Ic[1]=O("div",{id:this.constructor.ID_PREFIX+"_Max_"+B(),"class":this.constructor.CSS.wE},"1000");this.a().appendChild(this.Ic[1]);this.gg[0]=O("div",{id:this.constructor.ID_PREFIX+"_Min_"+B(),"class":this.constructor.CSS.TD},"-1000");this.a().appendChild(this.gg[0]);this.gg[1]=O("div",{id:this.constructor.ID_PREFIX+"_Max_"+B(),"class":this.constructor.CSS.SD},"1000");this.a().appendChild(this.gg[1])};f.Vd=function(){return Et.d.Vd.call(this)};
f.az=function(a){this.Ot=a;!1==a&&this.nw(null,null)};function Ft(a){if(null==a.Ia){var b=a.Vd(),c=b.max;D(b.image,function(a){D(a,function(a){D(a,function(a){if(null==this.Ia){this.Ia=[];for(var b=0,b=0;b<=c;b++)this.Ia.push(0)}this.Ia[parseInt(a)]++;this.Bs++}.bind(this))}.bind(this))}.bind(a));if(null!=a.Ia){var d,e=0;a.vp=Rb(a.Ia.length);null==a.Yc&&(a.Yc=[],a.xr=0,D(a.Ia,function(a,b){d=a/this.Bs;this.Yc.push(d);e+=d;this.vp[b]=e;this.xr=Math.max(this.xr,d)}.bind(a)))}}}
f.Cz=function(){if(null!=this.Vd()){var a=S(this.Rh),b=a.width,a=a.height;if(0!=b&&0!=a&&(this.Rh.height=a,this.Rh.width=b,this.gi.height=a,this.gi.width=b,Ft(this),null!=this.Ia)){for(var c=0,d=this.Om[0];d<this.Om[1]+1;d++)this.Yc[d]>c&&(c=this.Yc[d]);for(var e=[],d=this.jd[0];d<this.jd[1]+1;d++)e.push(this.Yc[d]/c);for(var b=(b-0)/(this.jd[1]-this.jd[0]),c=1>b?1:Math.round(b),h=0,k=0,l=e.length,d=0;d<l;d++)h=Math.round(a*e[d]),k=Math.round(d*b),isNaN(h)||null==h||(this.Yi.fillStyle=this.fJ,this.Yi.fillRect(c*
k,a,c,-h))}}};f.CA=function(){var a=Math.round(.1*this.Yc.length),b=Math.round(.9*this.Yc.length),c,d=0;for(c=1;c<a;c++)this.Yc[c]>d&&(d=c);var e=this.Yc[d],h=d;for(c=d+1;c<a;c++)this.Yc[c]<e&&(h=c,e=this.Yc[c]);d=this.Yc[a];e=0;for(c=a+1;c<b;c++)this.Yc[c]<d&&(e=c,d=this.Yc[c]);return[h,e]};f.hA=function(a){if(null!=this.Ia)for(var b=0,c=0,d=this.Ia.length;c<d;c++)if(b+=this.Ia[c],b/this.Bs>=a)return c};
f.Dz=function(){if(null!=this.Vd()){var a=S(this.gi),b=a.width,a=a.height;this.gi.width=b;var c=this.mg(),d=(b-0)/(this.jd[1]-this.jd[0]),e=-1*this.jd[0]*d,h=c.jh*d+e,c=c.rj*d+e,k=this.jd[0]*d+e,d=this.jd[1]*d+e,l=(a-0)/(c-h),e=-1*h*l,n=k*l+e,e=d*l+e;this.Ic[0].style.width="auto";this.Ic[1].style.width="auto";var p=new rk(this.a()),l=p.left,p=p.right;this.Ic[0].style.left=h.toString()+"px";h=wk(this.Ic[0],l,p);this.Ic[1].style.left=c.toString()+"px";var m=wk(this.Ic[1],l,p);h.right+5>m.left&&(this.Ic[0].innerHTML+=
", "+this.Ic[1].innerHTML,this.Ic[1].innerHTML="",wk(this.Ic[0],l,p));h=new rk(this.Rh);this.gg[0].style.left=h.left.toString()+"px";this.gg[1].style.left=(h.right-S(this.gg[1]).width).toString()+"px";this.sg.beginPath();this.sg.strokeStyle="black";this.sg.moveTo(k,a-n);this.sg.lineTo(d,a-e);this.sg.lineWidth=.5;this.sg.stroke();0<c&&c<b&&(this.sg.moveTo(c,a),this.sg.lineTo(c,a-15),this.sg.lineWidth=.5,this.sg.stroke())}};
f.refresh=function(){if(null!=this.Vd()){var a=this.mg();this.Ic[0].innerHTML="Min: "+a.jh;this.Ic[1].innerHTML="Max: "+a.rj;this.gg[0].innerHTML=this.jd[0];this.gg[1].innerHTML=this.jd[1]}this.Cz();this.Dz()};
f.f=function(){Et.d.f.call(this);this.Ic=[null,null];delete this.Ic;this.gg=[null,null];delete this.gg;null!=this.Rh&&(R(this.Rh),delete this.Rh);null!=this.gi&&(R(this.gi),delete this.gi);null!=this.Ia&&(Kb(this.Ia),delete this.Ia);null!=this.Yc&&(Kb(this.Yc),delete this.Yc);null!=this.vp&&(Kb(this.vp),delete this.vp);delete this.Bs;delete this.xr;delete this.Yi;delete this.sg;Kb(this.Om);delete this.Om;Kb(this.jd);delete this.jd;delete this.Ot};v("xiv.ui.Histogram.EventType",{});
v("xiv.ui.Histogram.ID_PREFIX",Et.ID_PREFIX);v("xiv.ui.Histogram.CSS_SUFFIX",Et.CSS_SUFFIX);v("xiv.ui.Histogram.LEVEL_CUTOFF",Et.LEVEL_CUTOFF);v("xiv.ui.Histogram.prototype.render",Et.prototype.k);v("xiv.ui.Histogram.prototype.draw",Et.prototype.Cz);v("xiv.ui.Histogram.prototype.drawLine",Et.prototype.Dz);v("xiv.ui.Histogram.prototype.clipToZoom",Et.prototype.az);v("xiv.ui.Histogram.prototype.setZoomRange",Et.prototype.UC);v("xiv.ui.Histogram.prototype.setClipRange",Et.prototype.nw);
v("xiv.ui.Histogram.prototype.setZoomAndClipRange",Et.prototype.TC);v("xiv.ui.Histogram.prototype.getLevelByPixelThreshold",Et.prototype.hA);v("xiv.ui.Histogram.prototype.getVisiblePixelRange",Et.prototype.CA);v("xiv.ui.Histogram.prototype.refresh",Et.prototype.refresh);v("xiv.ui.Histogram.prototype.disposeInternal",Et.prototype.f);function Gt(){gt.call(this);this.Ui=new dp("Reset");this.Cj(this.Ui);M(this.Ui.a(),"xiv-ui-buttoncontroller-element");F(this.Ui.a(),"click",this.Cc.bind(this))}w(Gt,gt);v("xiv.ui.ButtonController",Gt);Gt.ID_PREFIX="xiv.ui.ButtonController";Gt.CSS_SUFFIX={};Gt.prototype.Cc=function(){this.dispatchEvent({type:"D",checked:this.Ui.gh()})};Gt.prototype.f=function(){Gt.d.f.call(this);G(this.Ui);G(this.Ui.a());this.Ui.g();delete this.Ui};v("xiv.ui.ButtonController.ID_PREFIX",Gt.ID_PREFIX);
v("xiv.ui.ButtonController.CSS_SUFFIX",Gt.CSS_SUFFIX);v("xiv.ui.ButtonController.prototype.dispatchComponentEvent",Gt.prototype.Cc);v("xiv.ui.ButtonController.prototype.disposeInternal",Gt.prototype.f);function Ht(){gt.call(this);this.Kj=[]}w(Ht,gt);v("xiv.ui.MasterController",Ht);Ht.ID_PREFIX="xiv.ui.MasterController";Ht.CSS_SUFFIX={};Ht.prototype.add=function(a){this.Kj.push(a)};Ht.prototype.f=function(){Ht.d.f.call(this);Kb(this.Kj);delete this.Kj};v("xiv.ui.MasterController.ID_PREFIX",Ht.ID_PREFIX);v("xiv.ui.MasterController.CSS_SUFFIX",Ht.CSS_SUFFIX);v("xiv.ui.MasterController.CONTROLLERS",{});v("xiv.ui.MasterController.prototype.add",Ht.prototype.add);
v("xiv.ui.MasterController.prototype.disposeInternal",Ht.prototype.f);function It(){Ht.call(this);this.n={min:null,max:null,Ti:null,Vg:null,zf:null,Yb:null,reset:null,OQ:null,oe:null,hp:[]}}w(It,Ht);v("xiv.ui.LevelsController",It);It.ID_PREFIX="xiv.ui.LevelsController";It.CSS_SUFFIX={};f=It.prototype;f.Oa=null;f.dH=function(){return this.n};function Jt(a){var b=a.n.zf.CA();a.n.Yb.Ej(b[0],b[1]-b[0])}
f.add=function(a){It.d.add.call(this,a);this.Oa=a;a=this.yd(xt,"Zoom Range",this.wK.bind(this));a.Cg(this.Oa);kt(this.Oa,a);this.Ze.push(a);a.ta.da.style.textAlign="left";a.ta.Dc.style.textAlign="left";this.n.Yb=a;Kt(this);Lt(this);Mt(this);this.n.min=this.yd(wt,"Minimum",this.CK.bind(this));this.n.min.Cg(this.Oa);kt(this.Oa,this.n.min);this.Ze.push(this.n.min);this.n.min.Gb(1E3);this.n.min.Nb(0);this.n.min.C(0);this.n.min.Kc(1);this.n.min.Uo(0);this.n.min.To(this.Oa.min);this.n.min.refresh();a=this.yd(wt,
"Maximum",this.AK.bind(this));a.Cg(this.Oa);kt(this.Oa,a);this.Ze.push(a);a.Gb(1E3);a.Nb(0);a.C(1E3);a.Kc(1);a.Uo(0);a.To(this.Oa.max);a.refresh();this.n.max=a;a=this.yd(wt,"Brightness",this.lK.bind(this));a.Cg(this.Oa);kt(this.Oa,a);this.Ze.push(a);a.Gb(100);a.Nb(0);a.C(0);a.Kc(1);a.Uo(0);a.refresh();this.n.Ti=a;a=this.yd(wt,"Contrast",this.oK.bind(this));a.Cg(this.Oa);kt(this.Oa,a);this.Ze.push(a);a.Gb(100);a.Nb(0);a.C(0);a.Kc(1);a.Uo(0);a.refresh();this.n.Vg=a;a=this.yd(Gt,null,this.TK.bind(this));
kt(this.Oa,a);this.Ze.push(a);a.Cg(this.Oa);this.n.reset=a;this.n.hp.push(this.n.min);this.n.hp.push(this.n.max);this.n.hp.push(this.n.Ti);this.n.hp.push(this.n.Vg);Nt(this)};
function Nt(a){D(a.n.hp,function(a){M(a.ub,"xiv-ui-levelscontroller-sliderlabel");M(a.a(),"xiv-ui-levelscontroller-slidercontroller");M(a.ka.a(),"xiv-ui-levelscontroller-slider");M(a.ta.a(),"xiv-ui-levelscontroller-slidervalue");a.ka.o()}.bind(a));M(a.n.Yb.ub,"xiv-ui-levelscontroller-twothumbsliderlabel");M(a.n.Yb.ub,"xiv-ui-levelscontroller-sliderlabel");M(a.n.Yb.a(),"xiv-ui-levelscontroller-twothumbslidercontroller");M(a.n.Yb.ka.a(),"xiv-ui-levelscontroller-twothumbslider");M(a.n.Yb.ta.a(),"xiv-ui-levelscontroller-twothumbslidervalue");
M(a.n.Yb.Ud.a(),"xiv-ui-levelscontroller-twothumbsliderextent")}f.TK=function(){this.Oa.windowLow=0;D([this.n.max,this.n.min],function(a){a.C(a.defaultValue);a.refresh();this.n.oe.Fd(!1)}.bind(this));Jt(this);this.n.zf.update()};
function Mt(a){a.n.oe=a.yd(ut,"Clip X-Axis to Zoom");kt(a.Oa,a.n.oe);a.Ze.push(a.n.oe);a.n.oe.ka.a().style.left="calc(100% - 15px)";a.n.oe.ub.style.fontSize="10px";F(a.n.oe,"D",function(a){null!=this.n.zf&&null!=this.n.Yb&&(this.n.zf.az("true"==a.checked.toString()),this.n.Yb.refresh())}.bind(a))}function Lt(a){var b=a.yd(Et,null,function(){}.bind(a));b.Cg(a.Oa);kt(a.Oa,b);a.Ze.push(b);b.refresh();a.n.zf=b}
f.wK=function(){null!=this.n.zf&&(this.n.zf.TC(this.n.Yb.w(),this.n.Yb.Ad()+this.n.Yb.w()),this.n.zf.refresh())};function Ot(a){var b=a.n.min.mg();D([a.n.max,a.n.min],function(a,d){a.Gb(b.max);a.Nb(b.min);a.C(0==d?b.max:b.min)});Kt(a);a.n.zf.refresh()}function Kt(a){if(null!=a.n.min){var b=a.n.min.mg();a.n.Yb.Nb(b.min);a.n.Yb.Gb(b.max);a.n.Yb.C(b.min);a.n.Yb.Kc(1);a.n.Yb.If(b.max-b.min)}}
f.CK=function(){null!=this.n.max&&null!=this.n.min&&(this.n.min.ha()!=this.Oa.min&&Ot(this),this.Oa.windowLow=this.n.min.w(),Pt(this,this.n.min))};f.AK=function(){null!=this.n.max&&null!=this.n.min&&(this.n.max.T()!=this.Oa.max&&Infinity!=this.Oa.max&&Ot(this),this.Oa.windowHigh=this.n.max.w(),Pt(this,this.n.max))};
function Pt(a,b){switch(b){case a.n.min:a.n.min.w()>=a.n.max.w()&&a.n.max.C(a.n.min.w()+1);case a.n.max:a.n.max.w()<=a.n.min.w()&&a.n.min.C(a.n.max.w()-1);var c=a.n.Ti.ka;c.ti(!0);var d=a.n.min.mg(),d=Math.round((1-(d.jh+(d.rj-d.jh)/2-d.min)/(d.max-d.min))*c.T());a.n.Ti.C(d);c.ti(!1);c=a.n.Vg.ka;c.ti(!0);var d=a.n.min.mg(),e=a.n.Vg.T()/2,h=(d.max-d.min)/(d.rj-d.jh)*e;h>e&&(h=a.n.Vg.T()-(d.rj-d.jh)/(d.max-d.min)*e);d=Math.round(h);a.n.Vg.C(d);c.ti(!1);case a.n.Ti:case a.n.Vg:c=a.n.min.ka,d=a.n.max.ka,
e=a.n.min.mg(),c.ti(!0),d.ti(!0),a.n.min.C(e.jh,!0),a.n.max.C(e.rj,!0),d.ti(!1),c.ti(!1)}a.n.zf.refresh()}f.refresh=function(){null!=this.n.oe&&this.n.oe.refresh()};f.lK=function(){if(null!=this.n.Ti){var a=this.n.min.mg(),b=this.n.Ti.ka,b=a.min+(a.max-a.min)*((b.T()-b.w())/b.T()),c=a.rj-a.jh,a=Math.round(b-c/2),b=Math.round(b+c/2);Qt(this,a,b);Pt(this,this.n.Ti)}};
f.oK=function(){if(null!=this.n.Vg){var a=this.n.min.mg(),b=this.n.Vg.ka,c,d=a.jh+(a.rj-a.jh)/2,a=a.max-a.min;c=b.T()/2;c=b.w()<=c?b.w()/c:c/(b.T()-b.w());0<c&&(b=Math.round(d-.5*a/c),d=Math.round(d+.5*a/c),Qt(this,b,d));Pt(this,this.n.Vg)}};function Qt(a,b,c){b==c&&(b=c-1);a.Oa.windowLow=b;a.Oa.windowHigh=c}f.f=function(){tb(this.n);delete this.Oa;It.d.f.call(this)};v("xiv.ui.LevelsController.ID_PREFIX",It.ID_PREFIX);v("xiv.ui.LevelsController.CSS_SUFFIX",It.CSS_SUFFIX);
v("xiv.ui.LevelsController.prototype.add",It.prototype.add);v("xiv.ui.LevelsController.prototype.getControllerSet",It.prototype.dH);v("xiv.ui.LevelsController.prototype.disposeInternal",It.prototype.f);function Rt(){Ht.call(this)}w(Rt,Ht);v("xiv.ui.VolumeController",Rt);Rt.ID_PREFIX="xiv.ui.VolumeController";Rt.CSS_SUFFIX={};Rt.prototype.add=function(a){Rt.d.add.call(this,a);this.Fy(a);this.Cy(a)};Rt.prototype.Fy=function(a){var b=this.yd(At,"Visible",function(){});kt(a,b);this.Lf.push(b);b.Cg(a);b.ka.checked=a[Aq]||!1};Rt.prototype.Cy=function(a){var b=this.yd(ut,"Show Label Map");kt(a,b);this.Lf.push(b);b.Cg(a);b.ka.Fd(!0)};Rt.prototype.f=function(){Rt.d.f.call(this)};
v("xiv.ui.VolumeController.ID_PREFIX",Rt.ID_PREFIX);v("xiv.ui.VolumeController.CSS_SUFFIX",Rt.CSS_SUFFIX);v("xiv.ui.VolumeController.prototype.add",Rt.prototype.add);v("xiv.ui.VolumeController.prototype.add_visibleRadio",Rt.prototype.Fy);v("xiv.ui.VolumeController.prototype.add_labelMapToggle",Rt.prototype.Cy);v("xiv.ui.VolumeController.prototype.disposeInternal",Rt.prototype.f);function St(){U.call(this);C(Tt(),function(a,b){this[b]=null})}w(St,U);v("xiv.ui.XtkControllerTree",St);function Ut(a,b,c){this["2D"]=a;this["3D"]=b;this.all=null!=c?c:null}v("xiv.ui.XtkControllerTree.ControlSet",Ut);St.ID_PREFIX="xiv.ui.XtkControllerTree";St.CSS_SUFFIX={};function Tt(){return{volumes:null,annotations:null,meshes:null,levels:null}}f=St.prototype;f.xx=function(){};f.KD=function(){return this.bh([this.yi])};f.xx=function(){return this.bh([this.Uf])};f.rF=function(){return this.bh([this.Uj])};
f.zH=function(){};f.bh=function(a){var b=[];D(g(a)?a:[a],function(a){null!=a&&(b=Nb(b,a.Mz()))});return b};f.KH=function(){return this.Uf};f.refresh=function(){var a=this.bh([this.Uf,this.Vj,this.Uj,this.Pj,this.yi,this.Ns]);D(a,function(a){a.refresh()}.bind(this))};
f.Ut=function(a,b){a instanceof J?(null==this.Vj&&(this.Uf=new It,this.Vj=new Rt,this.Uj=new Ct),this.Uf.add(a,b),this.Vj.add(a,b),this.Uj.add(a,b)):a instanceof ft?(null==this.Pj&&(this.Pj=new Dt),this.Pj.add(a,b)):a instanceof dq&&(null==this.yi&&(this.yi=new zt),this.yi.add(a));this.volumes=new Ut(null,this.bh([this.Uj]),this.bh([this.Vj]));this.annotations=new Ut(null,this.bh([this.yi]));this.meshes=new Ut(null,this.bh([this.Pj]));this.levels=new Ut(null,null,this.bh([this.Uf]))};
f.f=function(){St.d.f.call(this);null!=this.Uf&&(this.Uf.g(),delete this.Uf);null!=this.Vj&&(this.Vj.g(),delete this.Vj);null!=this.Kx&&(this.Kx.g(),delete this.Kx);null!=this.Uj&&(this.Uj.g(),delete this.Uj);null!=this.Pj&&(this.Pj.g(),delete this.Pj);null!=this.yi&&(this.yi.g(),delete this.yi);null!=this.Ns&&(this.Ns.g(),delete this.Ns)};v("xiv.ui.XtkControllerTree.ControlSet",Ut);v("xiv.ui.XtkControllerTree.ID_PREFIX",St.ID_PREFIX);v("xiv.ui.XtkControllerTree.CSS_SUFFIX",St.CSS_SUFFIX);
v("xiv.ui.XtkControllerTree.getEmptyPropertiesObject",Tt);v("xiv.ui.XtkControllerTree.prototype.Levels",St.prototype.xx);v("xiv.ui.XtkControllerTree.prototype.Annotations",St.prototype.KD);v("xiv.ui.XtkControllerTree.prototype.Volumes3D",St.prototype.rF);v("xiv.ui.XtkControllerTree.prototype.getHistograms",St.prototype.zH);v("xiv.ui.XtkControllerTree.prototype.getControllers",St.prototype.bh);v("xiv.ui.XtkControllerTree.prototype.getLevelsController",St.prototype.KH);
v("xiv.ui.XtkControllerTree.prototype.refresh",St.prototype.refresh);v("xiv.ui.XtkControllerTree.prototype.createControllers",St.prototype.Ut);v("xiv.ui.XtkControllerTree.prototype.disposeInternal",St.prototype.f);function Vt(a){Fs.call(this);this.orientation=a;this.ul=Bq;this.tq=null}w(Vt,Fs);v("xiv.vis.XtkPlane2D",Vt);f=Vt.prototype;f.sA=function(){return this.Da.sA()};f.tA=function(){return this.Da.tA()};f.hm=function(){return null!=this.Da?this.Da.hm():null};f.bl=function(a){Vt.d.bl.call(this,a)};f.g=function(){Vt.d.g.call(this);delete this.tq;delete this.hQ;delete this.iQ};v("xiv.vis.XtkPlane2D.prototype.getSliceRelativeToContainerX",Vt.prototype.sA);
v("xiv.vis.XtkPlane2D.prototype.getSliceRelativeToContainerY",Vt.prototype.tA);v("xiv.vis.XtkPlane2D.prototype.getVolume",Vt.prototype.hm);v("xiv.vis.XtkPlane2D.prototype.setContainer",Vt.prototype.bl);v("xiv.vis.XtkPlane2D.prototype.dispose",Vt.prototype.g);function Wt(){ad.call(this);this.kf=null;this.qc={volumes:[],meshes:[],fibers:[],spheres:[]};this.zi=new Vt("X");this.Rj=new Vt("Y");this.Sj=new Vt("Z");this.lc=new Ks;this.yc={};this.yc[this.zi.Xb()]=this.zi;this.yc[this.Rj.Xb()]=this.Rj;this.yc[this.Sj.Xb()]=this.Sj;this.yc[this.lc.Xb()]=this.lc;this.kh=null;this.qs(this.lc);Xt(this)}w(Wt,zq);v("xiv.vis.XtkEngine",Wt);Wt.ID_PREFIX="xiv.vis.XtkEngine";Wt.SLICE_TO_RAS_KEY="sliceToRAS"+B();Wt.HAS_LABEL_MAP_KEY="hasLabelMap";f=Wt.prototype;f.Yr=!1;
f.vu=function(){return this.qc.volumes};f.uu=function(){return this.qc.meshes};f.tu=function(){return this.qc.spheres};function Yt(a,b){null!=b.ge.un&&D(b.ge.un,function(a){this.qc.spheres.push(Zt(a))}.bind(a))}f.EC=function(a,b){switch(a.toLowerCase()){case "x":this.zi.Mb(b);break;case "y":this.Rj.Mb(b);break;case "z":this.Sj.Mb(b);break;case "v":this.lc.Mb(b)}};f.qs=function(a){this.kh=a;this.kh.ua();this.LL=F(this.kh,"k",this.Tv.bind(this))};f.eI=function(){return this.kh};f.Wv=function(a){this.dispatchEvent(a)};
function Xt(a){C(a.yc,function(a){F(a,"E",this.Wv.bind(this));F(a,"G",function(){}.bind(this))}.bind(a))}f.bC=function(){this.kf.refresh()};f.eH=function(){return this.kf};
function $t(a,b){null!=a.kf&&(a.kf.g(),a.kf=null);a.kf=new St;null!=(b.ge&&null!=b.ge.un)&&(Yt(a,b),D(a.qc.spheres,function(a){this.kf.Ut(a)}.bind(a)));var c;D(b.xb,function(a){c=a.Gc();if(null!=c&&(currXObj=au(c,a.Xh),renderProps=a.ge,currXObj))if(this.kf.Ut(currXObj,renderProps),currXObj instanceof J){"scans"==b.tf.toLowerCase()&&(window.console.log("Turning off reslicing for scan"),currXObj.reslicing=!1);a=currXObj;var e=renderProps;null!=e||(e={origin:[0,0,0],Cs:1E4,vr:-1E4,lr:!0,dx:!1});a.origin=
e.origin;a.upperThreshold=e.Cs;a.lowerThreshold=e.vr;a.volumeRendering=e.dx;a[Aq]=e.lr;a[Wt.SLICE_TO_RAS_KEY]=e.Cw;null!=e.dB?(a.labelmap.file=e.dB,a.labelmap.colortable.file=e.DJ,a[Wt.HAS_LABEL_MAP_KEY]=!0):a[Wt.HAS_LABEL_MAP_KEY]=!1;this.qc.volumes.push(currXObj)}else currXObj instanceof ft?(a=currXObj,e=renderProps,a.color=e.color||[.5,.5,.5],a.opacity=e.opacity||1,this.qc.meshes.push(currXObj)):currXObj instanceof Ms&&(Wt.FQ(currXObj,renderProps),this.qc.fibers.push(currXObj))}.bind(a))}
f.dC=function(){this.qs(this.lc);this.lc.ua();C(this.qc,function(a,b){"volumes"!==b&&D(a,function(a){this.lc.add(a)}.bind(this))}.bind(this));Uc(this.lc.Ua(),"l",function(){this.Lr();this.zi.k()}.bind(this));this.lc.k()};f.cC=function(a){var b=null!=a?a:this.Ck();C(this.yc,function(a,d){"v"!=d.toLowerCase()&&(a.ua(),a.add(b),a.k())})};function bu(a){var b=a.Ck();C(a.qc.volumes,function(a){a!==b&&(a.visible=!1)})}
f.eC=function(){var a=this.Ck(),b=[],c=[],d=["x","y","z","v"];C(this.qc,function(a,d){currArr="volumes"==d?c:b;D(a,function(a){currArr.push(a)})}.bind(this));D(b,function(a){this.lc.add(a)}.bind(this));D(c,function(b){b!==a&&(b.visible=!0,this.lc.add(b))}.bind(this));this.kh.Ua().onShowtime=function(){Mb(d,this.kh.Xb().toLowerCase());cu(this,a)}.bind(this);this.kh.add(a);this.kh.k()};
f.k=function(a){this.Yr=!1;$t(this,a);var b=a.ge;null!=b?(null!=b.backgroundColor&&this.lc.hs(a.ge.backgroundColor),null!=b.kq&&this.lc.is(a.ge.kq)):(this.lc.hs(),this.lc.is());if(0<this.qc.volumes.length){a=this.yc;b="";for(b in a)if(a[b].isEnabled()){this.qs(a[b]);break}this.eC()}else this.lc.isEnabled()&&this.dC()};function cu(a,b){var c=nb(a.yc)-1;C(a.yc,function(a){a!=this.kh&&a.isEnabled()&&(a.add(b),Uc(a.Ua(),"l",function(){c--;0==c&&this.Lr()}.bind(this)),a.k())}.bind(a))}
f.Ck=function(){if(0!=this.qc.volumes.length){for(var a=0,b=this.qc.volumes.length;a<b;a++){var c=this.qc.volumes[a];if(c[Aq])return c}this.qc.volumes[0][Aq]=!0;return this.qc.volumes[0]}};f.o=function(){C(this.yc,function(a){a.o()}.bind(this))};f.Tv=function(a){this.Yr||this.dispatchEvent({type:"k",value:a.value})};f.Lr=function(a){bu(this);Wc(this.LL);this.Yr=!0;this.dispatchEvent({type:"l",value:null!=a?a.value:1})};f.YH=function(){return this.zi};f.ZH=function(){return this.Rj};f.$H=function(){return this.Sj};
f.XH=function(){return this.lc};f.Nq=function(a){return this.yc[a]};f.aI=function(){return this.yc};var du=["nrrd","nii","nii.gz","mgh","mgz"],eu=["dicom","dcm","ima"],fu=["hdr","img"],gu=["nii","nii.gz"],hu=["jpeg","jpg","gif","png","img"],iu="stl vtk obj fsm inflated smoothwm pial orig".split(" "),ju=["trk"];function ku(a){var b=void 0;lu(a)?b=new ft:mu(a)||nu(a)||ou(a)?b=new J:pu(a)&&(b=new Ms);return b}
function Zt(a){var b=new dq;b.center=a.position;b.caption=a.name;b.name=a.name;b.radius=3;b.color=[.85,0,0];return b}function mu(a){return-1<du.indexOf(a)?!0:!1}function ou(a){return-1<hu.indexOf(a)?!0:!1}function nu(a){return-1<eu.indexOf(a)?!0:!1}function lu(a){return-1<iu.indexOf(a)?!0:!1}function pu(a){return-1<ju.indexOf(a)?!0:!1}
function au(a,b){function c(a){var b=wj(a);a=vj(a);return b+"/"+a}var d=g(a)?xj(a[0]):xj(a),d=ku(d);if(null==d)throw Error("No renderable files in the set :(<br>");if(g(a)){var e=[];D(a,function(a){e.push(c(a))});a=e}else a=c(a);null!=b?(d.file=pb(b),d.filedata=ob(b)):d.file=a;return d}
Wt.prototype.g=function(){Wt.d.g.call(this);null!=this.kf&&(this.kf.g(),delete this.kf);G(this.zi);G(this.Rj);G(this.Sj);G(this.lc);delete this.kh;tb(this.yc);delete this.yc;this.zi.g();delete this.zi;this.Rj.g();delete this.Rj;this.Sj.g();delete this.Sj;this.lc.g();delete this.lc;C(this.qc,function(a){C(a,function(a){G(a);tb(a)})});tb(this.qc);delete this.qc;delete this.Yr};v("xiv.vis.XtkEngine.EventType",{CO:"E",AO:"F",BO:"G",ERROR:"H",EP:"I",KN:"J",LN:"K"});v("xiv.vis.XtkEngine.ID_PREFIX",Wt.ID_PREFIX);
v("xiv.vis.XtkEngine.ANATOMICAL_TO_CARTESIAN",{SAGITTAL:"X",CORONAL:"Y",AXIAL:"Z",TRANSVERSE:"Z"});v("xiv.vis.XtkEngine.SLICE_TO_RAS_KEY",Wt.SLICE_TO_RAS_KEY);v("xiv.vis.XtkEngine.HAS_LABEL_MAP_KEY",Wt.HAS_LABEL_MAP_KEY);v("xiv.vis.XtkEngine.isVolume",mu);v("xiv.vis.XtkEngine.isImage",ou);v("xiv.vis.XtkEngine.isDicom",nu);v("xiv.vis.XtkEngine.isAnalyze",function(a){return-1<fu.indexOf(a)?!0:!1});v("xiv.vis.XtkEngine.isNifti",function(a){return-1<gu.indexOf(a)?!0:!1});
v("xiv.vis.XtkEngine.isMesh",lu);v("xiv.vis.XtkEngine.isFiber",pu);v("xiv.vis.XtkEngine.prototype.getCurrentMeshes",Wt.prototype.uu);v("xiv.vis.XtkEngine.prototype.getCurrentAnnotations",Wt.prototype.tu);v("xiv.vis.XtkEngine.prototype.getCurrentVolumes",Wt.prototype.vu);v("xiv.vis.XtkEngine.prototype.setPlaneEnabled",Wt.prototype.EC);v("xiv.vis.XtkEngine.prototype.setPrimaryRenderPlane",Wt.prototype.qs);v("xiv.vis.XtkEngine.prototype.getPrimaryRenderPlane",Wt.prototype.eI);
v("xiv.vis.XtkEngine.prototype.refreshControllers",Wt.prototype.bC);v("xiv.vis.XtkEngine.prototype.getControllerTree",Wt.prototype.eH);v("xiv.vis.XtkEngine.prototype.render3dPlane",Wt.prototype.dC);v("xiv.vis.XtkEngine.prototype.render2D",Wt.prototype.cC);v("xiv.vis.XtkEngine.prototype.renderAllPlanes",Wt.prototype.eC);v("xiv.vis.XtkEngine.prototype.render",Wt.prototype.k);v("xiv.vis.XtkEngine.prototype.getSelectedVolume",Wt.prototype.Ck);v("xiv.vis.XtkEngine.prototype.updateStyle",Wt.prototype.o);
v("xiv.vis.XtkEngine.prototype.getPlaneX",Wt.prototype.YH);v("xiv.vis.XtkEngine.prototype.getPlaneY",Wt.prototype.ZH);v("xiv.vis.XtkEngine.prototype.getPlaneZ",Wt.prototype.$H);v("xiv.vis.XtkEngine.prototype.getPlaneV",Wt.prototype.XH);v("xiv.vis.XtkEngine.prototype.getPlaneByOrientation",Wt.prototype.Nq);v("xiv.vis.XtkEngine.prototype.getPlanes",Wt.prototype.aI);v("xiv.vis.XtkEngine.prototype.dispose",Wt.prototype.g);function ui(){U.call(this);this.cb=O("img",{id:"nrg.ui.Thumbnail_"+B()});Q(this.a(),this.cb);this.df=O("div",{id:"DisplayText_"+B()});Q(this.a(),this.df);this.gs=O("div",{id:"selectedIndicator_"+B()});M(this.gs,ui.CSS.WE);Q(this.a(),this.gs);this.qw();this.a().className=ui.ad;M(this.a(),ui.CSS.eE);this.cb.className=ui.CSS.Ah;this.df.className=ui.CSS.Tj}w(ui,U);v("nrg.ui.Thumbnail",ui);ui.ID_PREFIX="nrg.ui.Thumbnail";
ui.CSS_SUFFIX={Ah:"image",Tj:"text",yO:"selected",EE:"mouseover",AN:"image-mouseover",QO:"text-mouseover",tx:"highlight",Lj:"active",ux:"image-active",Fx:"text-active",WE:"selectindicator",Dx:"selectindicator-active",eE:"hoverable"};f=ui.prototype;f.Uy=null;f.hr=!1;f.AH=function(){return this.cb};f.mC=function(a){this.Uy=a;this.cb.onerror=function(){this.cb.onerror="";this.cb.src=this.Uy}.bind(this)};f.rI=function(){return this.df};
f.Eu=function(){for(var a=this.df;a.childNodes[0];)a=a.childNodes[0];return a.parentNode.innerHTML};f.hw=function(a,b){null!=a||(a=500);var c=0;null==this.P&&(this.P=new Yf);this.P.setInterval(50);this.P.addEventListener(Zf,function(){c+=50;this.a().style.opacity=c/50%2;c>=a&&(this.P.stop(),this.P.g(),delete this.P,this.a().style.opacity=1,null!=b&&b())}.bind(this));this.P.start()};f.fh=function(){return this.hr};f.rw=function(a){this.cb.src=a;this.cb.className=ui.CSS.Ah};
f.dp=function(a){this.df.innerHTML=a};f.setActive=function(a,b){var c=this.a();(this.hr=a)?(b&&M(c,ui.CSS.tx),M(c,ui.CSS.Lj),M(this.df,ui.CSS.Fx),M(this.cb,ui.CSS.ux),M(this.gs,ui.CSS.Dx)):(Eh(c,ui.CSS.tx),Eh(c,ui.CSS.Lj),Eh(this.df,ui.CSS.Fx),Eh(this.cb,ui.CSS.ux),Eh(this.gs,ui.CSS.Dx))};f.o=function(a){a&&this.a()&&tk(this.a(),a)};f.qw=function(){Xc(this.a(),"L")&&Wc("L");F(this.a(),"click",function(){this.dispatchEvent({type:"L"})}.bind(this))};
f.f=function(){ui.d.f.call(this);G(this);G(this.a());R(this.cb);delete this.cb;R(this.df);delete this.df;delete this.NP;delete this.hr};v("nrg.ui.Thumbnail.EventType",{$M:"L"});v("nrg.ui.Thumbnail.ID_PREFIX",ui.ID_PREFIX);v("nrg.ui.Thumbnail.CSS_SUFFIX",ui.CSS_SUFFIX);v("nrg.ui.Thumbnail.prototype.getImage",ui.prototype.AH);v("nrg.ui.Thumbnail.prototype.setBrokenThumbnailUrl",ui.prototype.mC);v("nrg.ui.Thumbnail.prototype.getTextElement",ui.prototype.rI);v("nrg.ui.Thumbnail.prototype.getText",ui.prototype.Eu);
v("nrg.ui.Thumbnail.prototype.isActive",ui.prototype.fh);v("nrg.ui.Thumbnail.prototype.setImage",ui.prototype.rw);v("nrg.ui.Thumbnail.prototype.setText",ui.prototype.dp);v("nrg.ui.Thumbnail.prototype.setActive",ui.prototype.setActive);v("nrg.ui.Thumbnail.prototype.updateStyle",ui.prototype.o);v("nrg.ui.Thumbnail.prototype.pulse",ui.prototype.hw);v("nrg.ui.Thumbnail.prototype.disposeInternal",ui.prototype.f);function qu(){U.call(this)}w(qu,U);v("nrg.ui.ScrollableContainer",qu);qu.ID_PREFIX="nrg.ui.ScrollableContainer";qu.CSS_SUFFIX={VE:"scrollarea",ia:"slider",Kg:"slider-thumb",Eh:"slider-track",YE:"slider-thumb-hovered",FO:"slider-track-hovered"};f=qu.prototype;f.P=null;
f.k=function(a){qu.d.k.call(this,a);null==this.Ag&&(this.Ag=O("div",{id:this.constructor.ID_PREFIX+"_ScrollArea_"+B(),"class":qu.CSS.VE}),this.a().appendChild(this.Ag));this.fb=new ur("vertical");this.fb.k(this.a());F(this.fb,"u",this.yj.bind(this));F(this.fb,"s",this.NB.bind(this));F(this.fb,"t",this.MB.bind(this));ru(this);M(this.fb.a(),qu.CSS.ia);M(this.fb.Nf,qu.CSS.Kg);M(this.fb.uh,qu.CSS.Eh);this.o();this.Xc();this.P=new Yf};f.rf=function(a){this.ma||this.k();Q(this.Ag,a);this.Xc()};f.a=function(){return this.q};
f.nI=function(){return this.fb};f.jI=function(){return this.Ag};f.o=function(a){a&&tk(this.q,a)};
f.Xc=function(){var a=S(this.q).height,b=S(this.Ag).height,c=[this.fb.ha(),this.fb.T()],d=[0,b-a],e=this.fb.Nf,h=this.fb.a();a<b?("hidden"==h.style.visibility&&(h.style.opacity=0,h.style.visibility="visible",zk(h,200)),a=Math.round(a/b*a),e.style.height=a.toString()+"px",this.fb.Mb(!0),e=this.fb.T()-this.fb.w(),c=mk(e,c,d).remappedVal,this.Ag.style.top=(-c).toString()+"px"):"hidden"!=h.style.visibility&&Ck(h,200,function(){this.fb&&(h.style.visibility="hidden",this.fb.Mb(!1),this.fb.C(100))}.bind(this))};
f.NB=function(){this.dispatchEvent({type:"N"})};f.MB=function(){this.dispatchEvent({type:"O"})};f.yj=function(){this.Xc();this.dispatchEvent({type:"M"})};function ru(a){a.P=new Yf;a.P.setInterval(100);var b=function(){200<(new Date).getTime()-this.cv&&(this.P.stop(),delete this.cv,this.MB())}.bind(a);F(a.fb,"v",function(){void 0==this.cv&&this.NB();this.cv=(new Date).getTime();this.P.stop();this.P.addEventListener(Zf,b);this.P.start()}.bind(a));a.fb.iq(a.a())}
f.f=function(){qu.d.f.call(this);null!=this.fb&&(G(this.fb),this.fb.g(),delete this.fb);null!=this.Ag&&(R(this.Ag),delete this.Ag);this.P.g();delete this.P};v("nrg.ui.ScrollableContainer.ID_PREFIX",qu.ID_PREFIX);v("nrg.ui.ScrollableContainer.CSS_SUFFIX",qu.CSS_SUFFIX);v("nrg.ui.ScrollableContainer.MAX_LABEL_LENGTH",30);v("nrg.ui.ScrollableContainer.prototype.render",qu.prototype.k);v("nrg.ui.ScrollableContainer.prototype.addContents",qu.prototype.rf);
v("nrg.ui.ScrollableContainer.prototype.getElement",qu.prototype.a);v("nrg.ui.ScrollableContainer.prototype.getSlider",qu.prototype.nI);v("nrg.ui.ScrollableContainer.prototype.getScrollArea",qu.prototype.jI);v("nrg.ui.ScrollableContainer.prototype.updateStyle",qu.prototype.o);v("nrg.ui.ScrollableContainer.prototype.mapSliderToContents",qu.prototype.Xc);v("nrg.ui.ScrollableContainer.prototype.disposeInternal",qu.prototype.f);function su(){U.call(this)}w(su,qu);v("nrg.ui.ScrollableZippyTree",su);su.ID_PREFIX="nrg.ui.ScrollableZippyTree";su.CSS_SUFFIX={sF:"zippytree"};f=su.prototype;f.k=function(a){su.d.k.call(this,a);this.pa=new Ns;M(this.pa.a(),su.CSS.sF);this.Ag.appendChild(this.pa.a());this.ep();this.fb.OC(!0,.3)};f.rf=function(a,b){this.pa.rf(a,b);g(a);this.fb.iq(this.pa.a())};f.am=function(){this.pa.am()};f.cs=function(a,b,c,d){this.pa.cs(a,b,function(){null!=c&&c();this.Xc()}.bind(this),function(){null!=d&&d()}.bind(this))};
f.Bn=function(){this.pa.Bn()};f.ic=function(a,b){this.pa.ic(a,b)};f.MI=function(){return this.pa};f.PF=function(a){this.pa.En(a);this.Xc()};f.ep=function(){F(this.pa,"B",this.Xc.bind(this));F(this.pa,"a",this.Xc.bind(this));F(this.pa,"b",this.Xc.bind(this));F(this.pa,yl.GE,this.Xc.bind(this))};f.o=function(a){a&&tk(this.a(),a)};f.f=function(){su.d.f.call(this);null!=this.pa&&(G(this.pa),this.pa.g(),delete this.pa)};v("nrg.ui.ScrollableZippyTree.EventType",{});
v("nrg.ui.ScrollableZippyTree.ID_PREFIX",su.ID_PREFIX);v("nrg.ui.ScrollableZippyTree.CSS_SUFFIX",su.CSS_SUFFIX);v("nrg.ui.ScrollableZippyTree.prototype.render",su.prototype.k);v("nrg.ui.ScrollableZippyTree.prototype.addContents",su.prototype.rf);v("nrg.ui.ScrollableZippyTree.prototype.expandAll",su.prototype.am);v("nrg.ui.ScrollableZippyTree.prototype.collapseAll",su.prototype.Bn);v("nrg.ui.ScrollableZippyTree.prototype.setExpanded",su.prototype.ic);
v("nrg.ui.ScrollableZippyTree.prototype.getZippyTree",su.prototype.MI);v("nrg.ui.ScrollableZippyTree.prototype.addFolders",su.prototype.PF);v("nrg.ui.ScrollableZippyTree.prototype.setZippyTreeEvents",su.prototype.ep);v("nrg.ui.ScrollableZippyTree.prototype.scaleElementOnChange",su.prototype.cs);v("nrg.ui.ScrollableZippyTree.prototype.updateStyle",su.prototype.o);v("nrg.ui.ScrollableZippyTree.prototype.disposeInternal",su.prototype.f);function tu(a,b,c){fn.call(this);this.bD=!0===a;this.aD=!0===b;this.WC=!0===c}w(tu,fn);v("xiv.ui.HelpDialog",tu);tu.ID_PREFIX="xiv.ui.HelpDialog";tu.CSS={ZD:"nrg-ui-helpdialog-dialog",Tj:"nrg-ui-helpdialog-text",UE:"xiv-ui-helpdialog-scrollablezippytree",TITLE:"xiv-ui-helpdialog-title",Mj:"xiv-ui-helpdialog-closebutton"};tu.LAYOUT_IMAGE_ID=tu.ID_PREFIX+".LayoutImage";
tu.prototype.k=function(a){tu.d.k.call(this,a);M(this.a(),"xiv-ui-helpdialog");this.Rm=new su;M(this.Rm.a(),tu.CSS.UE);this.Rm.k(this.a());uu(this);this.Ay(tu.CSS.TITLE);this.ly(tu.CSS.Mj)};tu.prototype.tw=function(a){null!=document.getElementById(tu.LAYOUT_IMAGE_ID)&&(document.getElementById(tu.LAYOUT_IMAGE_ID).src=a)};
function uu(a){var b=[["Close ViewBox",'<img style="height:10px;width:10px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/close.png"></img>'],["Add ViewBox Column",'<img style="height:12px;width:6px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/insertcolumn.png"></img>'],["Add ViewBox Row",'<img style="height:6px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/insertrow.png"></img>'],["Drag/Swap ViewBox",'<img style="height:17px;width:7px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBoxManager/handle.png"></img>']],
c=[["Change Layouts"," ","<img height=15 width=15 id="+tu.LAYOUT_IMAGE_ID+"></img>"],["Help","keystroke: ?",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Help.png"></img>'],["Info. Metadata","keystroke: I",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Info.png"></img>'],["Settings","keystroke: S",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Settings.png"></img>'],
["Levels","keystroke: B or L",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Levels.png"></img>'],["2D Pan","keystroke: H or P",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-2DPan.png"></img>'],["2D Zoom","keystroke: Z",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-2DZoom.png"></img>'],["2D Crosshairs","keystroke: C",'<img style="height:15px;width:15px" src="'+
serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Crosshairs.png"></img>']];a.bD&&c.push(["Volumes","keystroke: V",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Volumes.png"></img>']);a.aD&&c.push(["Meshes","keystroke: M",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Meshes.png"></img>']);a.WC&&c.push(["Annotations","keystroke: A",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Annotations.png"></img>']);
var d=[["Close XImgView",'<img style="height:10px;width:10px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/close.png"></img>'],["Full-screen view",'<img style="height:12px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/fullscreen.png"></img>'],["Pop-up view",'<img style="height:12px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/popup.png"></img>']];a.Lc("Help");D([[["Resize","left-click + drag","panel borders"]],b,c,d],function(a,b){var c='<table style="margin-left:10%;width:90%;color:white;left:10%;" RULES=ROWS FRAME=HSIDES  BORDERCOLOR="black">';
D(a,function(a){c+="<tr>";D(a,function(a,b){switch(b){case 0:a='<b><font size="1">'+a+"</font></b>";break;case 1:a='<i><font size="1">'+a+"</font></i>";break;default:a='<font size="1">'+a+"</font>"}c+="<td height=25>"+a+"</td>"});c+="</tr>"});var c=c+"</table>",d;currText=b+1;switch(currText){case 1:d="Images";break;case 2:d="ViewBox Manipulation";break;case 3:d="ViewBox Toggles";break;case 4:d="Modal"}R(c);var n=O("div");n.innerHTML=c;this.Rm.rf(n,[d])}.bind(a))}
tu.prototype.f=function(){tu.d.f.call(this);delete this.bD;delete this.aD;delete this.WC;null!=this.Rm&&this.Rm.g()};v("xiv.ui.HelpDialog.EventType",{});v("xiv.ui.HelpDialog.ID_PREFIX",tu.ID_PREFIX);v("xiv.ui.HelpDialog.LAYOUT_IMAGE_ID",tu.LAYOUT_IMAGE_ID);v("xiv.ui.HelpDialog.CSS_SUFFIX",tu.CSS_SUFFIX);v("xiv.ui.HelpDialog.prototype.render",tu.prototype.k);v("xiv.ui.HelpDialog.prototype.setLayoutButton",tu.prototype.tw);v("xiv.ui.HelpDialog.prototype.disposeInternal",tu.prototype.f);function vu(a,b,c){dp.call(this,a,b||ep.te(),c);this.pd(16,!0)}w(vu,dp);Sn("goog-toggle-button",function(){return new vu(null)});function wu(a){U.call(this);this.L={};this.M=a}w(wu,U);v("xiv.ui.ViewBoxDialogs",wu);wu.ID_PREFIX="xiv.ui.ViewBoxDialogs";wu.CSS_SUFFIX={Sf:"generic-toggle",kE:"infodialog",lE:"infodialog-text",WN:"modaldialog"};var xu="Info_"+B(),yu="Help_"+B(),zu={BN:xu,uN:yu},Au="ToggleClass_"+B();f=wu.prototype;f.iH=function(){return this.L};f.hH=function(a){return this.L[a]};
f.Fn=function(a,b,c,d,e,h,k,l){e=null!=e?e:"";var n=this.M.$i("LEFT",c,a,e,function(b){var c=this.L[a];b="true"==b.getAttribute("checked");c.ca(b);c.Zw();Bu(this,c);this.dispatchEvent({type:b?"P":"Q",wz:this.L[a],xz:a})}.bind(this),d);null!=this.L[a]&&this.L[a].g();c=new fn;this.L[a]=c;Om(c,null!=k?k:!1);Vm(c,null!=l?l:null);c.k(this.M.Hb);Nm(c,0);this.L[a].Rd();c.Lc(e);M(c.a(),b);F(c,"f",function(){this.M.Fo(n)}.bind(this));F(c,Rm,function(){}.bind(this));this.L[a].ca(!0);this.L[a].Rd();this.L[a].Rd(!1);
!1===h&&Rn(this.M.be[a])};f.nG=function(){this.Fn(zu.VN,"xiv-ui-viewboxdialogs-meshes-dialog",wu.CSS.Sf,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Mesh.png","Volume Controls",!1,!1)};f.pG=function(){this.Fn(zu.tP,"xiv-ui-viewboxdialogs-volumes-dialog",wu.CSS.Sf,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Volume.png","Volume Controls",!1,!1)};f.kz=function(){Cu(this);Du(this)};
function Eu(a,b,c){var d=new fn;Vm(d,Ym);d.k(null!=b?b:document.body);d.cl(a);M(d.a(),"nrg-ui-dialogs-yesnomodal");Om(d,!0);var e=d.a(),h=d.Zh();Uc(d,Wm,function(a){var b=e.cloneNode(!0);b.style.opacity=1;b.style.display="inline";Q(e.parentNode,b);var n=h.cloneNode(!0);n.style.opacity=.7;n.style.display="inline";Q(e.parentNode,n);b.style.zIndex=2E9;n.style.zIndex=2E9;Qk([b,n],1,0,null,null,function(){R(b);delete b;R(n);delete n});"yes"===a.key.toLowerCase()&&null!=c&&c();d.iu=!0;d.Co()});d.ca(!0);
d.Rd(!0);d.iu=!1;e.style.opacity=0;e.style.zIndex=2E9;h.style.opacity=0;h.style.zIndex=2E9;zk(e,150);Ak(h,150,.7)}f.BA=function(){var a=[];C(this.L,function(b){b.va()&&a.push(b.a())});return a};f.showModalDialog=function(a){if(null==this.L[a])throw Error("Invalid dialog key: ",a);this.L[a].ca(!0);this.L[a].Rd()};
function Bu(a,b){C(null!=b?[b]:a.L,function(a){if(null!=a&&!la(a)){var b=a.xm,e=a.Xz(),h;if(null!=b&&null!=e){for(var k=[e,b],l=0;l<k.length;l++)for(h in k[l])if(isNaN(k[l][h])&&!la(k[l][h]))return;S(a.a().parentNode);h=S(a.a());var k=Hi(a.a()),l=e.left+(k.x-b.left)/b.width*e.width,b=e.top+(k.y-b.top)/b.height*e.height,n=k.x+h.width,p=k.y+h.height,m=e.left+e.width,q=e.top+e.height,l=k.x,b=k.y;n>m&&(l=e.left+e.width-h.width);l<e.left&&(l=e.left);p>q&&(b=e.top+e.height-h.height);b<e.top&&(b=e.top);
Fi(a.a(),l,b)}}})}f.update=function(){C(this.L,function(a){a.Zw();Bu(this,a)}.bind(this))};f.tp=function(a,b){var c=!1===b?0:1;window.console.log(a,this.L[a]);null!=this.L[a].a()&&Ak(this.L[a].a(),200,c)};f.Jq=function(){return this.L[yu]};
function Cu(a){null!=a.L[yu]&&a.L[yu].g();var b=new tu(0<a.M.Ua().vu().length,0<a.M.Ua().uu().length,0<a.M.Ua().tu().length);Om(b,!1);Vm(b,null);b.k(a.M.Hb);b.ca(!1);b.Rd();var c=a.M.$i("LEFT",wu.CSS.Sf,yu,"Help",function(a){a="true"==a.getAttribute("checked");b.ca(a);this.dispatchEvent({type:a?"P":"Q",wz:b})}.bind(a),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Help.png");F(b,"f",function(){this.M.Fo(c)}.bind(a));a.M.Fo(c);a.L[yu]=new tu}
function Du(a){null!=a.L[xu]&&a.L[xu].g();currDialog=new fn;M(currDialog.Qq(),"xiv-ui-viewboxdialogs-infodialog-title");var b="",b=0<a.M.Qa.length?a.M.Qa[0].Cu():Rk(a.M.Qa[0].ni);Om(currDialog,!1);currDialog.hk(b);Vm(currDialog,null);currDialog.k(a.M.Hb);currDialog.ca(!0);currDialog.Dr("left","top",0,-22);currDialog.Lc("Info.");M(currDialog.a(),wu.CSS.kE);M(currDialog.th[0],wu.CSS.lE);a.M.$i("LEFT",wu.CSS.Sf,xu,"Info.",function(a){a="true"==a.getAttribute("checked");currDialog.ca(a);currDialog.Dr("left",
"top",0,-15);this.dispatchEvent({type:a?"P":"Q",wz:currDialog});this.M.XC(a)}.bind(a),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Info.png");currDialog.Zr();a.L[xu]=currDialog;a.M.Wb(xu);a=Rh("nrg-ui-dialog-text",currDialog.a());M(a[0],"xiv-ui-viewboxdialogs-infodialog-text");M(currDialog.Ha(),"xiv-ui-viewboxdialogs-infodialog-content")}f.f=function(){delete this.M;null!=this.L&&(C(this.L,function(a){G(a);a.f();a.g()}.bind(this)),tb(this.L))};v("xiv.ui.ViewBoxDialogs.EventType",{jN:"P",iN:"Q"});
v("xiv.ui.ViewBoxDialogs.ID_PREFIX",wu.ID_PREFIX);v("xiv.ui.ViewBoxDialogs.CSS_SUFFIX",wu.CSS_SUFFIX);v("xiv.ui.ViewBoxDialogs.DIALOG_KEYS",zu);v("xiv.ui.ViewBoxDialogs.TOGGLED_CLASS",Au);v("xiv.ui.ViewBoxDialogs.createModalDialog",wu.UP);v("xiv.ui.ViewBoxDialogs.prototype.getDialogs",wu.prototype.iH);v("xiv.ui.ViewBoxDialogs.prototype.getDialog",wu.prototype.hH);v("xiv.ui.ViewBoxDialogs.prototype.createGenericToggleableDialog",wu.prototype.Fn);
v("xiv.ui.ViewBoxDialogs.prototype.createMeshesDialog",wu.prototype.nG);v("xiv.ui.ViewBoxDialogs.prototype.createVolumesDialog",wu.prototype.pG);v("xiv.ui.ViewBoxDialogs.prototype.createPostRenderDialogs",wu.prototype.kz);v("xiv.ui.ViewBoxDialogs.prototype.dispsePostRenderDialogs",wu.prototype.WP);v("xiv.ui.ViewBoxDialogs.prototype.setModalDialogOnYes",wu.prototype.EQ);v("xiv.ui.ViewBoxDialogs.prototype.showModalDialog",wu.prototype.showModalDialog);
v("xiv.ui.ViewBoxDialogs.prototype.getVisibleDialogElements",wu.prototype.BA);v("xiv.ui.ViewBoxDialogs.prototype.update",wu.prototype.update);v("xiv.ui.ViewBoxDialogs.prototype.toggleVisible",wu.prototype.tp);v("xiv.ui.ViewBoxDialogs.prototype.getHelpDialog",wu.prototype.Jq);v("xiv.ui.ViewBoxDialogs.prototype.disposeInternal",wu.prototype.f);function W(a,b,c,d){ad.call(this);this.M=a;this.na=b;this.Pa=c;this.L=d;this.Ed={p:null,c:null};this.rq={x:null,y:null};this.vg={l:!1,m:!1,r:!1};this.Nk={up:{},dn:{},ot:{},ov:{}};F(this.L,"P",this.FB.bind(this));a=document.body;this.tb=new eo;this.tb.Ql(a);F(this.tb,"key",this.ki.bind(this));this.kl=!1;document.addEventListener("mousemove",this.Lw.bind(this),!1)}w(W,ad);v("xiv.ui.ViewBoxInteractorHandler",W);
var Fu="Crosshairs_"+B(),Gu="Settings_"+B(),Hu="TwoDPan_"+B(),Iu="TwoDZoom_"+B(),Ju="Folder_"+B(),Ku={qd:Fu,zO:Gu,ZO:Hu,$O:Iu,rN:Ju};
W.CSS={Sf:"xiv-ui-viewboxinteractorhandler-generic-toggle",mx:"xiv-ui-viewboxinteractorhandler-generic-dialog",nx:"xiv-ui-viewboxinteractorhandler-generic-zippytree",vx:"xiv-ui-viewboxinteractorhandler-levelsdialog",PN:"xiv-ui-viewboxinteractorhandler-levelsdialog-hovered",QN:"xiv-ui-viewboxinteractorhandler-levels-slider",RN:"xiv-ui-viewboxinteractorhandler-levels-slidercontroller",SN:"xiv-ui-viewboxinteractorhandler-levels-sliderlabel",ON:"xiv-ui-viewboxinteractorhandler-levels-checkboxholder",
NN:"xiv-ui-viewboxinteractorhandler-levels-checkboxcontroller"};W.CURSOR_CSS={tF:"xiv-ui-viewboxinteractorhandler-zoom-follower",ox:"xiv-ui-viewboxinteractorhandler-viewframe-grab",rx:"xiv-ui-viewboxinteractorhandler-viewframe-grab-custom",px:"xiv-ui-viewboxinteractorhandler-viewframe-grabbing",qx:"xiv-ui-viewboxinteractorhandler-viewframe-grabbing-custom",Mx:"xiv-ui-viewboxinteractorhandler-viewframe-zoom-in",Nx:"xiv-ui-viewboxinteractorhandler-viewframe-zoom-out"};
W.ORIENTATION_KEY="Orientation_"+B();f=W.prototype;f.tb=null;f.xi=null;f.Ia=null;f.Ya=null;f.ex=!1;f.Rr=!1;f.Ub={};f.Vz=function(a){return this.Ub[a]};f.jz=function(){this.rz();Lu(this);Mu(this);this.nz();this.hz(!1);this.pz();this.qz();this.iz();this.hv()};function Nu(a){var b=a.M.Hb;C(W.CURSOR_CSS,function(a){Eh(b,a)})}function Ou(a,b,c,d){b=b?M:Eh;b(a.M.Hb,c);null!=d&&(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Chrome/i))&&b(a.M.Hb,d)}
function Pu(a){Ou(a,!0,W.CURSOR_CSS.ox,W.CURSOR_CSS.rx);Ou(a,!1,W.CURSOR_CSS.px,W.CURSOR_CSS.qx)}function Qu(a){Ou(a,!1,W.CURSOR_CSS.Nx);Ou(a,!0,W.CURSOR_CSS.Mx)}f.Lw=function(a){this.rq.x=a.clientX||a.pageX;this.rq.y=a.clientY||a.pageY};
f.LK=function(a){this.Ul=a.target;this.Ed.p=this.Ed.c;this.Ed.c=[this.rq.x,this.rq.y];if(null!=this.Ed.p){(new hs(this.Ed.c[0],this.Ed.c[1])).add(new hs(this.Ed.p[0],this.Ed.p[1]));a=this.Ed.c[0]-this.Ed.p[0];var b=this.Ed.c[1]-this.Ed.p[1];this.kl&&(this.Pf.style.visibility="hidden");this.ex?(this.kl&&this.kl&&(R(this.Pf),Q(this.Ul.Xi,this.Pf),this.Pf.style.visibility="visible",this.Pf.style.left=this.Ed.c[0]+20+"px",this.Pf.style.top=this.Ed.c[1]+"px"),Qu(this),this.vg.l&&Ru(this,a,b)):this.Rr&&
(Pu(this),this.vg.l&&(Ou(this,!1,W.CURSOR_CSS.ox,W.CURSOR_CSS.rx),Ou(this,!0,W.CURSOR_CSS.px,W.CURSOR_CSS.qx),this.Ul.oa.Qr([-1*a,-1*b]),this.Fm()))}};f.HK=function(){Nu(this);this.Ul=null;this.kl&&(this.Pf.style.visibility="hidden")};f.Rv=function(a){0==a.button?this.vg.l=!0:1==a.button?this.AM.vg.m=!0:2==a.button&&(this.vg.r=!0)};f.Sv=function(a){0==a.button?this.vg.l=!1:1==a.button?this.AM.vg.m=!1:2==a.button&&(this.vg.r=!1)};
f.ki=function(a){if(this.M.jr())if(-3<=a.keyCode-40&&0>=a.keyCode-40)a=a.keyCode,Su(this,this.Ul,40==a||37==a?-1:1);else switch(a.keyCode){case 27:a=this.M.Gu(Hu);window.console.log("escape","pan",a,a.getAttribute("checked"));"true"==a.getAttribute("checked").toString()&&this.M.Wb(Hu);"true"==this.M.Gu(Iu).getAttribute("checked").toString()&&this.M.Wb(Iu);break;case 90:this.M.Wb(Iu);break;case 72:case 80:this.M.Wb(Hu);break;case 66:case 76:this.M.Wb(this.Ub.levels);break;case 86:this.M.Wb(this.Ub.volumes);
break;case 77:this.M.Wb(this.Ub.meshes);break;case 65:this.M.Wb(this.Ub.annotations);break;case 67:this.M.Wb(Fu);break;case 83:this.M.Wb(this.Ub[Gu]);break;case 191:a.shiftKey&&this.M.Wb(yu);break;case 73:this.M.Wb(xu)}};function Ru(a,b,c){Nu(a);var d=function(){Qu(this);this.Ul.Mm()}.bind(a),e=function(){Ou(this,!0,W.CURSOR_CSS.Nx);Ou(this,!1,W.CURSOR_CSS.Mx);this.Ul.Nm()}.bind(a);Math.abs(b)>Math.abs(c)?1<b?d():e():0>c?d():e();Tu(a);a.Fm()}f.Ax=0;f.Bx=0;
f.iD=function(a){this.Ax=a.clientX;this.Bx=a.clientY;window.console.log("store mouse coords",this.Ax,this.Bx)};f.hv=function(){Uu(this,function(a,b){this.Nk.ov[b]=F(a.Ua(),"mouseover",this.LK.bind(this));var c=a.Ua().Ac;this.Nk.ot[b]=F(c,"mouseleave",this.HK.bind(this));this.Nk.dn[b]=F(c,"mousedown",this.Rv.bind(this));this.Nk.up[b]=F(c,"mouseup",this.Sv.bind(this))}.bind(this))};function Su(a,b,c){Uu(a,function(a,b,h){h.ia.C(h.ia.w()+c)}.bind(a),b.Xb())}
function Uu(a,b,c){if(null!=a.na){var d=a.Pa.Mq(),e=function(a,c){null!=d&&null!=d[c]&&b(a,c,d[c],a.hm())};if(r(c)){var h=a.na.Nq(c);if(null==h)throw Error("Invalid plane: ",h);e(a.na.Nq(c),c)}else C(a.na.yc,function(a,b){e(a,b)}.bind(a))}}f.qz=function(){this.M.$i("LEFT",W.CSS.Sf,Iu,"2D Zoom",function(a){Nu(this);if(this.ex=a="true"==a.getAttribute("checked").toString())this.M.Yw(Hu),Qu(this)}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-2DZoom.png");this.M.Wb(Iu)};
f.pz=function(){this.M.$i("LEFT",W.CSS.Sf,Hu,"2D Pan",function(a){Nu(this);if(this.Rr=a="true"==a.getAttribute("checked").toString())Pu(this),this.M.Yw(Iu)}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-2DPan.png");this.M.Wb(Hu)};
f.iz=function(){!this.M.QA()&&this.M.RA()&&(this.M.$i("LEFT",W.CSS.Sf,Ju,"Select a different catalog or volume",function(a){Nu(this);this.Rr=a="true"==a.getAttribute("checked").toString();Vu(this.M.sd,200);a&&(this.M.Bz(),Wu(this.M,this.M.sd,200),Pu(this))}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Folder.png"),this.M.Wb(Ju))};
f.hz=function(a){this.M.$i("LEFT",W.CSS.Sf,Fu,"Toggle Crosshairs",function(a){this.rD("true"==a.getAttribute("checked"))}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Crosshairs.png");!1===a&&this.M.Wb(Fu)};
f.nz=function(){this.Ub[Gu]=Gu+"_"+B();this.L.Fn(this.Ub[Gu],W.CSS.mx,W.CSS.Sf,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Settings.png","Settings",!1,!1);this.Ya[Gu]=new su;this.Ya[Gu].k();var a=this.Ya[Gu].a();M(a,W.CSS.nx);this.L.L[this.Ub[Gu]].a().appendChild(a);this.Ya[Gu].am();a=new ut;a.k();a.Jf("Enable 3D Rendering");a.ka.Fd(!0);this.Ya[Gu].rf(a.a(),"3D Rendering");F(a,"D",function(a){this.na.EC("V",a.checked)}.bind(this));return a};
f.Fm=function(){Uu(this,function(a,b,c,d){Xu(this,b,d)}.bind(this))};
function Yu(a){null!=a.na&&(D(a.xi.volumes.all,function(a){"Show Label Map"==a.ub.innerHTML&&F(a,"D",function(c){c="true"==c.checked.toString();var d=(a.Vd().labelmap.visible=c)?1:-1;Uu(this,function(a,b,c,l){a=c.ia;b=a.w();a.C(b+d);Zu(a,l)}.bind(this));$f(function(){Uu(this,function(a,b,c,l){a=c.ia;b=a.w();a.C(b-d);Zu(a,l)}.bind(this),1)}.bind(this),1)}.bind(this))}.bind(a)),Uu(a,function(a,c,d,e){var h=d.ia,k=d.Jd,l=d.pf;d=d.qd;h[W.ORIENTATION_KEY]=c;k[W.ORIENTATION_KEY]=c;l[W.ORIENTATION_KEY]=
c;d[W.ORIENTATION_KEY]=c;$u(this);av(this);Zu(h,e);Xu(this,h[W.ORIENTATION_KEY],e);bv(this,h);cv(this,this.Ub.volumes);null!=a.Ua()&&(F(a.Ua(),"I",function(){Tu(this)}.bind(this)),F(h,"u",function(a){Zu(a.target,e);Xu(this,a.target[W.ORIENTATION_KEY],e);bv(this,a.target)}.bind(this)),F(k,"h",function(a){dv(this,a.target,e);this.Fm()}.bind(this)),F(l,"h",function(){a.Ua().SC(l.w()/100);this.Fm()}.bind(this)))}.bind(a)),a.na.bC())}
function cv(a,b){var c=b.split("_")[0];null!=a.Ya[c]&&(a.Ya[c].Xc(),a.xi.Uf.refresh(),C(a.xi[c],function(a){null!=a&&D(a,function(a){switch(c.toLowerCase()){case "volumes":var d=b.split("_")[0];a instanceof At?(a.ka.checked=a.Vd()[Aq]||!1,null==this.Fs&&(this.Fs=[]),-1==this.Fs.indexOf(a)&&this.Fs.push(a)):"Show Label Map"==a.ub.innerHTML&&(a.Vd()[Wt.HAS_LABEL_MAP_KEY]?a.Vd().labelmap.visible&&!a.ka.gh()&&a.Fd(!0):(R(a.a()),a.a().style.visibility="hidden",a.a().style.height="0px",a.Fd(!1)),this.Ya[d].Xc());
a.refresh();break;case "meshes":a instanceof wt&&a.o();break;case "annotations":a instanceof wt&&(window.console.log("ANNOT",a),a.o())}}.bind(this))}.bind(a)))}f.FB=function(a,b){null==a.xz&&null==b||cv(this,null!=b?b:a.xz)};f.Ny=function(){var a=this.Ia.zf.hA(Et.LEVEL_CUTOFF);this.Ia.max.To(a);this.Ia.min.To(0);this.Ia.min.C(0);this.Ia.max.C(a);Jt(this.xi.Uf);this.Ia.zf.refresh();this.L.L[this.Ub.levels]};
function Zu(a,b){if(null!=b){var c=a[W.ORIENTATION_KEY],d="Y"==c||"Z"==c?a.T()-a.w()-1:a.w()-1;"false"==b.reslicing.toString()&&("transverse"==b[J.ORIENTATION_KEY]&&"Z"==c?d+=2:"coronal"==b[J.ORIENTATION_KEY]&&"Y"==c?d+=2:"sagittal"==b[J.ORIENTATION_KEY]&&"X"==c&&(d+=1));b["index"+a[W.ORIENTATION_KEY]]=d}}function ev(a,b,c,d,e){var h=a.na.Nq(b).Ua();a=a.Pa.Tz().zu(b);b=null;null!=a&&(b=a[Yq]);null!=b&&("vertical"==c?b.QC(h.xA(d,e)):"horizontal"==c&&b.RC(h.cA(d,e)))}
function Xu(a,b,c){if(null!=c)switch(b){case "X":b=c.indexX;ev(a,"Y","vertical",b,!0);ev(a,"Z","vertical",b,!0);break;case "Y":b=c.indexY;ev(a,"X","vertical",b,!1);ev(a,"Z","horizontal",b,!1);break;case "Z":b=c.indexZ,ev(a,"X","horizontal",b,!1),ev(a,"Y","horizontal",b,!1)}}function bv(a,b){Uu(a,function(a,b,e){a=e.Jd;e=e.ia;a.Gb(e.T());a.Nb(1);a.C(e.w())}.bind(a),b[W.ORIENTATION_KEY])}function Tu(a){Uu(a,function(a,c,d){d.pf&&a.Ua()&&(a=a.Ua().EA(),d.pf.w(),d.pf.C(Math.round(100*a)))}.bind(a))}
function dv(a,b,c){null!=c&&Uu(a,function(a,c,h){h.ia.C(b.w())}.bind(a),b[W.ORIENTATION_KEY])}function Lu(a){Uu(a,function(a,c,d){null!=d.ia&&d.ia.C(d.ia.T()/2)}.bind(a))}
function Mu(a){Uu(a,function(a,c,d,e){if(null!=e[Wt.SLICE_TO_RAS_KEY]&&null!=d.ia){slider=d.ia;orientation=slider[W.ORIENTATION_KEY];a=e.bbox;e=e[Wt.SLICE_TO_RAS_KEY];var h;"X"==orientation?(h=a[1]-a[0],h=(e.RL[0]-a[0])/h):"Y"==orientation?(h=a[3]-a[2],h=(e.mG[1]-a[2])/h):"Z"==orientation&&(h=a[5]-a[4],h=(e.cG[2]-a[4])/h);slider.C(Math.round(slider.T()*h)+1)}}.bind(a))}
function $u(a){var b,c;Uu(a,function(a,e,h,k){null!=h.ia&&(c=h.ia,b=c[W.ORIENTATION_KEY],null!=k&&(c.Gb(a.Ua().oA()),c.Nb(1),null!=b&&c.C(k["index"+b]+1)))})}function av(a){var b;Uu(a,function(a,d,e,h){null!=e.ia&&(b=e.ia,playbutton=e.Dh,null!=h&&playbutton.KC(b))})}f.JB=function(){Uu(this,function(a,b,c,d){dv(this,c.Jd,d);Tu(this)}.bind(this));this.Fm()};
f.Sw=function(a){var b=!1===a?0:1;Uu(this,function(a,d,e){Ak(e.ia.a(),200,b);Ak(e.Jd.a(),200,b);Ak(e.qd.Ig,200,b);Ak(e.qd.pg,200,b);Ak(e.pf.a(),200,b)}.bind(this))};f.cJ=function(){this.Sw(!1);this.L.tp(xu,!1)};f.iM=function(){this.Sw(!0);this.L.tp(xu,!0)};f.update=function(){this.Pa.zp()};f.rD=function(a){var b=!0==a?"visible":"hidden";Uu(this,function(a,d,e){null!=e.qd&&(e.qd.Ig.style.visibility=b,e.qd.pg.style.visibility=b)}.bind(this))};
f.xD=function(){null!=this.Pa&&null!=this.na&&Uu(this,function(a,b,c,d){if(null!=c){var e=c.ia;c=c.Jd;e[W.ORIENTATION_KEY]=b;c[W.ORIENTATION_KEY]=b;null!=a.Ua()&&(dv(this,c,d),e.o())}}.bind(this))};
f.lD=function(a){a.yC(serverRoot+"/images/viewer/xiv/ui/LayoutMenu/menu.png");C({Sagittal:{Ch:Kr,pb:serverRoot+"/images/viewer/xiv/ui/Layouts/sagittal.png"},Coronal:{Ch:Sr,pb:serverRoot+"/images/viewer/xiv/ui/Layouts/coronal.png"},Transverse:{Ch:Or,pb:serverRoot+"/images/viewer/xiv/ui/Layouts/transverse.png"},"3D":{Ch:Jr,pb:serverRoot+"/images/viewer/xiv/ui/Layouts/3d.png"},Conventional:{Ch:Lr,pb:serverRoot+"/images/viewer/xiv/ui/Layouts/conventional.png"},"Four-Up":{Ch:Pr,pb:serverRoot+"/images/viewer/xiv/ui/Layouts/four-up.png"},
"2D Row":{Ch:Qr,pb:serverRoot+"/images/viewer/xiv/ui/Layouts/2drow.png"},"2D Widescreen":{Ch:Hr,pb:serverRoot+"/images/viewer/xiv/ui/Layouts/2dwidescreen.png"}},function(b,c){a.sy(c,b.pb);this.Pa.py(c,b.Ch);"Four-Up"==c&&this.Pa.xC(c)}.bind(this));F(a,"item_selected",this.BK.bind(this))};f.BK=function(a){this.Pa.pi(a.title);null!=this.L&&null!=this.L.Jq()&&this.L.Jq().tw(a.target.uj.src)};function fv(a,b){F(a.Ya[b].pa,"c",function(a){this.FB(a,this.Ub[b])}.bind(a))}
function gv(a,b){F(b,"D",function(a){D(this.Fs,function(b){var e=b.Vd();b!==a.target?(b.ka.checked=!1,e.visible=!1):(e.visible=!0,this.na.cC(e))}.bind(this))}.bind(a))}function hv(a,b){C(a.xi[b],function(a,d){g(a)&&D(a,function(a){var c=a.Pn||[];"all"!==d&&0<c.length&&c.push(d);this.Ya[b].rf(a.a(),c);a instanceof At&&gv(this,a)}.bind(this))}.bind(a))}
function iv(a){a.Ya=Tt();a.Ub=wb(a.Ya);C(a.Ya,function(a,c){var d=!1;switch(c){case "volumes":0==this.na.vu().length&&(d=!0);break;case "meshes":0==this.na.uu().length&&(d=!0);break;case "annotations":0==this.na.tu().length&&(d=!0)}d?ub(this.Ya,c):(this.Ya[c]=new su,this.Ya[c].k(),this.Ub[c]=c+"_"+B(),hv(this,c),fv(this,c))}.bind(a))}f.rz=function(){this.xi=this.na.kf;this.Ia=this.xi.Uf.n;iv(this);jv(this);Yu(this)};
function jv(a){C(a.Ya,function(a,c){var d=!1;C(this.xi[c],function(a){null!=a&&g(a)&&0<a.length&&(d=!0)}.bind(this));if(d){this.L.Fn(this.Ub[c],W.CSS.mx,W.CSS.Sf,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-"+db(c)+".png",db(c),!1,!1);var e=this.Ya[c].a();M(e,W.CSS.nx);this.L.L[this.Ub[c]].a().appendChild(e);1<this.Ya[c].pa.Hu().length?this.Ya[c].Bn():(this.Ya[c].am(),this.Ya[c].Xc());"levels"==c&&kv(this)}}.bind(a))}
function kv(a){var b=a.L.L[a.Ub.levels],c=a.Ya.levels.pa,d=b.a();M(d,W.CSS.vx);M(b.Qq(),W.CSS.vx+"-title");var e=a.Ya.levels.fb.a();e.style.visibility="hidden";R(e);D(c.Hu(),function(a){a.lb.style.height=0;a.lb.style.opacity=0;a.lb.style.visibility="hidden"});var c=a.Ya.levels.pa.nA(1)[0],e=O("div",{id:"HistDetails_"+B(),"class":"xiv-ui-viewboxinteractorhandler-histdetails"}),h=O("div",{id:"HistDetailsFade_"+B(),"class":"xiv-ui-viewboxinteractorhandler-histdetails-fadebottom"});d.appendChild(h);d=
O("div",{id:"HistDetauls_"+B(),"class":"xiv-ui-viewboxinteractorhandler-histdetails-expandbutton"},"Histogram...");e.appendChild(d);e.appendChild(a.Ia.Yb.a());e.appendChild(a.Ia.oe.a());di(c.uf,e,1);F(e,"mouseenter",function(){h.style.opacity=0;h.style.visibility="visible";zk(h,220)});F(e,"mouseleave",function(){Ck(h,220,function(){h.style.visibility="hidden"})});a.Ia.Yb.a().style.width="85%";a.Ia.Yb.a().style.left="1%";a.Ia.Yb.a().style.top="20px";a.Ia.oe.a().style.width="90%";a.Ia.oe.a().style.left=
"10px";a.Ia.oe.a().style.top="25px";a.Ia.oe.Fd(!1);a.M.Wb(a.Ub.levels);b.Dr("right","top",10,40);a.M.Wb(a.Ub.levels)}
f.g=function(){W.d.g.call(this);document.removeEventListener("mousemove",this.Lw.bind(this));document.removeEventListener("mousemove",this.Lw);null!=this.tb&&(this.tb.g(),delete this.tb);null!=this.Ub&&tb(this.Ub);delete this.Ub;null!=this.Ya&&(C(this.Ya,function(a){a.g()}),tb(this.Ya));delete this.Ya;tb(this.Ed);delete this.Ed;C(this.Nk,function(a){C(a,function(a){Wc(a);delete a});tb(a)});tb(this.Nk);delete this.Nk;this.kl&&(R(this.Pf),delete this.Pf);delete this.kl;delete this.xi;delete this.ex;
delete this.Rr;delete this.M;delete this.na;delete this.Pa;delete this.L;delete this.lQ};v("xiv.ui.ViewBoxInteractorHandler.EventType",{mO:"R",MN:"S",cP:"T",kN:"U"});v("xiv.ui.ViewBoxInteractorHandler.TOGGLEABLE",Ku);v("xiv.ui.ViewBoxInteractorHandler.ORIENTATION_KEY",W.ORIENTATION_KEY);v("xiv.ui.ViewBoxInteractorHandler.DIALOG_SPLIT","_");v("xiv.ui.ViewBoxInteractorHandler.prototype.createInteractors",W.prototype.jz);v("xiv.ui.ViewBoxInteractorHandler.prototype.getDialogKey",W.prototype.Vz);
v("xiv.ui.ViewBoxInteractorHandler.prototype.createTwoDZoomToggle",W.prototype.qz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createTwoDPanToggle",W.prototype.pz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createCrosshairToggle",W.prototype.hz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createFolderToggle",W.prototype.iz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createSettingsDialog",W.prototype.nz);v("xiv.ui.ViewBoxInteractorHandler.prototype.syncAllCrosshairs",W.prototype.Fm);
v("xiv.ui.ViewBoxInteractorHandler.prototype.applyAutoLevel",W.prototype.Ny);v("xiv.ui.ViewBoxInteractorHandler.prototype.onLayoutResize",W.prototype.JB);v("xiv.ui.ViewBoxInteractorHandler.prototype.toggleInteractorsVisible",W.prototype.Sw);v("xiv.ui.ViewBoxInteractorHandler.prototype.hideInteractors",W.prototype.cJ);v("xiv.ui.ViewBoxInteractorHandler.prototype.showInteractors",W.prototype.iM);v("xiv.ui.ViewBoxInteractorHandler.prototype.update",W.prototype.update);
v("xiv.ui.ViewBoxInteractorHandler.prototype.toggleCrosshairsVisible",W.prototype.rD);v("xiv.ui.ViewBoxInteractorHandler.prototype.updateInteractorStyles",W.prototype.xD);v("xiv.ui.ViewBoxInteractorHandler.prototype.syncLayoutMenuToLayoutHandler",W.prototype.lD);v("xiv.ui.ViewBoxInteractorHandler.prototype.createViewableCtrls",W.prototype.rz);v("xiv.ui.ViewBoxInteractorHandler.prototype.dispose",W.prototype.g);function lv(){xc.call(this)}w(lv,xc);v("xiv.utils.ErrorCatcher",lv);
function mv(a){function b(a){a.target.g()}var c;g(a)||(a=[a]);null!=c&&!g(c)&&(c=[c]);var d=new hn;Vm(d,Xm);D(a,function(a){d.hk(a)});null!=c&&D(c,function(a){d.xt(a)});d.Lc("XImgView Error");d.ca(!0);d.a().style.position="fixed";d.Rd();d.a().style.opacity=0;zk(d.a(),400);d.Zh().style.opacity=0;Ak(d.Zh(),400,.75);d.a().style.height="250px";a=S(d.a());d.a().style.top="calc(50% - "+a.height/2+"px)";d.a().style.left="calc(50% - "+a.width/2+"px)";d.Zr();d.Rd();Uc(d,Wm,b);Uc(d,"f",b)}
function nv(){var a,b='<a target="_blank" style="color: #5CB8E6"  href=';ac()?(a="Internet Explorer",b+='"http://msdn.microsoft.com/en-us/library/ie/bg182648(v=vs.85).aspx">'):Yb("Chrome")||Yb("CriOS")?(a="Chrome",b+='"https://productforums.google.com/forum/#!msg/chrome/CgYesRogD4c/sU1TQsRgnWgJ">'):Yb("Firefox")?(a="Firefox",b+='"https://support.mozilla.org/en-US/questions/984663">'):bc()?(a="Safari",b+='"https://discussions.apple.com/thread/3300585?start=0">'):$b()&&(a="Opera",b+='"http://techdows.com/2012/06/turn-on-hardware-acceleration-and-webgl-in-opera-12.html">');
mv('<br>It looks like <a target="_blank" style="color: #5CB8E6" href="https://developer.mozilla.org/en-US/docs/Web/WebGL/Getting_started_with_WebGL">Experimental-WebGL</a> is disabled.<br><br><br>'+(b+("How to enable WebGL in "+a+".</a>")))}lv.checkForWebGL=function(){var a=O("canvas"),b;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(c){b=null}return null!=b?!0:!1};f=lv.prototype;f.Qt=[];f.ml=null;f.Fr=null;f.Id=null;f.fu=document.body;f.Lv=null;f.aH=function(){return this.Qt};
f.DC=function(a){this.Lv=a};f.oC=function(a){this.fu=a};function ov(a){Kb(a.Qt);a.ml=window.console.log;a.Fr=function(){a.ml&&a.ml.apply(this,arguments);var b="";D(arguments,function(a,d){0<d&&(b+=" ");b+=a});a.Qt.push(b)};window.console.log=a.Fr}f.Gs=function(a){!0===a?(ov(this),window.onerror=this.Kv.bind(this)):(window.onerror=void 0,null!=this.ml&&(window.console.log=this.ml,this.Fr=this.ml=null))};
f.Kv=function(a,b,c){if(null==this.Id){null!=this.Lv&&this.Lv();var d="",e="",d="<b>Render Error!</b><br><br>";r(a)&&(e+=a+"<br>");r(b)&&(e+="src: "+b+"<br>",u(c)&&(e+=" line: "+c+"<br>"));this.Id=new hn;this.Id.k(this.fu);Vm(this.Id,null);this.Id.hk(d);this.Id.xt(e);Om(this.Id,!0);this.Id.ca(!0);this.Id.Zr();this.Id.Rd();Uc(this.Id,"f",function(a){a.target.g();this.Id=null}.bind(this))}};f.clear=function(){null!=this.Id&&(this.Id.g(),delete this.Id)};
f.g=function(){lv.d.g.call(this);this.clear();delete this.ml;delete this.Fr;delete this.fu};v("xiv.utils.ErrorCatcher.EventType",{ERROR:"V"});
v("xiv.utils.ErrorCatcher.isCompatible",function(){var a=!0,b=cc(),c={Chrome:{ko:Yb("Chrome")||Yb("CriOS"),xo:11},IE:{ko:ac(),xo:11},Safari:{ko:bc(),xo:5.1},Opera:{ko:$b(),xo:12},Firefox:{ko:Yb("Firefox"),xo:4}},d=!1;C(c,function(c){c.ko&&!d&&1==Za(c.xo,b)&&(mv("<br>XImgView is supported on the following browsers:<br>Google Chrome, Version 12+<br>Firefox, Version 4+<br>Safari, Version 5.1+<br>Opera Next, Version 12+<br>Internet Explorer, Version 11+<br>"),a=!1,d=!0)});a&&!lv.checkForWebGL()&&(nv(),
a=!1);return a});v("xiv.utils.ErrorCatcher.executeTestError",function(){throw"TEST ERROR!";});v("xiv.utils.ErrorCatcher.checkForWebGL",lv.checkForWebGL);v("xiv.utils.ErrorCatcher.prototype.setOnErrorCallback",lv.prototype.DC);v("xiv.utils.ErrorCatcher.prototype.setDialogParent",lv.prototype.oC);v("xiv.utils.ErrorCatcher.prototype.getConsoleLog",lv.prototype.aH);v("xiv.utils.ErrorCatcher.prototype.waitForError",lv.prototype.Gs);v("xiv.utils.ErrorCatcher.prototype.clear",lv.prototype.clear);
v("xiv.utils.ErrorCatcher.prototype.onError",lv.prototype.Kv);v("xiv.utils.ErrorCatcher.prototype.dispose",lv.prototype.g);E&&qc(8);function Ih(){U.call(this);this.Ko=O("div",{id:Ih.ID_PREFIX+"_ProgBarHolder_"+B(),"class":Ih.CSS.JE});Q(this.a(),this.Ko);this.ym=O("div",{id:Ih.ID_PREFIX+"_ProgBarThumb_"+B(),"class":Ih.CSS.Ss});Q(this.Ko,this.ym);this.hh=O("div",{id:Ih.ID_PREFIX+"_LabelHolder_"+B(),"class":Ih.CSS.qE});Q(this.a(),this.hh);this.ij=O("div",{id:Ih.ID_PREFIX+"_EndNode_"+B(),"class":Ih.CSS.$D});Q(this.ym,this.ij)}w(Ih,U);v("xiv.ui.ProgressBarPanel",Ih);var pv={};Ih.ID_PREFIX="xiv.ui.ProgressBarPanel";
Ih.CSS_SUFFIX={Ss:"thumb",JE:"progbarholder",hO:"progressbar",qE:"labelholder",$D:"endnode",Ls:"endnode-glow",tN:"glownode"};pv={UM:"W"};f=Ih.prototype;f.Zc=0;f.ce=null;f.po="";f.zw=!1;f.Jf=function(a){this.po=a;this.hh.innerHTML=this.po};f.yw=function(a){this.zw=null!=a&&!1===a?!1:!0;this.C(this.Zc)};
f.C=function(a){0>a||100<a||(this.Zc=a,this.ym.style.width="calc("+a.toString()+"% + 4px)",0==this.Zc&&Hh(this.ij)?Eh(this.ij,Ih.CSS.Ls):90<this.Zc&&!Hh(this.ij)&&M(this.ij,Ih.CSS.Ls),this.hh.innerHTML=this.po,this.zw&&(0<this.po.length&&(this.hh.innerHTML+=" "),this.hh.innerHTML+=this.Zc.toString()+"%"))};f.w=function(){return this.Zc};
f.f=function(){Ih.d.f.call(this);null!=this.ym&&(R(this.ym),delete this.ym);null!=this.Ko&&(R(this.Ko),delete this.Ko);null!=this.hh&&(R(this.hh),delete this.hh);null!=this.ij&&(R(this.ij),delete this.ij);null!=this.ce&&(tb(this.ce),delete this.ce);this.po=this.zw=null};v("xiv.ui.ProgressBarPanel.EventType",pv);v("xiv.ui.ProgressBarPanel.ID_PREFIX",Ih.ID_PREFIX);v("xiv.ui.ProgressBarPanel.CSS_SUFFIX",Ih.CSS_SUFFIX);v("xiv.ui.ProgressBarPanel.prototype.setLabel",Ih.prototype.Jf);
v("xiv.ui.ProgressBarPanel.prototype.showValue",Ih.prototype.yw);v("xiv.ui.ProgressBarPanel.prototype.setValue",Ih.prototype.C);v("xiv.ui.ProgressBarPanel.prototype.getValue",Ih.prototype.w);v("xiv.ui.ProgressBarPanel.prototype.disposeInternal",Ih.prototype.f);function qv(){U.call(this)}w(qv,su);v("nrg.ui.ThumbnailGallery",qv);qv.ID_PREFIX="nrg.ui.ThumbnailGallery";qv.CSS_SUFFIX={ZD:"dialog",Ts:"thumbnail",Us:"thumbnail-image",SO:"thumbnail-text"};var rv=B();f=qv.prototype;f.ts=!1;f.Dw=function(a){this.ts=a;null!=this.pa&&this.ts&&this.pa.ow(sv)};f.k=function(a){qv.d.k.call(this,a);tv(this);this.ts&&this.pa.ow(sv)};
function sv(a,b){if(null!=a.childNodes&&0!=a.childNodes.length)for(var c=ei(a),d=b[rv].toLowerCase(),e,h,k=c.length,l=0;l<k;l++)if(h=c[l],null!=h[rv]&&(e=h[rv].toLowerCase(),e=La(d,e),0>e)){ci(b,h);return}a.appendChild(b)}f.Gn=function(a,b){var c=new ui;Gh(c.a(),Ch(c.a()),this.Ij);Gh(c.df,Ch(c.df),this.gl);Gh(c.cb,Ch(c.cb),this.fl);c.rw(a);c.dp(b);return c};f.loop=function(a){C(this.zc,function(b){a(b)})};
f.Pl=function(a,b){if(!qb(this.zc,a)){this.zc=this.zc?this.zc:{};this.zc[a.a().getAttribute("id")]=a;a.a()[rv]=a.Eu().toLowerCase();this.rf(a.a(),b);this.Xc();var c=a.a();F(c,"mouseenter",function(){this.dispatchEvent({type:"X",Bi:a})}.bind(this));F(c,"mouseleave",function(){this.dispatchEvent({type:"Y",Bi:a})}.bind(this))}};f.Zi=function(a,b,c){a=this.Gn(a,b);this.Pl(a,c);uv(this,"image");uv(this,"text");uv(this,"thumbnail");this.Xc();return a};
f.ep=function(){qv.d.ep.call(this);F(this.Ag,"mouseover",this.iD.bind(this))};f.iD=function(a){this.vB=a.clientX;this.wB=a.clientY};function uv(a,b){var c,d=[],e="";for(e in a.zc){switch(b){case "thumbnail":d=a.Ij;c=a.zc[e].a();break;case "image":d=a.fl;c=a.zc[e].cb;break;case "text":d=a.gl,c=a.zc[e].df}Gh(c,Ch(c),d)}}f.vy=function(a){null!=this.Ij||tv(this);this.Ij.push(a);uv(this,"thumbnail")};f.yy=function(a){this.fl.push(a);uv(this,"image")};f.zy=function(a){this.gl.push(a);uv(this,"text")};
f.o=function(a){a&&tk(this.a(),a)};function tv(a){var b=new ui;a.Ij=Ch(b.a());a.Ij.push(qv.CSS.Ts);a.fl=Ch(b.cb);a.fl.push(qv.CSS.Us);a.gl=Ch(b.df);a.gl.push(qv.CSS.Hx);R(b.a());delete b}
f.f=function(){qv.d.f.call(this);delete this.ts;null!=this.vB&&delete this.vB;null!=this.wB&&delete this.wB;null!=this.zc&&(this.Jn(this.zc),delete this.zc);null!=this.pa&&(G(this.pa),this.pa.g(),delete this.pa);null!=this.Ij&&(Kb(this.Ij),delete this.Ij);null!=this.fl&&(Kb(this.fl),delete this.fl);null!=this.gl&&(Kb(this.gl),delete this.gl);delete this.JQ};v("nrg.ui.ThumbnailGallery.ID_PREFIX",qv.ID_PREFIX);v("nrg.ui.ThumbnailGallery.CSS_SUFFIX",qv.CSS_SUFFIX);
v("nrg.ui.ThumbnailGallery.THUMB_SORT_TAG",rv);v("nrg.ui.ThumbnailGallery.thumbnailSorter",sv);v("nrg.ui.ThumbnailGallery.prototype.sortThumbnailsOnInsert",qv.prototype.Dw);v("nrg.ui.ThumbnailGallery.prototype.render",qv.prototype.k);v("nrg.ui.ThumbnailGallery.prototype.createThumbnail",qv.prototype.Gn);v("nrg.ui.ThumbnailGallery.prototype.loop",qv.prototype.loop);v("nrg.ui.ThumbnailGallery.prototype.addThumbnail",qv.prototype.Pl);v("nrg.ui.ThumbnailGallery.prototype.createAndAddThumbnail",qv.prototype.Zi);
v("nrg.ui.ThumbnailGallery.prototype.setZippyTreeEvents",qv.prototype.ep);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailClass",qv.prototype.vy);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailImageClass",qv.prototype.yy);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailTextClass",qv.prototype.zy);v("nrg.ui.ThumbnailGallery.prototype.updateStyle",qv.prototype.o);v("nrg.ui.ThumbnailGallery.prototype.disposeInternal",qv.prototype.f);function vv(){U.call(this)}w(vv,U);v("xiv.ui.ViewableGroupMenu",vv);vv.ID_PREFIX="xiv.ui.ViewableGroupMenu";vv.CSS_SUFFIX={Qm:"header",Ts:"thumbnail",Hx:"thumbnail-text",Us:"thumbnail-image",aF:"thumbnailgallery",Cp:"background"};f=vv.prototype;f.aa=null;f.oc=null;f.im=null;
f.k=function(a){vv.d.k.call(this,a);this.oc=O("div",{id:this.constructor.ID_PREFIX+"_Background_"+B()});M(this.oc,this.constructor.CSS.Cp);null!=this.a().parentNode||null!=a?Q(a||this.a().parentNode,this.oc):Q(this.a(),this.oc);this.im=O("div",{id:this.constructor.ID_PREFIX+"_HeaderText_"+B(),"class":vv.CSS.Qm});this.im.innerHTML="<b> Select Slicer Scene View </b>";Q(this.a(),this.im);null!=this.aa||this.reset()};f.Qn=function(){return this.oc};f.show=function(){zk(this.a(),gm.VM)};
f.Zi=function(a,b){null!=this.aa||this.reset();var c=this.aa.Zi(a,b);wv(this,c);return c};f.km=function(){Ck(this.a(),500);R(this.a())};f.reset=function(){null!=this.aa&&(this.aa.g(),delete this.aa);this.aa=new qv;this.aa.Dw(!0);this.aa.k(this.a());M(this.aa.a(),vv.CSS.aF);this.aa.vy(vv.CSS.Ts);this.aa.yy(vv.CSS.Us);this.aa.zy(vv.CSS.Hx)};function wv(a,b){F(b,"L",function(a){a.target.hw(300,function(){this.dispatchEvent({type:"Z",Pw:b})}.bind(this))}.bind(a))}
f.f=function(){vv.d.f.call(this);null!=this.oc&&(R(this.oc),delete this.oc);null!=this.im&&(R(this.im),delete this.im);null!=this.aa&&(this.aa.g(),delete this.aa)};v("xiv.ui.ViewableGroupMenu.ID_PREFIX",vv.ID_PREFIX);v("xiv.ui.ViewableGroupMenu.EventType",{qP:"Z"});v("xiv.ui.ViewableGroupMenu.CSS_SUFFIX",vv.CSS_SUFFIX);v("xiv.ui.ViewableGroupMenu.prototype.render",vv.prototype.k);v("xiv.ui.ViewableGroupMenu.prototype.getBackground",vv.prototype.Qn);v("xiv.ui.ViewableGroupMenu.prototype.show",vv.prototype.show);
v("xiv.ui.ViewableGroupMenu.prototype.createAndAddThumbnail",vv.prototype.Zi);v("xiv.ui.ViewableGroupMenu.prototype.hide",vv.prototype.km);v("xiv.ui.ViewableGroupMenu.prototype.reset",vv.prototype.reset);v("xiv.ui.ViewableGroupMenu.prototype.disposeInternal",vv.prototype.f);var xv;function yv(a,b,c,d,e){this.Yi=a;this.Qk=b;this.Iy=c;this.ZF=d;this.Io=e}yv.prototype.getName=function(){return this.Qk};function zv(a){return!a.Qk||"[object Object]"==a.Yi}
function Av(a){var b=[a.Yi?Bv(a.Yi)+".":"",a.Qk?Bv(Cv(a.Qk)):"anonymous",Bv(a.ZF),a.Iy?" [as "+Bv(Cv(a.Iy))+"]":""];if(a.Io)if(b.push(" at "),Boolean(ba.CLOSURE_INSPECTOR___&&ba.CLOSURE_INSPECTOR___.supportsJSUnit)){var c=a.Io.match(/\d+$/)[0];b.push('<a href="" onclick="CLOSURE_INSPECTOR___.showLine(\'',Bv(a.Io),"', '",c,"'); return false\">",Bv(a.Io),"</a>")}else b.push(Bv(a.Io));return b.join("")}
var Dv=/^    at(?: (?:(.*?)\.)?((?:new )?(?:[a-zA-Z_$][\w$]*|<anonymous>))(?: \[as ([a-zA-Z_$][\w$]*)\])?)? (?:\(unknown source\)|\(native\)|\((?:eval at )?((?:http|https|file):\/\/[^\s)]+|javascript:.*)\)|((?:http|https|file):\/\/[^\s)]+|javascript:.*))$/,Ev=/^([a-zA-Z_$][\w$]*)?(\(.*\))?@(?::0|((?:http|https|file):\/\/[^\s)]+|javascript:.*))$/,Fv=/^(?:(?:([a-zA-Z_$][\w$]*)|<anonymous function(?:\: (?:([a-zA-Z_$][\w$]*(?:\.[a-zA-Z_$][\w$]*)*)\.)?([a-zA-Z_$][\w$]*))?>)(\(.*\)))?@((?:http|https|file):\/\/[^\s)]+|javascript:.*)?$/,
Gv=/^function ([a-zA-Z_$][\w$]*)/,Hv=/^   at ([a-zA-Z_$][\w$]*(?:\s+\w+)*)\s*\((eval code:[^)]*|((?:http|https|file):\/\/[^\s)]+|javascript:.*))\)?$/;
function Iv(){for(var a=[],b=arguments.callee.caller,c=0;b&&20>c;){var d=Function.prototype.toString.call(b).match(Gv),d=d?d[1]:"",e=["("];if(b.arguments)for(var h=0;h<b.arguments.length;h++){var k=b.arguments[h];0<h&&e.push(", ");r(k)?e.push('"',k,'"'):k&&k.$replay?e.push("goog.testing.Mock"):e.push(String(k))}else e.push("unknown");e.push(")");a.push(new yv("",d,"",e.join(""),""));try{b=b.caller}catch(l){break}c++}return a}
function Jv(a){var b=a.match(Dv);if(b)return new yv(b[1]||"",b[2]||"",b[3]||"","",b[4]||b[5]||"");if(5E5<a.length){var b=a.indexOf("("),c=a.lastIndexOf("@"),d=a.lastIndexOf(":"),e="";0<=b&&b<c&&(e=a.substring(0,b));var h="";0<=c&&c+1<d&&(h=a.substring(c+1));d="";0<=b&&0<c&&b<c&&(d=a.substring(b,c));return new yv("",e,"",d,h)}return(b=a.match(Ev))?new yv("",b[1]||"","",b[2]||"",b[3]||""):(b=a.match(Fv))?new yv(b[2]||"",b[1]||b[3]||"","",b[4]||"",b[5]||""):(b=a.match(Hv))?new yv("",b[1]||"","","",b[2]||
""):null}function Cv(a){return xv?xv(a):a}function Bv(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Kv(){var a=Error();if(a.stack)return a.stack;try{null.x()}catch(b){return b.stack}return""}v("setDeobfuscateFunctionName",function(a){xv=a});function Lv(a,b){return a==b}function Mv(a,b){return a.toString()===b.toString()}var Nv={String:Lv,Number:Lv,Boolean:Lv,Date:function(a,b){return a.getTime()==b.getTime()},RegExp:Mv,Function:Mv};function Ov(a,b,c){return Math.abs(a-b)<=c}var Vv={Number:Ov};
function Wv(a){var b=typeof a;try{switch(b){case "object":if(null==a){b="null";break}case "function":switch(a.constructor){case (new String("")).constructor:b="String";break;case (new Boolean(!0)).constructor:b="Boolean";break;case (new Number(0)).constructor:b="Number";break;case [].constructor:b="Array";break;case RegExp().constructor:b="RegExp";break;case (new Date).constructor:b="Date";break;case Function:b="Function";break;default:var c=a.constructor.toString().match(/function\s*([^( ]+)\(/);
c&&(b=c[1])}break}}catch(d){}finally{b=b.substr(0,1).toUpperCase()+b.substr(1)}return b}function Xv(a){var b;try{b="<"+String(a)+">"}catch(c){b="<toString failed: "+c.message+">"}null!==a&&void 0!==a&&(b+=" ("+Wv(a)+")");return b}function Yv(a,b){return b.length==a+1?b[0]:null}function Zv(a,b,c){return c.length==b+1?c[a]:c[a-1]}function $v(a,b){b.length==a||b.length==a+1&&r(b[0])||aw(null,"Incorrect arguments passed to assert function")}
function bw(a,b){var c="Expected "+Xv(a)+" but was "+Xv(b);if("string"==typeof a&&"string"==typeof b){for(var d=Math.min(a.length,b.length),e=0;e<d&&a.charAt(e)==b.charAt(e);)e++;for(var h=0;h<d&&a.charAt(a.length-h-1)==b.charAt(b.length-h-1);)h++;e+h>d&&(h=0);if(2<e||2<h)d=function(a){var b=Math.max(0,e-2),c=Math.min(a.length,a.length-(h-2));return(0<b?"...":"")+a.substring(b,c)+(c<a.length?"...":"")},c+="\nDifference was at position "+e+". Expected ["+d(a)+"] vs. actual ["+d(b)+"]"}return c}
function cw(a,b){$v(1,arguments);var c=Yv(1,arguments),d=Zv(1,1,arguments);ja(d)||aw(c,"Bad argument to assert(boolean)");d||aw(c,"Call to assert(boolean) with false")}function dw(a,b){$v(1,arguments);var c=Yv(1,arguments),d=Zv(1,1,arguments);ja(d)||aw(c,"Bad argument to assertTrue(boolean)");d||aw(c,"Call to assertTrue(boolean) with false")}function ew(a,b,c){$v(2,arguments);var d=Zv(1,2,arguments),e=Zv(2,2,arguments),h=bw(d,e);d===e||aw(Yv(2,arguments),h)}
function fw(a,b){$v(1,arguments);var c="Expected not to be "+Xv(null);null!==Zv(1,1,arguments)||aw(Yv(1,arguments),c)}function gw(a,b){$v(1,arguments);var c="Expected not to be "+Xv(void 0);void 0!==Zv(1,1,arguments)||aw(Yv(1,arguments),c)}
function hw(a,b,c){function d(a,b,c){for(var q=0;q<h.length;++q){var t=h[q]===a,s=k[q]===b;if(t||s){t&&s||e.push("Asymmetric cycle detected at "+c);return}}h.push(a);k.push(b);if(a!==b)if(q=Wv(a),t=Wv(b),q==t){var s="Array"==q,z=l(q,a,b);if(null!=z)""!=z&&e.push(c+": "+z);else if(s&&a.length!=b.length)e.push(c+": Expected "+a.length+"-element array but got a "+b.length+"-element array");else if(z=c+(s?"[%s]":c?".%s":"%s"),a.__iterator__)la(a.Zl)?a.Zl(b)||e.push("equals() returned false for "+(c||
q)):a.Db?d(a.Db,b.Db,z.replace("%s","map_")):e.push("unable to check "+(c||q)+" for equality: it has an iterator we do not know how to handle. please add an equals method");else{for(var y in a)s&&(y|0)==y||(y in b?d(a[y],b[y],z.replace("%s",y)):e.push("property "+y+" not present in actual "+(c||t)));for(y in b)s&&(y|0)==y||y in a||e.push("property "+y+" not present in expected "+(c||q));if(s)for(y=0;y<a.length;y++)d(a[y],b[y],z.replace("%s",String(y)))}}else e.push(c+" "+bw(a,b));h.pop();k.pop()}
var e=[],h=[],k=[],l=c||function(a,b,c){return(a=Nv[a])?a(b,c)?"":bw(b,c):null};d(a,b,"");return 0==e.length?null:bw(a,b)+"\n   "+e.join("\n   ")}function iw(a,b,c){$v(2,arguments);var d=Yv(2,arguments)?Yv(2,arguments):"",e=hw(Zv(1,2,arguments),Zv(2,2,arguments));!e||aw(d,e)}function jw(a,b,c,d){$v(3,arguments);var e=Zv(1,3,arguments),h=Zv(2,3,arguments),k=Zv(3,3,arguments);Ov(e,h,k)||aw(Yv(3,arguments),"Expected "+e+", but got "+h+" which was more than "+k+" away")}
function kw(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b}function lw(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function mw(a){var b=document.createElement("DIV");b.innerHTML=a;return b.innerHTML.replace(/^\s+|\s+$/g,"")}function aw(a,b){ba.CLOSURE_INSPECTOR___&&ba.CLOSURE_INSPECTOR___.supportsJSUnit&&ba.CLOSURE_INSPECTOR___.jsUnitFailure(a,b);throw new nw(a,b);}
function nw(a,b){this.message=(a?a:"")+(a&&b?"\n":"")+(b?b:"");var c=Kv();if(c){if(g(c))for(var d=[],e=0;e<c.length;e++){var h=c[e],k=h.getFunctionName()||"unknown",l=h.getFileName(),h=l?l+":"+h.getLineNumber()+":"+h.getColumnNumber():"unknown";d.push(new yv("",k,"","",h))}else for(c=c.replace(/\s*$/,"").split("\n"),d=[],e=0;e<c.length;e++)d.push(Jv(c[e]));c=d}else c=Iv();for(d=c.length-1;c[d]&&zv(c[d]);)d--;e=-1;for(k=0;k<c.length;k++)if(c[k]&&"_assert"==c[k].getName()){e=k;break}h=[];for(k=e+1;k<=
d;k++)h.push("> "),c[k]?h.push(Av(c[k])):h.push("(unknown)"),h.push("\n");this.comment=a||null;Error.captureStackTrace?Error.captureStackTrace(this,nw):this.stack=Error().stack||""}w(nw,Error);nw.prototype.toString=function(){return this.message};v("fail",function(a){aw("Call to fail()",a)});v("assert",cw);
v("assertThrows",function(a,b){$v(1,arguments);var c=Zv(1,1,arguments),d=Yv(1,arguments);"function"==typeof c||aw(d,"Argument passed to assertThrows is not a function");try{c()}catch(e){return e&&r(e.stacktrace)&&r(e.message)&&(c=e.message.length-e.stacktrace.length,e.message.indexOf(e.stacktrace,c)==c&&(e.message=e.message.substr(0,c-14))),e}aw(d,"No exception thrown from function passed to assertThrows")});
v("assertNotThrows",function(a,b){$v(1,arguments);var c=Yv(1,arguments),d=Zv(1,1,arguments);"function"==typeof d||aw(c,"Argument passed to assertNotThrows is not a function");try{return d()}catch(e){c=(c?c+"\n":"")+"A non expected exception was thrown from function passed to assertNotThrows",aw(c,e.stack||e.stacktrace||e.toString())}});v("assertTrue",dw);
v("assertFalse",function(a,b){$v(1,arguments);var c=Yv(1,arguments),d=Zv(1,1,arguments);ja(d)||aw(c,"Bad argument to assertFalse(boolean)");!d||aw(c,"Call to assertFalse(boolean) with true")});v("assertEquals",ew);v("assertNotEquals",function(a,b,c){$v(2,arguments);var d=Zv(2,2,arguments),e="Expected not to be "+Xv(d);Zv(1,2,arguments)!==d||aw(Yv(2,arguments),e)});v("assertNull",function(a,b){$v(1,arguments);var c=Zv(1,1,arguments),d=bw(null,c);null===c||aw(Yv(1,arguments),d)});
v("assertNotNull",fw);v("assertUndefined",function(a,b){$v(1,arguments);var c=Zv(1,1,arguments),d=bw(void 0,c);void 0===c||aw(Yv(1,arguments),d)});v("assertNotUndefined",gw);v("assertNotNullNorUndefined",function(a,b){$v(1,arguments);fw.apply(null,arguments);gw.apply(null,arguments)});v("assertNonEmptyString",function(a,b){$v(1,arguments);var c=Zv(1,1,arguments),d="Expected non-empty string but was "+Xv(c);void 0!==c&&null!==c&&"string"==typeof c&&""!==c||aw(Yv(1,arguments),d)});
v("assertNaN",function(a,b){$v(1,arguments);isNaN(Zv(1,1,arguments))||aw(Yv(1,arguments),"Expected NaN")});v("assertNotNaN",function(a,b){$v(1,arguments);!isNaN(Zv(1,1,arguments))||aw(Yv(1,arguments),"Expected not NaN")});v("assertObjectEquals",iw);
v("assertObjectRoughlyEquals",function(a,b,c,d){$v(3,arguments);var e=Zv(3,3,arguments),h=Yv(3,arguments)?Yv(3,arguments):"",k=hw(Zv(1,3,arguments),Zv(2,3,arguments),function(a,b,c){return(a=Vv[a])?a(b,c,e)?"":bw(b,c)+" which was more than "+e+" away":null});!k||aw(h,k)});v("assertObjectNotEquals",function(a,b,c){$v(2,arguments);var d=Yv(2,arguments)?Yv(2,arguments):"";hw(Zv(1,2,arguments),Zv(2,2,arguments))||aw(d,"Objects should not be equal")});
v("assertArrayEquals",function(a,b,c){$v(2,arguments);var d=Zv(1,2,arguments),e=Zv(2,2,arguments),h=Yv(2,arguments)?Yv(2,arguments):"",k=Wv(d);"Array"==k||aw(h,"Expected an array for assertArrayEquals but found a "+k);k=Wv(e);"Array"==k||aw(h,"Expected an array for assertArrayEquals but found a "+k);iw(h,Array.prototype.concat.call(d),Array.prototype.concat.call(e))});
v("assertElementsEquals",function(a,b,c){$v(2,arguments);var d=Zv(1,2,arguments),e=Zv(2,2,arguments),h=Yv(2,arguments)?Yv(2,arguments):"";if(d){ew("length mismatch: "+h,d.length,e.length);for(var k=0;k<d.length;++k)ew("mismatch at index "+k+": "+h,d[k],e[k])}else cw(h,!e)});
v("assertElementsRoughlyEqual",function(a,b,c,d){$v(3,arguments);var e=Zv(1,3,arguments),h=Zv(2,3,arguments),k=Zv(3,3,arguments),l=Yv(3,arguments)?Yv(3,arguments):"";if(e){ew("length mismatch: "+l,e.length,h.length);for(var n=0;n<e.length;++n)jw(l,e[n],h[n],k)}else cw(l,!h)});
v("assertSameElements",function(a,b,c){$v(2,arguments);var d=Zv(1,2,arguments),e=Zv(2,2,arguments),h=Yv(2,arguments);dw("Bad arguments to assertSameElements(opt_message, expected: ArrayLike, actual: ArrayLike)",ia(d)&&ia(e));d=kw(d);e=kw(e);d.length==e.length||aw(h,"Expected "+d.length+" elements: ["+d+"], got "+e.length+" elements: ["+e+"]");for(var k=kw(d),l=0;l<e.length;l++){var n=lw(k,e[l]);-1!=n||aw(h,"Expected ["+d+"], got ["+e+"]");k.splice(n,1)}});
v("assertEvaluatesToTrue",function(a,b){$v(1,arguments);Zv(1,1,arguments)||aw(Yv(1,arguments),"Expected to evaluate to true")});v("assertEvaluatesToFalse",function(a,b){$v(1,arguments);Zv(1,1,arguments)&&aw(Yv(1,arguments),"Expected to evaluate to false")});v("assertHTMLEquals",function(a,b,c){$v(2,arguments);var d=Zv(2,2,arguments),e=mw(Zv(1,2,arguments)),d=mw(d),h=bw(e,d);e===d||aw(Yv(2,arguments),h)});
v("assertHashEquals",function(a,b,c){$v(2,arguments);var d=Zv(1,2,arguments),e=Zv(2,2,arguments),h=Yv(2,arguments),k;for(k in d)k in e||aw(h,"Expected hash had key "+k+" that was not found"),d[k]==e[k]||aw(h,"Value for key "+k+" mismatch - expected = "+d[k]+", actual = "+e[k]);for(k in e)k in d||aw(h,"Actual hash had key "+k+" that was not expected")});v("assertRoughlyEquals",jw);
v("assertContains",function(a,b,c){$v(2,arguments);var d=Zv(1,2,arguments),e=Zv(2,2,arguments);-1!=lw(e,d)||aw(Yv(2,arguments),"Expected '"+e+"' to contain '"+d+"'")});v("assertNotContains",function(a,b,c){$v(2,arguments);var d=Zv(1,2,arguments),e=Zv(2,2,arguments);-1==lw(e,d)||aw(Yv(2,arguments),"Expected '"+e+"' not to contain '"+d+"'")});
v("assertRegExp",function(a,b,c){$v(2,arguments);var d=Zv(1,2,arguments),e=Zv(2,2,arguments);"string"==typeof d&&(d=new RegExp(d));d.test(e)||aw(Yv(2,arguments),"Expected '"+e+"' to match RegExp "+d.toString())});function Y(){U.call(this);this.Qa=[];this.tl={};this.Fb={XO:null,Sm:null,Tf:null,LD:null,WM:null,MD:null,RE:null,bF:null};this.Fb.Sm=O("div",{id:Y.ID_PREFIX+"_menu_top_left_"+B(),"class":Y.CSS.CE,viewbox:this.a().id});di(this.a(),this.Fb.Sm,0);ow(this);this.gr=O("div",{id:Y.ID_PREFIX+"_Instruction_"+B(),"class":Y.CSS.oE});this.gr.innerHTML="Click or drag and drop any left thumbnail to view.";Q(this.a(),this.gr);this.cc=new Ih;Q(this.Hb,this.cc.a());this.cc.a().style.opacity=0;Vu(this.cc,0);this.o();
this.hv()}w(Y,U);v("xiv.ui.ViewBox",Y);Y.ID_PREFIX="xiv.ui.ViewBox";Y.CSS_SUFFIX={vN:"hidden",KO:"tabdragger",LO:"tabdragger-handle",pF:"viewlayoutmenu",CE:"menu-top-left",BE:"menu-left",oF:"viewlayouthandler",MO:"ziptabs",NO:"ziptab-bounds",Jx:"viewframe",fN:"component-highlight",kF:"viewablegroupmenu",mN:"emptymenubutton",oE:"instructions"};var pw={Scans:"Four-Up",Slicer:"Conventional","Slicer Scenes":"Conventional"};f=Y.prototype;f.HJ="empty";f.be=null;f.Pa=null;f.Pb=null;f.na=null;f.cc=null;
f.sd=null;f.L=null;f.zh=null;f.de=null;f.PA=!1;f.Js=!1;f.Im=null;f.Yk=null;f.Jm=null;f.sm=!1;f.vs=!1;f.yJ=function(){return this.sm};f.Ua=function(){return this.na};f.QH=function(){return this.Fb};f.LH=function(){return this.HJ};f.JI=function(){return this.Qa};f.FI=function(){return this.Hb};f.IH=function(){return this.Pa};f.JH=function(){return this.Pb};f.HI=function(){return this.sd};
function qw(a,b){window.console.log("HIGHLIGHT FADE");var c=new Yf,d=0;null!=b||(b=function(a){return a});c.setInterval(20);F(c,Zf,function(){d+=20;str="0px 0px 0px 2px rgba(255,255,255,"+b(d/200)+")";this.Hb.style.boxShadow=str;200<d&&(c.stop(),c.g(),delete c)}.bind(a));c.start()}f.Qu=function(){qw(this)};f.Lm=function(){qw(this,function(a){return 1-a})};f.wI=function(){return this.Hj};f.Xu=function(){return null!=this.Hj};f.Nt=function(){this.Hj=void 0};
f.AG=function(a){this.ku=this.ku?this.ku:[];this.ku.push(a)};f.pi=function(a){this.Pb.bp(a)};f.SK=function(){this.cc.C(0);this.cc.yw(!0);Wu(this,this.cc,0)};function rw(a,b){a.cc.Jf("");a.cc.yw(!0);a.cc.C(100*b)}
f.Tv=function(a){if(this.Js)rw(this,.5*a.value+.5);else if(1<this.Jm){var b=1/this.Jm;if(.96<a.value&&this.Yk!=a.value&&.96>this.Yk&&this.Yk<a.value)this.Im++,rw(this,b*this.Im);else{this.Yk=a.value;var b=1/this.Jm,c=b*this.Im+a.value*b;this.Yk<a.value&&rw(this,c+a.value*b)}}else rw(this,a.value)};
function ow(a){a.Hb=O("div",{id:Y.ID_PREFIX+"_ViewFrame_"+B(),"class":Y.CSS.Jx});Q(a.a(),a.Hb);D(["top","bottom","left","right"],function(a){Q(this.Hb,O("div",{id:Y.ID_PREFIX+"_ViewFrameBorder_"+B(),"class":Y.CSS.Jx+"-border-"+a}))}.bind(a))}
function sw(a){var b=a.na.Ck();!0==b[J.SINGLE_FRAME_SCAN]?(a.pi("Transverse"),b=Ur(a.Pa),D(b,function(a){-1==a.id.indexOf("ZoomDisplay")&&(a.style.visibility="hidden")}),R(a.Pb.a())):null!=a.Qa[0].Xb()?a.pi(a.Qa[0].Xb()):null!=b[J.ORIENTATION_KEY]&&a.pi(db(a.na.Ck()[J.ORIENTATION_KEY]));$f(function(){this.Wb(xu);this.Wb(this.de.Vz("levels"))}.bind(a),700)}
f.Lr=function(){this.zh.Gs(!1);D(Rh("xtk-progress-bar"),function(a){a.visibility="hidden"});this.sm=this.Js=!1;this.L.kz();this.L.Jq().tw(this.Pb.uj.src);this.de.jz();this.de.Ny();var a=[this.Fb.Tf,this.Pb.a()];a.push(this.Pa.a());var b=[];b.push(this.cc.a());"demo"!=gm.MODE&&(a=Nb(a,this.L.BA()),sw(this),this.na.Ck()[J.SINGLE_FRAME_SCAN]||(a=Nb(a,Ur(this.Pa))));var c=[],d=[],e=[],h=[];D(a,function(){c.push(0);d.push(1)});d[0]=.5;D(b,function(){e.push(1);h.push(0)});Qk(Nb(a,b),Nb(c,e),Nb(d,h),400,
null,null,function(){this.Fb.Tf.style.removeProperty("opacity");this.cc.C(0);Vu(this.cc,0);this.dispatchEvent("aa");this.vs=!1;this.o();this.Kr()}.bind(this))};f.Pv=function(a){C(this.na.yc,function(b,c){null!=a.Vw[c]&&(b.bl(a.Vw[c]),b.o())})};f.Kr=function(){this.na&&this.na.o();null!=this.de&&this.de.update();null!=this.na&&this.de.JB()};
function tw(a,b){a.sd.reset();tb(a.tl);Jb(a.Qa,b)||a.Qa.push(b);1==a.Qa.length&&a.pi(pw[b.tf]);var c=b.Qb,d=null;1<c.length?(D(c,function(a,b){d=this.sd.Zi(a.hl,a.Hc()||b);this.tl[na(d)]=a}.bind(a)),Vu(a.cc,0),Wu(a,a.sd,200),"scans"==c[0].tf&&Ba("."+vv.CSS.Qm).bQ("<b> Select catalog or volume </b>")):a.load(c[0],!1)}f.yH=function(){return 700};function uw(a,b){Eu("Scans with frame counts greater than 700 may crash the Viewer.&nbspAre you sure you want to continue?",a.Hb,b)}
function vw(a,b){Eu("ViewBox in use.&nbspProceed anyway?",a.Hb,b)}function ww(a,b,c){var d=function(){this.load(b,c)}.bind(a),e=b.Qb[0];if(null!=e.AA){var h=700<e.xb[0].Gc().length;if("scans"==e.tf.toLowerCase()&&h&&!a.vs)return uw(a,function(){this.vs=!0;d()}.bind(a)),!1}return!a.Xu()||0<a.Qa.length&&b==a.Qa[0]?!0:(vw(a,function(){this.Nt();d()}.bind(a)),!1)}f.Bz=function(){this.load(this.Qa[0],void 0)};f.QA=function(){return void 0!=this.Qa&&1<this.Qa.length};
f.RA=function(){return void 0!=this.tl&&1<Object.keys(this.tl).length};
f.load=function(a,b){Vu(this.cc,0);R(this.gr);null!=this.zh?(this.zh.clear(),this.zh.Gs(!1)):(this.zh=new lv,this.zh.oC(this.Hb),this.zh.DC(this.Mr.bind(this)));this.dispatchEvent("$");if(!(a instanceof Wl)||ww(this,a,b))if(this.sm=!0,null!=a){if(null!=b?b:1)xw(this),yw(this),this.L=new wu(this),this.Pa=new Tr,this.Pa.a().style.opacity=0,Q(this.Hb,this.Pa.a()),M(this.Pa.a(),Y.CSS.oF),F(this.Pa,"z",this.Kr.bind(this)),F(this.Pa,"w",this.Pv.bind(this)),F(this.Pa,"y",this.Qv.bind(this)),F(this.Pa,"x",
this.Ov.bind(this)),this.na=new Wt,zw(this),this.de=new W(this,this.na,this.Pa,this.L),this.de.lD(this.Pb),this.PA=!0;Wu(this,this.cc,200);if(a instanceof Wl)tw(this,a);else{var c;C(this.na.yc,function(a,b){(c=this.Pa.Uz(b))&&a.ua(c.a())}.bind(this));Uc(this.na,"j",this.SK.bind(this));Uc(this.na,"l",this.Lr.bind(this));F(this.na,"k",this.Tv.bind(this));this.Im=null;"scans"==a.tf.toLowerCase()?(rw(this,0),Wu(this,this.cc,200,function(){Aw(this,a)}.bind(this))):(Bw(this,a),Cw(this,a))}}else this.Mr("The data set is empty!")};
function Bw(a,b){a.Im=0;a.Yk=0;a.Jm=b.xb.length+8;D(b.xb,function(a){null!=a.ge.labelMapFile&&this.Jm++}.bind(a))}
function Aw(a,b){a.Js=!0;var c=a.Qa[a.Qa.length-1].wA(),d=b.xb[0].Gc()[0],e="";null!=d?(-1!=d.toLowerCase().indexOf("xiv/sample-data/scans/")?(d=d.split("xiv/sample-data/scans/"),e=d[0]+"xiv/sample-data/scans/"+(d[1].split("/")[0]+".zip")):e=d.split("/files/")[0]+"/files",window.console.log("XImgView Zip Downloading (XHR): "+e),Bl(e,function(a){window.console.log("Downloaded: "+e+"!");b.xb[0].qC(a,function(){Cw(this,b)}.bind(this),jm)}.bind(a),function(a){0<a.totalSize?rw(this,a.loaded/a.totalSize*
.5):0<c&&rw(this,a.loaded/c*.5)}.bind(a))):a.zh.Kv("No readable files in the data set!")}function Cw(a,b){a.zh.Gs(!0);a.na.k(b);a.Hj=(new Date).getTime()}f.Mr=function(){this.sm=!1;this.Lm();Vu(this.cc,200);xw(this);this.Nt();this.dispatchEvent({type:"ba"})};f.Qv=function(){C(this.na.yc,function(a){a.o()});this.de.update()};f.Ov=function(a){var b=a.frames;C(this.na.yc,function(a,d){null!=b[d]&&(a.bl(b[d].a()),a.o())}.bind(this));this.de.update()};
function Vu(a,b,c){var d=a.a();if(null!=a){b=u(b)&&0<=b?b:0;var e=function(){d.style.visibility="hidden";R(d);null!=a.Qn&&R(a.oc);c&&c()};if("hidden"==d.style.visibility||0==b)e();else{var h=[d],k=[d.style.opacity];null!=a.Qn&&null!=a.oc&&(h.push(a.oc),k.push(a.oc.style.opacity));Qk(h,k,0,b,null,null,e)}}}
function Wu(a,b,c,d){var e=b.a();c=u(c)&&0<=c?c:0;e.style.opacity="0";e.style.visibility="visible";Q(a.Hb,e);null!=b.Qn&&Q(a.Hb,b.oc);0==c?(e.style.opacity="1",d&&d()):(a=[e],e=[e.style.opacity],null!=b.Qn&&null!=b.oc&&(a.push(b.oc),e.push(b.oc.style.opacity)),Qk(a,e,1,c,null,null,d))}f.As="Info.;Help;Settings;Levels;2D Pan;2D Zoom;Toggle Crosshairs;Volumes;Annotations;Meshes".split(";");
function Dw(a,b,c,d){var e=ei(b),h=[],k;D(a.As,function(){h.push(null)});h[d]=c;D(e,function(a){k=this.As.indexOf(a.title);h[k]=a}.bind(a));bi(b);D(h,function(a){null!=a&&b.appendChild(a)})}
f.ik=function(a,b,c){b.style.position="relative";b.style.display="block";b.style.marginLeft="auto";b.style.marginRight="auto";b.style.marginTop="6px";b.style.marginBottom="6px";var d;switch(a){case "TOP_LEFT":d=this.Fb.Sm;break;case "LEFT":d=this.Fb.Tf;break;case "BOTTOM_LEFT":d=this.Fb.LD;break;case "TOP_RIGHT":d=this.Fb.bF;break;case "RIGHT":d=this.Fb.RE;break;case "BOTTOM_RIGHT":d=this.Fb.MD}u(c)?d.insertBefore(b,d.childNodes[c]):(a=this.As.indexOf(b.title),0<a?Dw(this,d,b,a):Q(d,b));Ew(this)};
f.Fo=function(a,b){a.setAttribute("checked","true"==a.getAttribute("checked")?"false":"true");"true"==a.getAttribute("checked")?Ak(a,200,1,null,.5):Ak(a,200,.5);null!=b&&b(a)};f.qD=function(a){return"true"==this.be[a].getAttribute("checked").toString()};f.Gu=function(a){return this.be[a]};f.Wb=function(a){Rn(this.be[a])};f.Yw=function(a){g(a)||(a=[a]);D(a,function(a){null!=this.be[a]&&this.qD(a)&&Rn(this.be[a])}.bind(this))};
f.XC=function(a){var b=this.Pa.Mq();C(b,function(b){D([b.pf.a(),b.Jd.a()],function(b){a?(b.style.visibility="visible",b.style.opacity=0,zk(b,200)):Ck(b,200,function(){b.style.visibility="hidden"})})})};
f.$i=function(a,b,c,d,e,h){var k=b+"-on",l=O("img",b);l.id=oj(this)+".IconButton_";l.title=d;null!=h&&(l.src=h);l.setAttribute("checked","true");l.setAttribute(Au,b+"-on");M(l,k);tk(l,{cursor:"pointer"});F(l,"click",function(){this.Fo(l,e)}.bind(this));this.ik(a,l);null!=this.be?null!=this.be[c]&&(identifer=c+"A"):this.be={};return this.be[c]=l};
function yw(a){a.Fb.Tf=O("div",{id:Y.ID_PREFIX+"_menu_left_"+B(),"class":Y.CSS.BE,viewbox:a.a().id});a.Fb.Tf.style.opacity=0;di(a.a(),a.Fb.Tf,1);a.Pb=new mp;a.Pb.nC("Select Layout");M(a.Pb.a(),Y.CSS.pF);a.Pb.pB(!0);a.Pb.a().style.opacity=0;a.Pb.ve.style.opacity=0;var b=a.Pb.a();Pb(a.As,void 0,0,b.title);a.ik("LEFT",b);a.Hb.appendChild(a.Pb.ve)}
function zw(a){a.sd=new vv;a.sd.k(a.Hb);Q(a.Hb,a.sd.a());M(a.sd.a(),Y.CSS.kF);F(a.sd,"Z",function(a){Vu(this.sd,200,function(){this.load(this.tl[na(a.Pw)],!1)}.bind(this))}.bind(a));Vu(a.sd,0)}f.yI=function(){return this.be};function Ew(a){var b,c,d,e;null!=a.Fb.Sm&&(d=a.Fb.Sm,e=S(d),b=0,c=e.height);null!=a.Fb.Tf&&(d=a.Fb.Tf,e=S(d),a=a.A.height/2-e.height/2,d.style.top=null!=b&&a<c?"calc(100% - "+(e.height+2)+"px)":a+"px")}
f.o=function(a){Y.d.o.call(this,a);null!=this.Pa&&this.Pa.o();this.na&&this.na.o();null!=this.Pb&&(a=Hi(this.Fb.Tf),S(this.Pb.ve),a=a.y-130,this.Pb.uC(0,a),this.Pb.JC(0,a));Ew(this);null!=this.L&&this.L.update();null!=this.de&&this.de.xD()};
function xw(a){tb(a.tl);Kb(a.Qa);null!=a.Pa&&(G(a.Pa),Bc(a.Pa.g()),delete a.Pa);null!=a.L&&a.L.g();null!=a.Pb&&(G(a.Pb),a.Pb.g(),delete a.Pb);null!=a.na&&(a.na.g(),delete a.na);null!=a.sd&&(a.sd.g(),delete a.sd);null!=a.de&&a.de.g();null!=a.be&&(R(a.Fb.Tf),delete a.Fb.Tf,C(a.be,function(a){G(a);R(a)}),Kb(a.be),delete a.be)}f.kr=!1;f.jr=function(){return this.kr};f.hv=function(){F(this.a(),"mouseenter",function(){this.kr=!0}.bind(this));F(this.a(),"mouseleave",function(){this.kr=!1}.bind(this))};
f.f=function(){Y.d.f.call(this);xw(this);null!=this.cc&&(this.cc.g(),delete this.cc);R(this.Hb);G(this.Hb);delete this.Hb;C(this.Fb,function(a,b){R(a);delete this.Fb[b]}.bind(this));delete this.Fb;delete this.gr;delete this.DP;delete this.PA;delete this.Js;delete this.kr;delete this.Im;delete this.Yk;delete this.Jm;delete this.vs};v("xiv.ui.ViewBox.EventType",{mF:"$",lF:"aa",kO:"ba"});v("xiv.ui.ViewBox.ID_PREFIX",Y.ID_PREFIX);v("xiv.ui.ViewBox.CSS_SUFFIX",Y.CSS_SUFFIX);
v("xiv.ui.ViewBox.defaultLayout",pw);v("xiv.ui.ViewBox.ControllersSet",function(){});v("xiv.ui.ViewBox.prototype.getRenderer",Y.prototype.Ua);v("xiv.ui.ViewBox.prototype.getMenus",Y.prototype.QH);v("xiv.ui.ViewBox.prototype.getLoadState",Y.prototype.LH);v("xiv.ui.ViewBox.prototype.getViewableTrees",Y.prototype.JI);v("xiv.ui.ViewBox.prototype.getViewFrame",Y.prototype.FI);v("xiv.ui.ViewBox.prototype.getLayoutHandler",Y.prototype.IH);v("xiv.ui.ViewBox.prototype.getLayoutMenu",Y.prototype.JH);
v("xiv.ui.ViewBox.prototype.getViewableGroupMenu",Y.prototype.HI);v("xiv.ui.ViewBox.prototype.highlight",Y.prototype.Qu);v("xiv.ui.ViewBox.prototype.unhighlight",Y.prototype.Lm);v("xiv.ui.ViewBox.prototype.getThumbnailLoadTime",Y.prototype.wI);v("xiv.ui.ViewBox.prototype.clearThumbnailLoadTime",Y.prototype.Nt);v("xiv.ui.ViewBox.prototype.doNotHide",Y.prototype.AG);v("xiv.ui.ViewBox.prototype.setLayout",Y.prototype.pi);v("xiv.ui.ViewBox.prototype.showCornerInteractors",Y.prototype.XC);
v("xiv.ui.ViewBox.prototype.load",Y.prototype.load);v("xiv.ui.ViewBox.prototype.doReload",Y.prototype.Bz);v("xiv.ui.ViewBox.prototype.hasMultipleViewableTrees",Y.prototype.QA);v("xiv.ui.ViewBox.prototype.hasMultipleViewables",Y.prototype.RA);v("xiv.ui.ViewBox.prototype.addToMenu",Y.prototype.ik);v("xiv.ui.ViewBox.prototype.onToggleButtonClicked",Y.prototype.Fo);v("xiv.ui.ViewBox.prototype.toggleButtonChecked",Y.prototype.qD);v("xiv.ui.ViewBox.prototype.getToggleButton",Y.prototype.Gu);
v("xiv.ui.ViewBox.prototype.getHighFrameCountThreshold",Y.prototype.yH);v("xiv.ui.ViewBox.prototype.fireToggleButton",Y.prototype.Wb);v("xiv.ui.ViewBox.prototype.untoggle",Y.prototype.Yw);v("xiv.ui.ViewBox.prototype.createToggleButton",Y.prototype.$i);v("xiv.ui.ViewBox.prototype.getToggleButtons",Y.prototype.yI);v("xiv.ui.ViewBox.prototype.isMouseOver",Y.prototype.jr);v("xiv.ui.ViewBox.prototype.isRendering",Y.prototype.yJ);v("xiv.ui.ViewBox.prototype.isInUse",Y.prototype.Xu);
v("xiv.ui.ViewBox.prototype.showInUseDialog",Y.prototype.GQ);v("xiv.ui.ViewBox.prototype.updateStyle",Y.prototype.o);v("xiv.ui.ViewBox.prototype.disposeInternal",Y.prototype.f);function Fw(){In.call(this)}w(Fw,In);Fw.prototype.gk=function(a,b){var c=new Pn(a,b);c.Zo(this);this.mo.push(c);this.wj&&Kn(this,c)};function Gw(){U.call(this)}w(Gw,U);v("xiv.ui.ViewBoxHandler",Gw);Gw.CSS_SUFFIX={cE:"handle",nF:"viewboxdragclone",Mj:"closebutton",hx:"addrowbutton",gx:"addcolumnbutton"};Gw.ID_PREFIX="xiv.ui.ViewBoxHandler";f=Gw.prototype;f.Ps=5;f.yx=5;f.sl=document.body;f.zj=function(a,b){this.dispatchEvent({type:"ea",CB:a,VF:b})};f.QL=function(){return this.F.length};f.Tn=function(){var a=[];D(this.F,function(b,c){a.push([]);D(b,function(){a[c].push(null)})});return a};
f.loop=function(a){this.F&&D(this.F,function(b,c){D(b,function(d,e){a(d,c,e,this.F.length,b.length)}.bind(this))}.bind(this))};f.Uu=function(a,b){this.F||(this.F=[[]]);var c=0,d=[],e;if(null!=a)c=Hw(this,a),this.F[c.$q].length<this.yx&&(d.push(Iw(this)),Pb(this.F[c.$q],c.BJ+1,0,d[0]));else{d=[];e=this.F.length?this.F.length:1;for(c=0;c<e;c++)d.push(Iw(this));0===this.F.length?this.F.push([d[0]]):D(this.F,function(a,b){a.push(d[b])})}this.zj(d,void 0===b?!0:b);Jw(this)};
f.HL=function(a){this.F&&(a=void 0===a?!0:a,this.F[0]&&1<this.F[0].length&&D(this.F,function(a){var c=a.length-1;Kw(this,a[c]);a.splice(c,1)}.bind(this)),this.zj(null,a),Jw(this))};function Hw(a,b){for(var c=0,d=0,e=a.F.length,h=0,c=0;c<e;c++)for(d=0,h=a.F[c].length;d<h;d++)if(b===a.F[c][d])return{$q:c,BJ:d}}f.Ws=function(){for(var a=0,b=0,c=this.F.length,d=0,a=0;a<c;a++)for(b=0,d=this.F[a].length;b<d;b++)if(this.F[a][b].sm)return!0;return!1};
f.insertRow=function(a,b){this.F||(this.F=[[]]);var c=[],d,e;if(null!=a){var h=Hw(this,a),c=[];e=this.F[h.$q].length;if(this.F.length<this.Ps){for(d=0;d<e;d++)c.push(Iw(this));Pb(this.F,h.$q+1,0,c)}}else if(e=this.F[0]&&this.F[0].length?this.F[0].length:1,this.F.length<this.Ps){for(d=0;d<e;d++)c.push(Iw(this));this.F.push(c)}this.zj(c,void 0===b?!0:b);Jw(this)};
f.JL=function(a){this.F&&(a=void 0===a?!0:a,1<this.F.length&&(D(this.F[this.F.length-1],function(a){Kw(this,a)}.bind(this)),this.F.splice(this.F.length-1,1)),this.zj(null,a),Jw(this))};f.Rq=function(a){for(var b=0,c=0,d=this.F.length,e=0,b=0;b<d;b++)for(c=0,e=this.F[b].length;c<e;c++)if(a===this.F[b][c].a())return this.F[b][c]};f.DI=function(a,b){return this.F[a][b].a()};f.BI=function(a,b){return this.F[a][b]};f.zA=function(){var a=[];this.loop(function(b){a.push(b)});return a};
f.yA=function(){var a=[];this.loop(function(b){a.push(b.a())});return a};f.PC=function(a){this.sl=a};
function Iw(a){var b=new Y;Q(a.sl,b.a());Lw(a,b);var c=O("img",{id:Gw.ID_PREFIX+"_dragHandle_"+B(),"class":Gw.CSS.cE});c.src=serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/handle.png";c.setAttribute("viewboxid",b.a().id);b.ik("TOP_LEFT",c,1);a.sk||(a.sk={});a.sk[b.a().id]=c;c.title="Drag / Swap ViewBox";Mw(a,b);Nw(a,b);F(b,"aa",a.Xv.bind(a));F(b,"$",a.Yv.bind(a));F(b,"ba",a.Mr.bind(a));return b}
function Nw(a,b){var c=O("img",{id:Gw.ID_PREFIX+"_CloseButton_"+B(),"class":Gw.CSS.gx,src:serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/addcolumn.png"});vk(c,Gw.CSS.gx+"-hovered");F(c,"click",function(){this.Uu(b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.ik("TOP_LEFT",c,1);a.my||(a.my={});a.my[b.a().id]=c;c.title="Add ViewBox Column"}
function Mw(a,b){var c=O("img",{id:Gw.ID_PREFIX+"_CloseButton_"+B(),"class":Gw.CSS.hx,src:serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/addrow.png"});vk(c,Gw.CSS.hx+"-hovered");F(c,"click",function(){this.insertRow(b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.ik("TOP_LEFT",c,1);a.uy||(a.uy={});a.uy[b.a().id]=c;c.title="Add ViewBox Row"}
function Lw(a,b){var c=O("img",{id:Gw.ID_PREFIX+"_CloseButton_"+B(),"class":Gw.CSS.Mj,src:serverRoot+"/images/viewer/xiv/ui/Modal/close.png"});vk(c,Gw.CSS.Mj+"-hovered");F(c,"click",function(){Ow(this,b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.ik("TOP_LEFT",c,1);a.An||(a.An={});a.An[b.a().id]=c;c.title="Close ViewBox"}f.Xv=function(a){this.dispatchEvent({type:"da",qF:a.target})};f.Vs=function(a,b){this.loop(function(c){Jb(c.Qa,a)&&b(c)})};f.Yv=function(a){this.dispatchEvent({type:"ca",qF:a.target})};
f.Mr=function(a){this.dispatchEvent(a)};function Kw(a,b){Ak(b.a(),150,0);R(a.sk[b.a().id]);R(a.An[b.a().id]);b.g()}function Pw(a,b){var c=[],d;Kw(a,b);D(a.F,function(a){d=[];D(a,function(a){a.rk||d.push(a)}.bind(this));0!=d.length&&c.push(d)}.bind(a));a.F=c;a.zj(null,!0);Jw(a)}function Ow(a,b){1!=a.EB()&&(b.Xu()?vw(b,function(){Pw(this,b)}.bind(a)):Pw(a,b))}f.Yu=function(a,b){var c=a.a()===b,d=a.a().id===b;return a===b||c||d};f.EB=function(){var a=0;this.loop(function(){a++});return a};
f.CI=function(a){for(var b=0,c=0,d=this.F.length,e=0,h=e=0,b=0;b<d;b++)for(c=0,e=this.F[b].length;c<e;c++)if(this.F[b][c]===a)return e=b+1===this.F.length,h=c+1===this.F[b].length,e&&h?this.F[0][0]:e&&!h?this.F[0][c+1]:!e&&h?this.F[b+1][0]:this.F[b+1][c+1]};f.aA=function(){var a;this.loop(function(b){null!=a||null!=b.Hj||(a=b)}.bind(this));if(null!=a)return a;var b=this.zA();g(b)?b.sort(function(a,b){return a.Hj<b.Hj?-1:a.Hj>b.Hj?1:0}):b=[b];return b[0]};
function Qw(a,b,c){var d=new jk,e=a.Mg[b.id],h=a.Mg[c.id];b[Rw]=!0;c[Rw]=!0;d.add(new Yj(b,[b.offsetLeft,b.offsetTop],[h.x,h.y],300,xk));d.add(new Yj(c,[c.offsetLeft,c.offsetTop],[e.x,e.y],300,xk));Uc(d,"end",function(){b[Rw]=!1;c[Rw]=!1;Sw(this);for(var a,d,e,h,m=0,q=0,t=this.F.length,s,z;m<t;m++)for(q=this.F[m],s=q.length,q=0;q<s;q++)z=this.F[m][q],this.Yu(z,b)&&(a=m,d=q),this.Yu(z,c)&&(e=m,h=q);u(a)&&u(e)&&(m=this.F[a][d],this.F[a][d]=this.F[e][h],this.F[e][h]=m,m=S(this.F[a][d].a()),t=S(this.F[e][h].a()),
Si(this.F[e][h].a(),m),Si(this.F[a][d].a(),t))}.bind(a));d.play()}f.Mt=function(){this.re&&(Ln(this.re),Ln(this.Vh),delete this.re,delete this.Vh)};function Tw(a){a.loop(function(a){null!=a.a()&&(this.re.gk(this.sk[a.a().id]),this.Vh.gk(a.a()))}.bind(a))}function Jw(a){a.Mt();a.re=new Fw;a.Vh=new Fw;Tw(a);Jn(a.re,a.Vh);a.re.ua();a.Vh.ua();a.re.Vt=a.Wt.bind(a);F(a.re,"dragstart",a.rK.bind(a));F(a.re,"dragover",a.Jv.bind(a));F(a.re,"dragend",a.Iv.bind(a))}f.Wt=function(a){return Uw(Ph(a.getAttribute("viewboxid")))};
f.rK=function(){null!=this.Mg?tb(this.Mg):this.Mg={};Sw(this)};function Uw(a){var b=document.body;a=a.cloneNode(!1);a.className=Gw.CSS.nF;b&&b.appendChild(a);return a}var Rw=B();Gw.prototype.Jv=function(a){if(a.Xl.element.id!==a.zq.aj.getAttribute("viewboxid")){var b=Ph(a.zq.aj.getAttribute("viewboxid"));a=Ph(a.Xl.element.id);b[Rw]||a[Rw]||Qw(this,b,a)}};function Sw(a){a.loop(function(a){this.Mg[a.a().id]=Hi(a.a())}.bind(a))}
Gw.prototype.Iv=function(a){var b=a.zq.Va.tk;a=Ph(a.zq.aj.getAttribute("viewboxid"));a=Pi(a);a={left:a.x,top:a.y};var c=Uw(b);Q(this.sl.parentNode?this.sl.parentNode:this.sl,c);b=qk(b);tk(c,{top:b.top,left:b.left,"z-index":1E4});Vw(c,a).play();Ww(this);this.zj()};function Vw(a,b){var c=new jk;c.add(new Yj(a,[a.offsetLeft,a.offsetTop],[b.left,b.top],150,xk));F(c,"end",function(){R(a)});return c}function Ww(a){a.loop(function(a){this.sk[a.a().id].style.visibility="visible"}.bind(a))}
Gw.prototype.f=function(){Gw.d.f.call(this);this.loop(function(a){G(a);R(a.a());a.g()}.bind(this));D(this.F,function(a){Kb(a)});Kb(this.F);delete this.F;this.yq(this.sk);delete this.sk;this.yq(this.An);delete this.An;C(this.Mg,function(a,b){tb(this.Mg[b]);delete this.Mg[b]}.bind(this));tb(this.Mg);delete this.Mg;null!=this.re&&(G(this.re),this.re.g());delete this.re;null!=this.Vh&&(G(this.Vh),this.Vh.g());delete this.Vh;delete this.sl};v("xiv.ui.ViewBoxHandler.CSS_SUFFIX",Gw.CSS_SUFFIX);
v("xiv.ui.ViewBoxHandler.EventType",{mF:"ca",lF:"da",pP:"ea"});v("xiv.ui.ViewBoxHandler.VIEW_BOX_ATTR","viewboxid");v("xiv.ui.ViewBoxHandler.ID_PREFIX",Gw.ID_PREFIX);v("xiv.ui.ViewBoxHandler.prototype.MAX_ROWS",Gw.prototype.Ps);v("xiv.ui.ViewBoxHandler.prototype.MAX_COLUMNS",Gw.prototype.yx);v("xiv.ui.ViewBoxHandler.prototype.rowCount",Gw.prototype.QL);v("xiv.ui.ViewBoxHandler.prototype.getEmptyMatrix",Gw.prototype.Tn);v("xiv.ui.ViewBoxHandler.prototype.loop",Gw.prototype.loop);
v("xiv.ui.ViewBoxHandler.prototype.insertColumn",Gw.prototype.Uu);v("xiv.ui.ViewBoxHandler.prototype.removeColumn",Gw.prototype.HL);v("xiv.ui.ViewBoxHandler.prototype.insertRow",Gw.prototype.insertRow);v("xiv.ui.ViewBoxHandler.prototype.removeRow",Gw.prototype.JL);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxByElement",Gw.prototype.Rq);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxElement",Gw.prototype.DI);v("xiv.ui.ViewBoxHandler.prototype.getViewBox",Gw.prototype.BI);
v("xiv.ui.ViewBoxHandler.prototype.getViewBoxes",Gw.prototype.zA);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxElements",Gw.prototype.yA);v("xiv.ui.ViewBoxHandler.prototype.setViewBoxesParent",Gw.prototype.PC);v("xiv.ui.ViewBoxHandler.prototype.ViewBoxFromVisNode",Gw.prototype.Vs);v("xiv.ui.ViewBoxHandler.prototype.isMatch",Gw.prototype.Yu);v("xiv.ui.ViewBoxHandler.prototype.numViewBoxes",Gw.prototype.EB);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxAfter",Gw.prototype.CI);
v("xiv.ui.ViewBoxHandler.prototype.getFirstEmpty",Gw.prototype.aA);v("xiv.ui.ViewBoxHandler.prototype.ViewBoxesRendering",Gw.prototype.Ws);v("xiv.ui.ViewBoxHandler.prototype.disposeInternal",Gw.prototype.f);function Xw(a){var b=Yw;return function(){var c=this||ba,c=c[Zw]||(c[Zw]={}),d=b(na(a),arguments);return c.hasOwnProperty(d)?c[d]:c[d]=a.apply(this,arguments)}}var Zw="closure_memoize_cache_";function Yw(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function $w(a){ad.call(this);this.Vl=a||Mh();if(this.Fz=this.UG())this.HG=F(this.Vl.la,this.Fz,ua(this.Iu,this))}w($w,ad);f=$w.prototype;f.UG=Xw(function(){var a=this.isSupported(),b="hidden"!=this.Kq();return a?b?((Ah()||"")+"visibilitychange").toLowerCase():"visibilitychange":null});f.Kq=Xw(function(){return Bh("hidden",this.Vl.la)});f.KI=Xw(function(){return Bh("visibilityState",this.Vl.la)});f.isSupported=function(){return!!this.Kq()};
f.Iu=function(){var a=this.isSupported()?this.Vl.la[this.KI()]:null,a=new ax(!!this.Vl.la[this.Kq()],a);this.dispatchEvent(a)};f.f=function(){Wc(this.HG);$w.d.f.call(this)};function ax(a,b){Ec.call(this,"visibilitychange");this.hidden=a;this.visibilityState=b}w(ax,Ec);function bx(a){ui.call(this);this.mC(serverRoot+"/images/viewer/xiv/ui/Thumbnail/silhouette.png");this.of=a;cx(this)}w(bx,ui);v("xiv.ui.Thumbnail",bx);bx.ID_PREFIX="xiv.ui.Thumbnail";bx.CSS_SUFFIX={fE:"hoverinfo",gE:"hoverinfo-arrow",iE:"hoverinfo-arrowtop",hE:"hoverinfo-arrowbottom",xN:"hoverinfo-appear",yN:"hoverinfo-disappear",mE:"infohovertext",Ah:"image",Tj:"image"};f=bx.prototype;f.om=null;f.Wd=null;f.Bf=null;
function cx(a){var b="",c=a.of.Ce;if(null!=c["Scan ID"])b+=c["Scan ID"];else if(null!=c.Name)b=c.Name;else if(null!=a.of.ni)var d=a.of.ni.split("/"),b=b+d[d.length-1].split(".")[0];var e="",e=e+("<b><font size = '3'>"+b+"</font></b><br>");D(["Total Frames","Scan Type","Orientation"],function(a){null!=c[a]&&(e+="<font size = '1.5'>"+a+": "+c[a]+"<br>")}.bind(a));a.dp(e);dx(a)}
function dx(a){a.om=O("div",{id:"MetdataLink_"+B()},"more...");M(a.om,bx.CSS.mE);Q(a.a(),a.om);M(a.a(),"xiv-ui-thumbnail");M(a.cb,bx.CSS.Ah);a.Wd=O("div",{id:"InfoHover_"+B()});M(a.Wd,bx.CSS.fE);Q(Rh("xiv-ui-modal")[0],a.Wd);a.Bf=O("div",{id:"InfoHoverArrow_"+B()});M(a.Bf,bx.CSS.gE);Q(a.Wd.parentNode,a.Bf);var b=O("div",{id:"InfoHoverArrowBottom_"+B()});M(b,bx.CSS.hE);Q(a.Bf,b);b=O("div",{id:"InfoHoverArrowTop_"+B()});M(b,bx.CSS.iE);Q(a.Bf,b);a.Wd.innerHTML=a.of.Cu();D([a.Wd,a.Bf],function(a){a.style.opacity=
0;a.style.visibility="hidden"});F(a.om,"mouseenter",a.$C.bind(a));F(a.om,"mouseleave",a.Pu.bind(a))}f.$C=function(){var a=Oi(this.a(),this.Wd.parentNode);D([this.Wd,this.Bf],function(a){a.style.visibility="visible"});var b=a.y-13;b+this.Wd.offsetHeight>window.innerHeight?b=window.innerHeight-S(this.Wd).height:0>b&&(b=2);Fi(this.Wd,a.x+S(this.a()).width+13,b);Fi(this.Bf,a.x+S(this.a()).width-6,a.y+7);zk(this.Wd,200);zk(this.Bf,200)};
f.Pu=function(){Ck(this.Wd,200,function(){this.Wd.style.visibility="hidden"}.bind(this));Ck(this.Bf,200,function(){this.Bf.style.visibility="hidden"}.bind(this))};f.GI=function(){return this.of};f.f=function(){bx.d.f.call(this);this.of.g();delete this.of;delete this.om;delete this.Wd;delete this.Bf};v("xiv.ui.Thumbnail.ID_PREFIX",bx.ID_PREFIX);v("xiv.ui.Thumbnail.CSS_SUFFIX",bx.CSS_SUFFIX);v("xiv.ui.Thumbnail.prototype.getViewable",bx.prototype.GI);v("xiv.ui.Thumbnail.prototype.hideInfo",bx.prototype.Pu);
v("xiv.ui.Thumbnail.prototype.showInfo",bx.prototype.$C);v("xiv.ui.Thumbnail.prototype.disposeInternal",bx.prototype.f);function ex(){U.call(this);F(this,"N",function(){C(this.zc,function(a){a.Pu()})}.bind(this));this.Of=new Fw;this.Fg=new Fw;this.Of.Vt=this.Wt.bind(this);F(this.Of,"dragover",this.Jv.bind(this));F(this.Of,"dragend",this.Iv.bind(this));F(this.Of,"dragout",this.qK.bind(this));F(this.Fg,"drop",this.sK.bind(this));Jn(this.Of,this.Fg);this.Fg.ua();this.Of.ua()}w(ex,qv);v("xiv.ui.ThumbnailGallery",ex);ex.ID_PREFIX="xiv.ui.ThumbnailGallery";ex.CSS_SUFFIX={Gx:"thumbnail-dragging"};
var fx="THUMBNAIL_DRAGGER_"+B(),gx=fx+"_FADER"+B();f=ex.prototype;f.Of=null;f.Fg=null;f.Zi=function(a,b){var c=this.Gn(a);this.Pl(c,b);return c};f.Gn=function(a){var b=new bx(a);F(b,"L",function(){this.dispatchEvent({type:"ja",Bi:b})}.bind(this));return b};f.Pl=function(a,b){ex.d.Pl.call(this,a,b);var c=a.a();c&&this.Of.gk(c)};f.$y=function(){Ln(this.Fg)};f.wy=function(a){this.Fg.gk(a)};f.xy=function(a){D(a,function(a){this.wy(a)}.bind(this))};f.uI=function(a){return this.zc[a.id]};
f.Mt=function(){null!=this.Of&&(Ln(this.Of),this.Of.g());null!=this.Fg&&(Ln(this.Fg),this.Fg.g())};f.Wt=function(a){a=ti(a).id;if(a in this.zc)return this.zc[a].setActive(!0,!0),a=this.zc[a].a().cloneNode(!0),a.setAttribute("id",fx+a.id),Eh(a,"nrg-ui-thumbnail-hoverable"),M(a,"xiv-ui-thumbnailgallery-thumbnail-dragging"),a};f.Jv=function(a){this.dispatchEvent({type:"ha",thumbnailTarget:a.Xl.element})};f.qK=function(a){this.dispatchEvent({type:"ia",BM:a.Xl.element})};
f.Iv=function(){var a=Rh(ex.CSS.Gx);D(a,function(a){Ck(a,300,function(){R(a)})});null!=a[0]&&this.zc[a[0].id.replace(fx,"")].setActive(!1,!0)};f.sK=function(a){var b=Th(ex.CSS.Gx);if(null!=b){b.style.opacity=0;var c=b.cloneNode(!0);c.style.opacity=1;document.body.appendChild(c);R(b);a.Xl.element&&this.dispatchEvent({type:"ka",Bi:this.zc[b.id.replace(fx,"")],zM:a.Xl.element})}};f.f=function(){ex.d.f.call(this);this.Mt()};
v("xiv.ui.ThumbnailGallery.EventType",{EE:"fa",XN:"ga",UO:"ha",TO:"ia",RO:"ja",VO:"ka"});v("xiv.ui.ThumbnailGallery.ID_PREFIX",ex.ID_PREFIX);v("xiv.ui.ThumbnailGallery.CSS_SUFFIX",ex.CSS_SUFFIX);v("xiv.ui.ThumbnailGallery.ANIM_MED",300);v("xiv.ui.ThumbnailGallery.DRAGGER_ID",fx);v("xiv.ui.ThumbnailGallery.DRAGGER_FADER_ID",gx);v("xiv.ui.ThumbnailGallery.prototype.createAndAddThumbnail",ex.prototype.Zi);v("xiv.ui.ThumbnailGallery.prototype.createThumbnail",ex.prototype.Gn);
v("xiv.ui.ThumbnailGallery.prototype.addThumbnail",ex.prototype.Pl);v("xiv.ui.ThumbnailGallery.prototype.clearThumbnailDropTargets",ex.prototype.$y);v("xiv.ui.ThumbnailGallery.prototype.addThumbnailDropTarget",ex.prototype.wy);v("xiv.ui.ThumbnailGallery.prototype.addThumbnailDropTargets",ex.prototype.xy);v("xiv.ui.ThumbnailGallery.prototype.getThumbnailByElement",ex.prototype.uI);v("xiv.ui.ThumbnailGallery.prototype.disposeInternal",ex.prototype.f);function hx(){var a=wi(Mh());a.webkitCancelFullScreen?a.webkitCancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.msExitFullscreen?a.msExitFullscreen():a.exitFullscreen&&a.exitFullscreen()};function ix(a,b,c,d){ad.call(this);this.sb=c||Mh();this.Yl=a;this.Gf=[];this.xM=b?b:jx;this.yD=!!d;this.vf()}w(ix,ad);var jx=0;f=ix.prototype;
f.vf=function(){this.Yl.className="goog-tabpane";for(var a=[],b=fi(this.Yl);b;)a.push(b),b=hi(b);this.se=this.sb.B("ul",{className:"goog-tabpane-tabs",tabIndex:"0"});this.sc=this.sb.B("div","goog-tabpane-cont");this.Yl.appendChild(this.sc);b=this.Yl;switch(this.xM){case jx:b.insertBefore(this.se,this.sc);b.insertBefore(kx(this),this.sc);fl(b,"goog-tabpane-top");break;case 1:b.appendChild(this.se);b.appendChild(kx(this));fl(b,"goog-tabpane-bottom");break;case 2:b.insertBefore(this.se,this.sc);fl(b,
"goog-tabpane-left");break;case 3:b.insertBefore(this.se,this.sc);fl(b,"goog-tabpane-right");break;default:throw Error("Invalid tab location");}this.se.tabIndex=0;F(this.se,this.yD?"mousedown":"click",this.Gr,!1,this);F(this.se,"keydown",this.Hr,!1,this);for(var c=0;b=a[c];c++)lx(this,new mx(b))};
function kx(a){var b=Mh(void 0),c=null,d=b.la;E&&d.createStyleSheet?(c=d.createStyleSheet(),Zi(c)):(d=Sh(b.la,"head",void 0,void 0)[0],d||(c=Sh(b.la,"body",void 0,void 0)[0],d=b.B("head"),c.parentNode.insertBefore(d,c)),c=b.B("style"),Zi(c),b.appendChild(d,c));return a.sb.B("div","goog-tabpane-clear")}f.f=function(){ix.d.f.call(this);Vc(this.se,this.yD?"mousedown":"click",this.Gr,!1,this);Vc(this.se,"keydown",this.Hr,!1,this);delete this.Yl;this.sc=this.se=null};
function lx(a,b){b.Va&&b.Va!=a&&b.Va instanceof ix&&nx(b.Va,b);var c=a.Gf.length;da(void 0)&&void 0!=c?(c=void 0,a.Gf.splice(c,0,b),a.se.insertBefore(b.fj,a.se.childNodes[c])):(a.Gf.push(b),a.se.appendChild(b.fj));b.$o(a,c);a.ph||(a.ph=b,a.dispatchEvent(new ox("change",a,a.ph)));a.sc.appendChild(b.sc);px(b,b==a.ph);for(var d=c+1;c=a.Gf[d];d++)c.ho=d}function nx(a,b){u(b)&&(b=a.Gf[b]);a.Gf.splice(b.ho,1);b.$o(null);R(b.fj);R(b.sc);for(var c,d=0;c=a.Gf[d];d++)c.$o(a,d)}
function qx(a,b){if(0<=b&&b<a.Gf.length){var c=a.Gf[b];!c.isEnabled()||a.ph&&c==a.ph||(px(a.ph,!1),px(c,!0),a.ph=c,a.dispatchEvent(new ox("change",a,a.ph)))}}f.Ha=function(){return this.sc||null};f.a=function(){return this.Yl||null};f.Gr=function(a){for(var b=a.target;b!=this.se;){if("LI"==b.tagName){var c;for(c=0;b=b.previousSibling;c++);qx(this,c);break}b=b.parentNode}a.preventDefault()};
f.Hr=function(a){if(!(a.altKey||a.metaKey||a.ctrlKey))switch(a.keyCode){case 37:a=this.ph.ho-1;qx(this,0>a?this.Gf.length-1:a);break;case 39:a=this.ph.ho+1;qx(this,a>=this.Gf.length?0:a);break;case 36:qx(this,0);break;case 35:qx(this,this.Gf.length-1)}};function mx(a,b,c){var d,e;if(r(a)&&!da(b))d=a;else if(b)d=b,e=a;else if(a){if(b=fi(a))d=qi(b),b.parentNode.removeChild(b);e=a}this.sb=c||Mh();this.sc=e||this.sb.B("div");this.fj=this.sb.B("li",null,d);this.ho=this.Va=null;this.Vb=!0}f=mx.prototype;
f.Hc=function(){return qi(this.fj)};f.Lc=function(a){ki(this.fj,a)};f.Qq=function(){return this.fj};f.Ha=function(){return this.sc};f.getParent=function(){return this.Va};f.Mb=function(a){this.Vb=a;this.fj.className=a?"goog-tabpane-tab":"goog-tabpane-tab-disabled"};f.isEnabled=function(){return this.Vb};function px(a,b){a.isEnabled()&&(a.sc.style.display=b?"":"none",a.fj.className=b?"goog-tabpane-tab-selected":"goog-tabpane-tab")}f.$o=function(a,b){this.Va=a;this.ho=da(b)?b:null};
function ox(a,b,c){Ec.call(this,a,b);this.page=c}w(ox,Ec);function Z(a){U.call(this);if(null!=a){var b=a;if(!r(b))throw new TypeError("String required!");b=b.toUpperCase();if(-1==rx.indexOf(b))throw Error("Invalid orienation!");}this.orientation=a||sx}w(Z,U);v("nrg.ui.Tabs",Z);var rx=["TOP","BOTTOM","LEFT","RIGHT"],sx=rx[0];Z.ID_PREFIX="nrg.ui.Tabs";Z.CSS_SUFFIX={dc:"tab",Ai:"tab-active",lf:"page",HE:"page-content",Ep:"page-active",pb:"icon",ql:"icon-active",jE:"icon-content",xO:"scrollgallery"};
function tx(a,b,c,d,e){this.Lj=!1;this.TITLE=a;this.dc=b;this.pb=c;this.lf=d;this.Ch=e}f=Z.prototype;f.Df=0;f.wm=0;f.$d=null;f.k=function(a){Z.d.k.call(this,a);this.Ek=new ix(this.a());this.N=[];M(this.a(),Z.ad)};f.qI=function(){return this.N.length};f.EH=function(){return this.Df};f.cI=function(){return this.wm};f.Oq=function(){var a=[];D(this.N,function(b){a.push(b.dc)});return a};f.Pq=function(){var a=[];D(this.N,function(b){a.push(b.lf)});return a};
f.uA=function(){var a=[];D(this.N,function(b){a.push(b.pb)});return a};f.SF=function(a){D(a,function(a){this.Ol(a)}.bind(this))};f.reset=function(){for(var a=this.N.length;0<a;)nx(this.Ek,a-1),a--;this.XP()};f.Nw=function(a){if(null==this.N)return!1;for(var b=0,c=this.N.length;b<c;b++)if(this.N[b].TITLE==a)return!0;return!1};
f.Ol=function(a){this.N=null!=this.N?this.N:[];if(this.Nw(a))throw Error(a+" is an already existing tab!");var b;b=O("div",{id:"Tab_"+B(),"class":Z.CSS.dc,title:a});Q(this.a(),b);var c=O("div",{id:"TabIcon_"+B(),"class":Z.CSS.pb}),d=O("div",{"class":Z.CSS.jE},a);Q(c,d);Q(b,c);d=O("div",{id:"TabPage_"+B(),"class":Z.CSS.lf,label:a});Q(this.a().parentNode,d);var e=new mx(d,a);lx(this.Ek,e);this.N.push(new tx(a,b,c,d,e));ux(this);vx(this);wx(this);this.qk();this.setActive(0);this.o()};
f.MC=function(a,b){this.Nw(a)||this.Ol(a);var c;a:if(null!=this.N){c=0;for(var d=this.N.length;c<d;c++)if(this.N[c].TITLE==a){c=this.N[c];break a}c=void 0}else c=!1;b instanceof qu?(d=b,c.lf.appendChild(b.a())):(d=new qu,d.k(c.lf),d.rf(b));M(d.a(),Z.CSS.HE);this.o()};function ux(a){D(a.N,function(a){G(a.dc)}.bind(a))}function vx(a){D(a.N,function(a,c){F(a.dc,"click",function(){this.qk();this.setActive(c)}.bind(this))}.bind(a))}function wx(a){D(a.N,function(a,c){xx(this,c);yx(this,c)}.bind(a))}
function xx(a,b){F(a.N[b].dc,"mouseover",function(){!0!==this.N[b].Lj&&(M(this.N[b].dc,Z.CSS.Ai),M(this.N[b].dc,zj(Z.CSS.Ai,this.orientation)),M(this.N[b].pb,Z.CSS.ql))}.bind(a))}function yx(a,b){F(a.N[b].dc,"mouseout",function(){!0!==this.N[b].Lj&&(Eh(this.N[b].dc,Z.CSS.Ai),Eh(this.N[b].dc,zj(Z.CSS.Ai,this.orientation)),Eh(this.N[b].pb,Z.CSS.ql))}.bind(a))}
f.setActive=function(a){this.N[a].Lj=!0;this.wm=this.Df;this.Df=a;qx(this.Ek,a);M(this.N[a].dc,Z.CSS.Ai);M(this.N[a].dc,zj(Z.CSS.Ai,this.orientation));M(this.N[a].lf,Z.CSS.Ep);M(this.N[a].lf,zj(Z.CSS.Ep,this.orientation));M(this.N[a].pb,Z.CSS.ql);M(this.N[a].pb,zj(Z.CSS.ql,this.orientation))};
f.uz=function(a){this.N[a].Lj=!1;qx(this.Ek,0);Eh(this.N[a].dc,Z.CSS.Ai);Eh(this.N[a].dc,zj(Z.CSS.Ai,this.orientation));Eh(this.N[a].lf,Z.CSS.Ep);Eh(this.N[a].lf,zj(Z.CSS.Ep,this.orientation));Eh(this.N[a].pb,Z.CSS.ql);Eh(this.N[a].pb,zj(Z.CSS.ql,this.orientation))};f.qk=function(){D(this.N,function(a,b){this.uz(b)}.bind(this))};
f.o=function(){if(this.a().parentNode){M(this.a(),Z.ad);M(this.a(),zj(Z.ad,this.orientation));D(this.N,function(a){M(a.dc,zj(Z.CSS.dc,this.orientation));M(a.pb,zj(Z.CSS.pb,this.orientation));M(a.lf,zj(Z.CSS.lf,this.orientation))}.bind(this));switch(this.orientation){case "TOP":zx(this);break;case "BOTTOM":this.MQ();break;case "RIGHT":Ax(this)}if(0<this.N.length){var a=S(this.N[0].dc);0<a.width&&0<a.height&&(this.$d=a)}}};
function Ax(a){D(a.N,function(a){this.a().parentNode&&(tk(a.dc,{height:(100/this.N.length).toString()+"%"}),a.lf.style.width="calc(100% - "+S(a.dc).width+"px)")}.bind(a))}function zx(a){var b;D(a.N,function(a,d){this.a().parentNode&&(b=100/this.N.length,tk(a.dc,{width:b.toString()+"%",left:(d*b).toString()+"%"}))}.bind(a))}function Bx(a){D(a.N,function(a){C(a,function(c,d){G(c);c.f?c.g():c.g&&c.g();delete c;delete a[d]});tb(a);delete a});Kb(a.N)}
f.f=function(){Z.d.f.call(this);D(this.Oq(),function(a){G(a)}.bind(this));Bx(this);delete this.N;G(this.Ek);this.Ek.g();delete this.Ek;delete this.Df;delete this.wm;delete this.LQ;delete this.orientation};v("nrg.ui.Tabs.ORIENTATIONS",rx);v("nrg.ui.Tabs.DEFAULT_ORIENTATION",sx);v("nrg.ui.Tabs.ID_PREFIX",Z.ID_PREFIX);v("nrg.ui.Tabs.CSS_SUFFIX",Z.CSS_SUFFIX);v("nrg.ui.Tabs.TabItemCollection",tx);v("nrg.ui.Tabs.prototype.tabSize",Z.prototype.$d);v("nrg.ui.Tabs.prototype.render",Z.prototype.k);
v("nrg.ui.Tabs.prototype.getTabCount",Z.prototype.qI);v("nrg.ui.Tabs.prototype.getLastActiveTab",Z.prototype.EH);v("nrg.ui.Tabs.prototype.getPreviousActiveTab",Z.prototype.cI);v("nrg.ui.Tabs.prototype.getTabElements",Z.prototype.Oq);v("nrg.ui.Tabs.prototype.getTabPages",Z.prototype.Pq);v("nrg.ui.Tabs.prototype.getTabIcons",Z.prototype.uA);v("nrg.ui.Tabs.prototype.addTabs",Z.prototype.SF);v("nrg.ui.Tabs.prototype.reset",Z.prototype.reset);v("nrg.ui.Tabs.prototype.tabExists",Z.prototype.Nw);
v("nrg.ui.Tabs.prototype.addTab",Z.prototype.Ol);v("nrg.ui.Tabs.prototype.setTabPageContents",Z.prototype.MC);v("nrg.ui.Tabs.prototype.setActive",Z.prototype.setActive);v("nrg.ui.Tabs.prototype.deactivate",Z.prototype.uz);v("nrg.ui.Tabs.prototype.deactivateAll",Z.prototype.qk);v("nrg.ui.Tabs.prototype.updateStyle",Z.prototype.o);v("nrg.ui.Tabs.prototype.disposeInternal",Z.prototype.f);function Cx(a){Z.call(this,a)}w(Cx,Z);v("nrg.ui.ZipTabs",Cx);Cx.ID_PREFIX="nrg.ui.ZipTabs";f=Cx.prototype;f.k=function(a){Cx.d.k.call(this,a);M(this.a(),zj(Cx.ad,this.orientation));this.Pc=new Nq(this.a(),this.orientation);Dx(this);a=Rh("goog-tabpane-tabs",this.a());D(a,function(a){a.style.visibility="hidden"})};f.oi=function(a){this.Pc.oi(a);this.o()};f.R=function(){return this.Pc};
function Dx(a){F(a.Pc,"resize",function(a){this.Qh();if(null!=this.$d){switch(this.orientation){case "BOTTOM":case "TOP":4>=Math.abs(this.$d.height-this.A.height)?this.qk():this.setActive(this.Df);break;case "LEFT":case "RIGHT":var c=36>=Math.abs(this.$d.width-this.A.width)&&this.oq;4>=Math.abs(this.$d.width-this.A.width)||c?this.qk():this.setActive(this.Df)}this.dispatchEvent({type:"resize",size:a.size,Ae:a.Ae})}}.bind(a))}f.oq=!1;
f.ic=function(a,b,c){this.o();a?(this.setActive(b||0),this.Pc.Kf(this.orientation,"MAX",null,c)):(this.qk(),this.Pc.Kf(this.orientation,"MIN",null,c))};f.o=function(){Cx.d.o.call(this);switch(this.orientation){case "TOP":case "BOTTOM":null!=this.$d&&this.Pc.zC(this.$d.height);break;case "LEFT":case "RIGHT":null!=this.$d&&this.Pc.BC(this.$d.width)}this.Pc.update()};
f.Ol=function(a){Cx.d.Ol.call(this,a);1==this.Oq().length&&this.o();D(this.Oq(),function(a){F(a,"click",function(){if(null!=this.$d)switch(this.o(),this.Qh(),this.orientation){case "BOTTOM":4>=Math.abs(this.A.height-this.$d.height)?(this.setActive(this.Df),this.Pc.Kf("BOTTOM","MAX",void 0)):this.Df==this.wm&&this.Pc.Kf("BOTTOM","MIN",void 0);break;case "TOP":4>=Math.abs(this.A.height-this.$d.height)?(this.setActive(this.Df),this.Pc.Kf("TOP","MAX",void 0)):this.Df==this.wm&&this.Pc.Kf("TOP","MIN",
void 0);break;case "RIGHT":null!=this.$d&&(4>=Math.abs(this.A.width-this.$d.width)?(this.oq=!1,this.setActive(this.Df),this.Pc.Kf("RIGHT","MAX",void 0)):this.Df==this.wm&&(this.oq=!0,this.Pc.Kf("RIGHT","MIN",void 0)))}}.bind(this))}.bind(this));this.qk();this.o()};f.f=function(){Cx.d.f.call(this);G(this.Pc);this.Pc.g();delete this.Pc;delete this.oq};v("nrg.ui.ZipTabs.BOUND_THRESHOLD_VERT",4);v("nrg.ui.ZipTabs.BOUND_THRESHOLD_HORIZ",4);v("nrg.ui.ZipTabs.EventType",{RD:"la"});
v("nrg.ui.ZipTabs.ID_PREFIX",Cx.ID_PREFIX);v("nrg.ui.ZipTabs.prototype.render",Cx.prototype.k);v("nrg.ui.ZipTabs.prototype.setBoundaryElement",Cx.prototype.oi);v("nrg.ui.ZipTabs.prototype.getResizable",Cx.prototype.R);v("nrg.ui.ZipTabs.prototype.setExpanded",Cx.prototype.ic);v("nrg.ui.ZipTabs.prototype.updateStyle",Cx.prototype.o);v("nrg.ui.ZipTabs.prototype.addTab",Cx.prototype.Ol);v("nrg.ui.ZipTabs.prototype.disposeInternal",Cx.prototype.f);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
*/
function Ex(){U.call(this);this.kd=Ex.ModalStates.Nj}w(Ex,U);v("xiv.ui.Modal",Ex);Ex.ModalStates={Je:"fullscreen",mf:"popup",Ms:"fullscreen-popup",Ng:"windowed",Nj:"demo",YD:"demp-fullscreen"};Ex.ID_PREFIX="xiv.ui.Modal";Ex.CSS_SUFFIX={Cp:"background",dN:"columnmenu",nO:"rowmenu",eN:"button",oO:"button",KE:"projecttab",LE:"projecttab-bounds",ME:"projecttab-dragger",NE:"projecttab-dragger-handle",ix:"addsubjects",bE:"foldericon"};
function Fx(){var a={};C(Gx,function(b,c){a[c]=Ex.ID_PREFIX+"."+db(b.key)+".Button"});var b=Uk(ob(a)),c={};C(a,function(a,e){c[e]=b[a];var h=zj(a);b[a].className=h});return c}var Gx={ol:{key:"CLOSE",title:"Close XNAT Image Viewer."},Je:{key:"FULLSCREEN",title:"Enter full-screen mode."},mf:{key:"POPUP",title:"Popup to new window."},Ng:{key:"WINDOWED",title:"Exit full-screen mode."}};f=Ex.prototype;f.co=29;f.Es=29;f.Ar=320;f.Br=320;f.Ho=null;f.EI=function(){return this.Ea};f.vI=function(){return this.aa};
f.fI=function(){return this.Ib};f.bI=function(){return this.ba.mf};f.ZG=function(){return this.ba.ol};f.tH=function(){return this.ba.Je};f.k=function(a){Ex.d.k.call(this,a);this.YA();this.Ea.Uu(null,!1);this.xc(this.kd)};
f.xc=function(a){null!=this.kd&&(this.Ur=this.kd);this.kd=a;null!=this.Ur&&Eh(this.a(),zj(this.constructor.ad,this.Ur));M(this.a(),zj(this.constructor.ad,this.kd));this.kd==Ex.ModalStates.Nj?(this.ba.Je.style.visibility="hidden",this.ba.Ng.style.visibility="hidden"):this.kd==Ex.ModalStates.Ng?(this.ba.Je.style.visibility="visible",this.ba.Ng.style.visibility="hidden"):this.kd==Ex.ModalStates.mf?(this.ba.mf.style.visibility="hidden",this.ba.ol.style.visibility="hidden",this.ba.Je.style.visibility=
"visible",this.ba.Ng.style.visibility="hidden"):this.kd==Ex.ModalStates.Ms?(this.ba.mf.style.visibility="hidden",this.ba.Je.style.visibility="hidden",this.ba.Ng.style.visibility="visible"):this.kd==Ex.ModalStates.Je&&(this.ba.mf.style.visibility="visible",this.ba.Je.style.visibility="hidden",this.ba.Ng.style.visibility="visible");this.o()};f.gm=function(){return this.kd};f.sj=function(){this.aa.loop(function(a){a.setActive(!1);this.Ea.loop(function(b){-1<b.Qa.indexOf(a.of)&&a.setActive(!0)})}.bind(this))};
f.My=function(){Hx(this);this.Qd=null!=this.Qd?this.Qd:[];this.gd=null!=this.gd?this.gd:new jk;Ix(this);Jx(this);F(this.gd,"end",this.EK.bind(this));D(this.Qd,function(a){this.gd.add(a)}.bind(this));this.gd.play();this.sj()};f.EK=function(){D(this.Qd,function(a){this.gd.remove(a);G(a);a.qe();a.g()}.bind(this));Kb(this.Qd);this.o();Kx(this)};function Kx(a){a.Ea.loop(function(a){0==a.a().style.opacity&&zk(a.a(),300)})}
function Ix(a){var b=null;a.Ea.loop(function(a,d,e){b=a.a();this.Qd.push(new Yj(b,[b.offsetLeft,b.offsetTop],[this.Aa.bc.Og[d][e],this.Aa.bc.Me[d][e]],300,xk))}.bind(a))}function Jx(a){var b=null;a.Ea.loop(function(a,d,e){b=a.a();this.Qd.push(new Zj(b,[b.offsetWidth,b.offsetHeight],[this.Aa.bc.Wj[d][e],this.Aa.bc.Pm[d][e]],300,xk))}.bind(a))}
function Hx(a){a.Aa=null!=a.Aa?a.Aa:{};a.Qh();a.Aa.rp={};a.Aa.rp.Wj=Math.round(S(a.Ib.a()).width);a.Aa.rp.Pm=Math.round(a.A.height-2*a.Es);a.Aa.rp.Me=Math.round(a.Es);Lx(a);Mx(a)}function Lx(a){a.Aa.bc={};a.Aa.bc.Wj=a.Ea.Tn();a.Aa.bc.Pm=a.Ea.Tn();a.Ea.loop(function(a,c,d,e,h){this.Aa.bc.Wj[c][d]=Math.round((this.A.width-this.Aa.rp.Wj-this.co)/h-this.co);this.Aa.bc.Pm[c][d]=Math.round((this.A.height-(e+1)*this.co)/e)}.bind(a))}
function Mx(a){a.Aa.bc.Og=a.Ea.Tn();a.Aa.bc.Me=a.Ea.Tn();a.Aa.bc.ZE=a.Aa.rp.Wj+a.Es;var b=0;a.Ea.loop(function(a,d,e){b=this.Aa.bc.ZE+e*(this.Aa.bc.Wj[d][e]+this.Es);this.Aa.bc.Og[d][e]=b;this.Aa.bc.Me[d][e]=d*(this.Aa.bc.Pm[d][e]+this.co);window.console.log();this.Aa.bc.Me[d][e]+=this.co}.bind(a))}f.o=function(){Hx(this);this.Ib&&this.Ib.o();Nx(this);this.sj();this.aa.o();this.aa.Xc()};
function Nx(a){a.Ea&&a.Ea.loop(function(a,c,d){tk(a.a(),{height:this.Aa.bc.Pm[c][d],width:this.Aa.bc.Wj[c][d],left:this.Aa.bc.Og[c][d],top:this.Aa.bc.Me[c][d]});a.o()}.bind(a))}
f.YA=function(){var a=O("div");a.id=this.constructor.ID_PREFIX+"_Background_"+B();a.className=Ex.CSS.Cp;this.a().appendChild(a);this.Qs=O("div");Q(this.a(),this.Qs);M(this.Qs,Ex.CSS.LE);this.Ib=new Cx("RIGHT");this.Ib.k(this.a());M(this.Ib.a(),Ex.CSS.KE);this.aa=new ex;this.aa.Dw(!0);var b;b=b||F;b(this.aa,"X",this.dL.bind(this));b(this.aa,"Y",this.eL.bind(this));b(this.aa,"ja",this.YK.bind(this));b(this.aa,"ha",this.aL.bind(this));b(this.aa,"ia",this.$K.bind(this));b(this.aa,"ka",this.cL.bind(this));
this.aa.k(this.Ib.a());this.Ib.MC("Project Browser",this.aa);this.Ib.oi(this.Qs);a=this.Ib.R().Bd("RIGHT");M(a,Ex.CSS.ME);this.Ib.R().Bk("RIGHT").CC(5);Q(a,O("div",{id:Y.ID_PREFIX+"_DraggerHandle_"+B(),"class":Ex.CSS.NE}));a=this.Ib.uA()[0];a.childNodes[0].style.visibility="hidden";b=O("img",{id:Y.ID_PREFIX+"_FolderIcon_"+B(),"class":Ex.CSS.bE});b.src=this.ci+"/images/viewer/xiv/ui/Modal/folder.png";Q(a,b);this.Ho=new $w;F(this.Ib,"resize",this.yM.bind(this));F(this.Ib,"resize",this.o.bind(this));
F(this.Ib,"resize_end",this.o.bind(this));this.Ea=new Gw;this.Ea.PC(this.a());var c;c=c||F;c(this.Ea,"ca",this.Yv.bind(this));c(this.Ea,"da",this.Xv.bind(this));c(this.Ea,"ea",this.zj.bind(this));F(this.Ea,"ba",this.qL.bind(this));Ox(this)};
function Ox(a){a.ba=Fx();C(a.ba,function(a){Q(this.a(),a)}.bind(a));Px(a);a.ba.ol.innerHTML="<img src="+a.ci+'/images/viewer/xiv/ui/Modal/close.png width="100%">';a.ba.Je.innerHTML="<img src="+a.ci+'/images/viewer/xiv/ui/Modal/fullscreen.png width="100%">';a.ba.Ng.innerHTML="<img src="+a.ci+'/images/viewer/xiv/ui/Modal/windowed.png width="100%">';a.ba.mf.innerHTML="<img src="+a.ci+'/images/viewer/xiv/ui/Modal/popup.png width="100%">'}
f.ky=function(){this.Ph=O("div",{id:Ex.ID_PREFIX+"_addSubjects_"+B(),"class":Ex.CSS.ix},"+ Load all subjects in project");this.Ib.Pq()[0].appendChild(this.Ph);vk(this.Ph,Ex.CSS.ix+"-hovered");var a=this.Ib.Pq()[0],b=ei(a)[0];S(a);S(b);S(this.Ph);b.style.height="calc(100% - 70px)";F(this.Ph,"click",this.iK.bind(this))};f.iK=function(){this.dispatchEvent({type:"g"});Ck(this.Ph,150,function(){Qx(this);var a=this.Ib.Pq()[0];ei(a)[0].setAttribute("style","");this.aa.Xc()}.bind(this))};
function Qx(a){null!=a.Ph&&(R(a.Ph),G(a.Ph),delete a.Ph)}f.yM=function(){var a=this.Ho;a.Vl.la[a.Kq()]&&this.Ib.R().Bk("RIGHT").hD()};f.qL=function(){var a=Rh("xiv-ui-thumbnailgallery-thumbnail-dragging");D(a,function(a){R(a)});this.sj();window.console.log(this.aa.Fg.Hq());null!=this.aa.Fg.Hq()&&this.aa.Of.hj({YP:!0})};f.nK=function(){this.kd===Ex.ModalStates.Je&&hx()};
f.vK=function(){var a=this.a();a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen();this.kd===Ex.ModalStates.mf?this.xc(Ex.ModalStates.Ms):this.xc(Ex.ModalStates.Je);this.o()};f.tL=function(){hx();this.xc(this.Ur)};function Px(a){var b;b=b||F;b(a.ba.Je,"click",a.vK.bind(a));b(a.ba.Ng,"click",a.tL.bind(a));b(a.ba.ol,"click",a.nK.bind(a))}
f.dL=function(a){this.Ea.Vs(a.Bi.of,function(a){a.Qu()})};f.eL=function(a){this.Ea.Vs(a.Bi.of,function(a){a.sm||a.Lm()})};f.$K=function(a){this.Ea.Rq(a.BM).Lm()};f.aL=function(a){this.Ea.Rq(a.thumbnailTarget).Qu()};f.YK=function(a){this.Ea.Ws()||a.Bi.hw(300,function(){this.Ea.aA().load(a.Bi.of);this.sj()}.bind(this))};f.cL=function(a){var b=this.Ea.Rq(a.zM);b.Lm();this.Ea.Ws()?b.Lm():(b.load(a.Bi.of),this.sj())};f.Yv=function(){this.sj()};f.Xv=function(){this.sj()};
f.zj=function(a){null!=a&&null!=a.VF?(a.CB&&D(a.CB,function(a){tk(a.a(),{opacity:0})}),this.My()):this.o();this.aa.$y();this.aa.xy(this.Ea.yA())};
f.f=function(){Ex.d.f.call(this);tb(this.Aa);delete this.Aa;this.hu(this.Qd);delete this.Qd;this.xq(this.gd);delete this.gd;this.yq(this.ba);delete this.ba;null!=this.Ea&&(G(this.Ea),this.Ea.g(),delete this.Ea);G(this.Ib);this.Ib.g();delete this.Ib;G(this.aa);this.aa.g();delete this.aa;Qx(this);null!=this.Ho&&(this.Ho.g(),delete this.Ho);delete this.kd;delete this.Ur};v("xiv.ui.Modal.EventType",Ex.pN);v("xiv.ui.Modal.ID_PREFIX",Ex.ID_PREFIX);v("xiv.ui.Modal.CSS_SUFFIX",Ex.CSS_SUFFIX);
v("xiv.ui.Modal.prototype.getViewBoxHandler",Ex.prototype.EI);v("xiv.ui.Modal.prototype.getThumbnailGallery",Ex.prototype.vI);v("xiv.ui.Modal.prototype.getProjectTab",Ex.prototype.fI);v("xiv.ui.Modal.prototype.getPopupButton",Ex.prototype.bI);v("xiv.ui.Modal.prototype.getCloseButton",Ex.prototype.ZG);v("xiv.ui.Modal.prototype.getFullScreenButton",Ex.prototype.tH);v("xiv.ui.Modal.prototype.render",Ex.prototype.k);v("xiv.ui.Modal.prototype.setState",Ex.prototype.xc);
v("xiv.ui.Modal.prototype.getState",Ex.prototype.gm);v("xiv.ui.Modal.prototype.highlightInUseThumbnails",Ex.prototype.sj);v("xiv.ui.Modal.prototype.animateModal",Ex.prototype.My);v("xiv.ui.Modal.prototype.updateStyle",Ex.prototype.o);v("xiv.ui.Modal.prototype.initSubComponents",Ex.prototype.YA);v("xiv.ui.Modal.prototype.addAddSubjectsToProjectTab",Ex.prototype.ky);v("xiv.ui.Modal.prototype.disposeInternal",Ex.prototype.f);window["xiv.ui.Modal"]=Ex;window["xiv.ui.Modal.ModalStates"]=Ex.ModalStates;
//# sourceMappingURL=./xiv-min.js.map