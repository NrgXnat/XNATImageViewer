var f,aa=aa||{},ba=this;function da(a){return void 0!==a}function ea(a){a=a.split(".");for(var b=ba,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function fa(){}function ga(a){a.ue=function(){return a.dB?a.dB:a.dB=new a}}
function ha(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function g(a){return"array"==ha(a)}function ia(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function ja(a){return"boolean"==typeof a}function u(a){return"number"==typeof a}function la(a){return"function"==ha(a)}function ma(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function na(a){return a[pa]||(a[pa]=++ra)}
var pa="closure_uid_"+(1E9*Math.random()>>>0),ra=0;function sa(a,b,c){return a.call.apply(a.bind,arguments)}function ta(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ua(a,b,c){ua=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ta;return ua.apply(null,arguments)}function va(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var xa=Date.now||function(){return+new Date};
function v(a,b){var c=a.split("."),d=ba;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&da(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function w(a,b){function c(){}c.prototype=b.prototype;a.d=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.QP=function(a,c,h){var k=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,k)}};var A=A||{};A.mN=!0;A.je=function(a){eval("X.DEV === undefined")||window.console.time(a)};A.Nd=function(a){eval("X.DEV === undefined")||window.console.timeEnd(a)};window["X.counter"]=new function(){this.EF=0;this.NM=function(){return this.EF++}};function Aa(a,b){for(var c in b){var d=b.__lookupGetter__(c),e=b.__lookupSetter__(c);c in a||(d||e?(d&&a.__defineGetter__(c,d),e&&a.__defineSetter__(c,e)):a[c]=b[c])}}var Ba=window.ND;
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return h.apply(this instanceof c?this:a||window,e.concat(d.call(arguments)))}function c(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice,e=d.call(arguments,1),h=this;c.prototype=this.prototype;b.prototype=new c;return b});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=Date.now(),h=Math.max(0,16-(c-a)),k=window.setTimeout(function(){b(c+h)},h);a=c+h;return k});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();"slice"in ArrayBuffer.prototype||(ArrayBuffer.prototype.slice=function(a,b){if(void 0===a)throw Error("Not enough arguments.");var c=b||this.byteLength;0>a&&(a=this.byteLength+a);0>c&&(c=this.byteLength+c);c<a&&(c=a=0);0>a&&(a=0);0>c&&(c=0);a>this.byteLength&&(a=this.byteLength);c>this.byteLength&&(c=this.byteLength);for(var d=new ArrayBuffer(c-a),e=new Uint8Array(this),h=new Uint8Array(d),k=a,l=0;k<c;++k,++l)h[l]=e[k];return d});v("$",Ba);
v("Function.prototype.bind",Function.prototype.bind);v("window.requestAnimationFrame",window.requestAnimationFrame);v("window.cancelAnimationFrame",window.cancelAnimationFrame);var Ca;function Da(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Da);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}w(Da,Error);Da.prototype.name="CustomError";function Ea(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Fa(a,b){var c=String(b).toLowerCase(),d=String(a.substr(a.length-b.length,b.length)).toLowerCase();return 0==(c<d?-1:c==d?0:1)}function Ga(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Ha(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}
function Ia(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ka=/(\.\d+)|(\d+)|(\D+)/g;function La(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(Ka),d=b.toLowerCase().match(Ka),e=Math.min(c.length,d.length),h=0;h<e;h++){var k=c[h],l=d[h];if(k!=l)return c=parseInt(k,10),!isNaN(c)&&(d=parseInt(l,10),!isNaN(d)&&c-d)?c-d:k<l?-1:1}return c.length!=d.length?c.length-d.length:a<b?-1:1}
function Ma(a){if(!Na.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ua,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Va,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Wa,"&#0;"));return a}var Ra=/&/g,Sa=/</g,Ta=/>/g,Ua=/"/g,Va=/'/g,Wa=/\x00/g,Na=/[\x00&<>"']/;
function Xa(a,b){var c;if(c&&a.length>b)c>b&&(c=b),a=a.substring(0,b-c)+"..."+a.substring(a.length-c);else if(a.length>b){c=Math.floor(b/2);var d=a.length-c;a=a.substring(0,c+b%2)+"..."+a.substring(d)}return a}function Ya(a){return Array.prototype.join.call(arguments,"")}
function Za(a,b){for(var c=0,d=Ia(String(a)).split("."),e=Ia(String(b)).split("."),h=Math.max(d.length,e.length),k=0;0==c&&k<h;k++){var l=d[k]||"",n=e[k]||"",p=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var q=p.exec(l)||["","",""],t=m.exec(n)||["","",""];if(0==q[0].length&&0==t[0].length)break;c=$a(0==q[1].length?0:parseInt(q[1],10),0==t[1].length?0:parseInt(t[1],10))||$a(0==q[2].length,0==t[2].length)||$a(q[2],t[2])}while(0==c)}return c}function $a(a,b){return a<b?-1:a>b?1:0}
var ab=2147483648*Math.random()|0;function B(){return"goog_"+ab++}function bb(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function cb(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}function db(a){var b=r(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function eb(a,b){b.unshift(a);Da.call(this,Ga.apply(null,b));b.shift()}w(eb,Da);eb.prototype.name="AssertionError";function fb(a,b){throw new eb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var gb="closure_listenable_"+(1E6*Math.random()|0);function hb(a){return!(!a||!a[gb])}var ib=0;function jb(a,b,c,d,e){this.Sk=a;this.Zr=null;this.src=b;this.type=c;this.Gn=!!d;this.br=e;this.key=++ib;this.Hm=this.oq=!1}function kb(a){a.Hm=!0;a.Sk=null;a.Zr=null;a.src=null;a.br=null};function C(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function mb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function nb(a){var b=0,c;for(c in a)b++;return b}function ob(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function pb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function qb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function rb(){var a=sb,b;for(b in a)return!1;return!0}function D(a){for(var b in a)delete a[b]}function tb(a,b){b in a&&delete a[b]}
function ub(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function vb(a){var b={},c;for(c in a)b[c]=a[c];return b}var wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var h=0;h<wb.length;h++)c=wb[h],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function yb(a){var b=arguments.length;if(1==b&&g(arguments[0]))return yb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var zb=Array.prototype,Ab=zb.indexOf?function(a,b,c){return zb.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Bb=zb.lastIndexOf?function(a,b,c){return zb.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(r(a))return r(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;
return-1},E=zb.forEach?function(a,b,c){zb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)h in e&&b.call(c,e[h],h,a)},Cb=zb.filter?function(a,b,c){return zb.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],h=0,k=r(a)?a.split(""):a,l=0;l<d;l++)if(l in k){var n=k[l];b.call(c,n,l,a)&&(e[h++]=n)}return e},Db=zb.map?function(a,b,c){return zb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),h=r(a)?a.split(""):a,k=0;k<d;k++)k in h&&(e[k]=
b.call(c,h[k],k,a));return e},Eb=zb.some?function(a,b,c){return zb.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)if(h in e&&b.call(c,e[h],h,a))return!0;return!1},Fb=zb.every?function(a,b,c){return zb.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)if(h in e&&!b.call(c,e[h],h,a))return!1;return!0};
function Gb(a){var b;a:{b=Hb;for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]}function Ib(a,b){return 0<=Ab(a,b)}function Jb(a){if(!g(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Kb(a,b){Ib(a,b)||a.push(b)}function Lb(a,b){var c=Ab(a,b),d;(d=0<=c)&&zb.splice.call(a,c,1);return d}function Mb(a){return zb.concat.apply(zb,arguments)}
function Nb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ob(a,b,c,d){zb.splice.apply(a,Pb(arguments,1))}function Pb(a,b,c){return 2>=arguments.length?zb.slice.call(a,b):zb.slice.call(a,b,c)}function Qb(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b};function Rb(a){this.src=a;this.Yc={};this.Ep=0}f=Rb.prototype;f.add=function(a,b,c,d,e){var h=a.toString();a=this.Yc[h];a||(a=this.Yc[h]=[],this.Ep++);var k=Sb(a,b,d,e);-1<k?(b=a[k],c||(b.oq=!1)):(b=new jb(b,this.src,h,!!d,e),b.oq=c,a.push(b));return b};f.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Yc))return!1;var e=this.Yc[a];b=Sb(e,b,c,d);return-1<b?(kb(e[b]),zb.splice.call(e,b,1),0==e.length&&(delete this.Yc[a],this.Ep--),!0):!1};
function Tb(a,b){var c=b.type;if(!(c in a.Yc))return!1;var d=Lb(a.Yc[c],b);d&&(kb(b),0==a.Yc[c].length&&(delete a.Yc[c],a.Ep--));return d}f.Dg=function(a){a=a&&a.toString();var b=0,c;for(c in this.Yc)if(!a||c==a){for(var d=this.Yc[c],e=0;e<d.length;e++)++b,kb(d[e]);delete this.Yc[c];this.Ep--}return b};f.$n=function(a,b,c,d){a=this.Yc[a.toString()];var e=-1;a&&(e=Sb(a,b,c,d));return-1<e?a[e]:null};
f.cr=function(a,b){var c=da(a),d=c?a.toString():"",e=da(b);return mb(this.Yc,function(a){for(var k=0;k<a.length;++k)if(!(c&&a[k].type!=d||e&&a[k].Gn!=b))return!0;return!1})};function Sb(a,b,c,d){for(var e=0;e<a.length;++e){var h=a[e];if(!h.Hm&&h.Sk==b&&h.Gn==!!c&&h.br==d)return e}return-1};var Ub;a:{var Vb=ba.navigator;if(Vb){var Wb=Vb.userAgent;if(Wb){Ub=Wb;break a}}Ub=""}function Xb(a){return-1!=Ub.indexOf(a)}function Yb(a){for(var b=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};function Zb(){return Xb("Opera")||Xb("OPR")}function $b(){return Xb("Trident")||Xb("MSIE")}function ac(){return Xb("Safari")&&!Xb("Chrome")&&!Xb("CriOS")&&!Xb("Android")}
function bc(){var a=Ub;if($b()){var b=/rv: *([\d\.]*)/.exec(a);if(b&&b[1])a=b[1];else{var b="",c=/MSIE +([\d\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\/(\d.\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case "4.0":b="8.0";break;case "5.0":b="9.0";break;case "6.0":b="10.0";break;case "7.0":b="11.0"}else b="7.0";else b=c[1];a=b}return a}if(Zb())return a=Yb(a),b=a[a.length-1],"OPR"==b[0]&&b[1]?b[1]:a[2]&&a[2][1]?a[2][1]:"";a=Yb(a);return a[2]&&a[2][1]?a[2][1]:""};var cc,dc,ec;function fc(){return ba.navigator||null}var gc=Zb(),F=$b(),hc=Xb("Gecko")&&-1==Ub.toLowerCase().indexOf("webkit")&&!(Xb("Trident")||Xb("MSIE")),ic=-1!=Ub.toLowerCase().indexOf("webkit"),jc,kc=fc();jc=kc&&kc.platform||"";cc=-1!=jc.indexOf("Mac");dc=-1!=jc.indexOf("Win");ec=-1!=jc.indexOf("Linux");var lc=!!fc()&&-1!=(fc().appVersion||"").indexOf("X11");function mc(){var a=ba.document;return a?a.documentMode:void 0}
var nc=function(){var a="",b;if(gc&&ba.opera)return a=ba.opera.version,la(a)?a():a;hc?b=/rv\:([^\);]+)(\)|;)/:F?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:ic&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ub))?a[1]:"");return F&&(b=mc(),b>parseFloat(a))?String(b):a}(),oc={};function pc(a){return oc[a]||(oc[a]=0<=Za(nc,a))}function qc(a){return F&&rc>=a}var sc=ba.document,rc=sc&&F?mc()||("CSS1Compat"==sc.compatMode?parseInt(nc,10):5):void 0;var tc=!F||qc(9),uc=!F||qc(9),vc=F&&!pc("9");!ic||pc("528");hc&&pc("1.9b")||F&&pc("8")||gc&&pc("9.5")||ic&&pc("528");hc&&!pc("8")||F&&pc("9");function wc(){0!=xc&&(yc[na(this)]=this)}var xc=0,yc={};wc.prototype.wk=!1;wc.prototype.g=function(){if(!this.wk&&(this.wk=!0,this.f(),0!=xc)){var a=na(this);delete yc[a]}};function zc(a,b){a.Ho||(a.Ho=[]);a.Ho.push(da(void 0)?ua(b,void 0):b)}wc.prototype.f=function(){if(this.Ho)for(;this.Ho.length;)this.Ho.shift()()};function Ac(a){a&&"function"==typeof a.g&&a.g()}function Bc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ia(d)?Bc.apply(null,d):Ac(d)}};function Cc(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Bg=!1;this.To=!0}Cc.prototype.f=function(){};Cc.prototype.g=function(){};Cc.prototype.stopPropagation=function(){this.Bg=!0};Cc.prototype.preventDefault=function(){this.defaultPrevented=!0;this.To=!1};function Dc(a){a.preventDefault()};function Fc(a){Fc[" "](a);return a}Fc[" "]=fa;function Gc(a,b){Cc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.gw=!1;this.Xc=null;a&&this.va(a,b)}w(Gc,Cc);var Ic=[1,4,2];f=Gc.prototype;
f.va=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(hc){var e;a:{try{Fc(d.nodeName);e=!0;break a}catch(h){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=ic||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=ic||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.gw=cc?a.metaKey:a.ctrlKey;this.state=a.state;this.Xc=a;a.defaultPrevented&&this.preventDefault()};function Jc(a){return(tc?0==a.Xc.button:"click"==a.type?!0:!!(a.Xc.button&Ic[0]))&&!(ic&&cc&&a.ctrlKey)}
f.stopPropagation=function(){Gc.d.stopPropagation.call(this);this.Xc.stopPropagation?this.Xc.stopPropagation():this.Xc.cancelBubble=!0};f.preventDefault=function(){Gc.d.preventDefault.call(this);var a=this.Xc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,vc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};f.XG=function(){return this.Xc};f.f=function(){};var Kc="closure_lm_"+(1E6*Math.random()|0),Lc={},Mc=0;function G(a,b,c,d,e){if(g(b)){for(var h=0;h<b.length;h++)G(a,b[h],c,d,e);return null}c=Nc(c);return hb(a)?a.D(b,c,d,e):Oc(a,b,c,!1,d,e)}function Oc(a,b,c,d,e,h){if(!b)throw Error("Invalid event type");var k=!!e,l=Pc(a);l||(a[Kc]=l=new Rb(a));c=l.add(b,c,d,e,h);if(c.Zr)return c;d=Qc();c.Zr=d;d.src=a;d.Sk=c;a.addEventListener?a.addEventListener(b.toString(),d,k):a.attachEvent(Rc(b.toString()),d);Mc++;return c}
function Qc(){var a=Sc,b=uc?function(c){return a.call(b.src,b.Sk,c)}:function(c){c=a.call(b.src,b.Sk,c);if(!c)return c};return b}function Tc(a,b,c,d,e){if(g(b)){for(var h=0;h<b.length;h++)Tc(a,b[h],c,d,e);return null}c=Nc(c);return hb(a)?a.mv(b,c,d,e):Oc(a,b,c,!0,d,e)}function Uc(a,b,c,d,e){if(g(b))for(var h=0;h<b.length;h++)Uc(a,b[h],c,d,e);else c=Nc(c),hb(a)?a.Ab(b,c,d,e):a&&(a=Pc(a))&&(b=a.$n(b,c,!!d,e))&&Vc(b)}
function Vc(a){if(u(a)||!a||a.Hm)return!1;var b=a.src;if(hb(b))return Tb(b.dh,a);var c=a.type,d=a.Zr;b.removeEventListener?b.removeEventListener(c,d,a.Gn):b.detachEvent&&b.detachEvent(Rc(c),d);Mc--;(c=Pc(b))?(Tb(c,a),0==c.Ep&&(c.src=null,b[Kc]=null)):kb(a);return!0}function J(a){if(a)if(hb(a))a.removeAllListeners(void 0);else if(a=Pc(a)){var b=0,c;for(c in a.Yc)for(var d=a.Yc[c].concat(),e=0;e<d.length;++e)Vc(d[e])&&++b}}
function Wc(a,b){if(hb(a))return a.cr(b,void 0);var c=Pc(a);return!!c&&c.cr(b,void 0)}function Rc(a){return a in Lc?Lc[a]:Lc[a]="on"+a}function Xc(a,b,c,d){var e=1;if(a=Pc(a))if(b=a.Yc[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.Gn==c&&!h.Hm&&(e&=!1!==Yc(h,d))}return Boolean(e)}function Yc(a,b){var c=a.Sk,d=a.br||a.src;a.oq&&Vc(a);return c.call(d,b)}
function Sc(a,b){if(a.Hm)return!0;if(!uc){var c=b||ea("window.event"),d=new Gc(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var h=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){h=!0}if(h||void 0==c.returnValue)c.returnValue=!0}c=[];for(h=d.currentTarget;h;h=h.parentNode)c.push(h);for(var h=a.type,l=c.length-1;!d.Bg&&0<=l;l--)d.currentTarget=c[l],e&=Xc(c[l],h,!0,d);for(l=0;!d.Bg&&l<c.length;l++)d.currentTarget=c[l],e&=Xc(c[l],h,!1,d)}return e}return Yc(a,new Gc(b,this))}
function Pc(a){a=a[Kc];return a instanceof Rb?a:null}var Zc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Nc(a){return la(a)?a:a[Zc]||(a[Zc]=function(b){return a.handleEvent(b)})};function $c(){wc.call(this);this.dh=new Rb(this);this.OF=this;this.Vr=null}w($c,wc);$c.prototype[gb]=!0;f=$c.prototype;f.xw=function(a){this.Vr=a};f.addEventListener=function(a,b,c,d){G(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){Uc(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Vr;if(c)for(b=[];c;c=c.Vr)b.push(c);var c=this.OF,d=a.type||a;if(r(a))a=new Cc(a,c);else if(a instanceof Cc)a.target=a.target||c;else{var e=a;a=new Cc(d,c);xb(a,e)}var e=!0,h;if(b)for(var k=b.length-1;!a.Bg&&0<=k;k--)h=a.currentTarget=b[k],e=ad(h,d,!0,a)&&e;a.Bg||(h=a.currentTarget=c,e=ad(h,d,!0,a)&&e,a.Bg||(e=ad(h,d,!1,a)&&e));if(b)for(k=0;!a.Bg&&k<b.length;k++)h=a.currentTarget=b[k],e=ad(h,d,!1,a)&&e;return e};
f.f=function(){$c.d.f.call(this);this.removeAllListeners();this.Vr=null};f.D=function(a,b,c,d){return this.dh.add(String(a),b,!1,c,d)};f.mv=function(a,b,c,d){return this.dh.add(String(a),b,!0,c,d)};f.Ab=function(a,b,c,d){return this.dh.remove(String(a),b,c,d)};f.removeAllListeners=function(a){return this.dh?this.dh.Dg(a):0};
function ad(a,b,c,d){b=a.dh.Yc[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.Hm&&k.Gn==c){var l=k.Sk,n=k.br||k.src;k.oq&&Tb(a.dh,k);e=!1!==l.call(n,d)&&e}}return e&&!1!=d.To}f.$n=function(a,b,c,d){return this.dh.$n(String(a),b,c,d)};f.cr=function(a,b){return this.dh.cr(da(a)?String(a):void 0,b)};function bd(){$c.call(this);this.u="base";this.wd=window["X.counter"].NM();this.J=!1}w(bd,$c);bd.prototype.__defineGetter__("classname",function(){return this.u});bd.prototype.__defineGetter__("id",function(){return this.wd});v("X.base",bd);function cd(a,b){bd.call(this);this.u="triplets";this.dg=Infinity;this.ag=-Infinity;this.eg=Infinity;this.bg=-Infinity;this.fg=Infinity;this.cg=-Infinity;this.Qp=[0,0,0];this.Ta=0;this.jc=new Float32Array(a);null!=b&&(this.jc=b.jc.subarray(0,b.jc.length),this.Ta=this.jc.length,this.dg=b.dg,this.ag=b.ag,this.eg=b.eg,this.bg=b.bg,this.fg=b.fg,this.cg=b.cg,this.Qp=b.Qp.slice())}w(cd,bd);f=cd.prototype;
f.add=function(a,b,c){this.dg=Math.min(this.dg,a);this.ag=Math.max(this.ag,a);this.eg=Math.min(this.eg,b);this.bg=Math.max(this.bg,b);this.fg=Math.min(this.fg,c);this.cg=Math.max(this.cg,c);this.Qp=[(this.dg+this.ag)/2,(this.eg+this.bg)/2,(this.fg+this.cg)/2];this.J=!0;this.jc[this.Ta++]=a;this.jc[this.Ta++]=b;this.jc[this.Ta++]=c;return this.Ta/3};f.resize=function(){if(this.Ta!=this.jc.length){var a=new Float32Array(this.Ta);a.set(this.jc.subarray(0,this.Ta));this.jc=a}};
f.get=function(a){a*=3;return[this.jc[a],this.jc[a+1],this.jc[a+2]]};f.remove=function(){throw Error("Not implemented.");};f.clear=function(){this.jc=new Float32Array(this.jc.length);this.J=!0};cd.prototype.__defineGetter__("count",function(){this.resize();return this.jc.length/3});cd.prototype.__defineGetter__("length",function(){this.resize();return this.jc.length});v("X.triplets",cd);v("X.triplets.prototype.add",cd.prototype.add);v("X.triplets.prototype.resize",cd.prototype.resize);
v("X.triplets.prototype.get",cd.prototype.get);v("X.triplets.prototype.remove",cd.prototype.remove);v("X.triplets.prototype.clear",cd.prototype.clear);function dd(){bd.call(this);this.u="indexer";this.wt=[];this.ke={}}w(dd,bd);dd.prototype.add=function(a){if(null==a)throw Error("Invalid object.");var b=window.JSON.stringify(a);b in this.ke||(this.ke[b]=this.wt.length,this.wt.push(a));return this.ke[b]};dd.prototype.unique=function(){return this.wt};function ed(a){bd.call(this);this.u="file";this.bq=a;this.J=!0}w(ed,bd);function fd(){this.Tg=this.ja=null}fd.prototype.__defineSetter__("file",function(a){if(null==a||g(a)&&0==a.length)this.ja=null;else{if(g(a)){if(1==a.length){this.ja=new ed(a[0]);return}this.ja=Db(a,function(a){var c=new K;c.ja=new ed(a);return c})}else this.ja=new ed(a);this.Tg=null}});fd.prototype.__defineGetter__("file",function(){return this.ja?g(this.ja)?this.ja.map(function(a){return a.ja.bq}):this.ja.bq:""});
fd.prototype.__defineGetter__("filedata",function(){return g(this.ja)?this.ja.map(function(a){return a.Tg}):this.Tg});fd.prototype.__defineSetter__("filedata",function(a){if(null==a||g(a)&&0==a.length)this.Tg=null;if(g(a))if(1==a.length)this.Tg=a[0];else{var b=this.ja.length,c;for(c=0;c<b;c++)this.ja[c].Tg=a[c]}else this.Tg=a});function gd(){return null};function hd(a,b,c){return Math.min(Math.max(a,b),c)};function id(a,b){this.Gb={};this.rb=[];this.Zh=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.yt(a)}f=id.prototype;f.pg=function(){return this.Zh};f.fi=function(){jd(this);for(var a=[],b=0;b<this.rb.length;b++)a.push(this.Gb[this.rb[b]]);return a};f.Zn=function(){jd(this);return this.rb.concat()};
f.Wt=function(a){for(var b=0;b<this.rb.length;b++){var c=this.rb[b];if(ld(this.Gb,c)&&this.Gb[c]==a)return!0}return!1};f.gm=function(a,b){if(this===a)return!0;if(this.Zh!=a.pg())return!1;var c=b||md;jd(this);for(var d,e=0;d=this.rb[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function md(a,b){return a===b}f.ym=function(){return 0==this.Zh};f.clear=function(){this.Gb={};this.Zh=this.rb.length=0};
f.remove=function(a){return ld(this.Gb,a)?(delete this.Gb[a],this.Zh--,this.rb.length>2*this.Zh&&jd(this),!0):!1};function jd(a){if(a.Zh!=a.rb.length){for(var b=0,c=0;b<a.rb.length;){var d=a.rb[b];ld(a.Gb,d)&&(a.rb[c++]=d);b++}a.rb.length=c}if(a.Zh!=a.rb.length){for(var e={},c=b=0;b<a.rb.length;)d=a.rb[b],ld(e,d)||(a.rb[c++]=d,e[d]=1),b++;a.rb.length=c}}f.get=function(a,b){return ld(this.Gb,a)?this.Gb[a]:b};f.set=function(a,b){ld(this.Gb,a)||(this.Zh++,this.rb.push(a));this.Gb[a]=b};
f.yt=function(a){var b;a instanceof id?(b=a.Zn(),a=a.fi()):(b=pb(a),a=ob(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};f.forEach=function(a,b){for(var c=this.Zn(),d=0;d<c.length;d++){var e=c[d],h=this.get(e);a.call(b,h,e,this)}};f.clone=function(){return new id(this)};f.$w=function(){for(var a=new id,b=0;b<this.rb.length;b++){var c=this.rb[b];a.set(this.Gb[c],c)}return a};function ld(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function nd(){bd.call(this);this.u="colortable";this.ke=new id;Aa(this,new fd)}w(nd,bd);nd.prototype.add=function(a,b,c,d,e,h){if(!(u(a)&&u(c)&&u(d)&&u(e)&&u(h)))throw Error("Invalid color table entry.");this.ke.set(a,[b,c,d,e,h]);this.J=!0};nd.prototype.get=function(a){return this.ke.get(a)};v("X.colortable.prototype.get",nd.prototype.get);function od(a,b,c){this.x=da(a)?a:0;this.y=da(b)?b:0;this.z=da(c)?c:0}od.prototype.clone=function(){return new od(this.x,this.y,this.z)};od.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};od.prototype.Vw=function(){return[this.x,this.y,this.z]};function pd(a,b,c){this.x=a;this.y=b;this.z=c}w(pd,od);f=pd.prototype;f.clone=function(){return new pd(this.x,this.y,this.z)};f.xg=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};f.scale=function(a){this.x*=a;this.y*=a;this.z*=a;return this};f.Hb=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};f.normalize=function(){return this.scale(1/this.xg())};f.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};
f.Pc=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};f.gm=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.z==a.z};function qd(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return Math.sqrt(c*c+d*d+e*e)}function rd(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return c*c+d*d+e*e}function sd(a,b){return new pd(a.x+b.x,a.y+b.y,a.z+b.z)}function td(a,b){return new pd(a.y*b.z-a.z*b.y,a.z*b.x-a.x*b.z,a.x*b.y-a.y*b.x)};A.S=pd;f=A.S.prototype;f.clone=pd.prototype.clone;f.xg=pd.prototype.xg;f.scale=pd.prototype.scale;f.Hb=pd.prototype.Hb;f.add=pd.prototype.add;f.Pc=pd.prototype.Pc;f.normalize=function(){var a=this.xg();return 0==a?this.scale(0):this.scale(1/a)};A.S.jj=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z};A.S.uk=td;A.S.nu=qd;A.S.xr=function(a,b,c){var d=a.x,e=a.y;a=a.z;return new pd(d+c*(b.x-d),e+c*(b.y-e),a+c*(b.z-a))};A.S.prototype.__defineGetter__("xx",function(){return this.x});
A.S.prototype.__defineGetter__("yy",function(){return this.y});A.S.prototype.__defineGetter__("zz",function(){return this.z});v("X.vector",A.S);v("X.vector.prototype.clone",A.S.prototype.clone);v("X.vector.prototype.magnitude",A.S.prototype.xg);v("X.vector.prototype.scale",A.S.prototype.scale);v("X.vector.prototype.invert",A.S.prototype.Hb);v("X.vector.prototype.normalize",A.S.prototype.normalize);v("X.vector.prototype.add",A.S.prototype.add);v("X.vector.prototype.subtract",A.S.prototype.Pc);
v("X.vector.dot",A.S.jj);v("X.vector.cross",A.S.uk);v("X.vector.distance",A.S.nu);v("X.vector.lerp",A.S.xr);function ud(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}ud.prototype.BYTES_PER_ELEMENT=8;ud.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};ud.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{ud.BYTES_PER_ELEMENT=8}catch(vd){}ud.prototype.BYTES_PER_ELEMENT=ud.prototype.BYTES_PER_ELEMENT;ud.prototype.set=ud.prototype.set;ud.prototype.toString=ud.prototype.toString;v("Float64Array",ud)};function wd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}wd.prototype.BYTES_PER_ELEMENT=4;wd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};wd.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(wd.BYTES_PER_ELEMENT=4,wd.prototype.BYTES_PER_ELEMENT=wd.prototype.BYTES_PER_ELEMENT,wd.prototype.set=wd.prototype.set,wd.prototype.toString=wd.prototype.toString,v("Float32Array",wd));function xd(){return new Float32Array(3)}function yd(a,b,c){var d=xd();d[0]=a;d[1]=b;d[2]=c;return d}function zd(a,b){var c=a[0],d=a[1],e=a[2],c=1/Math.sqrt(c*c+d*d+e*e);b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c};function Ad(){return new Float32Array(4)}function Bd(a,b,c,d){var e=Ad();e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e};function Cd(){return new Float32Array(16)}function Dd(){var a=Cd();a[0]=a[5]=a[10]=a[15]=1;return a}function Ed(a,b,c,d,e,h,k,l,n,p,m,q,t,s,z,y,I){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=h;a[5]=k;a[6]=l;a[7]=n;a[8]=p;a[9]=m;a[10]=q;a[11]=t;a[12]=s;a[13]=z;a[14]=y;a[15]=I;return a}function Fd(a,b,c){b*=4;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3]}function Gd(a,b,c){b*=4;c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];c[3]=a[b+3]}function L(a,b,c,d,e,h){a[b]=c;a[b+4]=d;a[b+8]=e;a[b+12]=h}
function Hd(a,b,c){a[b]=c[0];a[b+4]=c[1];a[b+8]=c[2];a[b+12]=c[3]}function Id(a,b,c){c[0]=a[b];c[1]=a[b+4];c[2]=a[b+8];c[3]=a[b+12]}
function Jd(a,b,c){var d=a[0],e=a[1],h=a[2],k=a[3],l=a[4],n=a[5],p=a[6],m=a[7],q=a[8],t=a[9],s=a[10],z=a[11],y=a[12],I=a[13],P=a[14];a=a[15];var N=b[0],H=b[1],T=b[2],ca=b[3],V=b[4],wa=b[5],oa=b[6],ya=b[7],Oa=b[8],Ja=b[9],Pa=b[10],ka=b[11],za=b[12],qa=b[13],Hc=b[14];b=b[15];c[0]=d*N+l*H+q*T+y*ca;c[1]=e*N+n*H+t*T+I*ca;c[2]=h*N+p*H+s*T+P*ca;c[3]=k*N+m*H+z*T+a*ca;c[4]=d*V+l*wa+q*oa+y*ya;c[5]=e*V+n*wa+t*oa+I*ya;c[6]=h*V+p*wa+s*oa+P*ya;c[7]=k*V+m*wa+z*oa+a*ya;c[8]=d*Oa+l*Ja+q*Pa+y*ka;c[9]=e*Oa+n*Ja+t*Pa+
I*ka;c[10]=h*Oa+p*Ja+s*Pa+P*ka;c[11]=k*Oa+m*Ja+z*Pa+a*ka;c[12]=d*za+l*qa+q*Hc+y*b;c[13]=e*za+n*qa+t*Hc+I*b;c[14]=h*za+p*qa+s*Hc+P*b;c[15]=k*za+m*qa+z*Hc+a*b;return c}
function Kd(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[4],l=a[5],n=a[6],p=a[7],m=a[8],q=a[9],t=a[10],s=a[11],z=a[12],y=a[13],I=a[14],P=a[15],N=c*l-d*k,H=c*n-e*k,T=c*p-h*k,ca=d*n-e*l,V=d*p-h*l,wa=e*p-h*n,oa=m*y-q*z,ya=m*I-t*z,Oa=m*P-s*z,Ja=q*I-t*y,Pa=q*P-s*y,ka=t*P-s*I,za=N*ka-H*Pa+T*Ja+ca*Oa-V*ya+wa*oa;if(0==za)return!1;za=1/za;b[0]=(l*ka-n*Pa+p*Ja)*za;b[1]=(-d*ka+e*Pa-h*Ja)*za;b[2]=(y*wa-I*V+P*ca)*za;b[3]=(-q*wa+t*V-s*ca)*za;b[4]=(-k*ka+n*Oa-p*ya)*za;b[5]=(c*ka-e*Oa+h*ya)*za;b[6]=(-z*wa+I*T-P*H)*za;
b[7]=(m*wa-t*T+s*H)*za;b[8]=(k*Pa-l*Oa+p*oa)*za;b[9]=(-c*Pa+d*Oa-h*oa)*za;b[10]=(z*V-y*T+P*N)*za;b[11]=(-m*V+q*T-s*N)*za;b[12]=(-k*Ja+l*ya-n*oa)*za;b[13]=(c*Ja-d*ya+e*oa)*za;b[14]=(-z*ca+y*H-I*N)*za;b[15]=(m*ca-q*H+t*N)*za;return!0}function Ld(a,b,c){var d=b[0],e=b[1];b=b[2];c[0]=d*a[0]+e*a[4]+b*a[8]+a[12];c[1]=d*a[1]+e*a[5]+b*a[9]+a[13];c[2]=d*a[2]+e*a[6]+b*a[10]+a[14]}
function Md(a,b,c){var d=b[0],e=b[1],h=b[2];b=b[3];c[0]=d*a[0]+e*a[4]+h*a[8]+b*a[12];c[1]=d*a[1]+e*a[5]+h*a[9]+b*a[13];c[2]=d*a[2]+e*a[6]+h*a[10]+b*a[14];c[3]=d*a[3]+e*a[7]+h*a[11]+b*a[15];return c}function Nd(a,b,c,d){var e=a[1]*b+a[5]*c+a[9]*d+a[13],h=a[2]*b+a[6]*c+a[10]*d+a[14],k=a[3]*b+a[7]*c+a[11]*d+a[15];a[12]=a[0]*b+a[4]*c+a[8]*d+a[12];a[13]=e;a[14]=h;a[15]=k;return a}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);A.v={};A.v.tB=function(a,b,c,d){c=c.Pc(b);c.normalize();d=A.S.uk(c,d);d.normalize();var e=A.S.uk(d,c);e.normalize();c.Hb();L(a,0,d.x,d.y,d.z,0);L(a,1,e.x,e.y,e.z,0);L(a,2,c.x,c.y,c.z,0);Nd(a,-b.x,-b.y,-b.z);return a};A.v.bc=function(a,b,c,d){var e=1/(b*a[3]+c*a[7]+d*a[11]+a[15]);return new A.S((b*a[0]+c*a[4]+d*a[8]+a[12])*e,(b*a[1]+c*a[5]+d*a[9]+a[13])*e,(b*a[2]+c*a[6]+d*a[10]+a[14])*e)};
A.v.BM=function(a,b,c){var d=new Float32Array(4),e=new Float32Array(4);Id(a,b,d);Id(a,c,e);Hd(a,b,e);Hd(a,c,d);return a};A.v.AM=function(a,b,c){var d=new Float32Array(4),e=new Float32Array(4);Gd(a,b,d);Gd(a,c,e);Fd(a,b,e);Fd(a,c,d);return a};A.v.ko=Dd;A.v.clone=function(a){var b=Cd();b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};
A.v.$w=function(a,b){if(b==a){var c=a[1],d=a[2],e=a[3],h=a[6],k=a[7],l=a[11];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=c;b[6]=a[9];b[7]=a[13];b[8]=d;b[9]=h;b[11]=a[14];b[12]=e;b[13]=k;b[14]=l}else b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15];return b};
A.v.yG=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],h=a[4],k=a[5],l=a[6],n=a[7],p=a[8],m=a[9],q=a[10],t=a[11],s=a[12],z=a[13],y=a[14];a=a[15];return(b*k-c*h)*(q*a-t*y)-(b*l-d*h)*(m*a-t*z)+(b*n-e*h)*(m*y-q*z)+(c*l-d*k)*(p*a-t*s)-(c*n-e*k)*(p*y-q*s)+(d*n-e*l)*(p*z-m*s)};A.v.Hb=Kd;A.v.tv=function(a,b,c,d,e){var h=b/2;b=e-d;var k=Math.sin(h);if(0==b||0==k||0==c)return a;h=Math.cos(h)/k;return Ed(a,h/c,0,0,0,0,h,0,0,0,0,-(e+d)/b,-1,0,0,-(2*d*e)/b,0)};
A.v.OJ=function(a,b,c,d,e,h,k){return Ed(a,2*h/(c-b),0,0,0,0,2*h/(e-d),0,0,(c+b)/(c-b),(e+d)/(e-d),-(k+h)/(k-h),-1,0,0,-(2*k*h)/(k-h),0)};A.v.PJ=function(a,b,c,d,e,h,k){return Ed(a,2/(c-b),0,0,0,0,2/(e-d),0,0,0,0,-2/(k-h),0,-(c+b)/(c-b),-(e+d)/(e-d),-(k+h)/(k-h),1)};A.v.multiply=Jd;A.v.DB=Md;A.v.translate=Nd;A.v.scale=function(a,b,c,d){return Ed(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,a[8]*d,a[9]*d,a[10]*d,a[11]*d,a[12],a[13],a[14],a[15])};
A.v.rotate=function(a,b,c,d,e){var h=a[0],k=a[1],l=a[2],n=a[3],p=a[4],m=a[5],q=a[6],t=a[7],s=a[8],z=a[9],y=a[10],I=a[11],P=Math.cos(b),N=Math.sin(b),H=1-P;b=c*c*H+P;var T=c*d*H+e*N,ca=c*e*H-d*N,V=c*d*H-e*N,wa=d*d*H+P,oa=d*e*H+c*N,ya=c*e*H+d*N;c=d*e*H-c*N;e=e*e*H+P;return Ed(a,h*b+p*T+s*ca,k*b+m*T+z*ca,l*b+q*T+y*ca,n*b+t*T+I*ca,h*V+p*wa+s*oa,k*V+m*wa+z*oa,l*V+q*wa+y*oa,n*V+t*wa+I*oa,h*ya+p*c+s*e,k*ya+m*c+z*e,l*ya+q*c+y*e,n*ya+t*c+I*e,a[12],a[13],a[14],a[15])};
A.v.es=function(a,b){var c=a[4],d=a[5],e=a[6],h=a[7],k=a[8],l=a[9],n=a[10],p=a[11],m=Math.cos(b),q=Math.sin(b);a[4]=c*m+k*q;a[5]=d*m+l*q;a[6]=e*m+n*q;a[7]=h*m+p*q;a[8]=c*-q+k*m;a[9]=d*-q+l*m;a[10]=e*-q+n*m;a[11]=h*-q+p*m;return a};A.v.fs=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[8],l=a[9],n=a[10],p=a[11],m=Math.cos(b),q=Math.sin(b);a[0]=c*m+k*-q;a[1]=d*m+l*-q;a[2]=e*m+n*-q;a[3]=h*m+p*-q;a[8]=c*q+k*m;a[9]=d*q+l*m;a[10]=e*q+n*m;a[11]=h*q+p*m;return a};
A.v.gs=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[4],l=a[5],n=a[6],p=a[7],m=Math.cos(b),q=Math.sin(b);a[0]=c*m+k*q;a[1]=d*m+l*q;a[2]=e*m+n*q;a[3]=h*m+p*q;a[4]=c*-q+k*m;a[5]=d*-q+l*m;a[6]=e*-q+n*m;a[7]=h*-q+p*m;return a};v("X.matrix.identity",A.v.ko);v("X.matrix.clone",A.v.clone);v("X.matrix.transpose",A.v.$w);v("X.matrix.determinant",A.v.yG);v("X.matrix.invert",A.v.Hb);v("X.matrix.multiply",A.v.multiply);v("X.matrix.multiplyByVector",A.v.bc);v("X.matrix.multiplyByVec4",A.v.DB);
v("X.matrix.makePerspective",A.v.tv);v("X.matrix.makeFrustum",A.v.OJ);v("X.matrix.makeOrtho",A.v.PJ);v("X.matrix.makeLookAt",A.v.tB);v("X.matrix.translate",A.v.translate);v("X.matrix.scale",A.v.scale);v("X.matrix.rotate",A.v.rotate);v("X.matrix.rotateX",A.v.es);v("X.matrix.rotateY",A.v.fs);v("X.matrix.rotateZ",A.v.gs);v("X.matrix.swapRows",A.v.BM);v("X.matrix.swapCols",A.v.AM);function Od(){bd.call(this);this.u="transform";this.Eb=A.v.ko()}w(Od,bd);Od.prototype.__defineGetter__("matrix",function(){return this.Eb});Od.prototype.__defineSetter__("matrix",function(a){if(!(null!=a&&a instanceof Float32Array))throw Error("Invalid matrix.");this.Eb=a;this.ga()});f=Od.prototype;f.es=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.v.es(this.Eb,a*Math.PI/180);this.ga()};
f.fs=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.v.fs(this.Eb,a*Math.PI/180);this.ga()};f.gs=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.v.gs(this.Eb,a*Math.PI/180);this.ga()};f.xD=function(a){if(!u(a))throw Error("Invalid distance.");A.v.translate(this.Eb,a,0,0);this.ga()};f.yD=function(a){if(!u(a))throw Error("Invalid distance.");A.v.translate(this.Eb,0,a,0);this.ga()};
f.zD=function(a){if(!u(a))throw Error("Invalid distance.");A.v.translate(this.Eb,0,0,a);this.ga()};function Pd(a,b,c){a.Eb[b+4*c]*=-1;a.ga()}f.RG=function(){Pd(this,0,0)};f.SG=function(){Pd(this,1,1)};f.TG=function(){Pd(this,2,2)};f.ga=function(){this.J=!0};v("X.transform",Od);v("X.transform.prototype.rotateX",Od.prototype.es);v("X.transform.prototype.rotateY",Od.prototype.fs);v("X.transform.prototype.rotateZ",Od.prototype.gs);v("X.transform.prototype.translateX",Od.prototype.xD);
v("X.transform.prototype.translateY",Od.prototype.yD);v("X.transform.prototype.translateZ",Od.prototype.zD);v("X.transform.prototype.flipX",Od.prototype.RG);v("X.transform.prototype.flipY",Od.prototype.SG);v("X.transform.prototype.flipZ",Od.prototype.TG);v("X.transform.prototype.modified",Od.prototype.ga);function Qd(){bd.call(this);this.u="texture";this.Ti=this.$f=this.ja=null;this.pt=this.qt=0;this.Xx=!1;Aa(this,new fd)}w(Qd,bd);Qd.prototype.__defineSetter__("rawData",function(a){this.Ti=a;this.J=!0});Qd.prototype.__defineSetter__("rawDataHeight",function(a){this.pt=a;this.J=!0});Qd.prototype.__defineSetter__("rawDataWidth",function(a){this.qt=a;this.J=!0});Qd.prototype.__defineSetter__("grayscale",function(a){this.Xx=a;this.J=!0});v("X.texture",Qd);function Rd(){this.Sd=Td;this.qc=new Od;this.Ma=[1,1,1];this.Tl=this.bb=this.Tc=this.fa=this.G=null;this.Ol=[];this.vb=!0;this.Nl=this.rn=1;this.Fl=null;this.gn=!1;this.fd=1;this.vd=0;this.qn=!0}var Td="TRIANGLES";Rd.prototype.__defineSetter__("type",function(a){return this.Sd=a});Rd.prototype.__defineGetter__("type",function(){return this.Sd});Rd.prototype.__defineGetter__("texture",function(){this.bb||(this.bb=new Qd);return this.bb});Rd.prototype.__defineGetter__("transform",function(){return this.qc});
Rd.prototype.__defineGetter__("points",function(){return this.G});Rd.prototype.__defineSetter__("points",function(a){this.G=a});Rd.prototype.__defineGetter__("normals",function(){return this.fa});Rd.prototype.__defineSetter__("normals",function(a){this.fa=a});Rd.prototype.__defineGetter__("colors",function(){return this.Tc});Rd.prototype.__defineSetter__("colors",function(a){this.Tc=a});Rd.prototype.__defineGetter__("color",function(){return this.Ma});
Rd.prototype.__defineSetter__("color",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid color.");for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)b[d].color=a;this.Ma=a;this.J=!0});Rd.prototype.__defineGetter__("opacity",function(){return this.fd});Rd.prototype.__defineSetter__("opacity",function(a){if(!u(a)||1<a||0>a)throw Error("Invalid opacity.");for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)null!=b[d]&&(b[d].opacity=a);this.fd=a;this.J=!0});Rd.prototype.__defineGetter__("caption",function(){return this.Fl});
Rd.prototype.__defineSetter__("caption",function(a){this.Fl=a;this.J=!0});Rd.prototype.__defineGetter__("visible",function(){return this.vb});Rd.prototype.__defineSetter__("visible",function(a){for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)null!=b[d]&&(b[d].visible=a);this.vb=a;this.J=!0});Rd.prototype.__defineGetter__("pointsize",function(){return this.rn});Rd.prototype.__defineSetter__("pointsize",function(a){if(!u(a))throw Error("Invalid point size.");this.rn=a;this.J=!0});
Rd.prototype.__defineGetter__("magicmode",function(){return this.gn});Rd.prototype.__defineSetter__("magicmode",function(a){if(!ja(a))throw Error("Invalid magic mode setting.");this.gn=a;this.J=!0});Rd.prototype.__defineGetter__("linewidth",function(){return this.Nl});Rd.prototype.__defineSetter__("linewidth",function(a){if(!u(a))throw Error("Invalid line width.");this.Nl=a;this.J=!0});Rd.prototype.__defineGetter__("pickable",function(){return this.qn});
Rd.prototype.__defineSetter__("pickable",function(a){if(!ja(a))throw Error("Invalid pickable setting.");this.qn=a;this.J=!0});Rd.prototype.__defineGetter__("textureCoordinateMap",function(){return this.Tl});Rd.prototype.__defineSetter__("textureCoordinateMap",function(){});function Ud(){this.le=Infinity;this.Db=this.ic=-Infinity;this.Fb=Infinity;this.Pi=[0,0,0];this.Ni=[1,1,1]}Ud.prototype.__defineGetter__("lowerThreshold",function(){return this.Db});Ud.prototype.__defineSetter__("lowerThreshold",function(a){this.Db=a});Ud.prototype.__defineGetter__("upperThreshold",function(){return this.Fb});Ud.prototype.__defineSetter__("upperThreshold",function(a){this.Fb=a});Ud.prototype.__defineGetter__("min",function(){return this.le});Ud.prototype.__defineGetter__("max",function(){return this.ic});
Ud.prototype.__defineGetter__("minColor",function(){return this.Pi});Ud.prototype.__defineSetter__("minColor",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid min. color.");this.Pi=a});Ud.prototype.__defineGetter__("maxColor",function(){return this.Ni});Ud.prototype.__defineSetter__("maxColor",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid max. color.");this.Ni=a});function Vd(){bd.call(this);this.u="scalars";this.cn=this.jb=null;this.jy=!0;this.dt=0;Aa(this,new fd);Aa(this,new Ud);this.Pi=[0,1,0];this.Ni=[1,0,0]}w(Vd,bd);Vd.prototype.__defineGetter__("array",function(){return this.jb});Vd.prototype.__defineSetter__("array",function(a){this.cn=this.jb=a;this.J=!0});Vd.prototype.__defineGetter__("interpolation",function(){return this.dt});Vd.prototype.__defineSetter__("interpolation",function(a){this.dt=a});v("X.scalars",Vd);function Wd(a){bd.call(this);this.u="object";this.j=[];this.kb=this.Pd=null;Aa(this,new Rd);null!=a&&this.sk(a)}w(Wd,bd);
Wd.prototype.sk=function(a){this.Sd=a.Sd;this.qc=new Od;this.qc.Eb=new Float32Array(a.qc.Eb);this.Ma=a.Ma.slice();a.G&&(this.G=new cd(a.G.length,a.G));a.fa&&(this.fa=new cd(a.fa.length,a.fa));a.Tc&&(this.Tc=new cd(a.Tc.length,a.Tc));this.bb=a.bb;this.Tl=a.Tl;a.ja&&(this.ja=new ed((new String(a.ja.bq)).toString()));this.fd=a.fd;this.j.length=0;var b=a.j;if(b)for(var c=b.length,d=0,d=0;d<c;d++)this.j.push(new A[b[d].u](b[d]));this.vb=a.vb;this.rn=a.rn;this.Nl=a.Nl;a.Fl&&(this.Fl=(new String(a.Fl)).toString());
this.gn=a.gn;this.qn=a.qn;this.Ol=a.Ol.slice();this.J=!0};Wd.prototype.__defineGetter__("colortable",function(){this.Pd||(this.Pd=new nd);return this.Pd});Wd.prototype.__defineGetter__("scalars",function(){this.kb||(this.kb=new Vd);return this.kb});Wd.prototype.__defineGetter__("children",function(){return this.j});Wd.prototype.ga=function(){var a=new Xd;a.Ua=this;this.dispatchEvent(a)};Wd.prototype.remove=function(){var a=new Yd;a.Ua=this;this.dispatchEvent(a)};
function Zd(a,b){if(!(null!=a&&null!=b&&a instanceof Wd&&b instanceof Wd))throw Error("Fatal: Two valid X.objects are required for comparison.");return 1==a.fd?-1:1==b.fd?1:null!=a.vd&&null!=b.vd&&a.vd>b.vd?-1:1}v("X.object",Wd);v("X.object.prototype.modified",Wd.prototype.ga);v("X.object.prototype.remove",Wd.prototype.remove);function $d(a){Cc.call(this,a);this.u="event"}w($d,Cc);var ae="pan"+B(),ce="rotate"+B(),de="zoom"+B(),ee="scroll"+B();B();var fe="resetview"+B(),ge="windowlevel"+B(),he="modified"+B(),ie="remove"+B(),je="progress"+B(),ke="hover"+B(),le="hover_end"+B(),me="computing"+B(),ne="computing_end"+B(),oe="computing_progress"+B();function pe(){$d.call(this,ge);this.it=this.xt=0}w(pe,$d);function qe(){$d.call(this,ae);this.vd=new A.S(0,0,0)}w(qe,$d);function re(){$d.call(this,ce);this.vd=new A.S(0,0,0)}
w(re,$d);function se(){$d.call(this,de);this.Zf=this.Ug=!1}w(se,$d);function te(){$d.call(this,ee);this.kc=!1}w(te,$d);function ve(){$d.call(this,ke);this.iq=this.hq=0}w(ve,$d);function we(){$d.call(this,le)}w(we,$d);function xe(){$d.call(this,fe)}w(xe,$d);function Xd(){$d.call(this,he);this.za=this.Ua=null}w(Xd,$d);function Yd(){$d.call(this,ie);this.za=this.Ua=null}w(Yd,$d);function ye(){$d.call(this,je);this.ik=0}w(ye,$d);function ze(){$d.call(this,me);this.Ua=null}w(ze,$d);
function Ae(){$d.call(this,oe);this.ik=0}w(Ae,$d);function Be(){$d.call(this,ne);this.Ua=null}w(Be,$d);v("X.event.events.PAN",ae);v("X.event.events.ROTATE",ce);v("X.event.events.ZOOM",de);v("X.event.events.SCROLL",ee);function Fe(){bd.call(this);this.u="parser";this._data=null;this.Ta=0;this.HF=0<(new Int8Array((new Int16Array([1])).buffer))[0];this.Yp=!0}w(Fe,bd);Fe.prototype.parse=function(){throw Error("The function parse() should be overloaded.");};function Ge(a){for(var b=Infinity,c=-Infinity,d=a.length,e=0,e=0;e<d;e++)if(!isNaN(a[e]))var h=a[e],b=Math.min(b,h),c=Math.max(c,h);return[b,c]}
function He(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);for(var d="",e=0,e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}
Fe.prototype.h=function(a,b){null!=b||(b=1);var c=1,d=Uint8Array;switch(a){case "schar":d=Int8Array;break;case "ushort":d=Uint16Array;c=2;break;case "sshort":d=Int16Array;c=2;break;case "uint":d=Uint32Array;c=4;break;case "sint":d=Int32Array;c=4;break;case "float":d=Float32Array;c=4;break;case "complex":d=Float64Array;c=8;break;case "double":d=Float64Array,c=8}d=new d(this._data.slice(this.Ta,this.Ta+=b*c));if(this.HF!=this.Yp)for(var e=new Uint8Array(d.buffer,d.byteOffset,d.byteLength),h=0;h<d.byteLength;h+=
c)for(var k=h+c-1,l=h;k>l;k--,l++){var n=e[l];e[l]=e[k];e[k]=n}return 1==b?d[0]:d};
function Ie(a,b){var c=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],d=Bd(0,0,0,1),e=Ad();Md(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Bd(0,0,b[2]-1,1);Md(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Bd(0,b[1]-
1,0,1);Md(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Bd(b[0]-1,0,0,1);Md(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Bd(b[0]-1,b[1]-1,0,1);Md(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];
c[5]=e[2]>c[5]?e[2]:c[5];d=Bd(b[0]-1,0,b[2]-1,1);Md(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Bd(0,b[1]-1,b[2]-1,1);Md(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Bd(b[0]-1,b[1]-1,b[2]-1,1);Md(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:
c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];return c}
function Je(a,b){var c=Dd();if(a.length!=b.length||a[0]!=b[0]||a[1]!=b[1]||a[2]!=b[2]){var d=Math.acos(a[2]),e=xd(),h=a[0],k=a[1],l=a[2],n=b[0],p=b[1],m=b[2];e[0]=k*m-l*p;e[1]=l*n-h*m;e[2]=h*p-k*n;zd(e,e);h=Math.cos(d/2);k=Math.sin(d/2)*e[0];l=Math.sin(d/2)*e[1];d=Math.sin(d/2)*e[2];L(c,0,h*h+k*k-l*l-d*d,2*(k*l-h*d),2*(k*d+h*l),0);L(c,1,2*(k*l+h*d),h*h+l*l-k*k-d*d,2*(l*d-h*k),0);L(c,2,2*(k*d-h*l),2*(l*d+h*k),h*h+d*d-l*l-k*k,0)}d=Cd();Kd(c,d);return[c,d]}
function Ke(a,b,c,d,e,h,k,l,n){var p=new Le;zd(c,c);for(var m=[],q=[],t=0;6>t;t++)for(var s=Math.floor(t/2),z=(s+1)%3,y=(s+2)%3,I=(4+2*s)%6,P=0;2>P;P++){var N=(2+P+2*s)%6,H=-(c[s]*(e[t]-a[s])+c[z]*(e[N]-a[z]))/c[y]+a[y];if(H>=e[I]&&H<=e[I+1]||H<=e[I]&&H>=e[I+1]){var T=[];T[s]=e[t];T[z]=e[N];T[y]=H;m.push(T)}else T=[],T[s]=e[t],T[z]=e[N],T[y]=H,q.push(T)}a=yd(0,0,1);a=Je(c,a);e=a[0];a=a[1];s=[];for(q=0;q<m.length;++q)t=Bd(m[q][0],m[q][1],m[q][2],1),z=Ad(),Md(e,t,z),s.push([z[0],z[1],z[2]]);e=yd(1,
0,0);m=xd();Ld(a,e,m);q=yd(0,1,0);e=xd();Ld(a,q,e);t=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];for(q=q=0;q<s.length;++q)s[q][0]<t[0]&&(t[0]=s[q][0]),s[q][0]>t[1]&&(t[1]=s[q][0]),s[q][1]<t[2]&&(t[2]=s[q][1]),s[q][1]>t[3]&&(t[3]=s[q][1]),s[q][2]<t[4]&&(t[4]=s[q][2]),s[q][2]>t[5]&&(t[5]=s[q][2]);q=Bd(t[0]+(t[1]-t[0])/2,t[2]+(t[3]-t[2])/2,t[4]+(t[5]-t[4])/2,0);s=Ad();Jd(a,q,s);z=Math.floor(t[0]);y=Math.ceil(t[1]);z==y&&y++;I=y-z;P=Math.floor(t[2]);
N=Math.ceil(t[3]);H=N-P;T=b[0];b=b[1];var q=Math.ceil(I/T),ca=Math.ceil(H/b),V=new Uint8Array(4*q*ca),wa=new Qd;wa.qt=q;wa.pt=ca;var ca=Ad(),oa=Bd(0,0,t[4],1),ya=Cd();Jd(k.yF,a,ya);for(var Oa=N-1E-7,Ja=y-1E-7,Pa=0,ka=0,za=0,qa=P,qa=P;qa<=Oa;qa+=b)for(za++,ka=0,oa[1]=qa,q=z;q<=Ja;q+=T){ka++;oa[0]=q;Md(ya,oa,ca);var Hc=4*Pa,Ce=Math.floor(ca[2]),De=Math.floor(ca[1]),Ee=Math.floor(ca[0]);if(0<=Ee&&Ee<k.Ga[0]&&0<=De&&De<k.Ga[1]&&0<=Ce&&Ce<k.Ga[2]){var be=h[Ce][De][Ee],Sh=Ee=De=Ce=0;n?((be=n.get(be))||
(be=[0,.61,0,0,1]),Ce=255*be[1],De=255*be[2],Ee=255*be[3],Sh=255*be[4]):(Ce=De=Ee=be/k.ic*255,Sh=255);V[Hc]=Ce;V[++Hc]=De;V[++Hc]=Ee;V[++Hc]=Sh}else V[Hc]=0,V[++Hc]=0,V[++Hc]=0,V[++Hc]=0;Pa++}wa.Ti=V;p.bb=wa;p.NF=t;p.AF=a;p.zF=ya;p.GF=P;p.MP=N;p.MF=z;p.NP=y;p.Zx=ka;p.Yx=za;p.Uh=T;p.cb=I;p.Nh=b;p.Na=H;p.Za=[s[0],s[1],s[2]];p.Il=[c[0],c[1],c[2]];p.cq=[m[0],m[1],m[2]];p.kc=[e[0],e[1],e[2]];p.vb=!1;p.Th=k;p.Mh=null==k.Th||l?!0:!1;p.El=d;p.wf();p.vb=!1;return p}
function Me(a,b,c,d){var e;e=d.Sc;for(var h=[],k=[],l=0;6>l;l++){var n=Math.floor(l/2),p=(n+1)%3,m=(n+2)%3,q=(2+2*n)%6,t=(4+2*n)%6,s=1/c[n]*(e[l]-b[n]);if(Infinity!=s&&-Infinity!=s){var z=b[p]+c[p]*s,s=b[m]+c[m]*s;z>=e[q]&&z<=e[q+1]&&s>=e[t]&&s<=e[t+1]?(q=[],q[n]=e[l],q[p]=z,q[m]=s,h.push(q)):(q=[],q[n]=e[l],q[p]=z,q[m]=s,k.push(q))}}e=[h,k];b=e[0];d.e[a].K=e;e=qd(new pd(b[0][0],b[0][1],b[0][2]),new pd(b[1][0],b[1][1],b[1][2]));d.e[a].LP=e;h=yd(0,0,1);k=Je(c,h)[0];l=Bd(d.at[0],d.at[1],d.at[2],0);
h=Ad();Md(k,l,h);k=Ad();l=h[2];k[0]=c[0]*l;k[1]=c[1]*l;k[2]=c[2]*l;k[3]=c[3]*l;.5>Math.abs(h[0])&&(h[0]=.5);.5>Math.abs(h[1])&&(h[1]=.5);d.e[a].Rd=[Math.abs(h[0]),Math.abs(h[1])];d.e[a].Rl=h[2];d.e[a].Va=k;e=Math.floor(Math.abs(e/h[2]));d.tn[a]=e+1;d.e[a].ea=e+1;d.e[a].K[0][0][0]>d.e[a].K[0][1][0]?0<k[0]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][0]<d.e[a].K[0][1][0]?0>k[0]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][1]>
d.e[a].K[0][1][1]?0<k[1]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][1]<d.e[a].K[0][1][1]?0>k[1]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][2]>d.e[a].K[0][1][2]?0<k[2]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e):d.e[a].K[0][0][2]<d.e[a].K[0][1][2]&&0>k[2]&&(e=d.e[a].K[0][0],d.e[a].K[0][0]=d.e[a].K[0][1],d.e[a].K[0][1]=e);d.e[a].lt=-(c[0]*b[0][0]+c[1]*b[0][1]+c[2]*b[0][2])}
function Ne(a,b){var c;c=b._data;for(var d=b.Ga,e=b.ic,h=Array(d[2]),k=Array(d[2]),l=d[1]*d[0],n=0,p=0,m=0,q=0,t=0,q=0;q<d[2];q++){var s=c.subarray(q*l,(q+1)*l),t=0;k[q]=Array(d[1]);h[q]=Array(d[1]);for(m=0;m<d[1];m++)for(k[q][m]=new c.constructor(d[0]),h[q][m]=new c.constructor(d[0]),p=0;p<d[0];p++)n=s[t],k[q][m][p]=n/e*255,h[q][m][p]=n,t++}c=[h,k];b.pc=c[0];b.KP=c[1];A.je(a.u+".reslice");b.ob=null!=b.t;b.Pd&&(b.bn=b.Pd.ke);b.FQ=[0,0,0];b.ya=[b.Od[0]+(b.Lh[0]-1)/2,b.Od[1]+(b.Lh[1]-1)/2,b.Od[2]+(b.Lh[2]-
1)/2];b.Sc=[Math.min(b.Od[0],b.Od[0]+b.Lh[0]-1),Math.max(b.Od[0],b.Od[0]+b.Lh[0]-1),Math.min(b.Od[1],b.Od[1]+b.Lh[1]-1),Math.max(b.Od[1],b.Od[1]+b.Lh[1]-1),Math.min(b.Od[2],b.Od[2]+b.Lh[2]-1),Math.max(b.Od[2],b.Od[2]+b.Lh[2]-1)];b.e=[{},{},{}];c=yd(b.ya[0],b.ya[1],b.ya[2]);b.e[0].un=c;d=yd(1,0,0);zd(d,d);b.e[0].H=d;e=[1,0,0];b.e[0].Ma=e;Me(0,c,d,b);b.j[0].j=Array(b.e[0].ea);c[0]=b.e[0].K[0][0][0]+b.e[0].Va[0]*Math.floor(b.e[0].ea/2);c[1]=b.e[0].K[0][0][1]+b.e[0].Va[1]*Math.floor(b.e[0].ea/2);c[2]=
b.e[0].K[0][0][2]+b.e[0].Va[2]*Math.floor(b.e[0].ea/2);c=Ke(c,b.e[0].Rd,b.e[0].H,b.e[0].Ma,b.Sc,b.pc,b,b.ob,b.bn);b.ob&&(c.t=b.t.j[0].j[Math.floor(b.e[0].ea/2)].bb);b.j[0].j[Math.floor(b.e[0].ea/2)]=c;b.Oh=Math.floor(b.e[0].ea/2);b.Jl=Math.floor(b.e[0].ea/2);c=yd(b.ya[0],b.ya[1],b.ya[2]);b.e[1].un=c;d=yd(0,1,0);zd(d,d);b.e[1].H=d;e=[0,1,0];b.e[1].Ma=e;Me(1,c,d,b);b.j[1].j=Array(b.e[1].ea);c[0]=b.e[1].K[0][0][0]+b.e[1].Va[0]*Math.floor(b.e[1].ea/2);c[1]=b.e[1].K[0][0][1]+b.e[1].Va[1]*Math.floor(b.e[1].ea/
2);c[2]=b.e[1].K[0][0][2]+b.e[1].Va[2]*Math.floor(b.e[1].ea/2);c=Ke(c,b.e[1].Rd,b.e[1].H,b.e[1].Ma,b.Sc,b.pc,b,b.ob,b.bn);b.ob&&(c.t=b.t.j[1].j[Math.floor(b.e[1].ea/2)].bb);b.j[1].j[Math.floor(b.e[1].ea/2)]=c;b.Ph=Math.floor(b.e[1].ea/2);b.Kl=Math.floor(b.e[1].ea/2);c=yd(b.ya[0],b.ya[1],b.ya[2]);b.e[2].un=c;d=yd(0,0,1);zd(d,d);b.e[2].H=d;e=[0,.392,.804];b.e[2].Ma=e;Me(2,c,d,b);b.j[2].j=Array(b.e[2].ea);c[0]=b.e[2].K[0][0][0]+b.e[2].Va[0]*Math.floor(b.e[2].ea/2);c[1]=b.e[2].K[0][0][1]+b.e[2].Va[1]*
Math.floor(b.e[2].ea/2);c[2]=b.e[2].K[0][0][2]+b.e[2].Va[2]*Math.floor(b.e[2].ea/2);c=Ke(c,b.e[2].Rd,b.e[2].H,b.e[2].Ma,b.Sc,b.pc,b,b.ob,b.bn);b.ob&&(c.t=b.t.j[2].j[Math.floor(b.e[2].ea/2)].bb);b.j[2].j[Math.floor(b.e[2].ea/2)]=c;b.Qh=Math.floor(b.e[2].ea/2);b.Ll=Math.floor(b.e[2].ea/2);A.Nd(a.u+".reslice");return b.pc};function Oe(){Fe.call(this);this.u="parserOFF"}w(Oe,Fe);
Oe.prototype.parse=function(a,b,c){function d(){if(n===e)throw Error("End of file reached unexpectedly.");for(var a=n;a<e;++a)if(10===h[a]){var b=He(h,n,a);n=a+1;return b}n=e;return He(h,n,e-1)}A.je(this.u+".parse");this._data=c;var e=c.byteLength,h=this.h("uchar",e);c=[];b.G=new cd(e);b.fa=new cd(e);for(var k=b.G,l=b.fa,n=0,p=d(),p=("OFF"===p?d():p).split(" "),m=p[0],p=p[1];m--;){var q=d(),q=q.split(" ");c.push([parseFloat(q[0]),parseFloat(q[1]),parseFloat(q[2])])}for(;p--;){var q=d(),q=q.split(" "),
t=c[parseInt(q[1],10)],m=c[parseInt(q[2],10)],q=c[parseInt(q[3],10)];k.add(t[0],t[1],t[2]);k.add(m[0],m[1],m[2]);k.add(q[0],q[1],q[2]);t=new pd(t[0],t[1],t[2]);q=new pd(q[0],q[1],q[2]);m=td((new pd(m[0],m[1],m[2])).Pc(t),q.Pc(t));m.normalize();l.add(m.x,m.y,m.z);l.add(m.x,m.y,m.z);l.add(m.x,m.y,m.z)}A.Nd(this.u+".parse");c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};v("X.parserOFF",Oe);v("X.parserOFF.prototype.parse",Oe.prototype.parse);function Le(a){Wd.call(this);this.u="slice";this.Za=[0,0,0];this.Il=[0,0,1];this.kc=[0,1,0];this.cq=[1,0,0];this.Na=this.cb=10;this.Tl=[0,1,0,0,1,1,1,1,1,0,0,0];this.t=this.Th=null;this.Mh=!0;this.El=[1,1,1];null!=a&&this.sk(a)}w(Le,Wd);Le.prototype.sk=function(a){this.Za=a.Za.slice();this.Il=a.Il.slice();this.kc=a.kc.slice();this.cb=a.cb;this.Na=a.Na;this.Th=a.Th;this.t=a.t;this.Mh=a.Mh;this.El=a.El;this.FF=a.FF;Le.d.sk.call(this,a)};Le.prototype.__defineSetter__("height",function(a){this.Na=a});
Le.prototype.__defineSetter__("width",function(a){this.cb=a});Le.prototype.create=function(){this.wf()};
Le.prototype.wf=function(){var a=(new pd(this.Il[0],this.Il[1],this.Il[2])).normalize(),b=new pd(this.kc[0],this.kc[1],this.kc[2]),c=new pd(this.cq[0],this.cq[1],this.cq[2]),d=new pd(this.Za[0],this.Za[1],this.Za[2]),e=sd(c.clone().Hb().scale(this.cb/2),b.clone().Hb().scale(this.Na/2)),h=new pd(e.x+d.x,e.y+d.y,e.z+d.z),e=sd(c.clone().Hb().scale(this.cb/2),b.clone().scale(this.Na/2)),k=new pd(e.x+d.x,e.y+d.y,e.z+d.z),e=sd(c.clone().scale(this.cb/2),b.clone().Hb().scale(this.Na/2)),l=new pd(e.x+d.x,
e.y+d.y,e.z+d.z),e=sd(c.clone().scale(this.cb/2),b.clone().scale(this.Na/2)),b=new pd(e.x+d.x,e.y+d.y,e.z+d.z);this.G=new cd(18);this.fa=new cd(18);this.G.add(h.x,h.y,h.z);this.G.add(k.x,k.y,k.z);this.G.add(l.x,l.y,l.z);this.G.add(l.x,l.y,l.z);this.G.add(b.x,b.y,b.z);this.G.add(k.x,k.y,k.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.fa.add(a.x,a.y,a.z);this.Mh&&(a=new Wd,a.G=new cd(24),a.fa=new cd(24),a.G.add(h.x,
h.y,h.z),a.G.add(k.x,k.y,k.z),a.G.add(k.x,k.y,k.z),a.G.add(b.x,b.y,b.z),a.G.add(b.x,b.y,b.z),a.G.add(l.x,l.y,l.z),a.G.add(l.x,l.y,l.z),a.G.add(h.x,h.y,h.z),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.fa.add(0,0,0),a.Ma=[this.El[0],this.El[1],this.El[2]],a.Sd="LINES",a.Nl=2,this.j.push(a))};v("X.slice",Le);v("X.slice.prototype.create",Le.prototype.create);function K(a){Wd.call(this);this.u="volume";this.Za=[0,0,0];this.Ga=[10,10,10];this.Sc=[1,1,1];this.tn=[10,10,10];this.Rh=[1,1,1];this.$f=[];this.Ll=this.Qh=this.Kl=this.Ph=this.Jl=this.Oh=0;this.vn=new Wd;this.wn=new Wd;this.xn=new Wd;this.gq=this.Qe=!1;this.Mb=-1;this.fq=[];this.t=null;this.Mh=!0;this.Vb=Infinity;this.Ub=-Infinity;this.ky=!0;this.ic=0;this._data=null;Aa(this,new fd);Aa(this,new Ud);null!=a&&this.sk(a)}w(K,Wd);
K.prototype.sk=function(a){this.Za=a.Za.slice();this.Ga=a.Ga.slice();this.Rh=a.Rh.slice();this.Oh=a.Oh;this.Jl=a.Jl;this.Ph=a.Ph;this.Kl=a.Kl;this.Qh=a.Qh;this.Ll=a.Ll;this.Ux=a.Ux.slice();this.vn=new Wd(a.vn);this.wn=new Wd(a.wn);this.xn=new Wd(a.xn);this.ic=a.ic;this._data=a._data;this.Qe=a.Qe;this.gq=a.gq;this.Mb=a.Mb;this.t=a.t;this.Mh=a.Mh;K.d.sk.call(this,a)};
K.prototype.wf=function(a){this.j.length=0;this.vn.j.length=0;this.wn.j.length=0;this.xn.j.length=0;this.j.push(this.vn);this.j.push(this.wn);this.j.push(this.xn);this.Od=a.nf;this.at=a.Ng;this.Lh=a.ud;this.Dl=a.Le;this.yF=a.Me;this.ic=a.max;this._data=a.data;this.J=!0};
K.prototype.ga=function(a){a="undefined"!==typeof a?a:!0;if(0<this.j.length){this.Qe!=this.gq&&(this.Qe||-1==this.Mb||(this.j[this.Mb].visible=!1),this.J=!0,this.gq=this.Qe);if(!this.vb)return;for(var b=0,b=0;3>b;b++){var c=this.j[b],d=0,e=0;0==b?(d=this.Oh,e=this.Jl,this.Jl=this.Oh):1==b?(d=this.Ph,e=this.Kl,this.Kl=this.Ph):2==b&&(d=this.Qh,e=this.Ll,this.Ll=this.Qh);if(null==this.j[b].j[parseInt(d,10)]){var h=xd();h[0]=this.e[b].K[0][0][0]+this.e[b].Va[0]*parseInt(d,10);h[1]=this.e[b].K[0][0][1]+
this.e[b].Va[1]*parseInt(d,10);h[2]=this.e[b].K[0][0][2]+this.e[b].Va[2]*parseInt(d,10);if(this.ob){var k=Ke(h,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,this.t.pc,this.t,this.t.ob,this.t.Pd.ke);this.t.j[b].j[parseInt(d,10)]=k;this.t.j[b].ga(!0)}h=Ke(h,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,this.pc,this,!0,null);this.ob&&(h.t=h.bb,h.t=this.t.j[b].j[parseInt(d,10)].bb);c.j[parseInt(d,10)]=h;this.j[b].ga(!0)}e=c.j[parseInt(e,10)];this.Qe||(e.visible=!1);c=c.j[parseInt(d,10)];c.visible=!0;
c.fd=1;this.Qe&&(c.j[0].vb=!1,b!=this.Mb&&(c.visible=!1,c.fd=0))}this.Qe&&-1!=this.Mb&&Pe(this,this.Mb)}a&&K.d.ga.call(this)};K.prototype.__defineGetter__("dimensions",function(){return this.Ga});K.prototype.__defineSetter__("dimensions",function(a){this.Ga=a});K.prototype.__defineGetter__("spacing",function(){return this.Rh});K.prototype.__defineSetter__("spacing",function(a){this.Rh=a});K.prototype.__defineGetter__("bbox",function(){return this.Sc});K.prototype.__defineGetter__("range",function(){return this.tn});
K.prototype.__defineGetter__("dimensionsRAS",function(){return this.Ux});K.prototype.__defineGetter__("volumeRendering",function(){return this.Qe});K.prototype.__defineSetter__("volumeRendering",function(a){this.Qe=a;this.ga(!1)});K.prototype.__defineGetter__("visible",function(){return this.vb});K.prototype.__defineSetter__("visible",function(a){if(a)this.vb=a,this.ga(!1);else{for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)b[d].visible=a;this.vb=a;this.J=!0}});
K.prototype.__defineGetter__("center",function(){return this.Za});K.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center.");this.Za=a});K.prototype.__defineGetter__("volumeRenderingCache",function(){return this.fq});K.prototype.__defineSetter__("volumeRenderingCache",function(a){if(!(null!=a&&g(a)&&3>=a.length))throw Error("Invalid volumeRederingCache.");this.fq=a});K.prototype.__defineGetter__("image",function(){return this.$f});
K.prototype.__defineGetter__("labelmap",function(){this.t||(this.t=new Qe(this));return this.t});K.prototype.__defineGetter__("indexX",function(){return this.Oh});K.prototype.__defineSetter__("indexX",function(a){u(a)&&0<=a&&a<this.vn.j.length&&(this.Oh=a,this.ga(!1))});K.prototype.__defineGetter__("indexY",function(){return this.Ph});K.prototype.__defineSetter__("indexY",function(a){u(a)&&0<=a&&a<this.wn.j.length&&(this.Ph=a,this.ga(!1))});K.prototype.__defineGetter__("indexZ",function(){return this.Qh});
K.prototype.__defineSetter__("indexZ",function(a){u(a)&&0<=a&&a<this.xn.j.length&&(this.Qh=a,this.ga(!1))});K.prototype.__defineGetter__("windowLow",function(){return this.Vb});K.prototype.__defineSetter__("windowLow",function(a){this.Vb=a});K.prototype.__defineGetter__("windowHigh",function(){return this.Ub});K.prototype.__defineSetter__("windowHigh",function(a){this.Ub=a});K.prototype.__defineGetter__("borders",function(){return this.Mh});
K.prototype.__defineSetter__("borders",function(a){this.Mh=a});K.prototype.__defineGetter__("reslicing",function(){return this.ky});K.prototype.__defineSetter__("reslicing",function(a){this.ky=a});K.prototype.__defineSetter__("xNormX",function(a){this.e[0].H[0]=a});K.prototype.__defineGetter__("xNormX",function(){return this.e[0].H[0]});K.prototype.__defineSetter__("xNormY",function(a){this.e[0].H[1]=a});K.prototype.__defineGetter__("xNormY",function(){return this.e[0].H[1]});
K.prototype.__defineSetter__("xNormZ",function(a){this.e[0].H[2]=a});K.prototype.__defineGetter__("xNormZ",function(){return this.e[0].H[2]});K.prototype.__defineSetter__("xColor",function(a){this.e[0].Ma=a});K.prototype.__defineGetter__("xColor",function(){return this.e[0].Ma});K.prototype.__defineSetter__("yNormX",function(a){this.e[1].H[0]=a});K.prototype.__defineGetter__("yNormX",function(){return this.e[1].H[0]});K.prototype.__defineSetter__("yNormY",function(a){this.e[1].H[1]=a});
K.prototype.__defineGetter__("yNormY",function(){return this.e[1].H[1]});K.prototype.__defineSetter__("yNormZ",function(a){this.e[1].H[2]=a});K.prototype.__defineGetter__("yNormZ",function(){return this.e[1].H[2]});K.prototype.__defineSetter__("yColor",function(a){this.e[1].Ma=a});K.prototype.__defineGetter__("yColor",function(){return this.e[1].Ma});K.prototype.__defineSetter__("zNormX",function(a){this.e[2].H[0]=a});K.prototype.__defineGetter__("zNormX",function(){return this.e[2].H[0]});
K.prototype.__defineSetter__("zNormY",function(a){this.e[2].H[1]=a});K.prototype.__defineGetter__("zNormY",function(){return this.e[2].H[1]});K.prototype.__defineSetter__("zNormZ",function(a){this.e[2].H[2]=a});K.prototype.__defineGetter__("zNormZ",function(){return this.e[2].H[2]});K.prototype.__defineSetter__("zColor",function(a){this.e[2].Ma=a});K.prototype.__defineGetter__("zColor",function(){return this.e[2].Ma});
K.prototype.pM=function(a){this.j[a].visible=!1;for(var b=0;b<this.j[a].j.length;b++)"undefined"!=typeof this.j[a].j[b]&&(this.ob&&(this.t.j[a].j[b].remove(),this.t.j[a].j[b]=null),this.j[a].j[b].remove(),this.j[a].j[b]=null);zd(this.e[a].H,this.e[a].H);Me(a,this.e[a].un,this.e[a].H,this);this.j[a].j=[];alert("#VOLUME#",this.e[a].ea);this.j[a].j=Array(this.e[a].ea);this.ob&&(b=Ke(this.e[a].un,this.e[a].Rd,this.e[a].H,this.e[a].Ma,this.Sc,this.t.pc,this.t,this.t.ob,this.t.Pd.ke),this.t.j[a].j=[],this.t.j[a].j=
Array(this.e[a].ea),this.t.j[a].j[Math.floor(this.e[a].ea/2)]=b,this.t.j[a].ga());b=Ke(this.e[a].un,this.e[a].Rd,this.e[a].H,this.e[a].Ma,this.Sc,this.pc,this,!0,null);this.ob&&(b.t=b.bb,b.t=this.t.j[a].j[Math.floor(this.e[a].ea/2)].bb);this.j[a].j[Math.floor(this.e[a].ea/2)]=b;0==a?(this.Oh=Math.floor(this.e[a].ea/2),this.Jl=Math.floor(this.e[a].ea/2)):1==a?(this.Ph=Math.floor(this.e[a].ea/2),this.Kl=Math.floor(this.e[a].ea/2)):(this.Qh=Math.floor(this.e[a].ea/2),this.Ll=Math.floor(this.e[a].ea/
2));this.j[a].ga();this.j[a].j[Math.floor(this.e[a].ea/2)].vb=!0};
function Pe(a,b){if(!a.Rp)if(!a.Qe||!a.J&&b==a.Mb)a.Mb=b;else if(-1==a.fq.indexOf(b))a.fq.push(b),a.Rp=!0,Re(a,b),setTimeout(function(){var a=null;0<=this.Mb&&(a=this.j[this.Mb],a.visible=!1);var a=this.j[b],c=a.j.length,d=Math.floor(c/4),e;for(e=0;e<1*d;e++){if(null==a.j[e]){var p=xd();p[0]=this.e[b].K[0][0][0]+this.e[b].Va[0]*e;p[1]=this.e[b].K[0][0][1]+this.e[b].Va[1]*e;p[2]=this.e[b].K[0][0][2]+this.e[b].Va[2]*e;if(this.ob){var m=Ke(p,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,this.t.pc,this.t,
this.t.ob,this.t.Pd.ke);this.t.j[b].j[e]=m;this.t.j[b].ga(!0)}p=Ke(p,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,this.pc,this,!0,null);p.j[0].vb=!1;this.ob&&(p.t=p.bb,p.t=this.t.j[b].j[e].bb);a.j[e]=p}a.j[e].vb=!0}Se(this,.25);setTimeout(function(){for(;e<2*d;e++){if(null==a.j[e]){var m=xd();m[0]=this.e[b].K[0][0][0]+this.e[b].Va[0]*e;m[1]=this.e[b].K[0][0][1]+this.e[b].Va[1]*e;m[2]=this.e[b].K[0][0][2]+this.e[b].Va[2]*e;if(this.ob){var p=Ke(m,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,this.t.pc,
this.t,this.t.ob,this.t.Pd.ke);this.t.j[b].j[e]=p;this.t.j[b].ga(!0)}m=Ke(m,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,this.pc,this,!0,null);m.j[0].vb=!1;this.ob&&(m.t=m.bb,m.t=this.t.j[b].j[e].bb);a.j[e]=m}a.j[e].vb=!0}Se(this,.5);setTimeout(function(){for(;e<3*d;e++){if(null==a.j[e]){var m=xd();m[0]=this.e[b].K[0][0][0]+this.e[b].Va[0]*e;m[1]=this.e[b].K[0][0][1]+this.e[b].Va[1]*e;m[2]=this.e[b].K[0][0][2]+this.e[b].Va[2]*e;if(this.ob){var p=Ke(m,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,
this.t.pc,this.t,this.t.ob,this.t.Pd.ke);this.t.j[b].j[e]=p;this.t.j[b].ga(!0)}m=Ke(m,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,this.pc,this,!0,null);m.j[0].vb=!1;this.ob&&(m.t=m.bb,m.t=this.t.j[b].j[e].bb);a.j[e]=m}a.j[e].vb=!0}Se(this,.75);setTimeout(function(){for(e=3*d;e<c;e++){if(null==a.j[e]){var m=xd();m[0]=this.e[b].K[0][0][0]+this.e[b].Va[0]*e;m[1]=this.e[b].K[0][0][1]+this.e[b].Va[1]*e;m[2]=this.e[b].K[0][0][2]+this.e[b].Va[2]*e;if(this.ob){var p=Ke(m,this.e[b].Rd,this.e[b].H,this.e[b].Ma,
this.Sc,this.t.pc,this.t,this.t.ob,this.t.Pd.ke);this.t.j[b].j[e]=p;this.t.j[b].ga(!0)}m=Ke(m,this.e[b].Rd,this.e[b].H,this.e[b].Ma,this.Sc,this.pc,this,!0,null);m.j[0].vb=!1;this.ob&&(m.t=m.bb,m.t=this.t.j[b].j[e].bb);a.j[e]=m}a.j[e].vb=!0}Se(this,1);setTimeout(function(){this.Rp&&this.j[b].ga(!0);this.Mb=b;this.J=!1;if(this.Rp){var a=new Be;a.Ua=this;this.dispatchEvent(a);this.onComputingEnd(b)}this.Rp=!1}.bind(this),10)}.bind(this),10)}.bind(this),10)}.bind(this),10)}.bind(a),10);else{var c=a.j[a.Mb];
c.visible=!1;var c=a.j[b],d=c.j.length,e;for(e=0;e<d;e++)c.j[e].vb=!0;a.Mb=b;a.J=!1}}function Re(a,b){var c=new ze;c.Ua=a;a.dispatchEvent(c);a.onComputing(b)}function Se(a,b){var c=new Ae;c.ik=b;a.dispatchEvent(c);a.onComputingProgress(100*b)}K.prototype.Jv=function(){};K.prototype.Lv=function(){};K.prototype.Kv=function(){};K.REORIENT_TRANSFORM_KEY="ot_"+B();v("X.volume.REORIENT_TRANSFORM_KEY",K.REORIENT_TRANSFORM_KEY);K.REORIENTED_DIMENSIONS_KEY="otd_"+B();
v("X.volume.REORIENTED_DIMENSIONS_KEY",K.REORIENTED_DIMENSIONS_KEY);K.ORIENTATION_KEY="or_"+B();v("X.volume.ORIENTATION_KEY",K.ORIENTATION_KEY);K.SINGLE_FRAME_SCAN="sf_"+B();v("X.volume.SINGLE_FRAME_SCAN",K.SINGLE_FRAME_SCAN);v("X.volume",K);v("X.volume.prototype.modified",K.prototype.ga);v("X.volume.prototype.sliceInfoChanged",K.prototype.pM);v("X.volume.prototype.onComputing",K.prototype.Jv);v("X.volume.prototype.onComputingProgress",K.prototype.Lv);v("X.volume.prototype.onComputingEnd",K.prototype.Kv);function Te(){Fe.call(this);this.u="parserDCM"}w(Te,Fe);
Te.prototype.parse=function(a,b,c){b.Hh={};b.Hh.Bo=0;this.ri(c,b);if(null==b.ja.length||b.sa.length==b.ja.length){b.Hh.Bo=b.ja.length;c=[];for(var d=0;d<b.sa.length;d++)null==b.sa[d].data&&c.push(d);for(d=0;d<c.length;d++)b.sa.splice(c[d],1);if(0==b.sa.length)throw Error("This scan does not contain imaging data that can be visualized.");var e={};c={};for(d=0;d<b.sa.length;d++)e.hasOwnProperty(b.sa[d].series_instance_uid)||(e[b.sa[d].series_instance_uid]=[],c[b.sa[d].series_instance_uid]={}),c[b.sa[d].series_instance_uid].hasOwnProperty(b.sa[d].sop_instance_uid)||
(c[b.sa[d].series_instance_uid][b.sa[d].sop_instance_uid]=!0,e[b.sa[d].series_instance_uid].push(b.sa[d]));var d=Object.keys(e)[0],h=e[d],k=h.length;c={};var l="image_position_patient";1==k?(l="image_position_patient",e[d][0].dist=0):h[0].image_position_patient[0]!=h[1].image_position_patient[0]||h[0].image_position_patient[1]!=h[1].image_position_patient[1]||h[0].image_position_patient[2]!=h[1].image_position_patient[2]?(l="image_position_patient",d=new pd(h[0].image_orientation_patient[0],h[0].image_orientation_patient[1],
h[0].image_orientation_patient[2]),e=new pd(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],h[0].image_orientation_patient[5]),d=td(d,e),h.map(function(a,b){b.dist=b.image_position_patient[0]*a.x+b.image_position_patient[1]*a.y+b.image_position_patient[2]*a.z;return b}.bind(null,d)),h.sort(function(a,b){return a.dist-b.dist})):h[0].instance_number!=h[1].instance_number?(window.console.log("Ordering by instance number"),l="instance_number",h.sort(function(a,b){return a.instance_number-
b.instance_number})):window.console.log("Could not resolve the ordering mode");if("image_position_patient"==l&&5>k||void 0!=b.series_description&&-1!=b.series_description.toLowerCase().search("survey")&&20>k)if(d=0,e=function(){window.console.log('Warning: Although series was initially ordered by "image_position_patient", positional overlaps were found.\nSwitching to "instance_number" ordering as a result.');l="instance_number"},1==k)e(),b[K.SINGLE_FRAME_SCAN]=!0;else for(;d<k-1;d++).01>h[d].dist-
h[d+1].dist&&(e(),h.sort(function(a,b){return a.instance_number-b.instance_number}));for(var d=0,n=h.length;d<n;d++);isNaN(h[0].pixel_spacing[0])&&(h[0].pixel_spacing[0]=1);isNaN(h[0].pixel_spacing[1])&&(h[0].pixel_spacing[1]=1);if(1<h.length)for(var d=function(){l="instance_number";h.sort(function(a,b){return a.instance_number-b.instance_number});h.forced_instance_ordering=!0;window.console.log('Warning: Slices were found unordered after XTK "image_position_patient" sorting. Forcing "instance_number" reordering.');
for(var a=0,b=!1;a<n-1;a++)if(0==Math.abs(h[a].instance_number-h[a+1].instance_number)){b=!0;break}if(b)for(window.console.log('Warning: After forcing "instance_number" ordering overlaps were found. Rewriting "instance_number" data for every slice.'),a=0;a<n;a++)h[a].instance_number=a},p=0,n=h.length;p<n-1;p++)if(1!=Math.abs(h[p].instance_number-h[p+1].instance_number)){d();break}if(1<k)switch(l){case "image_position_patient":var e=h[0].image_position_patient,m=h[1].image_position_patient,d=m[0]-
e[0],q=m[1]-e[1],t=m[2]-e[2];h[0].pixel_spacing[2]=Math.sqrt(d*d+q*q+t*t);break;case "instance_number":var s=1;if(!0===h.forced_instance_ordering){for(var d=1,n=h.length,e=h[0].image_position_patient,z=!1;d<n;d++)if(m=h[d].image_position_patient,e[0]!=m[0]||e[1]!=m[1]||e[2]!=m[2]){z=!0;break}z&&(window.console.log('Warning: Setting pixel_spacing according to "image_position_patient" even though "forced_instance_ordering" is used.'),d=m[0]-e[0],q=m[1]-e[1],t=m[2]-e[2],s=Math.sqrt(d*d+q*q+t*t))}h[0].pixel_spacing[2]=
s;break;default:window.console.log("Unkown ordering mode - returning: "+l)}else h[0].pixel_spacing[2]=1;m=1;switch(l){case "image_position_patient":e=h[0].image_position_patient;s=h[k-1].image_position_patient;d=s[0]-e[0];q=s[1]-e[1];t=s[2]-e[2];q=Math.sqrt(d*d+q*q+t*t);m+=Math.round(q/h[0].pixel_spacing[2]);break;case "instance_number":m+=Math.abs(h[k-1].instance_number-h[0].instance_number);break;default:window.console.log("Unkown ordering mode - returning: "+l)}"false"==b.reslicing.toString()&&
(window.console.log('Forcing expexted slices to length of files because volume\'s "reslicing" property is set to false.'),window.console.log("Expected slices:",m),m=k,window.console.log("Ordering:",l));for(var e=h[0].columns*h[0].rows,y=e*m,s=!1,d=0,n=h.length,I=z=0;d<n;d++)h[d].columns>I&&(I=h[d].columns),h[d].rows>z&&(z=h[d].rows);I*z>e&&(e=I*z,y=e*m,s=!0,window.console.log("Warning: Dimensional inequalities found in image sizes."));var P=null;window.console.log(h[0].Yi);switch(h[0].Yi){case 8:P=
new Uint8Array(y);window.console.log("Using a Uint8Array.");break;case 16:P=new Uint16Array(y);window.console.log("Using a Uint16Array.");break;case 32:P=new Uint32Array(y),window.console.log("Using a Uint32Array.");default:window.console.log("Unknown number of bits allocated - using default: 32 bits"),P=new Uint32Array(y)}b.Rh=h[0].pixel_spacing;for(y=0;y<k;y++){var N=h[y].data,q=0;switch(l){case "image_position_patient":d=h[y].image_position_patient[0]-h[0].image_position_patient[0];q=h[y].image_position_patient[1]-
h[0].image_position_patient[1];t=h[y].image_position_patient[2]-h[0].image_position_patient[2];q=Math.sqrt(d*d+q*q+t*t)/h[0].pixel_spacing[2];break;case "instance_number":q=h[y].instance_number-h[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+l)}if(s){for(var p=h[y].columns,d=h[y].rows,t=0,H=Qb(z*I),T=Math.round((I-p)/2),ca=p+T,p=Math.round((z-d)/2),V=d+p,d=p;d<V;d++)for(p=T;p<ca;p++)H[I*d+p]=N[t],t++;N=H}P.set(N,Math.round(q)*e)}c.data=P;b._data=P;b.Ga=[h[0].columns,
h[0].rows,m];s&&(b.Ga=[I,z,m]);c.AG=b.Ga;d=Ge(P);k=d[0];d=d[1];c.min=b.le=b.Vb=k;c.max=b.ic=b.Ub=d;b.Db!=k&&(b.Db=k);b.Fb!=d&&(b.Fb=d);m=h[0].image_position_patient;k=Cd();if("false"==b.reslicing.toString())"image_position_patient"==l||h.forced_instance_ordering?(window.console.log('NRG modification: Running an orthogonal transform because the volume\'s "reslicing" property is set to false.'),d=new pd(h[0].image_orientation_patient[0],h[0].image_orientation_patient[1],h[0].image_orientation_patient[2]),
e=new pd(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],h[0].image_orientation_patient[5]),d=td(d,e),d.x=Math.round(d.x),d.y=Math.round(d.y),d.z=Math.round(d.z),L(k,0,-Math.round(h[0].image_orientation_patient[0])*h[0].pixel_spacing[0],-Math.round(h[0].image_orientation_patient[3])*h[0].pixel_spacing[1],-d.x*h[0].pixel_spacing[2],-m[0]),L(k,1,-Math.round(h[0].image_orientation_patient[1])*h[0].pixel_spacing[0],-Math.round(h[0].image_orientation_patient[4])*h[0].pixel_spacing[1],
-d.y*h[0].pixel_spacing[2],-m[1]),L(k,2,Math.round(h[0].image_orientation_patient[2])*h[0].pixel_spacing[0],Math.round(h[0].image_orientation_patient[5])*h[0].pixel_spacing[1],d.z*h[0].pixel_spacing[2],m[2]),L(k,3,0,0,0,1),window.console.log("IJKToRAS transform:\n",k),m=Cd(),L(m,0,-Math.round(h[0].image_orientation_patient[0]),-Math.round(h[0].image_orientation_patient[3]),-d.x,0),L(m,1,-Math.round(h[0].image_orientation_patient[1]),-Math.round(h[0].image_orientation_patient[4]),-d.y,0),L(m,2,Math.round(h[0].image_orientation_patient[2]),
Math.round(h[0].image_orientation_patient[5]),d.z,0),L(m,3,0,0,0,1),b[K.REORIENT_TRANSFORM_KEY]=m,window.console.log("Orthogonal Transform:\n",m)):"instance_number"==l?(L(k,0,-1,0,0,-m[0]),L(k,1,-0,-1,-0,-m[1]),L(k,2,0,0,1,m[2]),L(k,3,0,0,0,1),m=Cd(),L(m,0,-1,0,0,0),L(m,1,-0,-1,-0,0),L(m,2,0,0,1,0),L(m,3,0,0,0,1),L(m,3,0,0,0,1),b[K.REORIENT_TRANSFORM_KEY]=m):window.console.log("Unkown ordering mode - returning: "+l);else switch(l){case "image_position_patient":d=new pd(h[0].image_orientation_patient[0],
h[0].image_orientation_patient[1],h[0].image_orientation_patient[2]);e=new pd(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],h[0].image_orientation_patient[5]);d=td(d,e);L(k,0,-h[0].image_orientation_patient[0]*h[0].pixel_spacing[0],-h[0].image_orientation_patient[3]*h[0].pixel_spacing[1],-d.x*h[0].pixel_spacing[2],-m[0]);L(k,1,-h[0].image_orientation_patient[1]*h[0].pixel_spacing[0],-h[0].image_orientation_patient[4]*h[0].pixel_spacing[1],-d.y*h[0].pixel_spacing[2],-m[1]);L(k,
2,h[0].image_orientation_patient[2]*h[0].pixel_spacing[0],h[0].image_orientation_patient[5]*h[0].pixel_spacing[1],d.z*h[0].pixel_spacing[2],m[2]);L(k,3,0,0,0,1);break;case "instance_number":L(k,0,-1,0,0,-m[0]);L(k,1,-0,-1,-0,-m[1]);L(k,2,0,0,1,m[2]);L(k,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+l)}c.Le=k;c.Me=Cd();Kd(c.Le,c.Me);m=Bd(0,0,0,1);d=Ad();Md(k,m,d);m=Bd(1,1,1,1);e=Ad();Md(k,m,e);c.Ng=[e[0]-d[0],e[1]-d[1],e[2]-d[2]];k=Ie(k,[b.Ga[0],b.Ga[1],b.Ga[2]]);
c.ud=[k[1]-k[0]+1,k[3]-k[2]+1,k[5]-k[4]+1];c.nf=[k[0],k[2],k[4]];"false"==b.reslicing.toString()&&(k=Bd(b.Ga[0],b.Ga[1],b.Ga[2],1),d=Ad(),Md(b[K.REORIENT_TRANSFORM_KEY],k,d),d[0]=Math.abs(d[0]),d[1]=Math.abs(d[1]),d[2]=Math.abs(d[2]),b[K.REORIENTED_DIMENSIONS_KEY]=d,d[0]==b.Ga[2]?(b[K.ORIENTATION_KEY]="sagittal",c.ud[0]+=1*h[0].pixel_spacing[2],c.Ng[0]=c.ud[0]/(h.length+1)):d[1]==b.Ga[2]?(b[K.ORIENTATION_KEY]="coronal",c.ud[1]+=1*h[0].pixel_spacing[2],c.nf[1]-=1*h[0].pixel_spacing[2]):(b[K.ORIENTATION_KEY]=
"transverse",c.ud[2]+=2*h[0].pixel_spacing[2],c.Ng[2]=c.ud[2]/(h.length+1),c.nf[2]-=h[0].pixel_spacing[2]),window.console.log("Assessed volume orientation: "+b[K.ORIENTATION_KEY]+"\nXTK Modifications may be applied to restore acquired properties."),window.console.log("_transformedDims",d),window.console.log("RASSpacing",c.Ng),window.console.log("RASDimensions",c.ud),window.console.log("RASOrigin",c.nf));b.wf(c);b.$f=Ne(this,b)}c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};
Te.prototype.ve=function(a,b,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(a){for(var b="",c=128;1<=c;c/=2)b+=a&c?"1":"0";return b};d=a[b++];a=a[b++];d=parseInt(c((a&65280)>>8)+c(a&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);b+=d/2;break;default:b+=d/2}return b};
Te.prototype.ri=function(a,b){this._data=a;if("undefined"==typeof b.sa||null==b.sa)b.sa=[];var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.h("ushort",this._data.byteLength),e=66,h=null,k=null,l=null,n=null,p=!1,m,q,t;q=[[8,4416],[9,30576],[136,512]];t=[[18,100],[35,4224],[64,629],[8,4368],[8,4384],[136,512]];for(var s,z;e<d.length;){h=d[e++];k=d[e++];l=d[e++];n=d[e++];if(65535==l&&65535==
n){if(65534==d[e]&&57344==d[e+1]){e+=4;continue}if(65534==d[e]&&57565==d[e+1]){e+=4;continue}}if(!(65534==h&&57357==k||65534==h&&57565==k)||0!=l||0!=n){"1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==n&&(n=l);p=!1;if(void 0!==h&&void 0!==k){switch(c.transfer_syntax_uid){case "1.2.840.10008.1.2.1":m="Little Endian Explicit";s=0;for(z=q.length;s<z;s++)if(h===q[s][0]&&k===q[s][1]){p=!0;break}break;case "1.2.840.10008.1.2.2":m="Big Endian Explicit";break;case "1.2.840.10008.1.2":for(m="Little Endian Implicit",
s=0,z=t.length;s<z;s++)if(h===t[s][0]&&k===t[s][1]){p=!0;break}}if(p){n="parserDCM.js: Identified "+m+". Skipping DICOM adddress (0x"+h.toString(16)+", 0x"+k.toString(16)+")"+h+" "+k;window.console.log(n);if(8==h&&4416==k||9==h&&30576==k)for(n=0;;){_newTagGroup=d[e++];_newTagGroup.toString(16);s=parseInt(_newTagGroup.toString(16),10)-parseInt(h.toString(16),10);if(3>s&&0<s)if(_newTagElement=d[e++],_newTagGroup.toString(16),_newTagElement.toString(16),10==parseInt(_newTagElement.toString(16),10)){e--;
e--;break}else e--;n++}continue}}switch(h){case 2:switch(k){case 16:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);c.transfer_syntax_uid=l.replace(/\0/g,"");break;default:e=Te.prototype.ve(d,e,l,n)}break;case 40:switch(k){case 16:c.rows=d[e];e+=n/2;break;case 17:c.columns=d[e];e+=n/2;break;case 256:c.Yi=d[e];e+=n/2;break;case 257:c.bits_stored=d[e];e+=n/2;break;case 2:c.number_of_images=d[e];e+=n/2;break;case 48:l="";for(s=0;s<n/2;s++)k=
d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.pixel_spacing=[parseFloat(l[0]),parseFloat(l[1]),Infinity];break;default:e=Te.prototype.ve(d,e,l,n)}break;case 32:switch(k){case 14:c.series_instance_uid="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,c.series_instance_uid+=String.fromCharCode(h),c.series_instance_uid+=String.fromCharCode(k);break;case 19:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);
c.instance_number=parseInt(l,10);break;case 50:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.image_position_patient=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])];break;case 55:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.image_orientation_patient=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[4]),parseFloat(l[5])];
break;default:e=Te.prototype.ve(d,e,l,n)}break;case 65534:switch(k){default:n=0,e+=n/2}break;case 8:switch(k){case 24:c.sop_instance_uid="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,c.sop_instance_uid+=String.fromCharCode(h),c.sop_instance_uid+=String.fromCharCode(k);break;case 4158:b.series_description="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,b.series_description+=String.fromCharCode(h),b.series_description+=String.fromCharCode(k);break;default:e=Te.prototype.ve(d,e,l,n)}break;
case 16:switch(k){case 8720:for(s=0;s<n/2;s++)e++;break;default:e=Te.prototype.ve(d,e,l,n)}break;default:e=Te.prototype.ve(d,e,l,n)}}}switch(c.Yi){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=new Uint32Array(c.columns*c.rows)}this.Ta=this._data.byteLength-c.columns*c.rows*2;d=null;switch(c.Yi){case 8:d=this.h("uchar",c.columns*c.rows);break;case 16:d=this.h("ushort",c.columns*c.rows);break;case 32:d=this.h("uint",c.columns*
c.rows)}c.data=d;b.sa.push(c);return b};v("X.parserDCM",Te);v("X.parserDCM.prototype.parse",Te.prototype.parse);function Ue(){Fe.call(this);this.u="parserVTK"}w(Ue,Fe);
Ue.prototype.parse=function(a,b,c){A.je(this.u+".parse");var d=b.G,e=b.fa,h=new Uint8Array(c),k="";b.G=d=new cd(c.byteLength);b.fa=e=new cd(c.byteLength);c=0;for(var l=h.length;c<l;c+=32768)k+=He(h,c,Math.min(c+32768,l));h=k.split("\n");k=h.length;this.zn=this.An=null;this.ck=[];this.Pe=Td;this.kt=this.Qi=this.Ki=this.Ri=!1;c=0;for(l=k%8;l--;)Ve(this,h[c]),c++;for(l=.125*k^0;l--;)Ve(this,h[c]),c++,Ve(this,h[c]),c++,Ve(this,h[c]),c++,Ve(this,h[c]),c++,Ve(this,h[c]),c++,Ve(this,h[c]),c++,Ve(this,h[c]),
c++,Ve(this,h[c]),c++;c=this.An;var h=this.zn,k=h.length,n=l=this.ck.length;do{var p=this.ck[l-n],m=p.length,q;for(q=0;q<m&&!("LINES"==this.Pe&&q+1>=m);q++){var t=parseInt(p[q],10),s=c.get(t);d.add(s[0],s[1],s[2]);var z=t,y=s;"LINES"==this.Pe?(z=parseInt(p[q+1],10),y=c.get(z),d.add(y[0],y[1],y[2])):"TRIANGLE_STRIPS"==this.Pe&&(0!=q&&q!=m-1||d.add(s[0],s[1],s[2]));t<k?(y=h.get(t),e.add(y[0],y[1],y[2]),"LINES"==this.Pe?(z=h.get(z),e.add(z[0],z[1],z[2])):"TRIANGLE_STRIPS"==this.Pe&&(0!=q&&q!=m-1||e.add(y[0],
y[1],y[2]))):(z=new pd(s[0],s[1],s[2]),z.normalize(),e.add(z.x,z.y,z.z),"LINES"==this.Pe?(z=new pd(y[0],y[1],y[2]),z.normalize(),e.add(z.x,z.y,z.z)):"TRIANGLE_STRIPS"==this.Pe&&(0!=q&&q!=m-1||e.add(z.x,z.y,z.z)))}n--}while(0<n);b.Sd=this.Pe;A.Nd(this.u+".parse");d=new Xd;d.Ua=b;d.za=a;this.dispatchEvent(d)};
function Ve(a,b){b=b.replace(/^\s+|\s+$/g,"");var c=b.split(" "),d=c.length,e=c[0];switch(e){case "POINTS":a.Ri=!0;a.Ki=!1;a.Qi=!1;c=parseInt(c[1],10);a.An=new cd(3*c);a.zn=new cd(3*c);return;case "VERTICES":a.Ki=!0;a.Ri=!1;a.Qi=!1;c=parseInt(c[1],10);if(3<=c)a.Pe=Td;else if(1==c)a.Pe="POINTS";else throw Error("This VTK file is not supported!");a.ck=[];return;case "TRIANGLE_STRIPS":a.Ki=!0;a.Ri=!1;a.Qi=!1;a.Pe="TRIANGLE_STRIPS";a.ck=[];return;case "LINES":a.Ki=!0;a.Ri=!1;a.Qi=!1;a.Pe="LINES";a.ck=
[];return;case "POLYGONS":a.Ki=!0;a.Ri=!1;a.Qi=!1;a.Pe="POLYGONS";a.ck=[];return;case "POINT_DATA":a.Qi=!0;a.Ri=!1;a.Ki=!1;return}if(a.Ri)if(1==d||isNaN(parseFloat(e)))a.Ri=!1;else{if(3<=d){var e=parseFloat(c[0]),h=parseFloat(c[1]),k=parseFloat(c[2]);a.An.add(e,h,k)}6<=d&&(e=parseFloat(c[3]),h=parseFloat(c[4]),k=parseFloat(c[5]),a.An.add(e,h,k));9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.An.add(d,e,c))}else a.Ki?1==d||isNaN(parseFloat(e))?a.Ki=!1:(c=c.slice(1),a.ck.push(c)):
a.Qi&&("NORMALS"==e?a.kt=!0:1==d||isNaN(parseFloat(e))?(a.Qi=!1,a.kt=!1):a.kt&&(3<=d&&(e=parseFloat(c[0]),h=parseFloat(c[1]),k=parseFloat(c[2]),a.zn.add(e,h,k)),6<=d&&(e=parseFloat(c[3]),h=parseFloat(c[4]),k=parseFloat(c[5]),a.zn.add(e,h,k)),9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.zn.add(d,e,c))))}v("X.parserVTK",Ue);v("X.parserVTK.prototype.parse",Ue.prototype.parse);function We(){Fe.call(this);this.u="parserFSM";this.Yp=!1}w(We,Fe);
We.prototype.parse=function(a,b,c){A.je(this.u+".parse");this._data=c;var d=b.G,e=b.fa;b.Ol=[];var h=b.Ol;c=0;var k;do k=this.h("uchar"),c++;while(200>c&&10!=k);this.h("uchar");e=this.h("uint");c=this.h("uint");var l=this.h("float",3*e);k=this.h("uint",3*c);var n=new Uint32Array(e),p=new Float32Array(9*c);b.G=d=new cd(9*c);b.fa=e=new cd(9*c);var m;for(m=0;m<c;m++){var q=3*m,t=k[q],s=k[q+1],z=k[q+2];h.push(t);h.push(s);h.push(z);n[t]+=1;n[s]+=1;n[z]+=1;var q=3*t,y=3*s,I=3*z,P=l[q],N=l[q+1],H=l[q+2],
s=l[y],z=l[y+1],t=l[y+2],T=l[I],ca=l[I+1],V=l[I+2];d.add(P,N,H);d.add(s,z,t);d.add(T,ca,V);P=new pd(P,N,H);T=new pd(T,ca,V);s=(new pd(s,z,t)).clone().Pc(P);z=T.clone().Pc(P);s=td(s,z).normalize();p[q]+=s.x;p[q+1]+=s.y;p[q+2]+=s.z;p[y]+=s.x;p[y+1]+=s.y;p[y+2]+=s.z;p[I]+=s.x;p[I+1]+=s.y;p[I+2]+=s.z}for(m=0;m<c;m++)q=3*m,t=k[q],s=k[q+1],z=k[q+2],q=3*t,y=3*s,I=3*z,h=new pd(p[y],p[y+1],p[y+2]),l=new pd(p[I],p[I+1],p[I+2]),q=(new pd(p[q],p[q+1],p[q+2])).scale(1/n[t]).normalize(),h=h.scale(1/n[s]).normalize(),
l=l.scale(1/n[z]).normalize(),e.add(q.x,q.y,q.z),e.add(h.x,h.y,h.z),e.add(l.x,l.y,l.z);c=this.h("uchar",this._data.byteLength-this.Ta);k=null;for(q=0;q<c.length;q++)if(99==c[q]&&114==c[q+1]&&97==c[q+2]&&115==c[q+3]){for(e=k=q+9;10!=c[q]&&q<c.length;)e++,q++;k=He(c.subarray(k,e)).split(" ");break}k&&(b.qc.xD(parseFloat(k[0])),b.qc.yD(parseFloat(k[1])),b.qc.zD(parseFloat(k[2])));b.Sd=Td;A.Nd(this.u+".parse");c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};v("X.parserFSM",We);
v("X.parserFSM.prototype.parse",We.prototype.parse);var Xe={Nt:function(a,b,c){return Xe.update(a,0,b,c)},update:function(a,b,c,d){var e=Xe.hF,h="number"===typeof c?c:c=0;d="number"===typeof d?d:a.length;b^=4294967295;for(h=d&7;h--;++c)b=b>>>8^e[(b^a[c])&255];for(h=d>>3;h--;c+=8)b=b>>>8^e[(b^a[c])&255],b=b>>>8^e[(b^a[c+1])&255],b=b>>>8^e[(b^a[c+2])&255],b=b>>>8^e[(b^a[c+3])&255],b=b>>>8^e[(b^a[c+4])&255],b=b>>>8^e[(b^a[c+5])&255],b=b>>>8^e[(b^a[c+6])&255],b=b>>>8^e[(b^a[c+7])&255];return(b^4294967295)>>>0}},Ye;
Ye=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,
3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,
366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,
3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,
1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,
1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);Xe.hF=Ye;function Ze(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,e,h,k,l,n,p,m,q,t;for(q=0;q<b;++q)a[q]>c&&(c=a[q]),a[q]<d&&(d=a[q]);e=1<<c;h=new Uint32Array(e);k=1;l=0;for(n=2;k<=c;){for(q=0;q<b;++q)if(a[q]===k){p=0;m=l;for(t=0;t<k;++t)p=p<<1|m&1,m>>=1;for(t=p;t<e;t+=n)h[t]=k<<16|q;++l}++k;l<<=1;n<<=1}return[h,c,d]};function $e(a,b){this.It=[];this.Kt=32768;this.gg=this.En=this.qb=this.Yw=0;this.input=new Uint8Array(a);this.Wy=!1;this.Lt=af;this.resize=!1;if(b||!(b={}))b.index&&(this.qb=b.index),b.bufferSize&&(this.Kt=b.bufferSize),b.bufferType&&(this.Lt=b.bufferType),b.resize&&(this.resize=b.resize);switch(this.Lt){case bf:this.zc=32768;this.output=new Uint8Array(32768+this.Kt+258);break;case af:this.zc=0;this.output=new Uint8Array(this.Kt);this.Ck=this.MG;this.ez=this.oG;this.eu=this.wG;break;default:throw Error("invalid inflate mode");
}}var bf=0,af=1;
$e.prototype.hj=function(){for(;!this.Wy;){var a=cf(this,3);a&1&&(this.Wy=!0);a>>>=1;switch(a){case 0:var a=this.input,b=this.qb,c=this.output,d=this.zc,e=void 0,h=void 0,k=void 0,l=c.length,e=void 0;this.gg=this.En=0;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (first byte)");h=e;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (second byte)");h|=e<<8;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (first byte)");k=
e;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (second byte)");k|=e<<8;if(h===~k)throw Error("invalid uncompressed block header: length verify");if(b+h>a.length)throw Error("input buffer is broken");switch(this.Lt){case bf:for(;d+h>c.length;)e=l-d,h-=e,c.set(a.subarray(b,b+e),d),d+=e,b+=e,this.zc=d,c=this.Ck(),d=this.zc;break;case af:for(;d+h>c.length;)c=this.Ck({Oz:2});break;default:throw Error("invalid inflate mode");}c.set(a.subarray(b,b+h),d);d+=h;this.qb=b+=h;this.zc=
d;this.output=c;break;case 1:this.eu(df,ef);break;case 2:ff(this);break;default:throw Error("unknown BTYPE: "+a);}}return this.ez()};
var gf=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),jf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),kf=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),lf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),mf=new Uint8Array(288),
nf,of;nf=0;for(of=mf.length;nf<of;++nf)mf[nf]=143>=nf?8:255>=nf?9:279>=nf?7:8;var df=Ze(mf),pf=new Uint8Array(30),rf,sf;rf=0;for(sf=pf.length;rf<sf;++rf)pf[rf]=5;var ef=Ze(pf);function cf(a,b){for(var c=a.En,d=a.gg,e=a.input,h=a.qb,k;d<b;){k=e[h++];if(void 0===k)throw Error("input buffer is broken");c|=k<<d;d+=8}k=c&(1<<b)-1;a.En=c>>>b;a.gg=d-b;a.qb=h;return k}
function tf(a,b){for(var c=a.En,d=a.gg,e=a.input,h=a.qb,k=b[0],l=b[1],n;d<l;){n=e[h++];if(void 0===n)throw Error("input buffer is broken");c|=n<<d;d+=8}e=k[c&(1<<l)-1];k=e>>>16;a.En=c>>k;a.gg=d-k;a.qb=h;return e&65535}
function ff(a){function b(a,b,c){var d,e,h;for(h=0;h<a;)switch(d=tf(this,b),d){case 16:for(d=3+cf(this,2);d--;)c[h++]=e;break;case 17:for(d=3+cf(this,3);d--;)c[h++]=0;e=0;break;case 18:for(d=11+cf(this,7);d--;)c[h++]=0;e=0;break;default:e=c[h++]=d}return c}var c=cf(a,5)+257,d=cf(a,5)+1,e=cf(a,4)+4,h=new Uint8Array(gf.length),k;for(k=0;k<e;++k)h[gf[k]]=cf(a,3);e=Ze(h);h=new Uint8Array(c);k=new Uint8Array(d);a.eu(Ze(b.call(a,c,e,h)),Ze(b.call(a,d,e,k)))}f=$e.prototype;
f.eu=function(a,b){var c=this.output,d=this.zc;this.vz=a;for(var e=c.length-258,h,k,l;256!==(h=tf(this,a));)if(256>h)d>=e&&(this.zc=d,c=this.Ck(),d=this.zc),c[d++]=h;else for(h-=257,l=hf[h],0<jf[h]&&(l+=cf(this,jf[h])),h=tf(this,b),k=kf[h],0<lf[h]&&(k+=cf(this,lf[h])),d>=e&&(this.zc=d,c=this.Ck(),d=this.zc);l--;)c[d]=c[d++-k];for(;8<=this.gg;)this.gg-=8,this.qb--;this.zc=d};
f.wG=function(a,b){var c=this.output,d=this.zc;this.vz=a;for(var e=c.length,h,k,l;256!==(h=tf(this,a));)if(256>h)d>=e&&(c=this.Ck(),e=c.length),c[d++]=h;else for(h-=257,l=hf[h],0<jf[h]&&(l+=cf(this,jf[h])),h=tf(this,b),k=kf[h],0<lf[h]&&(k+=cf(this,lf[h])),d+l>e&&(c=this.Ck(),e=c.length);l--;)c[d]=c[d++-k];for(;8<=this.gg;)this.gg-=8,this.qb--;this.zc=d};
f.Ck=function(){var a=new Uint8Array(this.zc-32768),b=this.zc-32768,c=this.output;a.set(c.subarray(32768,a.length));this.It.push(a);this.Yw+=a.length;c.set(c.subarray(b,b+32768));this.zc=32768;return c};
f.MG=function(a){var b=this.input.length/this.qb+1|0,c=this.input,d=this.output;a&&("number"===typeof a.Oz&&(b=a.Oz),"number"===typeof a.UF&&(b+=a.UF));2>b?(a=(c.length-this.qb)/this.vz[2],a=a/2*258|0,a=a<d.length?d.length+a:d.length<<1):a=d.length*b;a=new Uint8Array(a);a.set(d);return this.output=a};
f.ez=function(){var a=0,b=this.output,c=this.It,d,e=new Uint8Array(this.Yw+(this.zc-32768)),h,k,l,n;if(0===c.length)return this.output.subarray(32768,this.zc);h=0;for(k=c.length;h<k;++h)for(d=c[h],l=0,n=d.length;l<n;++l)e[a++]=d[l];h=32768;for(k=this.zc;h<k;++h)e[a++]=b[h];this.It=[];return this.buffer=e};f.oG=function(){var a,b=this.zc;this.resize?(a=new Uint8Array(b),a.set(this.output.subarray(0,b))):a=this.output.subarray(0,b);return this.buffer=a};new Uint8Array(256);var uf;for(uf=0;256>uf;++uf)for(var vf=uf,wf=7,vf=vf>>>1;vf;vf>>>=1)--wf;var xf=[],yf;for(yf=0;288>yf;yf++)switch(!0){case 143>=yf:xf.push([yf+48,8]);break;case 255>=yf:xf.push([yf-144+400,9]);break;case 279>=yf:xf.push([yf-256+0,7]);break;case 287>=yf:xf.push([yf-280+192,8]);break;default:throw"invalid literal: "+yf;}
var zf=function(){function a(a){switch(!0){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw"invalid length: "+a;}}var b=[],c,d;for(c=3;258>=c;c++)d=a(c),b[c]=d[2]<<24|
d[1]<<16|d[0];return b}();new Uint32Array(zf);function Af(){};function Bf(a){this.input=a;this.qb=0;this.member=[]}
Bf.prototype.hj=function(){for(var a=this.input.length;this.qb<a;){var b=new Af,c=void 0,d=void 0,e=void 0,h=c=e=void 0,k=void 0,c=c=void 0,l=this.input,d=this.qb;b.id1=l[d++];b.id2=l[d++];if(31!==b.id1||139!==b.id2)throw Error("invalid file signature:",b.id1,b.id2);b.cm=l[d++];switch(b.cm){case 8:break;default:throw Error("unknown compression method: "+b.cm);}b.flg=l[d++];c=l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24;b.mtime=new Date(1E3*c);b.xfl=l[d++];b.os=l[d++];0<(b.flg&4)&&(b.xlen=l[d++]|l[d++]<<
8,d+=b.xlen);if(0<(b.flg&8)){k=[];for(h=0;0<(c=l[d++]);)k[h++]=String.fromCharCode(c);b.name=k.join("")}if(0<(b.flg&16)){k=[];for(h=0;0<(c=l[d++]);)k[h++]=String.fromCharCode(c);b.comment=k.join("")}if(0<(b.flg&2)&&(b.crc16=Xe.Nt(l,0,d)&65535,b.crc16!==(l[d++]|l[d++]<<8)))throw Error("invalid header crc16");c=l[l.length-4]|l[l.length-3]<<8|l[l.length-2]<<16|l[l.length-1]<<24;l.length-d-4-4<512*c&&(e=c);d=new $e(l,{index:d,bufferSize:e});b.data=e=d.hj();d=d.qb;b.crc32=c=(l[d++]|l[d++]<<8|l[d++]<<16|
l[d++]<<24)>>>0;if(Xe.Nt(e)!==c)throw Error("invalid CRC-32 checksum: 0x"+Xe.Nt(e).toString(16)+" / 0x"+c.toString(16));b.isize=c=(l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24)>>>0;if((e.length&4294967295)!==c)throw Error("invalid input size: "+(e.length&4294967295)+" / "+c);this.member.push(b);this.qb=d}a=this.member;b=e=d=0;for(l=a.length;b<l;++b)e+=a[b].data.length;e=new Uint8Array(e);for(b=0;b<l;++b)e.set(a[b].data,d),d+=a[b].data.length;return e};function Cf(){Fe.call(this);this.u="parserMGZ";this.Yp=!1}w(Cf,Fe);
Cf.prototype.parse=function(a,b,c,d){A.je(this.u+".parse");d&&(c=(new Bf(new Uint8Array(c))).hj(),c=c.buffer);d=this.ri(c);var e=[d.Cv,d.Dv,d.Ev];b.Ga=e;var h=d.DD;b.Rh=h;c=d.min;var k=d.max;b.le=b.Vb=c;b.ic=b.Ub=k;-Infinity==b.Db&&(b.Db=c);Infinity==b.Fb&&(b.Fb=k);c=Cd();L(c,0,d.Yf[0][0],d.Yf[1][0],d.Yf[2][0],0);L(c,1,d.Yf[0][1],d.Yf[1][1],d.Yf[2][1],0);L(c,2,d.Yf[0][2],d.Yf[1][2],d.Yf[2][2],0);L(c,3,0,0,0,1);for(var k=e[0]/2,l=e[1]/2,n=e[2]/2,e=[0,0,0],p=0;3>p;++p)e[p]=d.Yf[3][p]-(c[p+0]*h[0]*k+
c[p+4]*h[1]*l+c[p+8]*h[2]*n);h=e[1];k=e[2];c[12]=e[0];c[13]=h;c[14]=k;c[15]=1;d.Le=c;d.Me=Cd();Kd(d.Le,d.Me);e=Bd(0,0,0,1);h=Ad();Md(c,e,h);k=Bd(1,1,1,1);e=Ad();Md(c,k,e);c=Ie(c,b.Ga);d.Ng=[e[0]-h[0],e[1]-h[1],e[2]-h[2]];d.ud=[c[1]-c[0]+1,c[3]-c[2]+1,c[5]-c[4]+1];d.nf=[c[0],c[2],c[4]];b.wf(d);A.Nd(this.u+".parse");b.$f=Ne(this,b);d=new Xd;d.Ua=b;d.za=a;this.dispatchEvent(d)};
Cf.prototype.ri=function(a){this._data=a;a={version:0,kF:0,iF:0,UG:0,jF:0,Cv:0,Dv:0,Ev:0,jK:0,type:0,FG:0,eC:0,dO:null,Yf:null,DD:null,data:null,min:Infinity,max:-Infinity};a.version=this.h("uint");a.Cv=this.h("uint");a.Dv=this.h("uint");a.Ev=this.h("uint");a.jK=this.h("uint");a.type=this.h("uint");a.FG=this.h("uint");a.eC=this.h("ushort");if(0<a.eC){a.DD=this.h("float",3);var b=[];b.push(this.h("float",3));b.push(this.h("float",3));b.push(this.h("float",3));b.push(this.h("float",3));a.Yf=b}this.Ta=
284;b=a.Cv*a.Dv*a.Ev;switch(a.type){case 0:a.data=this.h("uchar",b);break;case 1:a.data=this.h("uint",b);break;case 3:a.data=this.h("float",b);break;case 4:a.data=this.h("ushort",b);break;default:throw Error("Unsupported MGH/MGZ data type: "+a.type);}b=Ge(a.data);a.min=b[0];a.max=b[1];this.Ta+16<this._data.byteLength&&(a.kF=this.h("float"),a.UG=this.h("float"),a.iF=this.h("float"),a.jF=this.h("float"));return a};v("X.parserMGZ",Cf);v("X.parserMGZ.prototype.parse",Cf.prototype.parse);function Df(){Fe.call(this);this.u="parserLBL"}w(Df,Fe);
Df.prototype.parse=function(a,b,c){A.je(this.u+".parse");var d=b.Ol,e=d.length;if(0==e)throw Error("No _pointIndices defined on the X.object.");this._data=c;var h=[],k=this.h("uchar",c.byteLength),l=k.length,n=!1,p=0;for(c=1;c<l;c++)10==k[c-1]?(p=c,n=!0):n&&32==k[c]&&(h.push(parseInt(He(k,p,c),10)),n=!1);k=b.kb.jb?b.kb.jb:new Float32Array(e);l=h.length;for(c=0;c<l;c++)k[h[c]]=1;h=new Float32Array(3*e);for(c=l=0;c<e;c++){n=d[c];if(n>e)throw Error("Could not find scalar for vertex.");n=k[n];h[l++]=
n;h[l++]=n;h[l++]=n}b.kb.jb=k;b.kb.cn=h;b.kb.J=!0;A.Nd(this.u+".parse");d=new Xd;d.Ua=b;d.za=a;this.dispatchEvent(d)};v("X.parserLBL",Df);v("X.parserLBL.prototype.parse",Df.prototype.parse);function Ef(){Fe.call(this);this.u="parserCRV";this.Yp=!1}w(Ef,Fe);
Ef.prototype.parse=function(a,b,c){A.je(this.u+".parse");var d=b.Ol;if(0==d.length)throw Error("No _pointIndices defined on the X.object.");this._data=c;this.Ta=3;var e=this.h("uint");this.h("uint");this.h("uint");var h=0,k=0,l=0,n=0,p=0,m=0,q=0,t=0,s=0,z=0,y=0;c=Array(2);var I=Array(2),P=this.h("float",e),N;for(N=0;N<e;N++){var H=P[N];0==N&&(c[0]=I[0]=H);0<=H?(h++,n+=H):(k++,l+=H);s+=H;y++;I[0]=Math.max(H,I[0]);c[0]=Math.min(H,c[0]);P[N]=H}0!=h&&(p=n/h);0!=k&&(m=l/k);0!=y&&(z=s/y);for(y=s=l=n=0;y<
e;y++)H=P[y],N=0,0<=H?(N=Math.pow(H-p,2),n+=N):(N=Math.pow(H-m,2),l+=N),N=Math.pow(H-z,2),s+=N;1<h&&(q=Math.sqrt(n/(h-1)));1<k&&(t=Math.sqrt(l/(k-1)));c[1]=m-2.5*t;I[1]=p+2.5*q;e=d.length;h=new Float32Array(3*e);for(y=0;y<e;y++)k=P[d[y]],l=3*y,h[l]=k,h[l+1]=k,h[l+2]=k;b.kb.le=c[1];b.kb.ic=I[1];-Infinity==b.kb.Db&&(b.kb.Db=c[1]);Infinity==b.kb.Fb&&(b.kb.Fb=I[1]);b.kb.jb=P;b.kb.cn=h;b.kb.J=!0;A.Nd(this.u+".parse");d=new Xd;d.Ua=b;d.za=a;this.dispatchEvent(d)};v("X.parserCRV",Ef);
v("X.parserCRV.prototype.parse",Ef.prototype.parse);function Ff(a,b){var c,d;this.input=a;this.qb=0;if(b||!(b={}))b.index&&(this.qb=b.index),b.verify&&(this.SM=b.verify);c=a[this.qb++];d=a[this.qb++];switch(c&15){case 8:this.method=8;break;default:throw Error("unsupported compression method");}if(0!==((c<<8)+d)%31)throw Error("invalid fcheck flag:"+((c<<8)+d)%31);if(d&32)throw Error("fdict flag is not supported");this.fC=new $e(a,{index:this.qb,bufferSize:b.bufferSize,bufferType:b.bufferType,resize:b.resize})}
Ff.prototype.hj=function(){var a=this.input,b;b=this.fC.hj();this.qb=this.fC.qb;if(this.SM){var a=(a[this.qb++]<<24|a[this.qb++]<<16|a[this.qb++]<<8|a[this.qb++])>>>0,c=b;if("string"===typeof c){var c=c.split(""),d,e;d=0;for(e=c.length;d<e;d++)c[d]=(c[d].charCodeAt(0)&255)>>>0}d=1;e=0;for(var h=c.length,k,l=0;0<h;){k=1024<h?1024:h;h-=k;do d+=c[l++],e+=d;while(--k);d%=65521;e%=65521}if(a!==(e<<16|d)>>>0)throw Error("invalid adler-32 checksum");}return b};function Gf(){Fe.call(this);this.u="parserRAW"}w(Gf,Fe);
Gf.prototype.parse=function(a,b,c,d){A.je(this.u+".parse");d&&(c=(new Ff(new Uint8Array(c))).hj(),c=c.buffer);d={};d.data=new Uint8Array(c);var e=Ge(d.data);c=e[0];e=e[1];d.min=b.le=b.Vb=c;d.max=b.ic=b.Ub=e;-Infinity==b.Db&&(b.Db=c);Infinity==b.Fb&&(b.Fb=e);e=Dd();d.Le=e;d.Me=Dd();var h=Bd(0,0,0,1);c=Ad();Md(e,h,c);var k=Bd(1,1,1,1),h=Ad();Md(e,k,h);e=Ie(e,b.Ga);d.Ng=[h[0]-c[0],h[1]-c[1],h[2]-c[2]];d.ud=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];d.nf=[e[0],e[2],e[4]];b.wf(d);A.Nd(this.u+".parse");b.$f=
Ne(this,b);d=new Xd;d.Ua=b;d.za=a;this.dispatchEvent(d)};v("X.parserRAW",Gf);v("X.parserRAW.prototype.parse",Gf.prototype.parse);function Hf(){Fe.call(this);this.u="parserIMAGE"}w(Hf,Fe);Hf.prototype.parse=function(a,b,c,d){if(!(c instanceof ArrayBuffer))throw Error();for(var e=new Uint8Array(c),h=e.length,k=Array(h);h--;)k[h]=String.fromCharCode(e[h]);e=window.btoa(k.join(""));h=new Image;Tc(h,"load",this.FL.bind(this,h,a,b,c,d));h.src="data:image/"+d+";base64,"+e};Hf.prototype.FL=function(a,b,c){b.$f=a;b.Ti=null;a=new Xd;a.Ua=c;a.za=b;this.dispatchEvent(a)};v("X.parserIMAGE",Hf);v("X.parserIMAGE.prototype.parse",Hf.prototype.parse);function If(){Fe.call(this);this.u="parserLUT"}w(If,Fe);
If.prototype.parse=function(a,b,c){A.je(this.u+".parse");this._data=c;c=this.h("uchar",c.byteLength);var d=c.length,e=0,h;for(h=0;h<d;h++)if(10==c[h]){var k=He(c,e,h),e=h+1,k=k.replace(/^\s+|\s+$/g,"");"#"!=k[0]&&(k=k.split(" "),k=k.filter(function(a){return""!=a}),6==k.length&&(k[2]=parseInt(k[2],10)/255,k[3]=parseInt(k[3],10)/255,k[4]=parseInt(k[4],10)/255,k[5]=parseInt(k[5],10)/255,a.add(parseInt(k[0],10),k[1],k[2],k[3],k[4],k[5],10)))}A.Nd(this.u+".parse");c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};
v("X.parserLUT",If);v("X.parserLUT.prototype.parse",If.prototype.parse);function Jf(){Fe.call(this);this.u="parserMRC"}w(Jf,Fe);
Jf.prototype.parse=function(a,b,c){A.je(this.u+".parse");c=this.ri(c);var d=c.min,e=c.max;b.Ga=[c.Eo,c.Fo,c.Go];b.Rh=[c.xlen/c.EB,c.KD/c.FB,c.MD/c.GB];b.le=b.Vb=d;b.ic=b.Ub=e;-Infinity==b.Db&&(b.Db=d);Infinity==b.Fb&&(b.Fb=e);e=Cd();L(e,3,0,0,0,1);L(e,0,-1,0,0,c.Eo);L(e,1,0,0,-1,c.Fo);L(e,2,0,-1,0,c.Go);c.Le=e;c.Me=Cd();Kd(c.Le,c.Me);var h=Bd(0,0,0,1),d=Ad();Md(e,h,d);var k=Bd(1,1,1,1),h=Ad();Md(e,k,h);k=[c.Eo,c.Fo,c.Go];e=Ie(e,k);c.Ng=[h[0]-d[0],h[1]-d[1],h[2]-d[2]];c.ud=[e[1]+e[0]+1,e[3]-e[2]+1,
e[5]-e[4]+1];c.nf=[e[0],e[2],e[4]];b.Ga=k;b.wf(c);b.$f=Ne(this,b);A.Nd(this.u+".parse");c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};
Jf.prototype.ri=function(a){this._data=a;a={Eo:0,Fo:0,Go:0,mode:0,xQ:0,yQ:0,zQ:0,EB:0,FB:0,GB:0,xlen:0,KD:0,MD:0,alpha:0,beta:0,gamma:0,QJ:0,RJ:0,SJ:0,Gt:0,lq:0,ok:0,lQ:0,next:0,uG:0,extra:null,kK:0,mK:0,extra:null,pJ:0,jQ:0,mJ:0,lens:0,hK:0,iK:0,QM:0,RM:0,IM:null,VM:0,XM:0,YM:0,WP:0,NQ:0,UL:0,lK:0,data:null,min:Infinity,max:-Infinity,tQ:0,gD:null,MQ:null,GQ:null,orientation:null,wQ:null};this.Ta=0;a.Eo=this.h("sint");a.Fo=this.h("sint");a.Go=this.h("sint");a.mode=this.h("sint");var b=a.Eo*a.Fo*a.Go;
this.Ta=1024;switch(a.mode){case 0:a.data=this.h("schar",b);break;case 1:a.data=this.h("sshort",b);break;case 2:a.data=this.h("float",b);break;case 3:a.data=this.h("uint",b);break;case 4:a.data=this.h("double",b);break;case 6:a.data=this.h("ushort",b);break;case 16:a.data=this.h("uchar",b);break;default:throw Error("Unsupported MRC data type: "+a.mode);}this.Ta=28;a.EB=this.h("sint");a.FB=this.h("sint");a.GB=this.h("sint");a.xlen=this.h("float");a.KD=this.h("float");a.MD=this.h("float");a.alpha=this.h("float");
a.beta=this.h("float");a.gamma=this.h("float");a.QJ=this.h("sint");a.RJ=this.h("sint");a.SJ=this.h("sint");a.Gt=this.h("float");a.lq=this.h("float");a.ok=this.h("float");a.kQ=this.h("sint");a.next=this.h("sint");a.uG=this.h("short");a.kK=this.h("short");a.mK=this.h("short");a.pJ=this.h("sint");a.iQ=this.h("sint");a.mJ=this.h("short");a.lens=this.h("short");a.hK=this.h("short");a.iK=this.h("short");a.QM=this.h("short");a.RM=this.h("short");a.IM=this.h("float",6);this.Ta=196;a.VM=this.h("float");a.XM=
this.h("float");a.YM=this.h("float");this.Ta=216;a.UL=this.h("float");a.lK=this.h("sint");a.oQ=this.h("schar",10);if(0!=a.next)switch(this.Ta=parseInt(a.next+1024,10),a.mode){case 0:a.data=this.h("schar",b);break;case 1:a.data=this.h("sshort",b);break;case 2:a.data=this.h("float",b);break;case 3:a.data=this.h("uint",b);break;case 4:a.data=this.h("double",b);break;case 6:a.data=this.h("ushort",b);break;case 16:a.data=this.h("uchar",b);break;default:throw Error("Unsupported MRC data type: "+a.mode);
}0>a.ok-(a.lq-a.ok)?(a.min=a.Gt,a.max=a.ok+(a.ok-a.Gt)):(a.min=a.ok-(a.lq-a.ok),a.max=a.lq);return a};v("X.parserMRC",Jf);v("X.parserMRC.prototype.parse",Jf.prototype.parse);function Kf(){Fe.call(this);this.u="parserNRRD"}w(Kf,Fe);
Kf.prototype.parse=function(a,b,c){A.je(this.u+".parse");this._data=c;c=this.h("uchar",c.byteLength);var d=c.length,e=null,h=0,k;for(k=1;k<d;k++)if(10==c[k-1]&&10==c[k]){e=He(c,0,k-2);h=k+1;break}var l,n,p,m,d=e.split(/\r?\n/),e=0;for(k=d.length;e<k;e++)l=d[e],l.match(/NRRD\d+/)?this.CJ=!0:!l.match(/^#/)&&(m=l.match(/(.*):(.*)/))&&(n=m[1].trim(),l=m[2].trim(),(p=this.QG[n])?p.call(this,l):this[n]=l);if(!this.CJ)throw Error("Not an NRRD file");if("raw"!==this.encoding&&"gzip"!==this.encoding&&"gz"!==
this.encoding)throw Error("Only raw or gz/gzip encoding is allowed");if(!this.nc&&(this.nc=[new pd(1,0,0),new pd(0,1,0),new pd(0,0,1)],this.Kw))for(d=[],m=0;2>=m;m++)d.push(isNaN(this.Kw[m])?void 0:this.nc[m].scale(this.Kw[m]));h=c.subarray(h);if("gzip"==this.encoding||"gz"==this.encoding)h=(new Bf(new Uint8Array(h))).hj();h=h.buffer;c={data:null,min:Infinity,max:-Infinity};c.data=new this.Ji(h);m=Ge(c.data);h=c.min=m[0];m=c.max=m[1];b.le=b.Vb=h;b.ic=b.Ub=m;b.Ga=[this.Fw[0],this.Fw[1],this.Fw[2]];
d=(new pd(this.nc[0][0],this.nc[0][1],this.nc[0][2])).xg();e=(new pd(this.nc[1][0],this.nc[1][1],this.nc[1][2])).xg();k=(new pd(this.nc[2][0],this.nc[2][1],this.nc[2][2])).xg();b.Rh=[d,e,k];-Infinity==b.Db&&(b.Db=h);Infinity==b.Fb&&(b.Fb=m);d=m=1;"left-posterior-superior"==this.gD&&(d=m=-1);h=Dd();L(h,0,m*this.nc[0][0],m*this.nc[1][0],m*this.nc[2][0],m*this.Jw[0]);L(h,1,d*this.nc[0][1],d*this.nc[1][1],d*this.nc[2][1],d*this.Jw[1]);L(h,2,1*this.nc[0][2],1*this.nc[1][2],1*this.nc[2][2],1*this.Jw[2]);
L(h,3,0,0,0,1);c.Le=h;c.Me=Cd();Kd(c.Le,c.Me);d=Bd(0,0,0,1);m=Ad();Md(h,d,m);e=Bd(1,1,1,1);d=Ad();Md(h,e,d);h=Ie(h,b.Ga);c.Ng=[d[0]-m[0],d[1]-m[1],d[2]-m[2]];c.ud=[h[1]-h[0]+1,h[3]-h[2]+1,h[5]-h[4]+1];c.nf=[h[0],h[2],h[4]];b.wf(c);A.Nd(this.u+".parse");b.$f=Ne(this,b);c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};
Kf.prototype.QG={type:function(a){switch(a){case "uchar":case "unsigned char":case "uint8":case "uint8_t":this.Ji=Uint8Array;break;case "signed char":case "int8":case "int8_t":this.Ji=Int8Array;break;case "short":case "short int":case "signed short":case "signed short int":case "int16":case "int16_t":this.Ji=Int16Array;break;case "ushort":case "unsigned short":case "unsigned short int":case "uint16":case "uint16_t":this.Ji=Uint16Array;break;case "int":case "signed int":case "int32":case "int32_t":this.Ji=
Int32Array;break;case "uint":case "unsigned int":case "uint32":case "uint32_t":this.Ji=Uint32Array;break;case "float":this.Ji=Float32Array;break;case "double":this.Ji=Float64Array;break;default:throw Error("Unsupported NRRD data type: "+a);}return this.type=a},endian:function(a){return this.dQ=a},encoding:function(a){return this.encoding=a},dimension:function(a){return this.ij=parseInt(a,10)},sizes:function(a){var b,c,d,e;d=a.split(/\s+/);e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(parseInt(a,10));
return this.Fw=e},space:function(a){return this.gD=a},"space origin":function(a){return this.Jw=a.split("(")[1].split(")")[0].split(",")},"space directions":function(a){var b,c,d;c=a.match(/\(.*?\)/g);return this.nc=function(){var a,h,k;k=[];a=0;for(h=c.length;a<h;a++)d=c[a],k.push(function(){var a,c,e,h;e=d.slice(1,-1).split(/,/);h=[];a=0;for(c=e.length;a<c;a++)b=e[a],h.push(parseFloat(b));return h}());return k}()},spacings:function(a){var b;b=a.split(/\s+/);var c,d,e;e=[];c=0;for(d=b.length;c<d;c++)a=
b[c],e.push(parseFloat(a));return this.Kw=e}};v("X.parserNRRD",Kf);v("X.parserNRRD.prototype.parse",Kf.prototype.parse);function Lf(){Fe.call(this);this.u="parserSTL"}w(Lf,Fe);
Lf.prototype.parse=function(a,b,c){A.je(this.u+".parse");this._data=c;var d=b.G,e=b.fa;if("solid"==He(this.h("uchar",5))){b.G=d=new cd(c.byteLength);b.fa=e=new cd(c.byteLength);var h=d,d=e,e=this.h("uchar",c.byteLength-5);c=e.length;var k=!1,l=!1,n=0,p;for(p=0;p<c;p++)if(10==e[p]){if(k||l){var m=He(e,n,p).split(" "),l=parseFloat(m[0]),q=parseFloat(m[1]),m=parseFloat(m[2]);k?(d.add(l,q,m),d.add(l,q,m),d.add(l,q,m)):h.add(l,q,m);l=k=!1}}else 32==e[p-1]&&(102==e[p]?(n=p+=13,k=!0):118==e[p]&&(n=p+=7,
l=!0))}else for(this.Ta=80,h=this.h("uint"),b.G=d=new cd(9*h),b.fa=e=new cd(9*h),c=c=0;c<h;c++)k=this.h("float",12),n=k[0],p=k[1],l=k[2],e.add(n,p,l),e.add(n,p,l),e.add(n,p,l),d.add(k[3],k[4],k[5]),d.add(k[6],k[7],k[8]),d.add(k[9],k[10],k[11]),this.Ta+=2;A.Nd(this.u+".parse");h=new Xd;h.Ua=b;h.za=a;this.dispatchEvent(h)};v("X.parserSTL",Lf);v("X.parserSTL.prototype.parse",Lf.prototype.parse);function Mf(){Fe.call(this);this.u="parserNII"}w(Mf,Fe);
Mf.prototype.parse=function(a,b,c){var d=c,e=-1,e="undefined"==typeof DataView?(new Int32Array(c,0,1))[0]:(new DataView(c,0)).getInt32(0,!0);348!=e&&(d=(new Bf(new Uint8Array(d))).hj(),d=d.buffer);c=this.ri(d);d=c.min;e=c.max;b.le=b.Vb=d;b.ic=b.Ub=e;-Infinity==b.Db&&(b.Db=d);Infinity==b.Fb&&(b.Fb=e);d=Cd();L(d,3,0,0,0,1);if(0<c.mw){var e=0,h=c.bC,k=c.cC,l=c.dC,n=1,p=1,m=1,q=c.ZB,t=c.$B,s=c.aC,e=1-(h*h+k*k+l*l);1E-7>e?(e=1/Math.sqrt(h*h+k*k+l*l),h*=e,k*=e,l*=e,e=0):e=Math.sqrt(e);0<c.Ag[1]&&(n=c.Ag[1]);
0<c.Ag[2]&&(p=c.Ag[2]);0<c.Ag[2]&&(m=c.Ag[3]);0>c.Ag[0]&&(m=-m);L(d,0,(e*e+h*h-k*k-l*l)*n,2*(h*k-e*l)*p,2*(h*l+e*k)*m,q);L(d,1,2*(h*k+e*l)*n,(e*e+k*k-h*h-l*l)*p,2*(k*l-e*h)*m,t);L(d,2,2*(h*l-e*k)*n,2*(k*l+e*h)*p,(e*e+l*l-k*k-h*h)*m,s)}else 0<c.ZC?(e=c.hD,h=c.iD,k=c.jD,L(d,0,e[0],e[1],e[2],e[3]),L(d,1,h[0],h[1],h[2],h[3]),L(d,2,k[0],k[1],k[2],k[3])):0==c.mw?(L(d,0,c.Ag[1],0,0,0),L(d,1,0,c.Ag[2],0,0),L(d,2,0,0,c.Ag[3],0)):window.console.log("UNKNOWN METHOD IN PARSER NII");c.Le=d;c.Me=Cd();Kd(c.Le,c.Me);
h=Bd(0,0,0,1);e=Ad();Md(d,h,e);k=Bd(1,1,1,1);h=Ad();Md(d,k,h);k=[c.ij[1],c.ij[2],c.ij[3]];d=Ie(d,k);c.Ng=[h[0]-e[0],h[1]-e[1],h[2]-e[2]];c.ud=[d[1]-d[0]+1,d[3]-d[2]+1,d[5]-d[4]+1];c.nf=[d[0],d[2],d[4]];b.Ga=k;b.wf(c);b.$f=Ne(this,b);c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};
Mf.prototype.ri=function(a){this._data=a;a={oM:0,data_type:null,vG:null,OG:0,bM:0,LL:0,zG:null,ij:null,wJ:0,xJ:0,yJ:0,uJ:0,du:0,iG:0,tM:0,Ag:null,FD:0,aM:0,$L:0,sM:0,qM:null,WM:null,kG:0,lG:0,rM:0,KM:0,SI:0,TI:0,xG:null,fG:null,mw:0,ZC:0,bC:0,cC:0,dC:0,ZB:0,$B:0,aC:0,hD:null,iD:null,jD:null,vJ:null,magic:null,data:null,min:Infinity,max:-Infinity};a.oM=this.h("uint");a.data_type=this.h("uchar",10);a.vG=this.h("uchar",18);a.OG=this.h("uint");a.bM=this.h("ushort");a.LL=this.h("uchar");a.zG=this.h("uchar");
a.ij=this.h("ushort",8);a.wJ=this.h("float");a.xJ=this.h("float");a.yJ=this.h("float");a.uJ=this.h("ushort");a.du=this.h("ushort");a.iG=this.h("ushort");a.tM=this.h("ushort");a.Ag=this.h("float",8);a.FD=this.h("float");a.aM=this.h("float");a.$L=this.h("float");a.sM=this.h("ushort");a.qM=this.h("uchar");a.WM=this.h("uchar");a.kG=this.h("float");a.lG=this.h("float");a.rM=this.h("float");a.KM=this.h("float");a.SI=this.h("uint",1);a.TI=this.h("uint",1);a.xG=this.h("uchar",80);a.fG=this.h("uchar",24);
a.mw=this.h("ushort");a.ZC=this.h("ushort");a.bC=this.h("float");a.cC=this.h("float");a.dC=this.h("float");a.ZB=this.h("float");a.$B=this.h("float");a.aC=this.h("float");a.hD=this.h("float",4);a.iD=this.h("float",4);a.jD=this.h("float",4);a.vJ=this.h("uchar",16);a.magic=this.h("uchar",4);this.Ta=parseInt(a.FD,10);var b=a.ij[1]*a.ij[2]*a.ij[3];switch(a.du){case 2:a.data=this.h("uchar",b);break;case 4:a.data=this.h("sshort",b);break;case 8:a.data=this.h("sint",b);break;case 16:a.data=this.h("float",
b);break;case 32:a.data=this.h("complex",b);break;case 64:a.data=this.h("double",b);break;case 256:a.data=this.h("schar",b);break;case 512:a.data=this.h("ushort",b);break;case 768:a.data=this.h("uint",b);break;default:throw Error("Unsupported NII data type: "+a.du);}b=Ge(a.data);a.min=b[0];a.max=b[1];return a};v("X.parserNII",Mf);v("X.parserNII.prototype.parse",Mf.prototype.parse);function Nf(){Fe.call(this);this.u="parserTRK"}w(Nf,Fe);
Nf.prototype.parse=function(a,b,c){A.je(this.u+".parse");var d=b.G,e=b.fa,h=b.Tc;this._data=c;this.h("uchar",6);this.h("ushort",3);var k=this.h("float",3);this.h("float",3);var l=this.h("ushort");this.h("uchar",200);this.h("ushort");this.h("uchar",200);c=this.h("float",16);this.h("uchar",444);this.h("uchar",4);this.h("uchar",4);this.h("float",6);this.h("uchar",2);this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");var n=this.h("uint");this.h("uint");var p=
this.h("uint"),m=[],q=[],t=Infinity,s=-Infinity,z=null,y=null,I=null,P=null,e=d=null,N=this.h("uint",(this._data.byteLength-1E3)/4);this.Ta=p;for(var H=this.h("float",(this._data.byteLength-1E3)/4),T=0,p=h=0;p<n;p++){for(var ca=N[T],V=new cd(3*ca),wa=0,oa=0;oa<ca;oa++){var ya=H[T+3*oa+oa*l+1],Oa=H[T+3*oa+oa*l+2],Ja=H[T+3*oa+oa*l+3],ya=ya/k[0],Oa=Oa/k[1],Ja=Ja/k[2];V.add(ya,Oa,Ja);if(0<oa)var Pa=V.get(oa-1),wa=wa+Math.sqrt(Math.pow(ya-Pa[0],2)+Math.pow(Oa-Pa[1],2)+Math.pow(Ja-Pa[2],2));oa<ca-1&&(h+=
6)}T+=3*ca+ca*l+1;oa=V.dg;ca=V.ag;ya=V.eg;Oa=V.bg;Ja=V.fg;Pa=V.cg;if(!z||oa<z)z=oa;if(!y||ca>y)y=ca;if(!I||ya<I)I=ya;if(!P||Oa>P)P=Oa;if(!d||Ja<d)d=Ja;if(!e||Pa>e)e=Pa;m.push(V);q.push(wa)}k=(z+y)/2;I=(I+P)/2;l=(d+e)/2;P=new Float32Array(h);b.G=d=new cd(h);b.fa=e=new cd(h);b.Tc=h=new cd(h);for(p=z=0;p<n;p++)for(y=m[p],N=y.count,wa=q[p],t=Math.min(t,wa),s=Math.max(s,wa),oa=0;oa<N-1;oa++){T=y.get(oa);H=y.get(oa+1);d.add(T[0],T[1],T[2]);d.add(H[0],H[1],H[2]);var V=T[0]-k,ca=T[1]-I,ya=T[2]-l,Oa=Math.sqrt(V*
V+ca*ca+ya*ya),Ja=H[0]-k,Pa=H[1]-I,ka=H[2]-l,za=Math.sqrt(Ja*Ja+Pa*Pa+ka*ka);e.add(V/Oa,ca/Oa,ya/Oa);e.add(Ja/za,Pa/za,ka/za);H=[Math.abs(H[0]-T[0]),Math.abs(H[1]-T[1]),Math.abs(H[2]-T[2])];T=Math.sqrt(H[0]*H[0]+H[1]*H[1]+H[2]*H[2]);H[0]/=T;H[1]/=T;H[2]/=T;h.add(H[0],H[1],H[2]);h.add(H[0],H[1],H[2]);P[z++]=wa;P[z++]=wa;P[z++]=wa;P[z++]=wa;P[z++]=wa;P[z++]=wa}b.Sd="LINES";n=new Vd;n.le=t;n.ic=s;n.Db=t;n.Fb=s;n.cn=P;n.jy=!1;n.J=!0;b.kb=n;t=!1;for(p=0;16>p;p++)if(0!=c[p]){t=!0;break}!1==t&&(c[0]=c[5]=
c[10]=c[15]=1);A.Nd(this.u+".parse");A.v.$w(c,b.qc.Eb);c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};v("X.parserTRK",Nf);v("X.parserTRK.prototype.parse",Nf.prototype.parse);function Of(){Fe.call(this);this.u="parserOBJ"}w(Of,Fe);
Of.prototype.parse=function(a,b,c){A.je(this.u+".parse");this._data=c;c=c.byteLength;var d=this.h("uchar",c),e=[];b.G=new cd(c);b.fa=new cd(c);var h=b.G,k=b.fa,l=0,n;for(n=0;n<c;++n)if(10==d[n]){var p=He(d,l,n).replace(/\s{2,}/g," ").split(" ");if("v"==p[0])e.push([parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])]);else if("f"==p[0]){var m=e[parseInt(p[1],10)-1],l=e[parseInt(p[2],10)-1],p=e[parseInt(p[3],10)-1];h.add(m[0],m[1],m[2]);h.add(l[0],l[1],l[2]);h.add(p[0],p[1],p[2]);m=new pd(m[0],m[1],
m[2]);p=new pd(p[0],p[1],p[2]);l=td((new pd(l[0],l[1],l[2])).Pc(m),p.Pc(m));l.normalize();k.add(l.x,l.y,l.z);k.add(l.x,l.y,l.z);k.add(l.x,l.y,l.z)}l=n+1}A.Nd(this.u+".parse");c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};v("X.parserOBJ",Of);v("X.parserOBJ.prototype.parse",Of.prototype.parse);function Pf(){bd.call(this);this.u="loader";this.Ml=new id;this.sn=0}w(Pf,bd);function Qf(a,b){a.sn+=b/a.Ml.pg()/3;a.sn=Math.min(1,a.sn);var c=new ye;c.ik=a.sn;a.dispatchEvent(c)}function Rf(a){a=a.ja.bq;var b=a.split(".").pop().toUpperCase();b==a.toUpperCase()&&(b="");if(!(b in Sf))throw Error("The "+b+" file format is not supported.");return[a,b,Sf[b][0],Sf[b][1],Sf[b][2]]}
Pf.prototype.load=function(a,b){if(!a||!b)throw Error("No container or object to load.");if(!ld(this.Ml.Gb,a.wd)||this.Ml.get(a.wd)){this.Ml.set(a.wd,!1);var c=Rf(a)[0];if(null!=a.Tg)this.parse(null,a,b);else{var d=new XMLHttpRequest;G(d,"abort",this.Mz.bind(this,d,a,b));G(d,"error",this.Mz.bind(this,d,a,b));G(d,"load",this.parse.bind(this,d,a,b));d.open("GET",c,!0);d.responseType="arraybuffer";d.send(null)}}};
Pf.prototype.parse=function(a,b,c){Qf(this,1);setTimeout(function(){var d=Rf(b),e=d[3],d=new d[2];Tc(d,he,this.complete.bind(this));var h=b.Tg;null==h&&(h=a.response,b.Tg=h);d.parse(b,c,h,e)}.bind(this),100)};Pf.prototype.complete=function(a){Qf(this,1);setTimeout(function(){var b=a.za,c=a.Ua;b.ja.J=!1;b.J=!0;c.ga();this.Ml.set(b.wd,!0)}.bind(this),100)};Pf.prototype.Mz=function(a,b,c){throw Error("Loading failed: ",b,c);};
var Sf={OBJ:[Of,null],OFF:[Oe,null],STL:[Lf,null],VTK:[Ue,null],TRK:[Nf,null],MRC:[Jf,null],ST:[Jf,null],FSM:[We,null],INFLATED:[We,null],SMOOTHWM:[We,null],SPHERE:[We,null],PIAL:[We,null],ORIG:[We,null],NRRD:[Kf,null],NII:[Mf,null],GZ:[Mf,null],DCM:[Te,null],DICOM:[Te,null],"":[Te,null],CRV:[Ef,null],LABEL:[Df,null],MGH:[Cf,!1],MGZ:[Cf,!0],RAW:[Gf,!1],RZ:[Gf,!0],TXT:[If,null],LUT:[If,null],PNG:[Hf,"png"],JPG:[Hf,"jpeg"],JPEG:[Hf,"jpeg"],GIF:[Hf,"gif"]};function Tf(){Fe.call(this);this.u="parserIMA"}w(Tf,Fe);
Tf.prototype.parse=function(a,b,c){b.Hh={};b.Hh.Bo=0;this.ri(c,b);if(null==b.ja.length||b.sa.length==b.ja.length){b.Hh.Bo=b.ja.length;var d={};c={};for(var e=0;e<b.sa.length;e++)d.hasOwnProperty(b.sa[e].series_instance_uid)||(d[b.sa[e].series_instance_uid]=[],c[b.sa[e].series_instance_uid]={}),c[b.sa[e].series_instance_uid].hasOwnProperty(b.sa[e].sop_instance_uid)||(c[b.sa[e].series_instance_uid][b.sa[e].sop_instance_uid]=!0,d[b.sa[e].series_instance_uid].push(b.sa[e]));var h=Object.keys(d)[0],e=
d[h],k=e.length;c={};console.log("FIRST IMAGE",e,d,h);var l="image_position_patient";1==k?(l="image_position_patient",d[h][0].dist=0):e[0].image_position_patient[0]!=e[1].image_position_patient[0]||e[0].image_position_patient[1]!=e[1].image_position_patient[1]||e[0].image_position_patient[2]!=e[1].image_position_patient[2]?(l="image_position_patient",d=new pd(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new pd(e[0].image_orientation_patient[3],
e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),d=td(d,h),e.map(function(a,b){b.dist=b.image_position_patient[0]*a.x+b.image_position_patient[1]*a.y+b.image_position_patient[2]*a.z;return b}.bind(null,d)),e.sort(function(a,b){return a.dist-b.dist})):e[0].instance_number!=e[1].instance_number?(l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number})):window.console.log("Could not resolve the ordering mode");console.log("SEQUENCE NAME","'"+e[0].sequence_name+
"'");-1<["fgre","memp","fse"].indexOf(e[0].sequence_name)&&(window.console.log(e[0].sequence_name,"reordering..."),l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number}));isNaN(e[0].pixel_spacing[0])&&(e[0].pixel_spacing[0]=1);isNaN(e[0].pixel_spacing[1])&&(e[0].pixel_spacing[1]=1);if(1<k)switch(l){case "image_position_patient":var n=e[0].image_position_patient,d=e[1].image_position_patient,h=d[0]-n[0],p=d[1]-n[1],m=d[2]-n[2];e[0].pixel_spacing[2]=Math.sqrt(h*h+p*p+
m*m);break;case "instance_number":e[0].pixel_spacing[2]=1;console.log("INSTANCE NUMBER SPACING");break;default:window.console.log("Unkown ordering mode - returning: "+l)}else e[0].pixel_spacing[2]=1;d=1;switch(l){case "image_position_patient":var n=e[0].image_position_patient,q=e[k-1].image_position_patient,h=q[0]-n[0],p=q[1]-n[1],m=q[2]-n[2],h=Math.sqrt(h*h+p*p+m*m),d=d+Math.round(h/e[0].pixel_spacing[2]);break;case "instance_number":d+=Math.abs(e[k-1].instance_number-e[0].instance_number);break;
default:window.console.log("Unkown ordering mode - returning: "+l)}n=e[0].columns*e[0].rows;h=n*d;q=null;switch(e[0].Yi){case 8:q=new Uint8Array(h);break;case 16:q=new Uint16Array(h);break;case 32:q=new Uint32Array(h);default:window.console.log("Unknown number of bits allocated - using default: 32 bits")}b.Rh=e[0].pixel_spacing;for(var t=0;t<k;t++){var s=e[t].data,h=0;switch(l){case "image_position_patient":h=e[t].image_position_patient[0]-e[0].image_position_patient[0];p=e[t].image_position_patient[1]-
e[0].image_position_patient[1];m=e[t].image_position_patient[2]-e[0].image_position_patient[2];h=Math.sqrt(h*h+p*p+m*m)/e[0].pixel_spacing[2];break;case "instance_number":h=e[t].instance_number-e[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+l)}q.set(s,h*n)}c.data=q;b._data=q;b.Ga=[e[0].columns,e[0].rows,d];c.AG=b.Ga;d=Ge(q);k=d[0];d=d[1];c.min=b.le=b.Vb=k;c.max=b.ic=b.Ub=d;-Infinity==b.Db&&(b.Db=k);Infinity==b.Fb&&(b.Fb=d);p=e[0].image_position_patient;
k=Cd();switch(l){case "image_position_patient":console.log("ORIENTATION",e[0].image_orientation_patient);d=new pd(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]);h=new pd(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]);d=td(d,h);L(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2],-p[0]);L(k,1,-e[0].image_orientation_patient[1]*
e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2],-p[1]);L(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2],p[2]);L(k,3,0,0,0,1);break;case "instance_number":"memp"===e[0].sequence_name||"fse"===e[0].sequence_name?(d=new pd(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new pd(e[0].image_orientation_patient[3],
e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),d=td(d,h),L(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2]*e[0].slice_thickness,-p[0]),L(k,1,-e[0].image_orientation_patient[1]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2]*e[0].slice_thickness,-p[1]),L(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*
e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2]*e[0].slice_thickness,p[2])):(L(k,0,1,0,0,-p[0]),L(k,1,0,-1,-0,-p[1]),L(k,2,0,0,1,p[2]));L(k,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+l)}c.Le=k;c.Me=Cd();Kd(c.Le,c.Me);l=Bd(0,0,0,1);e=Ad();Md(k,l,e);l=Bd(1,1,1,1);d=Ad();Md(k,l,d);c.Ng=[d[0]-e[0],d[1]-e[1],d[2]-e[2]];e=Ie(k,[b.Ga[0],b.Ga[1],b.Ga[2]]);c.ud=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];c.nf=[e[0],e[2],e[4]];b.wf(c);b.$f=Ne(this,b)}c=new Xd;c.Ua=b;c.za=a;this.dispatchEvent(c)};
Tf.prototype.ve=function(a,b,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(a){for(var b="",c=128;1<=c;c/=2)b+=a&c?"1":"0";return b};d=a[b++];a=a[b++];d=parseInt(c((a&65280)>>8)+c(a&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);b+=d/2;break;default:b+=d/2}return b};
Tf.prototype.ri=function(a,b){this._data=a;if("undefined"==typeof b.sa||null==b.sa)b.sa=[];for(var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.h("ushort",this._data.byteLength),e=66,h=null,k=null,l=null,n=null,p=[[8,4368],[8,4384]],m=!1;e<d.length;){for(var h=d[e++],k=d[e++],l=d[e++],n=d[e++],m=!1,q=0,t=p.length;q<t;q++)if(h===p[q][0]&&k===p[q][1]){m=!0;break}if(m)window.console.log("Skipping ",
"("+h.toString(16)+","+k.toString(16)+")");else switch("1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==n&&(n=l),h){case 2:switch(k){case 16:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);c.transfer_syntax_uid=k.replace(/\0/g,"");break;default:e=Tf.prototype.ve(d,e,l,n)}break;case 40:switch(k){case 16:c.rows=d[e];e+=n/2;break;case 17:c.columns=d[e];e+=n/2;break;case 256:c.Yi=d[e];e+=n/2;break;case 257:c.bits_stored=d[e];e+=n/2;break;case 2:c.number_of_images=
d[e];e+=n/2;break;case 48:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.pixel_spacing=[parseFloat(k[0]),parseFloat(k[1]),Infinity];break;default:e=Tf.prototype.ve(d,e,l,n)}break;case 32:switch(k){case 14:c.series_instance_uid="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.series_instance_uid+=String.fromCharCode(h),c.series_instance_uid+=String.fromCharCode(l);break;case 19:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,
l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);c.instance_number=parseInt(k,10);break;case 50:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.image_position_patient=[parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2])];break;case 55:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.image_orientation_patient=[parseFloat(k[0]),parseFloat(k[1]),
parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4]),parseFloat(k[5])];break;default:e=Tf.prototype.ve(d,e,l,n)}break;case 24:switch(k){case 36:c.sequence_name="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.sequence_name+=String.fromCharCode(h),c.sequence_name+=String.fromCharCode(l);c.sequence_name=c.sequence_name.replace(/^[\s\xa0]+/,"");c.sequence_name=c.sequence_name.replace(/[\s\xa0]+$/,"");break;case 80:c.slice_thickness="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.slice_thickness+=
String.fromCharCode(h),c.slice_thickness+=String.fromCharCode(l);c.slice_thickness=parseFloat(c.slice_thickness);break;default:e=Tf.prototype.ve(d,e,l,n);break}case 65534:switch(k){default:n=0,e+=n/2}break;case 8:switch(k){case 24:c.sop_instance_uid="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.sop_instance_uid+=String.fromCharCode(h),c.sop_instance_uid+=String.fromCharCode(l);break;default:e=Tf.prototype.ve(d,e,l,n)}break;case 16:switch(k){case 8720:for(q=0;q<n/2;q++)e++;break;default:e=
Tf.prototype.ve(d,e,l,n)}break;default:e=Tf.prototype.ve(d,e,l,n)}}switch(c.Yi){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=new Uint32Array(c.columns*c.rows)}this.Ta=this._data.byteLength-c.columns*c.rows*2;d=null;switch(c.Yi){case 8:d=this.h("uchar",c.columns*c.rows);break;case 16:d=this.h("ushort",c.columns*c.rows);break;case 32:d=this.h("uint",c.columns*c.rows)}c.data=d;b.sa.push(c);return b};v("X.parserIMA",Tf);
v("X.parserIMA.prototype.parse",Tf.prototype.parse);var Uf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Vf(a){if(Wf){Wf=!1;var b=ba.location;if(b){var c=b.href;if(c&&(c=(c=Vf(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Wf=!0,Error();}}return a.match(Uf)}var Wf=ic;function Xf(a,b){$c.call(this);this.ug=a||1;this.Pm=b||ba;this.Jt=ua(this.HM,this);this.iv=xa()}w(Xf,$c);f=Xf.prototype;f.enabled=!1;f.P=null;f.setInterval=function(a){this.ug=a;this.P&&this.enabled?(this.stop(),this.start()):this.P&&this.stop()};
f.HM=function(){if(this.enabled){var a=xa()-this.iv;0<a&&a<.8*this.ug?this.P=this.Pm.setTimeout(this.Jt,this.ug-a):(this.P&&(this.Pm.clearTimeout(this.P),this.P=null),this.dispatchEvent(Yf),this.enabled&&(this.P=this.Pm.setTimeout(this.Jt,this.ug),this.iv=xa()))}};f.start=function(){this.enabled=!0;this.P||(this.P=this.Pm.setTimeout(this.Jt,this.ug),this.iv=xa())};f.stop=function(){this.enabled=!1;this.P&&(this.Pm.clearTimeout(this.P),this.P=null)};f.f=function(){Xf.d.f.call(this);this.stop();delete this.Pm};
var Yf="tick";function Zf(a,b,c){if(la(a))c&&(a=ua(a,c));else if(a&&"function"==typeof a.handleEvent)a=ua(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:ba.setTimeout(a,b||0)};function $f(a){return"function"==typeof a.pg?a.pg():ia(a)||r(a)?a.length:nb(a)}function ag(a){if("function"==typeof a.fi)return a.fi();if(r(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ob(a)}function bg(a){if("function"==typeof a.Zn)return a.Zn();if("function"!=typeof a.fi){if(ia(a)||r(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return pb(a)}}
function cg(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(ia(a)||r(a))E(a,b,void 0);else for(var c=bg(a),d=ag(a),e=d.length,h=0;h<e;h++)b.call(void 0,d[h],c&&c[h],a)}function dg(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ia(a)||r(a))return Fb(a,b,void 0);for(var c=bg(a),d=ag(a),e=d.length,h=0;h<e;h++)if(!b.call(void 0,d[h],c&&c[h],a))return!1;return!0};function eg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function fg(){}fg.prototype.Zy=null;function gg(a){var b;(b=a.Zy)||(b={},hg(a)&&(b[0]=!0,b[1]=!0),b=a.Zy=b);return b};var ig;function jg(){}w(jg,fg);function kg(a){return(a=hg(a))?new ActiveXObject(a):new XMLHttpRequest}function hg(a){if(!a.ZA&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.ZA=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.ZA}ig=new jg;function lg(a){this.Gb=new id;a&&this.yt(a)}function mg(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+na(a):b.substr(0,1)+a}f=lg.prototype;f.pg=function(){return this.Gb.pg()};f.add=function(a){this.Gb.set(mg(a),a)};f.yt=function(a){a=ag(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};f.Dg=function(a){a=ag(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};f.remove=function(a){return this.Gb.remove(mg(a))};f.clear=function(){this.Gb.clear()};f.ym=function(){return this.Gb.ym()};
f.contains=function(a){a=mg(a);return ld(this.Gb.Gb,a)};f.eB=function(a){var b=new lg;a=ag(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};f.fi=function(){return this.Gb.fi()};f.clone=function(){return new lg(this)};f.gm=function(a){return this.pg()==$f(a)&&ng(this,a)};
function ng(a,b){var c=$f(b);if(a.pg()>c)return!1;!(b instanceof lg)&&5<c&&(b=new lg(b));return dg(a,function(a){var c=b;return"function"==typeof c.contains?c.contains(a):"function"==typeof c.Wt?c.Wt(a):ia(c)||r(c)?Ib(c,a):qb(c,a)})};function og(a){var b;b||(b=pg(a||arguments.callee.caller,[]));return b}
function pg(a,b){var c=[];if(Ib(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(qg(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var h;h=d[e];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=qg(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");c.push(h)}b.push(a);c.push(")\n");try{c.push(pg(a.caller,b))}catch(k){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function qg(a){if(rg[a])return rg[a];a=String(a);if(!rg[a]){var b=/function ([^\(]+)/.exec(a);rg[a]=b?b[1]:"[Anonymous]"}return rg[a]}var rg={};function sg(a,b,c,d,e){this.reset(a,b,c,d,e)}sg.prototype.Kz=null;sg.prototype.Jz=null;var tg=0;sg.prototype.reset=function(a,b,c,d,e){"number"==typeof e||tg++;d||xa();this.yo=a;this.gK=b;delete this.Kz;delete this.Jz};sg.prototype.BC=function(a){this.yo=a};function ug(a){this.Xk=a;this.SA=this.Uc=this.yo=this.Ya=null}function vg(a,b){this.name=a;this.value=b}vg.prototype.toString=function(){return this.name};var wg=new vg("SEVERE",1E3),xg=new vg("CONFIG",700),yg=new vg("FINE",500);f=ug.prototype;f.getName=function(){return this.Xk};f.getParent=function(){return this.Ya};f.wu=function(){this.Uc||(this.Uc={});return this.Uc};f.BC=function(a){this.yo=a};
function zg(a){if(a.yo)return a.yo;if(a.Ya)return zg(a.Ya);fb("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=zg(this).value)for(la(b)&&(b=b()),a=this.mA(a,b,c,ug.prototype.log),b="log:"+a.gK,ba.console&&(ba.console.timeStamp?ba.console.timeStamp(b):ba.console.markTimeline&&ba.console.markTimeline(b)),ba.msWriteProfilerMark&&ba.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.SA)for(var e=0,h=void 0;h=c.SA[e];e++)h(d);b=b.getParent()}};
f.mA=function(a,b,c,d){a=new sg(a,String(b),this.Xk);if(c){a.Kz=c;var e;d=d||ug.prototype.mA;try{var h;var k=ea("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var l,n;b=!1;try{l=c.lineNumber||c.rQ||"Not available"}catch(p){l="Not available",b=!0}try{n=c.fileName||c.filename||c.sourceURL||ba.$googDebugFname||k}catch(m){n="Not available",b=!0}h=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:l,fileName:n,stack:c.stack||"Not available"}}e="Message: "+Ma(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ma(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ma(og(d)+"-> ")}catch(q){e="Exception trying to expose exception! You win, we lose. "+q}a.Jz=e}return a};f.gp=function(a){this.Ya=a};var Ag={},Bg=null;
function Cg(a){Bg||(Bg=new ug(""),Ag[""]=Bg,Bg.BC(xg));var b;if(!(b=Ag[a])){b=new ug(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Cg(a.substr(0,c));c.wu()[d]=b;b.gp(c);Ag[a]=b}return b};function Dg(a,b){a&&a.log(yg,b,void 0)};function Eg(a){$c.call(this);this.headers=new id;this.Ls=a||null;this.Vi=!1;this.Ks=this.Da=null;this.wo=this.kB=this.wr="";this.Pk=this.Vu=this.fr=this.qu=!1;this.Ap=0;this.Bs=null;this.mC=Fg;this.Gs=this.UM=!1}w(Eg,$c);var Fg="",Gg=Eg.prototype,Hg=Cg("goog.net.XhrIo");Gg.Gf=Hg;var Ig=/^https?$/i,Jg=["POST","PUT"],Kg=[];function Lg(a,b){var c=new Eg;Kg.push(c);b&&c.D("complete",b);c.mv("ready",c.nG);c.send(a,void 0,void 0,void 0)}f=Eg.prototype;f.nG=function(){this.g();Lb(Kg,this)};
f.send=function(a,b,c,d){if(this.Da)throw Error("[goog.net.XhrIo] Object is active with another request="+this.wr+"; newUri="+a);b=b?b.toUpperCase():"GET";this.wr=a;this.wo="";this.kB=b;this.qu=!1;this.Vi=!0;this.Da=this.Ls?kg(this.Ls):kg(ig);this.Ks=this.Ls?gg(this.Ls):gg(ig);this.Da.onreadystatechange=ua(this.PB,this);try{Dg(this.Gf,Mg(this,"Opening Xhr")),this.Vu=!0,this.Da.open(b,String(a),!0),this.Vu=!1}catch(e){Dg(this.Gf,Mg(this,"Error opening Xhr: "+e.message));Ng(this,e);return}a=c||"";var h=
this.headers.clone();d&&cg(d,function(a,b){h.set(b,a)});d=Gb(h.Zn());c=ba.FormData&&a instanceof ba.FormData;!Ib(Jg,b)||d||c||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");h.forEach(function(a,b){this.Da.setRequestHeader(b,a)},this);this.mC&&(this.Da.responseType=this.mC);"withCredentials"in this.Da&&(this.Da.withCredentials=this.UM);try{Og(this),0<this.Ap&&(this.Gs=Pg(this.Da),Dg(this.Gf,Mg(this,"Will abort after "+this.Ap+"ms if incomplete, xhr2 "+this.Gs)),this.Gs?(this.Da.timeout=
this.Ap,this.Da.ontimeout=ua(this.tD,this)):this.Bs=Zf(this.tD,this.Ap,this)),Dg(this.Gf,Mg(this,"Sending request")),this.fr=!0,this.Da.send(a),this.fr=!1}catch(k){Dg(this.Gf,Mg(this,"Send error: "+k.message)),Ng(this,k)}};function Pg(a){return F&&pc(9)&&u(a.timeout)&&da(a.ontimeout)}function Hb(a){return"content-type"==a.toLowerCase()}f.tD=function(){"undefined"!=typeof aa&&this.Da&&(this.wo="Timed out after "+this.Ap+"ms, aborting",Dg(this.Gf,Mg(this,this.wo)),this.dispatchEvent("timeout"),this.abort(8))};
function Ng(a,b){a.Vi=!1;a.Da&&(a.Pk=!0,a.Da.abort(),a.Pk=!1);a.wo=b;Qg(a);Rg(a)}function Qg(a){a.qu||(a.qu=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}f.abort=function(){this.Da&&this.Vi&&(Dg(this.Gf,Mg(this,"Aborting")),this.Vi=!1,this.Pk=!0,this.Da.abort(),this.Pk=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rg(this))};f.f=function(){this.Da&&(this.Vi&&(this.Vi=!1,this.Pk=!0,this.Da.abort(),this.Pk=!1),Rg(this,!0));Eg.d.f.call(this)};
f.PB=function(){this.wk||(this.Vu||this.fr||this.Pk?Sg(this):this.VK())};f.VK=function(){Sg(this)};
function Sg(a){if(a.Vi&&"undefined"!=typeof aa)if(a.Ks[1]&&4==Tg(a)&&2==Ug(a))Dg(a.Gf,Mg(a,"Local request error detected and ignored"));else if(a.fr&&4==Tg(a))Zf(a.PB,0,a);else if(a.dispatchEvent("readystatechange"),4==Tg(a)){Dg(a.Gf,Mg(a,"Request complete"));a.Vi=!1;try{var b=Ug(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var e;if(e=0===b){var h=Vf(String(a.wr))[1]||null;if(!h&&self.location)var k=self.location.protocol,
h=k.substr(0,k.length-1);e=!Ig.test(h?h.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var l;try{l=2<Tg(a)?a.Da.statusText:""}catch(n){Dg(a.Gf,"Can not get status: "+n.message),l=""}a.wo=l+" ["+Ug(a)+"]";Qg(a)}}finally{Rg(a)}}}
function Rg(a,b){if(a.Da){Og(a);var c=a.Da,d=a.Ks[0]?fa:null;a.Da=null;a.Ks=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.Gf)&&c.log(wg,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Og(a){a.Da&&a.Gs&&(a.Da.ontimeout=null);u(a.Bs)&&(ba.clearTimeout(a.Bs),a.Bs=null)}f.kh=function(){return!!this.Da};function Tg(a){return a.Da?a.Da.readyState:0}function Ug(a){try{return 2<Tg(a)?a.Da.status:-1}catch(b){return-1}}
function Mg(a,b){return b+" ["+a.kB+" "+a.wr+" "+Ug(a)+"]"};/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function M(){}v("gxnat",M);M.JPEG_CONVERT_SUFFIX="?format=image/jpeg";M.VG={projects:"proj",subjects:"subj",experiments:"expt",scans:"scans"};M.Px="?format=zip";M.li=function(a,b,c){var d=a+(-1<a.indexOf("?")?"&":"?")+"format=json";null!=c&&("&"!==c[0]&&(c="&"+c),d+=c);window.console.log("Getting XNAT json: '"+d+"'",a);M.get(d,b,"json")};
M.get=function(a,b,c){Lg(a,function(a){a=a.target;switch(c){case void 0:b(a);break;case "json":var e;e=a.Da?eg(a.Da.responseText):void 0;e.hasOwnProperty("ResultSet")?b(e.ResultSet.Result):b(e);break;case "text":try{e=a.Da?a.Da.responseText:""}catch(h){Dg(a.Gf,"Can not get responseText: "+h.message),e=""}b(e)}})};
M.Hr=function(a,b){var c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,d=/(^[ ]*|[ ]*$)/g,e=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,h=/^0x[0-9a-f]+$/i,k=/^0/,l=(M.Hr.tJ&&(""+a).toLowerCase()||""+a).replace(d,"")||"",n=(M.Hr.tJ&&(""+b).toLowerCase()||""+b).replace(d,"")||"",d=l.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),c=n.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,
"").split("\x00"),l=parseInt(l.match(h))||1!=d.length&&l.match(e)&&Date.parse(l);if(e=parseInt(n.match(h))||l&&n.match(e)&&Date.parse(n)||null){if(l<e)return-1;if(l>e)return 1}l=0;for(n=Math.max(d.length,c.length);l<n;l++){e=!(d[l]||"").match(k)&&parseFloat(d[l])||d[l]||0;h=!(c[l]||"").match(k)&&parseFloat(c[l])||c[l]||0;if(isNaN(e)!==isNaN(h))return isNaN(e)?1:-1;typeof e!==typeof h&&(e+="",h+="");if(e<h)return-1;if(e>h)return 1}return 0};
M.vM=function(a,b){var c=[],d={},e=[],h={};E(a,function(a){h=a;E(b,function(a){h=h[a]});h=h.toLowerCase();c.push(h);d[h]=a});c=c.sort(M.vQ);E(c,function(a){e.push(d[a])});return e};v("gxnat.JPEG_CONVERT_SUFFIX",M.JPEG_CONVERT_SUFFIX);v("gxnat.folderAbbrev",M.VG);v("gxnat.ZIP_SUFFIX",M.Px);v("gxnat.jsonGet",M.li);v("gxnat.get",M.get);v("gxnat.naturalSort",M.Hr);v("gxnat.sortXnatPropertiesArray",M.vM);function Vg(a){this.originalUrl=a;this.files=this.resources=this.scans=this.experiments=this.subjects=this.projects=this.prefix=null;a=a.split("/");for(var b=!0,c=0,b=0,d=a.length,c=0;c<d;c++)if(b=this.hasOwnProperty(a[c])&&a[c+1]){if("projects"===a[c]&&0!==c)for(this.prefix="",b=0;b<c;b++)this.prefix+=a[b],this.prefix=b<c-1?this.prefix+"/":this.prefix;this[a[c]]=a[c+1];c++}Wg(this)}w(Vg,wc);v("gxnat.Path",Vg);
function Xg(a){a+="/REST";0<a.length&&"/"===a[a.length-1]&&(a=a.substring(0,a.length-1));return a}function Yg(a){for(var b=0,c=Zg.length,b=0;b<c;b++)a(Zg[b],b)}function $g(a,b,c){if(-1==a.indexOf(c))throw Error("Graft folder",c,"not in prefix:",a);if(-1==a.indexOf(c))throw Error("Graft folder",c,"not in suffix:",b);return a.split(c+"/")[0]+c+b.split(c)[1]}var Zg=["projects","subjects","experiments",["scans","resources"],"files"];
function Wg(a){var b,c,d,e=!1;Yg(function(a,k){if(g(a))for(b=0,c=a.length;b<c;b++)d=a[b],null!=this[d]||e||(this.fu=Zg[k-1],e=!0);else null!=this[a]||e||(this.fu=Zg[k-1],e=!0)}.bind(a))}Vg.prototype.Kq=function(){null!=this.fu||Wg(this);return this.fu};
Vg.prototype.si=function(a){if(!this.hasOwnProperty(a))throw Error("Invalid level: ",a);for(var b=this.prefix,c="",d=0,e=0,h=Zg.length,k=0,d=0;d<h;d++){c=Zg[d];if(g(c))for(k=c.length,e=0;e<k;e++)currSubLevel=c[d][e],this[currSubLevel]&&(b+=currSubLevel+"/"+this[currSubLevel]);else b+="/"+c+"/"+this[c];if(a===c||-1<c.indexOf(a))return b}};Vg.prototype.g=function(){Vg.d.g.call(this);D(this)};v("gxnat.Path.getQueryPrefix",Xg);v("gxnat.Path.forEachXnatLevel",Yg);
v("gxnat.Path.getDeepestSharedXnatLevel",function(a,b){var c=new Vg(a),d=new Vg(b),e=void 0;Yg(function(a){c[a]&&c[a]===d[a]&&(e=a)});return e});v("gxnat.Path.graftUrl",$g);v("gxnat.Path.xnatLevelOrder",Zg);v("gxnat.Path.prototype.getDeepestLevel",Vg.prototype.Kq);v("gxnat.Path.prototype.pathByLevel",Vg.prototype.si);v("gxnat.Path.prototype.dispose",Vg.prototype.g);function ah(a){this.Op=new JSZip(a)}w(ah,wc);v("gxnat.Zip",ah);function bh(a,b,c,d){if(!Fa(a,".zip")){if(!Fa(a,"/files"))throw Error("filesUrl must end in '/files'!");a+=M.Px}var e=new XMLHttpRequest;e.open("GET",a);e.responseType="arraybuffer";e.addEventListener("load",function(){b(new ah(e.response))});null!=c&&e.addEventListener("progress",c);null!=d&&e.addEventListener("error",function(a){window.console.log("DOWNLOAD ERROR: ",a);d(e,a)});e.send()}ah.prototype.mb=function(){return this.Op.files};
ah.prototype.sv=function(a,b){var c=0,d=this.mb(),e=nb(d);C(d,function(d){d.asArrayBuffer();a(d.name,d.asArrayBuffer());c==e-1&&null!=b&&b();c++}.bind(this))};ah.prototype.g=function(){ah.d.g.call(this);this.sv(function(a){this.Op.remove(a)}.bind(this));D(this.Op);delete this.Op};v("gxnat.Zip.prototype.getFiles",ah.prototype.mb);v("gxnat.Zip.prototype.loopFiles",ah.prototype.sv);v("gxnat.Zip.getFilesAsZip",bh);v("gxnat.Zip.prototype.dispose",ah.prototype.g);v("gxnat.slicerNode",function(){});
function ch(a){a=a.getAttribute("displayNodeRef").split(" ");for(var b=[],c="",d=0,e=a.length;d<e;d++){c=a[d].replace("vtkMRML","").split("Node")[0];switch(c){case "ScalarVolumeDisplay":c="VolumeDisplay";break;case "DiffusionTensorVolumeDisplay":c="DiffusionTensorVolumeDisplay";break;case "NCIRayCastVolumeRenderingDisplay":c="NCIRayCastVolumeRendering";break;case "GPURayCastVolumeRenderingDisplay":c="GPURayCastVolumeRendering";break;case "FiberBundleTubeDisplay":c="FiberBundleTubeDisplayNode";break;
case "FiberBundleLineDisplay":c="FiberBundleLineDisplayNode";break;case "FiberBundleGlyphDisplay":c="FiberBundleGlyphDisplayNode"}b.push(c)}return b}function dh(a){if(null!=a)return a.split(" ").map(function(a){return parseFloat(a)})}v("gxnat.slicerNode.getDisplayNodeTypes",ch);v("gxnat.slicerNode.toFloatArray",dh);function eh(){na(this)}v("gxnat.slicerNode.Node",eh);function fh(a,b){na(this);var c=b.getAttribute("displayNodeRef").split(" "),d=[],e=null;E(ch(b),function(b){E(a.getElementsByTagName(b),function(a){d.push(a)})});for(var h=0,k=d.length;h<k;h++)if(-1<c.indexOf(d[h].getAttribute("id"))){e=d[h];break}this.Qn=e;this.opacity=parseFloat(e.getAttribute("opacity"),10);this.color=dh(e.getAttribute("color"));this.visible="true"===e.getAttribute("visibility");this.origin=dh(a.getAttribute("origin"));e.getAttribute("colorMode");a.getAttribute("ijkToRASDirections")}
w(fh,eh);v("gxnat.slicerNode.Display",fh);function gh(a,b){fh.call(this,a,b)}w(gh,fh);v("gxnat.slicerNode.Mesh",gh);function hh(a,b){this.width=a;this.height=b}function ih(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}f=hh.prototype;f.clone=function(){return new hh(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.ym=function(){return!(this.width*this.height)};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.scale=function(a,b){var c=u(b)?b:a;this.width*=a;this.height*=c;return this};function jh(a,b){if(a instanceof jh)this.yd=a.Vw();else{var c;if(c=ia(a))a:{for(var d=c=0;d<a.length;d++){if(!ia(a[d])||0<c&&a[d].length!=c){c=!1;break a}for(var e=0;e<a[d].length;e++)if(!u(a[d][e])){c=!1;break a}0==c&&(c=a[d].length)}c=0!=c}if(c)this.yd=Nb(a);else if(a instanceof hh)this.yd=kh(a.height,a.width);else if(u(a)&&u(b)&&0<a&&0<b)this.yd=kh(a,b);else throw Error("Invalid argument(s) for Matrix contructor");}this.Id=new hh(this.yd[0].length,this.yd.length)}
function lh(a,b,c){for(var d=0;d<a.tj().height;d++)for(var e=0;e<a.tj().width;e++)b.call(c,a.yd[d][e],d,e,a)}function mh(a,b){var c=new jh(a.tj());lh(a,function(d,e,h){c.yd[e][h]=b.call(void 0,d,e,h,a)});return c}function kh(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}f=jh.prototype;f.add=function(a){if(!ih(this.Id,a.tj()))throw Error("Matrix summation is only supported on arrays of equal size");return mh(this,function(b,c,d){return b+a.yd[c][d]})};
f.gm=function(a,b){if(this.Id.width!=a.Id.width||this.Id.height!=a.Id.height)return!1;for(var c=b||0,d=0;d<this.Id.height;d++)for(var e=0;e<this.Id.width;e++)if(!(Math.abs(this.yd[d][e]-a.yd[d][e])<=(c||1E-6)))return!1;return!0};f.tj=function(){return this.Id};
f.multiply=function(a){if(a instanceof jh){if(this.Id.width!=a.tj().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return nh(this,a)}if(u(a))return oh(this,a);throw Error("A matrix can only be multiplied by a number or another matrix.");};f.Pc=function(a){if(!ih(this.Id,a.tj()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return mh(this,function(b,c,d){return b-a.yd[c][d]})};
f.Vw=function(){return this.yd};f.toString=function(){var a=0;lh(this,function(b){b=String(b).length;b>a&&(a=b)});var b=[];E(this.yd,function(c){b.push("[ ");E(c,function(c){c=String(c);b.push(Array(a-c.length+1).join(" ")+c+" ")});b.push("]\n")});return b.join("")};function ph(a,b,c){return 0<=b&&b<a.Id.height&&0<=c&&c<a.Id.width}
function nh(a,b){var c=new jh(a.Id.height,b.tj().width);lh(c,function(a,e,h){for(var k=a=0;k<this.Id.width;k++)a+=(ph(this,e,k)?this.yd[e][k]:0)*(ph(b,k,h)?b.yd[k][h]:0);if(!ph(c,e,h))throw Error("Index out of bounds when setting matrix value, ("+e+","+h+") in size ("+c.Id.height+","+c.Id.width+")");c.yd[e][h]=a},a);return c}function oh(a,b){return mh(a,function(a){return a*b})};function qh(a,b,c){fh.call(this,a,b);for(var d=0,e,h,k,l;3>d;d++)switch(e=a.getElementsByTagName("Slice")[d].getAttribute("sliceToRAS").split(" ").map(parseFloat),sliceToRASMatrix=mh(new jh(4,4),function(a,b,c){return e[4*b+c]}),d){case 0:h=sliceToRASMatrix;break;case 1:k=sliceToRASMatrix;break;case 2:l=sliceToRASMatrix}this.Gw=new rh(k,l,h);b=c!==b.getAttribute("id")?!1:!0;c=!1;if(b)for(a=a.getElementsByTagName("Slice"),d=0,h=a.length;d<h&&!(c="true"===a[d].getAttribute("sliceVisibility")||!1);d++);
this.qr=b;this.Fs=this.Qn?parseInt(this.Qn.getAttribute("upperThreshold")):null;this.zr=this.Qn?parseInt(this.Qn.getAttribute("lowerThreshold")):null;this.visible=c}w(qh,fh);v("gxnat.slicerNode.Volume",qh);function rh(a,b,c){var d=new jh([[0],[0],[0],[1]]);E([a,b,c],function(a,b){var c=a.multiply(d).Vw(),c=[c[0][0],c[1][0],c[2][0]];switch(b){case 0:this.WL=c;break;case 1:this.qG=c;break;case 2:this.gG=c}}.bind(this))}v("gxnat.slicerNode.Volume.sliceToRAS",rh);v("nrg.string",function(){});function sh(a){if(void 0!=a)return a.replace(/\\/g,"/").replace(/.*\//,"")}function th(a){if(void 0!=a)return a.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function uh(a){if(null!=a)return a="array"==ha(a)?a[0]:a,a=a.slice(a.lastIndexOf(".")+1),"gz"==a&&(a="nii."+a),a.toLowerCase()}function vh(a){return a.replace(/\W/g,"")}function wh(a,b){var c=a.toLowerCase().replace(/\.|_/g,"-");null!=b&&(c+="-"+b.toLowerCase().replace(/\.|_/g,"-"));return c}
function xh(a){return"rgb("+a.split(" ").map(function(a){return Math.round(255*parseFloat(a))}).toString()+")"}v("nrg.string.basename",sh);v("nrg.string.dirname",th);v("nrg.string.getFileExtension",uh);v("nrg.string.fileNameMatch",function(a,b){return sh(a)===sh(b)});v("nrg.string.stripNonAlphanumeric",vh);v("nrg.string.stripIllegal",function(a){return a.replace(/[|&;$%@"<>()+,]/g,"")});v("nrg.string.getLettersOnly",function(a){return vh(a).replace(/[0-9]/g,"")});
v("nrg.string.replaceIllegal",function(a,b){if("string"!==typeof a)throw Error("Illegal value "+typeof a+" in argument of nrg.string.replaceIllegal .");void 0===b&&(b="");var c=a.replace(/\/./g,b);return c=c.replace(/[|&;$%@"<>()+,]/g,b)});v("nrg.string.truncateString",function(a,b){b=void 0===b?30:b;return a.length>b?a.substring(0,b-3)+"...":a});v("nrg.string.makeCssName",wh);v("nrg.string.mrmlColorToRgb",xh);function yh(a,b){na(this);this.backgroundColor=xh(a);this.Uy=xh(b)}w(yh,eh);v("gxnat.slicerNode.BackgroundColor",yh);function zh(a,b,c,d,e,h,k,l){na(this);this.element=a;this.pq=b;this.backgroundColor=c;this.lB=d;this.Cn=e;this.TM=h;this.YJ=k;this.PG=l}w(zh,eh);v("gxnat.slicerNode.SceneView",zh);M.bd={};function Ah(a){wc.call(this);a instanceof zh?(this.Cn=a.Cn,this.pq=a.pq,this.backgroundColor=a.backgroundColor,this.lB=a.lB):a instanceof qh?(this.origin=a.origin||[0,0,0],this.Fs=a.Fs||1E4,this.zr=a.zr||-1E4,this.hx=a.hx||!1,this.qr=a.qr||!1,this.Gw=a.Gw||null,a.nh&&(this.iB=a.labelMapFile,this.IJ=a.colorTableFile)):a instanceof gh&&(this.color=a.color||[.5,.5,.5],this.opacity=a.opacity||1)}w(Ah,wc);v("gxnat.vis.RenderProperties",Ah);Ah.prototype.g=function(){Ah.d.g.call(this);D(this)};
v("gxnat.vis.RenderProperties.prototype.dispose",Ah.prototype.g);M.bd.dd=function(){wc.call(this)};w(M.bd.dd,wc);v("gxnat.vis.VisNode",M.bd.dd);f=M.bd.dd.prototype;f.uf="Generic";f.Im=function(a){this.uf=a};f.aH=function(){return this.uf};f.ml="";f.yi=function(a){this.ml=a};f.BI=function(){return this.ml};f.Rb=null;f.Cc=function(a){this.Rb=a};f.$b=function(){return this.Rb};f.pp=null;f.Aw=function(a){this.pp=a};f.sI=function(){return this.pp};
f.g=function(){M.bd.dd.d.g.call(this);this.uf&&delete this.uf;this.ml&&delete this.ml;this.Rb&&delete this.Rb;this.pp&&delete this.pp};v("gxnat.vis.VisNode.prototype.setCategory",M.bd.dd.prototype.Im);v("gxnat.vis.VisNode.prototype.getCategory",M.bd.dd.prototype.aH);v("gxnat.vis.VisNode.prototype.setThumbnailUrl",M.bd.dd.prototype.yi);v("gxnat.vis.VisNode.prototype.getThumbnailUrl",M.bd.dd.prototype.BI);v("gxnat.vis.VisNode.prototype.setTitle",M.bd.dd.prototype.Cc);
v("gxnat.vis.VisNode.prototype.getTitle",M.bd.dd.prototype.$b);v("gxnat.vis.VisNode.prototype.setSourceInfo",M.bd.dd.prototype.Aw);v("gxnat.vis.VisNode.prototype.getSourceInfo",M.bd.dd.prototype.sI);v("gxnat.vis.VisNode.prototype.dispose",M.bd.dd.prototype.g);function Bh(a){M.bd.dd.call(this);this.Md=a||null}w(Bh,M.bd.dd);v("gxnat.vis.Renderable",Bh);Bh.prototype.zw=function(a){this.Md=a instanceof Ah?a:new Ah(a)};Bh.prototype.lI=function(){return this.Md};Bh.prototype.g=function(){Bh.d.g.call(this);this.Md&&(this.Md.g(),delete this.Md)};v("gxnat.vis.Renderable.prototype.setRenderProperties",Bh.prototype.zw);v("gxnat.vis.Renderable.prototype.getRenderProperties",Bh.prototype.lI);v("gxnat.vis.Renderable.prototype.dispose",Bh.prototype.g);function Ch(a,b){Bh.call(this,b);this.rj=a||[];null!=b&&this.zw(b)}w(Ch,Bh);v("gxnat.vis.Viewable",Ch);f=Ch.prototype;f.ci=null;f.rH=function(){return this.ci};f.eM=function(a){return this.ci=a};
f.vC=function(a,b,c){null!=this.ci&&D(this.ci);this.ci={};var d=this.mb();E(d,function(a){this.ci[a]=null}.bind(this));var e,h,k;a.sv(function(a,b){p=0;for(m=d.length;p<m;p++)if(k=a.split("/"),h=k[k.length-1],"."!=h[0]&&(e=d[p],Fa(e,h)))if(null!=c)for(var p=0,m=c.length;p<m;p++)Fa(e,c[p])&&(this.ci[e]=b,p=m);else{this.ci[e]=b;break}}.bind(this),b);a.g()};f.mb=function(){return this.rj};f.NL=function(a){window.XP.log("REMOVING FILE",a);Lb(this.rj,a)};
f.sf=function(a,b){null==this.rj&&(this.rj=[]);g(a)||(a=[a]);E(a,function(a){null!=b&&null==b(a)||this.rj.push(a)}.bind(this))};f.g=function(){Ch.d.g.call(this);this.rj&&(Jb(this.rj),delete this.rj)};v("gxnat.vis.Viewable.prototype.getFileData",Ch.prototype.rH);v("gxnat.vis.Viewable.prototype.setFileData",Ch.prototype.eM);v("gxnat.vis.Viewable.prototype.setFileDataFromZip",Ch.prototype.vC);v("gxnat.vis.Viewable.prototype.getFiles",Ch.prototype.mb);v("gxnat.vis.Viewable.prototype.removeFile",Ch.prototype.NL);
v("gxnat.vis.Viewable.prototype.addFiles",Ch.prototype.sf);v("gxnat.vis.Viewable.prototype.dispose",Ch.prototype.g);function Dh(a){Bh.call(this);null!=a?g(a)||(a=[a]):a=[];this.pa=a}w(Dh,Bh);v("gxnat.vis.ViewableGroup",Dh);Dh.prototype.Bt=function(a){return this.pa.push(a)};Dh.prototype.WG=function(){var a=[];E(this.pa,function(b){a=Mb(a,b.mb())});return a};Dh.prototype.EA=function(){return this.pa};Dh.prototype.g=function(){Dh.d.g.call(this);E(this.pa,function(a){g(a)?E(a,function(a){a.g()}):a instanceof Ch&&a.g()});delete this.pa};v("gxnat.vis.ViewableGroup.prototype.addViewable",Dh.prototype.Bt);
v("gxnat.vis.ViewableGroup.prototype.getAllViewableFiles",Dh.prototype.WG);v("gxnat.vis.ViewableGroup.prototype.getViewables",Dh.prototype.EA);v("gxnat.vis.ViewableGroup.prototype.dispose",Dh.prototype.g);function Eh(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function O(a,b){var c=Eh(a),d=Pb(arguments,1),e=c.length+d.length;Fh(c,d);a.className=c.join(" ");return c.length==e}function Gh(a,b){var c=Eh(a),d=Pb(arguments,1),e=Hh(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function Fh(a,b){for(var c=0;c<b.length;c++)Ib(a,b[c])||a.push(b[c])}function Hh(a,b){return Cb(a,function(a){return!Ib(b,a)})}
function Ih(a,b,c){var d=Eh(a);r(b)?Lb(d,b):g(b)&&(d=Hh(d,b));r(c)&&!Ib(d,c)?d.push(c):g(c)&&Fh(d,c);a.className=d.join(" ")}function Jh(a){var b=Kh.CSS.Os;return Ib(Eh(a),b)};var Lh=!F||qc(9),Mh=!hc&&!F||F&&qc(9)||hc&&pc("1.9.1"),Nh=F&&!pc("9");function Oh(a,b){this.x=da(a)?a:0;this.y=da(b)?b:0}f=Oh.prototype;f.clone=function(){return new Oh(this.x,this.y)};f.toString=function(){return"("+this.x+", "+this.y+")"};function Ph(a,b){return new Oh(a.x-b.x,a.y-b.y)}f.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};f.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};f.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
f.translate=function(a,b){a instanceof Oh?(this.x+=a.x,this.y+=a.y):(this.x+=a,u(b)&&(this.y+=b));return this};f.scale=function(a,b){var c=u(b)?b:a;this.x*=a;this.y*=c;return this};function Qh(a){return a?new Rh(Th(a)):Ca||(Ca=new Rh)}function Uh(a){return r(a)?document.getElementById(a):a}function Vh(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):Wh(document,"*",a,b)}function Xh(a,b){var c=b||document,d=null;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Wh(document,"*",a,b)[0])||null}
function Wh(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,h=0,k;k=a[h];h++)b==k.nodeName&&(d[e++]=k);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(h=e=0;k=a[h];h++)b=k.className,"function"==typeof b.split&&Ib(b.split(/\s+/),c)&&(d[e++]=k);d.length=e;return d}return a}
function Yh(a,b){C(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Zh?a.setAttribute(Zh[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Zh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function $h(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new hh(a.clientWidth,a.clientHeight)}function ai(a){return ic||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function bi(a){return a?a.parentWindow||a.defaultView:window}function Q(a,b,c){return ci(document,arguments)}
function ci(a,b){var c=b[0],d=b[1];if(!Lh&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ma(d.name),'"');if(d.type){c.push(' type="',Ma(d.type),'"');var e={};xb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(r(d)?c.className=d:g(d)?c.className=d.join(" "):Yh(c,d));2<b.length&&di(a,c,b,2);return c}function di(a,b,c,d){function e(c){c&&b.appendChild(r(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var h=c[d];!ia(h)||ma(h)&&0<h.nodeType?e(h):E(ei(h)?Nb(h):h,e)}}
function R(a,b){di(Th(a),a,arguments,1)}function fi(a){for(var b;b=a.firstChild;)a.removeChild(b)}function gi(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function hi(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function S(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function ii(a){return Mh&&void 0!=a.children?a.children:Cb(a.childNodes,function(a){return 1==a.nodeType})}function ji(a){return void 0!=a.firstElementChild?a.firstElementChild:ki(a.firstChild)}
function li(a){return void 0!=a.nextElementSibling?a.nextElementSibling:ki(a.nextSibling)}function ki(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function mi(a){return ma(a)&&1==a.nodeType}function ni(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Th(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function oi(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else fi(a),a.appendChild(Th(a).createTextNode(String(b)))}var pi={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},qi={IMG:" ",BR:"\n"};function ri(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}function si(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}
function ti(a){a=a.tabIndex;return u(a)&&0<=a&&32768>a}function ui(a){if(Nh&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];vi(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Nh||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function wi(a){var b=[];vi(a,b,!1);return b.join("")}
function vi(a,b,c){if(!(a.nodeName in pi))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in qi)b.push(qi[a.nodeName]);else for(a=a.firstChild;a;)vi(a,b,c),a=a.nextSibling}function ei(a){if(a&&"number"==typeof a.length){if(ma(a))return"function"==typeof a.item||"string"==typeof a.item;if(la(a))return"function"==typeof a.item}return!1}
function xi(a){var b=yi.cd;return zi(a,function(a){return"DIV"==a.nodeName&&(!b||r(a.className)&&Ib(a.className.split(/\s+/),b))})}function zi(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Rh(a){this.la=a||ba.document||document}f=Rh.prototype;f.O=Qh;function Ai(a){return a.la}f.a=function(a){return r(a)?this.la.getElementById(a):a};f.ND=Rh.prototype.a;f.B=function(a,b,c){return ci(this.la,arguments)};f.createElement=function(a){return this.la.createElement(a)};
f.createTextNode=function(a){return this.la.createTextNode(String(a))};function Bi(a){return"CSS1Compat"==a.la.compatMode}function Ci(a){a=a.la;return a.parentWindow||a.defaultView}function Di(a){var b=a.la;a=ai(b);b=b.parentWindow||b.defaultView;return F&&pc("10")&&b.pageYOffset!=a.scrollTop?new Oh(a.scrollLeft,a.scrollTop):new Oh(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}f.appendChild=function(a,b){a.appendChild(b)};f.Zu=gi;f.removeNode=S;f.wu=ii;f.dA=ji;f.contains=ni;
f.ji=function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!si(a)||ti(a)):si(a)&&ti(a))&&F?(a=la(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},a=null!=a&&0<a.height&&0<a.width):a=b;return a};function Ei(a){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(a,"application/xml");if("undefined"!=typeof ActiveXObject){var b=new ActiveXObject("MSXML2.DOMDocument");if(b){b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",2048),b.setProperty("MaxElementDepth",256)}catch(c){}}b.loadXML(a);return b}throw Error("Your browser does not support loading xml documents");};function Fi(){M.bd.dd.call(this);this.ib=[]}w(Fi,M.bd.dd);v("gxnat.vis.ViewableTree",Fi);function Gi(a,b,c){this.KL=a;this.yM=b;this.NG=c}v("gxnat.vis.ViewableTree.metadataCollection",Gi);f=Fi.prototype;f.Yr=null;f.Mm=null;f.jm=null;f.orientation=null;f.Zb=function(){return this.orientation};f.hp=function(a){this.Yr=a};f.jp=function(a){this.Mm=a};f.dp=function(a){this.jm=a};f.MI=function(){return this.ib};
f.g=function(){Fi.d.g.call(this);null!=this.Yr&&(D(this.Yr),delete this.EQ);null!=this.Mm&&(D(this.Mm),delete this.PQ);null!=this.jm&&(D(this.jm),delete this.eQ);null!=this.ib&&(E(this.ib,function(a){a.g()}),delete this.ib);null!=this.sD&&Jb(this.sD);delete this.sD;delete this.orientation};v("gxnat.vis.ViewableTree.metadataCollection",Gi);v("gxnat.vis.ViewableTree.prototype.projectMetadata",Fi.prototype.Yr);v("gxnat.vis.ViewableTree.prototype.subjectMetadata",Fi.prototype.Mm);
v("gxnat.vis.ViewableTree.prototype.experimentMetadata",Fi.prototype.jm);v("gxnat.vis.ViewableTree.prototype.orientation",Fi.prototype.orientation);v("gxnat.vis.ViewableTree.prototype.getOrientation",Fi.prototype.Zb);v("gxnat.vis.ViewableTree.prototype.setProjectMetadata",Fi.prototype.hp);v("gxnat.vis.ViewableTree.prototype.setSubjectMetadata",Fi.prototype.jp);v("gxnat.vis.ViewableTree.prototype.setExperimentMetadata",Fi.prototype.dp);v("gxnat.vis.ViewableTree.prototype.getViewableGroups",Fi.prototype.MI);
v("gxnat.vis.ViewableTree.prototype.dispose",Fi.prototype.g);function Hi(a,b,c){Fi.call(this);this.Im(a);null!=c&&null!=b&&(this.Dk=c,this.ti="ExperimentResources"!=a?$g(this.Dk,b.URI,"experiments"):this.Dk+"/resources/"+b.xnat_abstractresource_id,this.yl=new Vg(this.ti));this.so=b;this.Ac={}}w(Hi,Fi);v("gxnat.vis.AjaxViewableTree",Hi);var Ii={ID:"Scan ID",Name:"Name",type:"Scan Type",series_description:"Series Description"},Ji={yob:"Year of Birth",acquisition_site:"Acq. Site",date:"Date",scanner:"Scanner",label:"Subject"},Ki={label:"Session"};
function Li(a,b,c){M.li(a,function(a){g(a);E(a,function(a){b(a)});c&&c()})}f=Hi.prototype;f.di=null;f.og=!1;f.wC=function(a,b){null==this.di&&(this.di={});this.di[a]=b};f.AA=function(){var a=0;C(this.di,function(b,c){a+=this.cA(c)}.bind(this));return a};f.cA=function(a){return parseInt(this.di[a].Size,10)};f.sH=function(){return this.di};f.uH=function(){return this.og};f.xC=function(a){this.og=a};f.oH=function(){return this.Dk};f.kI=function(){return this.ti};f.pI=function(){return this.Ac};
f.Hu=function(){var a="";C(this.Ac,function(b,c){null!=b&&0<b.length&&(a+=c+": "+b+"<br>")});return a};f.NC=function(a){this.Ac=a};f.wh=function(){C(Ii,function(a,b){null!=this.so[b]&&(this.Ac[a]=this.so[b])}.bind(this))};f.hp=function(a){Hi.d.hp.call(this,a)};f.jp=function(a){Hi.d.jp.call(this,a);C(Ji,function(a,c){null!=this.Mm[c]&&(this.Ac[a]=this.Mm[c])}.bind(this))};f.dp=function(a){Hi.d.dp.call(this,a);C(Ki,function(a,c){null!=this.jm[c]&&(this.Ac[a]=this.jm[c])}.bind(this))};f.vH=function(){return this.Fk};
f.Bm=function(a){a=a[this.qj];if(!Ea(a,"/"))return this.ti+"!"+a};f.hh=function(a){if(this.og)a();else{var b=0,c=0,d="",e;M.li(this.ti+this.lm,function(h){for(c=h.length;b<c;b++)if(e=h[b],d=this.Bm(e))this.wC(d,e),this.sf(d,this.zf);a();this.og=!0}.bind(this))}};f.zf=function(a){return-1<a.indexOf("_MACOSX")?null:a};f.Jk=function(){};function Mi(a,b,c,d){var e=new Vg(a);Li(a+"/"+b.prototype.Fk,function(a){new b(a,e.si("experiments"),c)},d)}
f.g=function(){Hi.d.g.call(this);null!=this.di&&(D(this.di),delete this.di);delete this.og;D(this.Ac);delete this.Ac;null!=this.so&&(D(this.so),delete this.so);null!=this.yl&&(this.yl.g(),delete this.yl);delete this.Dk;delete this.ti};v("gxnat.vis.AjaxViewableTree.VIEWABLE_KEY_MAP",Ii);v("gxnat.vis.AjaxViewableTree.SUBJECT_KEY_MAP",Ji);v("gxnat.vis.AjaxViewableTree.EXPERIMENT_KEY_MAP",Ki);v("gxnat.vis.AjaxViewableTree.FILE_SIZE_KEY","Size");v("gxnat.vis.AjaxViewableTree.loopFolderContents",Li);
v("gxnat.vis.AjaxViewableTree.getViewableTrees",Mi);v("gxnat.vis.AjaxViewableTree.prototype.filesGotten",Hi.prototype.og);v("gxnat.vis.AjaxViewableTree.prototype.setFileMetadata",Hi.prototype.wC);v("gxnat.vis.AjaxViewableTree.prototype.getTotalSize",Hi.prototype.AA);v("gxnat.vis.AjaxViewableTree.prototype.getFileSize",Hi.prototype.cA);v("gxnat.vis.AjaxViewableTree.prototype.getFileMetadata",Hi.prototype.sH);v("gxnat.vis.AjaxViewableTree.prototype.getFilesGotten",Hi.prototype.uH);
v("gxnat.vis.AjaxViewableTree.prototype.setFilesGotten",Hi.prototype.xC);v("gxnat.vis.AjaxViewableTree.prototype.getExperimentUrl",Hi.prototype.oH);v("gxnat.vis.AjaxViewableTree.prototype.getQueryUrl",Hi.prototype.kI);v("gxnat.vis.AjaxViewableTree.prototype.getSessionInfo",Hi.prototype.pI);v("gxnat.vis.AjaxViewableTree.prototype.getSessionInfoAsHtml",Hi.prototype.Hu);v("gxnat.vis.AjaxViewableTree.prototype.setSessionInfo",Hi.prototype.NC);
v("gxnat.vis.AjaxViewableTree.prototype.setViewableMetadata",Hi.prototype.wh);v("gxnat.vis.AjaxViewableTree.prototype.setProjectMetadata",Hi.prototype.hp);v("gxnat.vis.AjaxViewableTree.prototype.setSubjectMetadata",Hi.prototype.jp);v("gxnat.vis.AjaxViewableTree.prototype.setExperimentMetadata",Hi.prototype.dp);v("gxnat.vis.AjaxViewableTree.prototype.getFolderQuerySuffix",Hi.prototype.vH);v("gxnat.vis.AjaxViewableTree.prototype.makeFileUrl",Hi.prototype.Bm);
v("gxnat.vis.AjaxViewableTree.prototype.getFileList",Hi.prototype.hh);v("gxnat.vis.AjaxViewableTree.prototype.fileFilter",Hi.prototype.zf);v("gxnat.vis.AjaxViewableTree.prototype.getThumbnailImage",Hi.prototype.Jk);v("gxnat.vis.AjaxViewableTree.prototype.dispose",Hi.prototype.g);function Ni(a,b,c){Hi.call(this,"ExperimentResources",a,b);this.Ac.Name=a.label;this.Nz=eval("(function(fileName) { "+Oi(this)+"})");this.yi(serverRoot+"/images/viewer/xiv/ui/Thumbnail/silhouette.png");c&&c(this)}w(Ni,Hi);v("gxnat.vis.ExperimentResource",Ni);var Pi=["dcm","dicom","nii.gz","nii"];f=Ni.prototype;f.Fk="resources";f.lm="/files";f.qj="URI";f.wh=function(){Ni.d.wh.call(this)};
function Oi(a){var b=projNode.experimentResourceFilters;if(null!=b){var c="if (",d;for(d in b){var e=eval("(function(name){return name.match("+d+')})("'+a.Ac.Name+'")');if(b.hasOwnProperty(d)&&e&&e==a.Ac.Name)for(e=0;e<b[d].length;e++)4<c.length&&(c+=" || "),c+="(fileName.match(",c+=b[d][e],c+="))"}c+=") return fileName;";if(0<=c.indexOf("(fileName.match("))return c}return"return null;"}
f.hh=function(a){this.og?a():(M.get(this.yl.originalUrl+"?format=xml",function(b){try{var c=Ei(b),d=c.getElementsByTagName("entry");if(null==d||1>d.length)if(d=c.getElementsByTagName("cat:entry"),null==d||1>d.length){this.og=!0;return}for(b=0;b<d.length;b++){var e=d[b].getAttribute("URI"),h=this.yl.originalUrl+"/files/"+e;null!=h&&this.sf(h,this.zf)}this.og=!0;a()}catch(k){console.log(k)}}.bind(this),"text"),this.wh())};
f.zf=function(a){a=Ni.d.zf.call(this,a);if(null!=a){for(var b=0,c=Pi.length;b<c;b++)if(Fa(a,"."+Pi[b]))return this.Nz(a),this.Nz(a);return null}};
f.Cu=function(a){a=a.split("/");for(var b=0;b<a.length;b++)if("files"==a[b]){var c="";if(-1!=a[a.length-1].toLowerCase().indexOf("nii"))for(b+=1;b<a.length;b++)c=""!=c?c+"/"+a[b]:a[b];break}void 0==c&&(c="experimentResource");for(b=0;b<this.ib.length;b++)if(this.ib[b].$b()==c)return this.ib[b];a=new Dh;a.Aw(this.Ac.Name);a.Cc(c);a.Im("experimentResources");a.yi("NONE");this.ib.push(a);return a};
f.sf=function(a){this.Im("Experiment Resources");E(a.split(","),function(b){b=this.zf(b);null!=b&&(b=this.Cu(b),0==b.pa.length&&b.Bt(new Ch),b.pa[0].sf(a))},this);this.ib.sort(function(a,c){var d=!1,e=!1,h=!1,k=!1;0<a.pa.length&&0<a.pa[0].mb().length&&(0<=a.pa[0].mb()[0].toLowerCase().indexOf(".dcm")||0<=a.pa[0].mb()[0].toLowerCase().indexOf(".dcm")?d=!0:0<=a.pa[0].mb()[0].toLowerCase().indexOf(".nii")&&(e=!0));0<c.pa.length&&0<c.pa[0].mb().length&&(0<=c.pa[0].mb()[0].toLowerCase().indexOf(".dcm")||
0<=c.pa[0].mb()[0].toLowerCase().indexOf(".dcm")?h=!0:0<=c.pa[0].mb()[0].toLowerCase().indexOf(".nii")&&(k=!0));d=(d?9:0)+(e?5:0)+(a.$b()<c.$b()?1:-1);return(h?9:0)+(k?5:0)-d})};f.Bm=function(a){return $g(this.Dk,a[this.qj],"experiments")};f.g=function(){Ni.d.g.call(this);null!=this.Kf&&D(this.Kf);delete this.Kf};v("gxnat.vis.ExperimentResource.acceptableFileTypes",Pi);v("gxnat.vis.ExperimentResource.prototype.folderQuerySuffix",Ni.prototype.Fk);
v("gxnat.vis.ExperimentResource.prototype.fileQuerySuffix",Ni.prototype.lm);v("gxnat.vis.ExperimentResource.prototype.fileContentsKey",Ni.prototype.qj);v("gxnat.vis.ExperimentResource.prototype.setViewableMetadata",Ni.prototype.wh);v("gxnat.vis.ExperimentResource.prototype.getFileList",Ni.prototype.hh);v("gxnat.vis.ExperimentResource.prototype.fileFilter",Ni.prototype.zf);v("gxnat.vis.ExperimentResource.prototype.addFiles",Ni.prototype.sf);v("gxnat.vis.ExperimentResource.prototype.makeFileUrl",Ni.prototype.Bm);
v("gxnat.vis.ExperimentResource.prototype.dispose",Ni.prototype.g);function Qi(a){this.$d=new Vg(a);this.projects=[];this[Ri]={};this[Si]={};this[Ti]={}}w(Qi,wc);v("gxnat.ProjectTree",Qi);function Ui(a){this[Vi]=r(a)?new Vg(a):a;this[Wi]=this[Vi].Kq();a=Zg.indexOf(this[Vi].Kq())+1;-1!=a&&(this[Xi]=Zg[a],r(this[Xi])&&(this[Yi]=this[Vi].originalUrl+"/"+this[Xi],this[this[Xi]]=[]))}w(Ui,wc);v("gxnat.ProjectTree.TreeNode",Ui);Ui.prototype.Cc=function(a){this.Rb=a};Ui.prototype.$b=function(){return this.Rb};
Ui.prototype.g=function(){Ui.d.g.call(this);null!=this[Vi]&&this[Vi].g();D(this)};var Wi=B(),Yi=B(),Zi=B(),Vi=B(),Xi=B(),$i=B(),aj=B(),bj=B(),Ri=B(),Si=B(),Ti=B(),cj=["ID","description","name","URI"],dj=["gender","handedness","label","URI"],ej=["label","URI"];function fj(a,b){return La(a.$b(),b.$b())}function gj(a){var b="&columns=";E(a,function(c,d){separator=",";d==a.length-1&&(separator="");b+=c+separator});return b}f=Qi.prototype;
f.Uz=function(a){var b=[];C(this.Wn(a),function(a,d){"projects"==d?void 0!=a[bj].ID?b.push(a[bj].ID):b.push(a[bj].id):b.push(a[bj].label)});return b};f.Vz=function(a){var b=[];C(this.Wn(a),function(a){b.push(a[Vi].originalUrl)});return b};f.Wn=function(a){branch={projects:this.td};"experiments"==a[Xi]?branch.subjects=a:g(a[Xi])&&(branch.subjects=this[Si][a[Vi].si("subjects")],branch.experiments=a);return branch};f.pB=function(a,b){this.Ao(this.$d,a,b)};
f.Ao=function(a,b,c){var d=r(a)?new Vg(a):a,e;if(null!=this.td){a={projects:this.td};if(null!=d.subjects){e=d.si("subjects");if(null==this[Si][e]){this.qv(e,function(a){this.rB(a,function(){null!=b&&b(a);this.Ao(d,b,c)}.bind(this))}.bind(this));return}a.subjects=this[Si][e]}if(null!=d.experiments){e=d.si("experiments");if(null==this[Ti][e]){this.pv(e,function(a){null!=b&&b(a);this.Ao(d,b,c)}.bind(this));return}a.experiments=this[Ti][e]}null!=c&&c(a)}else this.qB(function(a){null!=b&&b(a);this.Ao(d,
b,c);hj(this)}.bind(this))};function hj(a){M.get(a.td[Vi].originalUrl+"/config/experimentResources/filters?contents=true",function(a){this.td.experimentResourceFilters=a}.bind(a),"json")}f.qB=function(a){if(null==this.td){var b=gj(cj),c=this.$d.prefix+"/projects/"+this.$d.projects,d;M.li(this.$d.prefix+"/projects",function(b){d=new Ui(c);this.projects.push(d);projNode=this.td=d;this[Ri][d[Vi].originalUrl]=d;d[bj]=b[0];d.Cc(d[bj].name);a(d)}.bind(this),"&ID="+this.$d.projects+b)}};f.ao=function(a){return this[Si][a]};
f.mm=function(a){return this[Ti][a]};f.rB=function(a,b){var c=a;r(a)?c=this.ao(a):a instanceof Vg&&(c=this.ao(a.originalUrl));if(null!=c[bj])b(c);else{var d=this.$d.prefix+"/subjects",e=gj(dj),e="&ID="+c[Vi].subjects+e;M.li(d,function(a){c[bj]=a[0];c.Cc(c[bj].label);b(c)}.bind(this),e)}};
f.sB=function(a,b){if(null==this.td[$i]||!0!=this.td[$i]){var c=this.td[Vi].originalUrl+"/subjects",d=gj(dj);window.console.log("load subjects",c,d);var e,h;M.li(c,function(c){E(c,function(d){h=this.td[Vi].prefix+"/projects/"+this.td[Vi].projects+"/subjects/"+d.ID;e=this.qv(h);null==e[bj]&&(e[bj]=d,e.Cc(e[bj].label));null!=a&&a(e);this.td.subjects.length==c.length&&(this.td[$i]=!0,null!=b&&(d=this.td.subjects,d.sort(fj),b(d)))}.bind(this))}.bind(this),d)}};
f.qv=function(a,b){if(null!=this[Si][a])return this[Si][a];subjNode=new Ui(a);this.td.subjects.push(subjNode);this[Si][a]=subjNode;null!=b&&b(subjNode);return subjNode};f.nB=function(a,b){var c=a;r(a)?c=this.mm(a):a instanceof Vg&&(c=this.mm(a.originalUrl));var d=this.$d.prefix+"/experiments",e=gj(ej),e="&ID="+c[Vi].experiments+e;M.li(d,function(a){c[bj]=a[0];c.Cc(c[bj].label);b(c)}.bind(this),e)};
f.oB=function(a,b,c){var d=a;r(a)?d=this.ao(a):a instanceof Vg&&(d=this.ao(a.originalUrl));if(null!=d[$i]&&!0==d[$i])window.console.log("Don't need to reload the experiments of "+d[Vi].originalUrl);else{var e=d[Vi].originalUrl+"/experiments";M.li(e+"?xsiType=xnat:imageSessionData",function(a){E(a,function(k){this.pv(e+"/"+k.ID,function(e){null!=b&&b(e);d.experiments.length==a.length&&(d[$i]=!0,null!=c&&(e=d.experiments,e.sort(fj),c(e)))}.bind(this))}.bind(this))}.bind(this))}};
f.pv=function(a,b){null==this[Ti][a]&&(exptNode=new Ui(a),this.nB(exptNode,function(c){this[Si][c[Vi].si("subjects")].experiments.push(c);this[Ti][a]=c;null!=b&&b(c)}.bind(this)))};f.g=function(){Qi.d.g.call(this);delete this.td;this.$d.g();delete this.$d;E(this.projects,function(a){null!=a.subjects&&E(a.subjects,function(a){null!=a.experiments&&E(a.experiments,function(a){a.g()});a.g()});a.g()});D(this)};v("gxnat.ProjectTree.TreeNode",Ui);v("gxnat.ProjectTree.LEVEL_KEY",Wi);
v("gxnat.ProjectTree.NEXTLEVELQUERY_KEY",Yi);v("gxnat.ProjectTree.NEXTLEVELJSON_KEY",Zi);v("gxnat.ProjectTree.PATH_KEY",Vi);v("gxnat.ProjectTree.NEXTLEVEL_KEY",Xi);v("gxnat.ProjectTree.NEXTLEVELLOADED_KEY",$i);v("gxnat.ProjectTree.ISLOADING_KEY",aj);v("gxnat.ProjectTree.METADATA_KEY",bj);v("gxnat.ProjectTree.PROJ_DIRECT",Ri);v("gxnat.ProjectTree.SUBJ_DIRECT",Si);v("gxnat.ProjectTree.EXPT_DIRECT",Ti);v("gxnat.ProjectTree.PROJECT_METADATA",cj);v("gxnat.ProjectTree.SUBJECT_METADATA",dj);
v("gxnat.ProjectTree.EXPERIMENT_METADATA",ej);v("gxnat.ProjectTree.compareNodeTitles",fj);v("gxnat.ProjectTree.getColumnQuery",gj);v("gxnat.ProjectTree.prototype.getBranchTitles",Qi.prototype.Uz);v("gxnat.ProjectTree.prototype.getBranchUris",Qi.prototype.Vz);v("gxnat.ProjectTree.prototype.getBranchFromEndNode",Qi.prototype.Wn);v("gxnat.ProjectTree.prototype.loadInitBranch",Qi.prototype.pB);v("gxnat.ProjectTree.prototype.loadBranch",Qi.prototype.Ao);v("gxnat.ProjectTree.prototype.loadProject",Qi.prototype.qB);
v("gxnat.ProjectTree.prototype.getSubjectNodeByUri",Qi.prototype.ao);v("gxnat.ProjectTree.prototype.getExperimentNodeByUri",Qi.prototype.mm);v("gxnat.ProjectTree.prototype.loadSubjectMetadata",Qi.prototype.rB);v("gxnat.ProjectTree.prototype.loadSubjects",Qi.prototype.sB);v("gxnat.ProjectTree.prototype.loadSubject",Qi.prototype.qv);v("gxnat.ProjectTree.prototype.loadExperimentMetadata",Qi.prototype.nB);v("gxnat.ProjectTree.prototype.loadExperiments",Qi.prototype.oB);
v("gxnat.ProjectTree.prototype.loadExperiment",Qi.prototype.pv);v("gxnat.ProjectTree.prototype.dispose",Qi.prototype.g);function ij(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}f=ij.prototype;f.clone=function(){return new ij(this.top,this.right,this.bottom,this.left)};f.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};f.contains=function(a){return this&&a?a instanceof ij?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
f.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};f.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};f.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
f.translate=function(a,b){a instanceof Oh?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,u(b)&&(this.top+=b,this.bottom+=b));return this};f.scale=function(a,b){var c=u(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function jj(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=jj.prototype;f.clone=function(){return new jj(this.left,this.top,this.width,this.height)};f.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
f.eB=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};f.contains=function(a){return a instanceof jj?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
function kj(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}f.nu=function(a){return Math.sqrt(kj(this,a))};f.tj=function(){return new hh(this.width,this.height)};f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.translate=function(a,b){a instanceof Oh?(this.left+=a.x,this.top+=a.y):(this.left+=a,u(b)&&(this.top+=b));return this};
f.scale=function(a,b){var c=u(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function lj(){return ic?"Webkit":hc?"Moz":F?"ms":gc?"O":null}function mj(a,b){if(b&&a in b)return a;var c=lj();return c?(c=c.toLowerCase(),c+=db(a),!da(b)||c in b?c:null):null};function nj(a,b,c){r(b)?oj(a,c,b):C(b,va(oj,a))}function oj(a,b,c){a:if(c=bb(c),void 0===a.style[c]){var d=lj()+db(c);if(void 0!==a.style[d]){c=d;break a}}c&&(a.style[c]=b)}function pj(a,b){var c=Th(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function qj(a,b){return pj(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function rj(a){return qj(a,"position")}
function sj(a,b,c){var d,e=hc&&(cc||lc)&&pc("1.9");b instanceof Oh?(d=b.x,b=b.y):(d=b,b=c);a.style.left=tj(d,e);a.style.top=tj(b,e)}function uj(a){return new Oh(a.offsetLeft,a.offsetTop)}function vj(a){a=a?Th(a):document;return!F||qc(9)||Bi(Qh(a))?a.documentElement:a.body}
function wj(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}F&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function xj(a){if(F&&!qc(8))return a.offsetParent;var b=Th(a),c=qj(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=qj(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function yj(a){for(var b=new ij(0,Infinity,Infinity,0),c=Qh(a),d=c.la.body,e=c.la.documentElement,h=ai(c.la);a=xj(a);)if(!(F&&0==a.clientWidth||ic&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=qj(a,"overflow")){var k=zj(a),l;l=a;if(hc&&!pc("1.9")){var n=parseFloat(pj(l,"borderLeftWidth"));if(Aj(l))var p=l.offsetWidth-l.clientWidth-n-parseFloat(pj(l,"borderRightWidth")),n=n+p;l=new Oh(n,parseFloat(pj(l,"borderTopWidth")))}else l=new Oh(l.clientLeft,l.clientTop);k.x+=l.x;k.y+=l.y;b.top=Math.max(b.top,
k.y);b.right=Math.min(b.right,k.x+a.clientWidth);b.bottom=Math.min(b.bottom,k.y+a.clientHeight);b.left=Math.max(b.left,k.x)}d=h.scrollLeft;h=h.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,h);c=$h(Ci(c)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,h+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function zj(a){var b,c=Th(a),d=qj(a,"position"),e=hc&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),h=new Oh(0,0),k=vj(c);if(a==k)return h;if(a.getBoundingClientRect)b=wj(a),a=Di(Qh(c)),h.x=b.left+a.x,h.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(k),h.x=b.screenX-a.screenX,h.y=b.screenY-a.screenY;else{b=a;do{h.x+=b.offsetLeft;h.y+=b.offsetTop;b!=a&&(h.x+=b.clientLeft||0,h.y+=b.clientTop||0);
if(ic&&"fixed"==rj(b)){h.x+=c.body.scrollLeft;h.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(gc||ic&&"absolute"==d)h.y-=c.body.offsetTop;for(b=a;(b=xj(b))&&b!=c.body&&b!=k;)h.x-=b.scrollLeft,gc&&"TR"==b.tagName||(h.y-=b.scrollTop)}return h}function Bj(a,b){var c=Cj(a),d=Cj(b);return new Oh(c.x-d.x,c.y-d.y)}
function Dj(a){var b;if(a.getBoundingClientRect)b=wj(a),b=new Oh(b.left,b.top);else{b=Di(Qh(a));var c=zj(a);b=new Oh(c.x-b.x,c.y-b.y)}if(hc&&!pc(12)){b:{c=bb("transform");if(void 0===a.style[c]&&(c=lj()+db(c),void 0!==a.style[c])){c=(ic?"-webkit":hc?"-moz":F?"-ms":gc?"-o":null)+"-transform";break b}c="transform"}a=(a=qj(a,c)||qj(a,"transform"))?(a=a.match(Ej))?new Oh(parseFloat(a[1]),parseFloat(a[2])):new Oh(0,0):new Oh(0,0);a=new Oh(b.x+a.x,b.y+a.y)}else a=b;return a}
function Cj(a){if(1==a.nodeType)return Dj(a);var b=la(a.XG),c=a;a.targetTouches?c=a.targetTouches[0]:b&&a.Xc.targetTouches&&(c=a.Xc.targetTouches[0]);return new Oh(c.clientX,c.clientY)}function Fj(a,b,c){if(b instanceof hh)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");Gj(a,b);Hj(a,c)}function tj(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Hj(a,b){a.style.height=tj(b,!0)}function Gj(a,b){a.style.width=tj(b,!0)}
function U(a){var b=Ij;if("none"!=qj(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,h=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=h;c.visibility=e;return a}function Ij(a){var b=a.offsetWidth,c=a.offsetHeight,d=ic&&!b&&!c;return da(b)&&!d||!a.getBoundingClientRect?new hh(b,c):(a=wj(a),new hh(a.right-a.left,a.bottom-a.top))}function Jj(a){var b=zj(a);a=U(a);return new jj(b.x,b.y,a.width,a.height)}
function Kj(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function Lj(a,b){a.style.display=b?"":"none"}function Mj(a){F&&da(a.cssText)?a.cssText=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }":a.innerHTML=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }"}function Aj(a){return"rtl"==qj(a,"direction")}var Nj=hc?"MozUserSelect":ic?"WebkitUserSelect":null;
function Oj(a,b,c){c=c?null:a.getElementsByTagName("*");if(Nj){if(b=b?"none":"",a.style[Nj]=b,c){a=0;for(var d;d=c[a];a++)d.style[Nj]=b}}else if(F||gc)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}function Pj(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function Qj(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Pj(a,c):0}function Rj(a,b){if(F){var c=Qj(a,b+"Left"),d=Qj(a,b+"Right"),e=Qj(a,b+"Top"),h=Qj(a,b+"Bottom");return new ij(e,d,h,c)}c=pj(a,b+"Left");d=pj(a,b+"Right");e=pj(a,b+"Top");h=pj(a,b+"Bottom");return new ij(parseFloat(e),parseFloat(d),parseFloat(h),parseFloat(c))}var Sj={thin:2,medium:4,thick:6};
function Tj(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Sj?Sj[c]:Pj(a,c)}function Uj(a){if(F&&!qc(9)){var b=Tj(a,"borderLeft"),c=Tj(a,"borderRight"),d=Tj(a,"borderTop");a=Tj(a,"borderBottom");return new ij(d,c,a,b)}b=pj(a,"borderLeftWidth");c=pj(a,"borderRightWidth");d=pj(a,"borderTopWidth");a=pj(a,"borderBottomWidth");return new ij(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Ej=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Vj(a){wc.call(this);this.nd=a;this.rb={}}w(Vj,wc);var Wj=[];f=Vj.prototype;f.D=function(a,b,c,d){g(b)||(b&&(Wj[0]=b.toString()),b=Wj);for(var e=0;e<b.length;e++){var h=G(a,b[e],c||this.handleEvent,d||!1,this.nd||this);if(!h)break;this.rb[h.key]=h}return this};f.mv=function(a,b,c,d){return Xj(this,a,b,c,d)};function Xj(a,b,c,d,e,h){if(g(c))for(var k=0;k<c.length;k++)Xj(a,b,c[k],d,e,h);else{b=Tc(b,c,d||a.handleEvent,e,h||a.nd||a);if(!b)return a;a.rb[b.key]=b}return a}
f.Ab=function(a,b,c,d,e){if(g(b))for(var h=0;h<b.length;h++)this.Ab(a,b[h],c,d,e);else c=c||this.handleEvent,e=e||this.nd||this,c=Nc(c),d=!!d,b=hb(a)?a.$n(b,c,d,e):a?(a=Pc(a))?a.$n(b,c,d,e):null:null,b&&(Vc(b),delete this.rb[b.key]);return this};f.Dg=function(){C(this.rb,Vc);this.rb={}};f.f=function(){Vj.d.f.call(this);this.Dg()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Yj(){}ga(Yj);Yj.prototype.IB=0;function Zj(a){$c.call(this);this.wb=a||Qh();this.th=ak;this.Cf=null;this.ma=!1;this.q=null;this.uj=void 0;this.ig=this.Uc=this.Ya=this.xv=null;this.GD=!1}w(Zj,$c);Zj.prototype.lJ=Yj.ue();var ak=null;
function bk(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}function ck(a){return a.Cf||(a.Cf=":"+(a.lJ.IB++).toString(36))}function dk(a,b){a.Ya&&a.Ya.ig&&(tb(a.Ya.ig,a.Cf),ub(a.Ya.ig,b,a));a.Cf=b}f=Zj.prototype;f.a=function(){return this.q};
f.nb=function(){this.uj||(this.uj=new Vj(this));return this.uj};f.fp=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Ya&&this.Cf&&ek(this.Ya,this.Cf)&&this.Ya!=a)throw Error("Unable to set parent component");this.Ya=a;Zj.d.xw.call(this,a)};f.getParent=function(){return this.Ya};f.xw=function(a){if(this.Ya&&this.Ya!=a)throw Error("Method not supported");Zj.d.xw.call(this,a)};f.O=function(){return this.wb};f.B=function(){this.q=this.wb.createElement("div")};f.k=function(a){this.sh(a)};
f.sh=function(a,b){if(this.ma)throw Error("Component already rendered");this.q||this.B();a?a.insertBefore(this.q,b||null):this.wb.la.body.appendChild(this.q);this.Ya&&!this.Ya.ma||this.lb()};f.Nb=function(a){if(this.ma)throw Error("Component already rendered");if(a&&this.Se(a)){this.GD=!0;var b=Th(a);this.wb&&this.wb.la==b||(this.wb=Qh(a));this.qe(a);this.lb()}else throw Error("Invalid element to decorate");};f.Se=function(){return!0};f.qe=function(a){this.q=a};
f.lb=function(){this.ma=!0;fk(this,function(a){!a.ma&&a.a()&&a.lb()})};f.Lc=function(){fk(this,function(a){a.ma&&a.Lc()});this.uj&&this.uj.Dg();this.ma=!1};f.f=function(){this.ma&&this.Lc();this.uj&&(this.uj.g(),delete this.uj);fk(this,function(a){a.g()});!this.GD&&this.q&&S(this.q);this.Ya=this.xv=this.q=this.ig=this.Uc=null;Zj.d.f.call(this)};f.Bn=function(a,b){this.zt(a,gk(this),b)};
f.zt=function(a,b,c){if(a.ma&&(c||!this.ma))throw Error("Component already rendered");if(0>b||b>gk(this))throw Error("Child component index out of bounds");this.ig&&this.Uc||(this.ig={},this.Uc=[]);if(a.getParent()==this){var d=ck(a);this.ig[d]=a;Lb(this.Uc,a)}else ub(this.ig,ck(a),a);a.fp(this);Ob(this.Uc,b,0,a);a.ma&&this.ma&&a.getParent()==this?(c=this.Ia(),c.insertBefore(a.a(),c.childNodes[b]||null)):c?(this.q||this.B(),b=hk(this,b+1),a.sh(this.Ia(),b?b.q:null)):this.ma&&!a.ma&&a.q&&a.q.parentNode&&
1==a.q.parentNode.nodeType&&a.lb()};f.Ia=function(){return this.q};f.Xe=function(){null==this.th&&(this.th=Aj(this.ma?this.q:this.wb.la.body));return this.th};f.Km=function(a){if(this.ma)throw Error("Component already rendered");this.th=a};function gk(a){return a.Uc?a.Uc.length:0}function ek(a,b){var c;a.ig&&b?(c=a.ig,c=(b in c?c[b]:void 0)||null):c=null;return c}function hk(a,b){return a.Uc?a.Uc[b]||null:null}function fk(a,b,c){a.Uc&&E(a.Uc,b,c)}function ik(a,b){return a.Uc&&b?Ab(a.Uc,b):-1}
f.removeChild=function(a,b){if(a){var c=r(a)?a:ck(a);a=ek(this,c);c&&a&&(tb(this.ig,c),Lb(this.Uc,a),b&&(a.Lc(),a.q&&S(a.q)),a.fp(null))}if(!a)throw Error("Child is not in parent component");return a};function jk(a,b,c){wc.call(this);this.nv=a;this.ug=b||0;this.nd=c;this.mG=ua(this.DG,this)}w(jk,wc);f=jk.prototype;f.Cf=0;f.f=function(){jk.d.f.call(this);this.stop();delete this.nv;delete this.nd};f.start=function(a){this.stop();this.Cf=Zf(this.mG,da(a)?a:this.ug)};f.stop=function(){this.kh()&&ba.clearTimeout(this.Cf);this.Cf=0};f.kh=function(){return 0!=this.Cf};f.DG=function(){this.Cf=0;this.nv&&this.nv.call(this.nd)};var sb={},kk=null;function lk(a){a=na(a);delete sb[a];rb()&&kk&&kk.stop()}function mk(){kk||(kk=new jk(function(){nk()},20));var a=kk;a.kh()||a.start()}function nk(){var a=xa();C(sb,function(b){ok(b,a)});rb()||mk()};function pk(){$c.call(this);this.U=qk;this.endTime=this.startTime=null}w(pk,$c);var qk=0;pk.prototype.Ef=function(){return 1==this.U};pk.prototype.pi=function(){this.uc("begin")};pk.prototype.onEnd=function(){this.uc("end")};pk.prototype.uc=function(a){this.dispatchEvent(a)};function rk(a,b,c,d){pk.call(this);if(!g(a)||!g(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.rp=a;this.KG=b;this.duration=c;this.my=d;this.coords=[];this.ol=!1}w(rk,pk);f=rk.prototype;f.mj=function(a){this.ol=a};f.Jf=0;
f.play=function(a){if(a||this.U==qk)this.Jf=0,this.coords=this.rp;else if(this.Ef())return!1;lk(this);this.startTime=a=xa();-1==this.U&&(this.startTime-=this.duration*this.Jf);this.endTime=this.startTime+this.duration;this.Jf||this.pi();this.uc("play");-1==this.U&&this.uc("resume");this.U=1;var b=na(this);b in sb||(sb[b]=this);mk();ok(this,a);return!0};f.stop=function(a){lk(this);this.U=qk;a&&(this.Jf=1);sk(this,this.Jf);this.uc("stop");this.onEnd()};
f.pause=function(){this.Ef()&&(lk(this),this.U=-1,this.uc("pause"))};f.f=function(){this.U==qk||this.stop(!1);this.uc("destroy");rk.d.f.call(this)};f.re=function(){this.g()};function ok(a,b){a.Jf=(b-a.startTime)/(a.endTime-a.startTime);1<=a.Jf&&(a.Jf=1);sk(a,a.Jf);1==a.Jf?(a.U=qk,lk(a),a.uc("finish"),a.onEnd()):a.Ef()&&a.Fv()}function sk(a,b){la(a.my)&&(b=a.my(b));a.coords=Array(a.rp.length);for(var c=0;c<a.rp.length;c++)a.coords[c]=(a.KG[c]-a.rp[c])*b+a.rp[c]}f.Fv=function(){this.uc("animate")};
f.uc=function(a){this.dispatchEvent(new tk(a,this))};function tk(a,b){Cc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.Jf=b.Jf;this.state=b.U}w(tk,Cc);var uk={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function vk(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(wk.test(c))return b.vj=xk(c),b.type="hex",b;a:{var d=a.match(yk);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length)return b.vj=zk(c),b.type="rgb",b;if(uk&&(c=uk[a.toLowerCase()]))return b.vj=c,b.type="named",b;throw Error(a+" is not a valid color string");}var Ak=/#(.)(.)(.)/;
function xk(a){if(!wk.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Ak,"#$1$1$2$2$3$3"));return a.toLowerCase()}function Bk(a){a=xk(a);return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}
function zk(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(isNaN(b)||0>b||255<b||isNaN(c)||0>c||255<c||isNaN(a)||0>a||255<a)throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');b=Ck(b.toString(16));c=Ck(c.toString(16));a=Ck(a.toString(16));return"#"+b+c+a}var wk=/^#(?:[0-9a-f]{3}){1,2}$/i,yk=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Ck(a){return 1==a.length?"0"+a:a}
function Dk(a,b,c){var d=0,e=0,h=0;if(0==b)h=e=d=c;else{var k=Math.floor(a/60),l=a/60-k;a=c*(1-b);var n=c*(1-b*l);b=c*(1-b*(1-l));switch(k){case 1:d=n;e=c;h=a;break;case 2:d=a;e=c;h=b;break;case 3:d=a;e=n;h=c;break;case 4:d=b;e=a;h=c;break;case 5:d=c;e=a;h=n;break;case 6:case 0:d=c,e=b,h=a}}return zk([Math.floor(d),Math.floor(e),Math.floor(h)])};function Ek(a){var b=a.offsetLeft,c=a.offsetParent;c||"fixed"!=rj(a)||(c=Th(a).documentElement);if(!c)return b;if(hc)var d=Uj(c),b=b+d.left;else qc(8)&&(d=Uj(c),b-=d.left);return Aj(c)?c.clientWidth-(b+a.offsetWidth):b};function Fk(a,b,c,d,e){rk.call(this,b,c,d,e);this.element=a}w(Fk,rk);f=Fk.prototype;f.o=fa;f.Xe=function(){da(this.th)||(this.th=Aj(this.element));return this.th};f.Fv=function(){this.o();Fk.d.Fv.call(this)};f.onEnd=function(){this.o();Fk.d.onEnd.call(this)};f.pi=function(){this.o();Fk.d.pi.call(this)};function Gk(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Fk.apply(this,arguments)}w(Gk,Fk);
Gk.prototype.o=function(){var a=this.ol&&this.Xe()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Hk(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Fk.apply(this,arguments)}w(Hk,Fk);Hk.prototype.o=function(){this.element.style.width=Math.round(this.coords[0])+"px";this.element.style.height=Math.round(this.coords[1])+"px"};
function Ik(a,b,c,d,e){Fk.call(this,a,[b],[c],d,e)}w(Ik,Fk);Ik.prototype.o=function(){this.element.style.width=Math.round(this.coords[0])+"px"};function Jk(a,b,c,d,e){Fk.call(this,a,[b],[c],d,e)}w(Jk,Fk);Jk.prototype.o=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function Kk(a,b,c,d,e){u(b)&&(b=[b]);u(c)&&(c=[c]);Fk.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}w(Kk,Fk);Kk.prototype.o=function(){Kj(this.element,this.coords[0])};
Kk.prototype.show=function(){this.element.style.display=""};Kk.prototype.sm=function(){this.element.style.display="none"};function Lk(a,b,c){Kk.call(this,a,1,0,b,c)}w(Lk,Kk);function Mk(a,b,c){Kk.call(this,a,0,1,b,c)}w(Mk,Kk);function Nk(a,b,c){Kk.call(this,a,1,0,b,c)}w(Nk,Kk);Nk.prototype.pi=function(){this.show();Nk.d.pi.call(this)};Nk.prototype.onEnd=function(){this.sm();Nk.d.onEnd.call(this)};function Ok(a,b,c){Kk.call(this,a,0,1,b,c)}w(Ok,Kk);Ok.prototype.pi=function(){this.show();Ok.d.pi.call(this)};
function Pk(a,b,c,d,e){if(3!=b.length||3!=c.length)throw Error("Start and end points must be 3D");Fk.apply(this,arguments)}w(Pk,Fk);Pk.prototype.ps=function(){for(var a=[],b=0;b<this.coords.length;b++)a[b]=Math.round(this.coords[b]);this.element.style.backgroundColor="rgb("+a.join(",")+")"};Pk.prototype.o=function(){this.ps()};function Qk(){pk.call(this);this.cc=[]}w(Qk,pk);Qk.prototype.add=function(a){Ib(this.cc,a)||(this.cc.push(a),G(a,"finish",this.Gv,!1,this))};Qk.prototype.remove=function(a){Lb(this.cc,a)&&Uc(a,"finish",this.Gv,!1,this)};Qk.prototype.f=function(){E(this.cc,function(a){a.g()});this.cc.length=0;Qk.d.f.call(this)};function Rk(){Qk.call(this);this.su=0}w(Rk,Qk);
Rk.prototype.play=function(a){if(0==this.cc.length)return!1;if(a||this.U==qk)this.su=0,this.pi();else if(this.Ef())return!1;this.uc("play");-1==this.U&&this.uc("resume");var b=-1==this.U&&!a;this.startTime=xa();this.endTime=null;this.U=1;E(this.cc,function(c){b&&-1!=c.U||c.play(a)});return!0};Rk.prototype.pause=function(){this.Ef()&&(E(this.cc,function(a){a.Ef()&&a.pause()}),this.U=-1,this.uc("pause"))};
Rk.prototype.stop=function(a){E(this.cc,function(b){b.U==qk||b.stop(a)});this.U=qk;this.endTime=xa();this.uc("stop");this.onEnd()};Rk.prototype.Gv=function(){this.su++;this.su==this.cc.length&&(this.endTime=xa(),this.U=qk,this.uc("finish"),this.onEnd())};function Sk(){Qk.call(this);this.xf=0}w(Sk,Qk);
Sk.prototype.play=function(a){if(0==this.cc.length)return!1;if(a||this.U==qk)this.xf<this.cc.length&&this.cc[this.xf].U!=qk&&this.cc[this.xf].stop(!1),this.xf=0,this.pi();else if(this.Ef())return!1;this.uc("play");-1==this.U&&this.uc("resume");this.startTime=xa();this.endTime=null;this.U=1;this.cc[this.xf].play(a);return!0};Sk.prototype.pause=function(){this.Ef()&&(this.cc[this.xf].pause(),this.U=-1,this.uc("pause"))};
Sk.prototype.stop=function(a){this.U=qk;this.endTime=xa();if(a)for(a=this.xf;a<this.cc.length;++a){var b=this.cc[a];b.U==qk&&b.play();b.U==qk||b.stop(!0)}else this.xf<this.cc.length&&this.cc[this.xf].stop(!1);this.uc("stop");this.onEnd()};Sk.prototype.Gv=function(){this.Ef()&&(this.xf++,this.xf<this.cc.length?this.cc[this.xf].play():(this.endTime=xa(),this.U=qk,this.uc("finish"),this.onEnd()))};v("nrg.convert",function(){});function Tk(a){if(!g(a)&&!u(a))throw new TypeError("Array or number expected!",a);if(a instanceof Array)return a.map(function(a){return a.toString()+"px"});switch(typeof a){case "number":return a.toString()+"px"}}
function Uk(a,b,c){if(b[0]===b[1]||c[0]===c[1])throw"Remap: initial domain is equal!";b=b.sort();c=c.sort();if(a<=b[0])return a=b[0],{remappedVal:c[0],oldValue:a};if(a>=b[1])return a=b[1],{remappedVal:c[1],oldValue:a};b=Math.round(a/(b[1]-b[0])*(c[1]-c[0]));b<c[0]?b=c[0]:b>c[1]&&(b=c[1]);return{remappedVal:b,oldValue:a}}function Vk(a){var b={};C(a,function(a,d){isNaN(a)?r(a)&&(b[d]=a):b[d]=a});return b}function Wk(a){var b={};C(a,function(a,d){r(a)?0<a.length&&(b[d]=a):b[d]=a});return b}
v("nrg.convert.pct",function(a){if(!u(a))throw new TypeError("Number expected!",a);if(1<a||0>a)throw Error("Value must be between 0 and 1!");return(100*a).toString()+"%"});v("nrg.convert.px",Tk);v("nrg.convert.remap1D",Uk);v("nrg.convert.toInt",function(a){if(!r(a)&&!u(a))throw new TypeError("Number or string expected!",a);return parseInt(a,10)});
v("nrg.convert.toFloatArray",function(a){if(!r(a))throw new TypeError("String expected!",a);var b=[];a=a.split(" ");E(a,function(a,d){b[d]=parseFloat(a,10)});return b});v("nrg.convert.objectToArray",function(a){if(!ma(a))throw new TypeError("Object expected!",a);var b=[],c="";for(c in a)b=b.concat(a[c]);return b});v("nrg.convert.rgbToArray",function(a){if(!r(a))throw new TypeError("String expected!",a);a=a.match(/\d+/g);var b=0,b=0;for(len=a.length;b<len;b++)a[b]=parseInt(a[b],10);return a});
v("nrg.convert.arrayToRgb",function(a,b){if(!g(a))throw new TypeError("Array expected!",a);var c="rgb(";b=void 0===b?1:b;E(a,function(a){c+=parseInt(a*b,10).toString()+","});return c=c.substring(0,c.length-1)+")"});v("nrg.convert.filterNaN",Vk);v("nrg.convert.filterZeroLengthStrings",Wk);v("nrg.style",function(){});var Xk="azimuth background-attachment background-color background-image background-position background-repeat background border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom caption-side clear clip color content counter-increment counter-reset cue-after cue-before cue cursor direction display elevation empty-cells float font-family font-size font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-right margin-left margin-top margin-bottom margin max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page-break-after page-break-before page-break-inside pause-after pause-before pause pitch-range pitch play-during position quotes richness right speak-header speak-numeral speak-punctuation speak speech-rate stress table-layout text-align text-decoration text-indent text-transform top unicode-bidi vertical-align visibility voice-family volume white-space widows width word-spacing z-index".split(" ");
function Yk(a){return a.getBoundingClientRect()}function Zk(a){var b=uj(a);a=U(a);this.Be=b;this.size=a;this.left=this.x=b.x;this.width=a.width;this.right=b.x+a.width;this.top=this.y=b.y;this.height=a.height;this.bottom=b.y+a.height}
function $k(a){var b="height width left top border-width borderWidth borderRadius border-radius fontSize fontSize margin margin-top marginTop marginLeft margin-left".split(" "),c=0,d=0;for(key in a)for(c=0,d=b.length;c<d;c++)key===b[c]&&(a[key]=parseInt(a[key],10));return a}function al(a,b){a&&b&&(a.style||(a.style={}),nj(a,b),E("top left height width fontSize borderWidth borderRadius".split(" "),function(c){b[c]&&!Ea(b[c],"%")&&(a.style[c]=Tk(b[c]))}))}var bl="is_hovered_"+B();
function cl(a,b,c,d,e,h){function k(){a[bl]=!1;Gh(a,b);null!=h&&h()}function l(){a[bl]=!0;O(a,b);null!=e&&e()}G(a,"mouseenter",l);G(a,"mouseleave",k);c&&(c=void 0!==d?c.bind(d):c,c(l,k))}function dl(a,b,c){var d=new Zk(a);d.right>c&&(d.left=c-d.width);d.left<b&&(d.left=b);a.style.left=d.left.toString()+"px";return new Zk(a)}v("nrg.style.cssProperties",Xk);
v("nrg.style.removeClassesThatContain",function(a,b){var c=Eh(a),d=[],e=0;b=b.toLowerCase();e=0;for(len=c.length;e<len;e++)-1<c[e].toLowerCase().indexOf(b)&&d.push(c[e]);e=0;for(len=d.length;e<len;e++)Gh(a,d[e])});v("nrg.style.absolutePosition",Yk);v("nrg.style.dims",Zk);v("nrg.style.getStyleSheet",function(a){for(var b=0;b<document.styleSheets.length;b++){var c=document.styleSheets[b];if(c.title==a)return c}});
v("nrg.style.getComputedStyle",function(a,b){if(b&&r(b))return window.getComputedStyle(a,null).getPropertyValue(b);void 0===b&&(b=Xk);for(var c={},d=window.getComputedStyle(a,null),e=0,h=b.length,e=0;e<h;e++)c[b[e]]=d.getPropertyValue(b[e]);return $k(c)});v("nrg.style.parseIntNumericalProperties",$k);v("nrg.style.setStyle",al);v("nrg.style.constrainHorizontally",dl);v("nrg.style.IS_HOVERED",bl);v("nrg.style.setHoverClass",cl);
v("nrg.style.getPositionRelativeToAncestor",function(a,b){var c=0,d=0;if(a.offsetParent){for(var e=a;e!==b;)c+=e.offsetLeft,d+=e.offsetTop,e=e.offsetParent;return{left:c,top:d}}});function el(a){return 1-Math.pow(1-a,3)};function fl(){}v("nrg.fx",fl);function gl(a,b,c){void 0===b&&(b=500);hl(a,b,1,c)}function il(a,b,c){void 0===b&&(b=500);hl(a,0,0,function(){hl(a,b,1,c)})}function jl(a,b,c){void 0===b&&(b=500);hl(a,b,0,c)}function hl(a,b,c,d,e){e||(null!=a.style?e=a.style.opacity?parseInt(a.style.opacity,10):1:a.style.opacity=1);var h=new Kk(a,e,c,b);d&&h.addEventListener("end",function(a){d(a);J(h);delete h});h.play()}
function kl(a,b,c){E(a,function(a){a.style.opacity=0});b=u(b)?b:500;c=u(c)?c:250;var d=new Xf(0);d.addEventListener(Yf,function(){elt=a[0];gl(elt,b);1==a.length?(d.stop(),d.g()):(a=Pb(a,1),d.setInterval(c))});d.start()}fl.animGenStyles="left top width height opacity background-color color z-index".split(" ");function ll(a,b,c,d){if(("left"in b||"left"in c||"top"in b||"top"in c)&&!(isNaN(b.top)||isNaN(c.top)||isNaN(b.left)||isNaN(c.left)))return new Gk(a,[b.left,b.top],[c.left,c.top],d,el)}
function ml(a,b,c,d){if(("height"in b||"height"in c||"width"in b||"width"in c)&&!(isNaN(b.height)||isNaN(c.height)||isNaN(b.width)||isNaN(c.width)))return new Hk(a,[b.width,b.height],[c.width,c.height],d,el)}function nl(a,b,c,d){if("opacity"in b||"opacity"in c)if(E([b,c],function(a){"opacity"in a||(a.opacity=1);u(a.opacity)||(a.opacity=parseInt(a.opacity,10))}),b.opacity!==c.opacity)return new Kk(a,b.opacity,c.opacity,d)}
function ol(a,b,c,d){if("visibility"in b||"visibility"in c)if(E([b,c],function(a){"visibility"in a||(a.visibility="visible")}),b.visibility!==c.visibility)return"hidden"===b.visibility?new Ok(a,d):new Nk(a,d)}
function pl(a,b,c,d){if("background-color"in b||"background-color"in c){E([b,c],function(a){"background-color"in a||(a["background-color"]="rgb(255,255,255)")});try{var e=vk(b["background-color"]),h=vk(c["background-color"]);if(e.vj!==h.vj)return new Pk(a,Bk(e.vj),Bk(h.vj),d,el)}catch(k){window.console.log("Skipping color transition anim: ",k.message)}}}function ql(a,b){this.dG=a;this.JM=b}function rl(a){return Wk(Vk(a))}
function sl(a){var b=U(a),c=uj(a);return{left:c.x,top:c.y,width:b.width,height:b.height,opacity:parseInt(a.style.opacity,10),"background-color":a.style.backgroundColor,background:a.style.background,color:a.style.color,"z-index":parseInt(a.style.zIndex,10)}}function tl(a,b){var c=sl(a),c=rl(c),d=sl(b),e=rl(d);C(c,function(a,b){null!=e[b]||(e[b]=a)});return new ql(c,e)}
function ul(a,b,c,d){var e=[];E(fl.animGenStyles,function(h){if(null!=b&&null!=c)switch(h){case "left":e.push(ll(a,b,c,d));break;case "height":e.push(ml(a,b,c,d));break;case "opacity":e.push(nl(a,b,c,d));break;case "visibility":e.push(ol(a,b,c,d));break;case "background-color":e.push(pl(a,b,c,d))}});var h=[];E(e,function(a){null!=a&&h.push(a)});delete e;return h}
function vl(a,b,c,d){var e=new Rk;E(a,function(a){c&&G(a,"animate",c);e.add(a)});b&&G(e,"begin",b);G(e,"end",function(){d&&d();e.g();e=null;delete e});e.play()}function wl(a,b,c){function d(){al(a,{opacity:c})}b=void 0===b?1:b;c=void 0===c?.5:c;G(a,"mouseover",function(){al(a,{opacity:b})});G(a,"mouseout",d);d()}
function xl(a,b,c,d,e,h,k){if(!g(b)){var l=[];E(a,function(){l.push(b)});b=l}g(c)||(l=[],E(a,function(){l.push(c)}),c=l);d=u(d)?d:500;var n=[];E(a,function(a,e){n.push(nl(a,{opacity:b[e]},{opacity:c[e]},d))});vl(n,e,h,k)}v("nrg.fx.fadeIn",gl);v("nrg.fx.fadeInFromZero",il);v("nrg.fx.fadeOut",jl);v("nrg.fx.fadeOutAndRemove",function(a,b,c){void 0===b&&(b=500);hl(a,b,0,function(){a.parentNode.removeChild(a);c&&c()})});v("nrg.fx.fadeTo",hl);v("nrg.fx.animGenStyles",fl.animGenStyles);
v("nrg.fx.generateAnim_Slide",ll);v("nrg.fx.generateAnim_Resize",ml);v("nrg.fx.generateAnim_Fade",nl);v("nrg.fx.generateAnim_RemoveAddFade",ol);v("nrg.fx.generateAnim_BgColorTrans",pl);v("nrg.fx.TransitionDims",ql);v("nrg.fx.filterTransitionStyles",rl);v("nrg.fx.getTransitionStyles",sl);v("nrg.fx.generateTransitionDims",tl);v("nrg.fx.getAnimationDims",function(a){var b=U(a),c=uj(a);return{"background-color":qj(a,"backgroundColor"),width:b.width,left:c.x,top:c.y,height:b.height}});
v("nrg.fx.generateAnimations",ul);v("nrg.fx.parallelAnimate",vl);v("nrg.fx.serialAnimate",function(a,b,c,d){var e=new Sk;E(a,function(a){c&&G(a,"animate",c);e.add(a)});b&&G(e,"begin",b);G(e,"end",function(){d&&d();e.g();e=null;delete e});e.play()});v("nrg.fx.setBasicHoverStates",wl);v("nrg.fx.sequentialFadeIn",kl);v("nrg.fx.parallelFade",xl);function yl(a){return a.slice(a.lastIndexOf("/")+1)}function zl(a){for(var b=arguments[0],c=1;c<arguments.length;c++)var d=arguments[c],b=0==d.lastIndexOf("/",0)?d:""==b||Ea(b,"/")?b+d:b+("/"+d);return b};function Al(){}v("nrg.dom",Al);function Bl(a,b,c){if(!g(a))throw new TypeError("Array expected!",a);if(b&&!r(b))throw new TypeError("String expected!",b);if(c&&!r(c))throw new TypeError("String expected!",c);var d={};c=c?c:"png";var e="",h=0,h=0;for(len=a.length;h<len;h++)e=a[h],d[e]=Cl(e,{src:b?zl(b,cb(e)+"."+c):""});return d}function Dl(a,b){var c=Q("img",{src:b});c.style.PP="contain";c.style.maxWidth="100%";c.style.maxHeight="100%";R(a,c);c.onclick=c.parentNode.onclick}
function Cl(a,b,c,d){if(!r(a))throw new TypeError("String expected!");if(b&&!ma(b))throw new TypeError("Object expected!");if(null!=c&&!u(c))throw new TypeError("Number expected!");if(null!=d&&!u(d))throw new TypeError("Number expected!");a=El("div",a,b?b:{});b&&b.src&&Dl(a,b.src);wl(a,void 0===c?1:c,void 0===d?.5:d);return a}
function El(a,b,c){if(!r(a))throw new TypeError("String expected!",a);if(!r(b))throw new TypeError("String expected!",b);if(c&&!ma(c))throw new TypeError("Object expected!");c=c&&ma(c)?c:{};c.id=c.id?c.id:b+"_"+B();c["class"]=c["class"]?c["class"]:cb(b.replace(/\./g,"-").toLowerCase());return Q(a,c)}v("nrg.dom.createBasicHoverButtonSet",Bl);v("nrg.dom.createDivChildImage",Dl);v("nrg.dom.createBasicHoverButton",Cl);v("nrg.dom.createUniqueDom",El);
v("nrg.dom.stopPropagation",function(a){a||(a=window.event);a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()});v("nrg.dom.checkForExtraneousArgs",function(a,b){for(var c in b)if(c in a)"[object Object]"===b[c].toString()&&Al.SQ(originString,a[c],b[c]);else throw"Invalid arguments detected in args: '"+c+"' ";});
v("nrg.dom.readCSS",function(a){for(var b=document.styleSheets[0].rules||document.styleSheets[0].cssRules,c=0,c=0;c<b.length;c++)b[c].selectorText==a&&(b[c].cssText?alert(b[c].cssText):alert(b[c].style.cssText));return b});function W(a){Zj.call(this,a);this.gx();this.q=El("div",this.constructor.ID_PREFIX,a);this.vq();Fl(this);serverRoot+=""}w(W,Zj);v("nrg.ui.Component",W);f=W.prototype;
f.gx=function(){if(this instanceof W){this.constructor.d&&this.constructor.d instanceof W&&W.prototype.gx.bind(this.constructor.d)();if(!this.constructor.ID_PREFIX)throw Error("nrg.ui.Component subclass should have the property 'ID_PREFIX' .",this);da(this.constructor.Kp)||(this.constructor.Kp=Gl(this.constructor.ID_PREFIX),this.constructor.cd=this.constructor.Kp)}};function Gl(a){return a.toLowerCase().replace(/\./g,"-")}
f.vq=function(){if(null!=this.constructor.d)for(var a=this.constructor.d;null!=a.constructor.ID_PREFIX;)W.prototype.vq.bind(a)(),a=a.constructor.d;da(this.constructor.CSS_SUFFIX)&&!da(this.constructor.CSS)&&(this.constructor.CSS=vb(this.constructor.CSS_SUFFIX),C(this.constructor.CSS,function(a,c){this.constructor.CSS[c]=wh(this.constructor.ID_PREFIX,a)}.bind(this)))};
function Fl(a){for(var b=[],c=a,d;null!=c.constructor.ID_PREFIX;)d=Gl(c.constructor.ID_PREFIX),Kb(b,d),c=c.constructor.d;E(b,function(a){null!=this.a()&&O(this.a(),a)}.bind(a))}f.ii="";f.AC=function(a){this.ii=a};f.FH=function(){return this.ii};f.VF=function(a){null==this.tp&&(this.tp=[]);this.tp.push(a)};
f.Wh=function(){if(null==this.ra)this.ra=U(this.a());else if(this.ra.height!==this.A.height||this.ra.width!==this.A.width)this.ra=this.A;if(null==this.Po)this.Po=uj(this.a());else if(this.Po.x!==this.xq.x||this.Po.y!==this.xq.y)this.Po=this.xq;this.A=U(this.a());this.xq=uj(this.a())};f.o=function(){this.Wh()};f.k=function(a){this.ma&&this.a().parentNode!==a&&null!=a?a.appendChild(this.a()):W.d.k.call(this,a)};f.Dz=!1;f.BG=function(){return this.Dz};
f.f=function(){W.d.f.call(this);null!=this.tp&&(E(this.tp,function(a){J(a);a.g()}),Jb(this.tp));J(this);J(this.a());S(this.a());this.ii=null;null!=this.gl&&delete this.gl;this.Po=this.ra=this.xq=this.A=null;this.Dz=!0};f.lu=function(a){null!=a&&(a=g(a)?a:[a],E(a,function(a){J(a);a.g()}),Jb(a))};f.Cq=function(a){null!=a&&(J(a),a.g())};f.Dq=function(a){C(a,function(b,c){J(b);S(b);delete a[c]});D(a)};f.Rn=function(a){C(a,function(b,c){J(b);b.g();delete a[c]});D(a)};
v("nrg.ui.Component.animationLengths",{vN:150,ZN:300,OO:600});v("nrg.ui.Component.idPrefixToCssClass",Gl);v("nrg.ui.Component.prototype.validateIdPrefix",W.prototype.gx);v("nrg.ui.Component.prototype.imagePrefix",W.prototype.ii);v("nrg.ui.Component.prototype.createCssMap",W.prototype.vq);v("nrg.ui.Component.prototype.setImagePrefix",W.prototype.AC);v("nrg.ui.Component.prototype.getImagePrefix",W.prototype.FH);v("nrg.ui.Component.prototype.addSubComponent",W.prototype.VF);
v("nrg.ui.Component.prototype.calcDims",W.prototype.Wh);v("nrg.ui.Component.prototype.updateStyle",W.prototype.o);v("nrg.ui.Component.prototype.render",W.prototype.k);v("nrg.ui.Component.prototype.disposeInternalCalled",W.prototype.BG);v("nrg.ui.Component.prototype.disposeAnimations",W.prototype.lu);v("nrg.ui.Component.prototype.disposeAnimationQueue",W.prototype.Cq);v("nrg.ui.Component.prototype.disposeElementMap",W.prototype.Dq);v("nrg.ui.Component.prototype.disposeComponentMap",W.prototype.Rn);
v("nrg.ui.Component.prototype.disposeInternal",W.prototype.f);var Hl;function Il(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Jl(a,b,c){ia(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Hl||(Hl={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Hl,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function Kl(a,b){var c=a.getAttribute("aria-"+b);return null==c||void 0==c?"":String(c)};function Ll(a){if(a.classList)return a.classList;a=a.className;return r(a)&&a.match(/\S+/g)||[]}function Ml(a,b){return a.classList?a.classList.contains(b):Ib(Ll(a),b)}function Nl(a,b){a.classList?a.classList.add(b):Ml(a,b)||(a.className+=0<a.className.length?" "+b:b)}function Ol(a,b){if(a.classList)E(b,function(b){Nl(a,b)});else{var c={};E(Ll(a),function(a){c[a]=!0});E(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Pl(a,b){a.classList?a.classList.remove(b):Ml(a,b)&&(a.className=Cb(Ll(a),function(a){return a!=b}).join(" "))}function Ql(a,b){a.classList?E(b,function(b){Pl(a,b)}):a.className=Cb(Ll(a),function(a){return!Ib(b,a)}).join(" ")}function Rl(a,b,c){c?Nl(a,b):Pl(a,b)};function Sl(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!hc;default:return 166>a.keyCode||183<a.keyCode}}
function Tl(a,b,c,d,e){if(!(F||ic&&pc("525")))return!0;if(cc&&e)return Ul(a);if(e&&!d)return!1;u(b)&&(b=Vl(b));if(!c&&(17==b||18==b||cc&&91==b))return!1;if(ic&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(F&&d&&b==a)return!1;switch(a){case 13:return!(F&&qc(9));case 27:return!ic}return Ul(a)}
function Ul(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||ic&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Vl(a){if(hc)a=Wl(a);else if(cc&&ic)a:switch(a){case 93:a=91;break a}return a}
function Wl(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Xl(a,b,c,d,e){function h(a){a&&(a.tabIndex=0,Il(a,k.fh()),Nl(a,"goog-zippy-header"),Yl(k,a),a&&k.hB.D(a,"keydown",k.Kr))}$c.call(this);this.wb=e||Qh();this.zk=this.wb.a(a)||null;this.Hq=this.wb.a(d||null);this.vc=(this.kv=la(b)?b:null)||!b?null:this.wb.a(b);this.lg=!0==c;this.hB=new Vj(this);this.yv=new Vj(this);var k=this;h(this.zk);h(this.Hq);this.lc(this.lg)}w(Xl,$c);var Zl={jx:"action",Mx:"toggle"};f=Xl.prototype;f.Nk=!0;f.f=function(){Xl.d.f.call(this);Ac(this.hB);Ac(this.yv)};
f.fh=function(){return"tab"};f.Ia=function(){return this.vc};f.toggle=function(){this.lc(!this.lg)};f.lc=function(a){this.vc?Lj(this.vc,a):a&&this.kv&&(this.vc=this.kv());this.vc&&Nl(this.vc,"goog-zippy-content");this.Hq?(Lj(this.zk,!a),Lj(this.Hq,a)):$l(this,a);this.lg=a;this.dispatchEvent(new am(Zl.Mx,this))};function $l(a,b){a.zk&&(Rl(a.zk,"goog-zippy-expanded",b),Rl(a.zk,"goog-zippy-collapsed",!b),Jl(a.zk,"expanded",b))}
f.ep=function(a){this.Nk!=a&&((this.Nk=a)?(Yl(this,this.zk),Yl(this,this.Hq)):this.yv.Dg())};function Yl(a,b){b&&a.yv.D(b,"click",a.Jr)}f.Kr=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new Cc(Zl.jx,this)),a.preventDefault(),a.stopPropagation()};f.Jr=function(){this.toggle();this.dispatchEvent(new Cc(Zl.jx,this))};function am(a,b){Cc.call(this,a,b)}w(am,Cc);function bm(a,b,c,d){d=d||Qh();var e=d.B("div",{style:"overflow:hidden"});b=d.a(b);b.parentNode.replaceChild(e,b);e.appendChild(b);this.Iq=e;this.tf=null;Xl.call(this,a,b,c,void 0,d);a=this.lg;this.Iq.style.display=a?"":"none";$l(this,a)}w(bm,Xl);f=bm.prototype;f.Wi=500;f.aG=el;
f.lc=function(a){if(this.lg!=a||this.tf){"none"==this.Iq.style.display&&(this.Iq.style.display="");var b=this.Ia().offsetHeight,c=0;this.tf?(a=this.lg,J(this.tf),this.tf.stop(!1),c=parseInt(this.Ia().style.marginTop,10),c=b-Math.abs(c)):c=a?0:b;$l(this,a);this.tf=new rk([0,c],[0,a?b:0],this.Wi,this.aG);G(this.tf,["begin","animate","end"],this.oK,!1,this);G(this.tf,"end",ua(this.pK,this,a));this.tf.play(!1)}};f.oK=function(a){var b=this.Ia();b.style.marginTop=a.y-b.offsetHeight+"px"};
f.pK=function(a){a&&(this.Ia().style.marginTop="0");J(this.tf);this.lg=a;this.tf=null;a||(this.Iq.style.display="none");this.dispatchEvent(new am(Zl.Mx,this))};function cm(a,b,c,d){W.call(this);this.Rb=a;this.pb=Q("div",{id:"ZippyHeader_"+a+"_"+B(),"class":cm.CSS.vl});this.pb[dm]=a.toLowerCase();null!=d?d(b,this.pb):b.appendChild(this.pb);this.eo=Q("div",{id:"ZippyHeaderLabel_"+a+"_"+B(),"class":cm.CSS.hE});this.AD();this.pb.appendChild(this.eo);this.eh=Q("div",{id:"ZippyExpandIcon_"+a+"_"+B(),"class":cm.CSS.eE},"+");this.pb.appendChild(this.eh);this.vf=Q("div",{id:"ZippyContent_"+a+"_"+B(),"class":cm.CSS.Eh});b.appendChild(this.vf);this.hc=new this.LD(this.pb,
this.vf,null!=c?c:!1);this.hc instanceof bm&&(this.hc.Wi=500);this.xM=na(this);this.La={};G(this.pb,"mouseover",this.BL.bind(this));G(this.pb,"mouseout",this.AL.bind(this));em(this)}w(cm,W);v("nrg.ui.ZippyNode",cm);cm.ID_PREFIX="nrg.ui.ZippyNode";var fm={sN:"a",gN:"b",VD:"c"};cm.CSS_SUFFIX={vl:"header",wx:"header-mouseover",hE:"header-label",eE:"expandicon",ox:"expandicon-mouseover",Eh:"content",Eh:"content-sub",wE:"loading-holder",yE:"loading-text",xE:"loading-image"};
function gm(a,b,c){var d=a[0];r(d)&&null!=b&&(d=b.La[d]);d.hc.Wi=200;1<a.length&&!d.hc.lg&&Tc(d,"a",function(){d.hc.Wi=500;gm(Pb(a,1),d,c)});d.lc(!0);null!=c&&c(d,a)}var dm=B();f=cm.prototype;f.LD=bm;f.AD=function(a){a=null!=a?a:45;var b=this.eo,c=this.Rb.replace(/<(?:.|\n)*?>/gm,"").replace("&nbsp"," ");b.innerHTML=c.length<this.Rb?Xa(this.Rb,a+60):c.length==this.Rb.length?Xa(this.Rb,a):this.Rb;return b};f.ye=null;f.dr=function(){return null!=this.ye};f.Co=!1;f.NJ=function(){return this.Co};
f.bs=function(a,b){var c=function(){S(this.ye);this.ye=null}.bind(this);a?(this.Co=!0,hl(this.ye,500,0,function(){c();null!=b&&b()},1)):c()};f.vy=function(){if(null==this.ye){this.ye=Q("div",{id:"LoadingHolder_"+B()});O(this.ye,cm.CSS.wE);var a=Q("div");O(a,cm.CSS.yE);a.innerHTML="Loading...";var b=Q("img");O(b,cm.CSS.xE);b.src=serverRoot+"/images/viewer/xiv/ui/other/loading.gif";R(this.ye,a);R(this.ye,b);R(this.vf,this.ye);this.ye.style.opacity=0;gl(this.ye,300);this.Co=!1}};f.$b=function(){return this.Rb};
f.ZH=function(){return this.La};f.cD=function(a){this.eh.style.visibility=!0==a?"visible":"hidden"};f.zH=function(){return this.pb};f.gH=function(){return this.vf};f.AH=function(){return this.eo};f.QI=function(){return this.hc};f.lc=function(a){this.hc.lc(a)};f.cM=function(a){this.LD=!0===a?bm:Xl};
function em(a){G(a.hc,ob(Zl),function(a){null!=this.hc.tf?this.dispatchEvent({type:"c"}):a.target.lg?this.cw():(this.eh.innerHTML="+",al(this.eh,{"margin-left":"-1.1em"}),this.dispatchEvent({type:"b"}))}.bind(a))}f.cw=function(){this.eh.innerHTML="-";al(this.eh,{"margin-left":"-1em"});this.dispatchEvent({type:"a"})};f.BL=function(){O(this.pb,cm.CSS.wx);O(this.eh,cm.CSS.ox)};f.AL=function(){Gh(this.pb,cm.CSS.wx);Gh(this.eh,cm.CSS.ox)};
f.f=function(){cm.d.f.call(this);S(this.eo);delete this.eo;S(this.eh);delete this.eh;J(this.pb);S(this.pb);delete this.pb;S(this.vf);delete this.vf;null!=this.hc&&(this.hc.g(),J(this.hc),delete this.hc);null!=this.ye&&(this.bs(),delete this.ye);this.Rn(this.La);delete this.La;delete this.xM;delete this.Rb};v("nrg.ui.ZippyNode.ID_PREFIX",cm.ID_PREFIX);v("nrg.ui.ZippyNode.EventType",fm);v("nrg.ui.ZippyNode.CSS_SUFFIX",cm.CSS_SUFFIX);v("nrg.ui.ZippyNode.NODE_STORT_TAG",dm);
v("nrg.ui.ZippyNode.serialExpand",gm);v("nrg.ui.ZippyNode.prototype.truncateHeaderLabel",cm.prototype.AD);v("nrg.ui.ZippyNode.prototype.getTitle",cm.prototype.$b);v("nrg.ui.ZippyNode.prototype.addLoadingImage",cm.prototype.OP);v("nrg.ui.ZippyNode.prototype.getNodes",cm.prototype.ZH);v("nrg.ui.ZippyNode.prototype.getHeader",cm.prototype.zH);v("nrg.ui.ZippyNode.prototype.getContentHolder",cm.prototype.gH);v("nrg.ui.ZippyNode.prototype.getHeaderLabel",cm.prototype.AH);
v("nrg.ui.ZippyNode.prototype.showExpandIcon",cm.prototype.cD);v("nrg.ui.ZippyNode.prototype.getZippy",cm.prototype.QI);v("nrg.ui.ZippyNode.prototype.setExpanded",cm.prototype.lc);v("nrg.ui.ZippyNode.prototype.setAnimated",cm.prototype.cM);v("nrg.ui.ZippyNode.prototype.hasLoadingIndicator",cm.prototype.dr);v("nrg.ui.ZippyNode.prototype.addLoadingIndicator",cm.prototype.vy);v("nrg.ui.ZippyNode.prototype.removeLoadingIndicator",cm.prototype.bs);
v("nrg.ui.ZippyNode.prototype.loadingIndicatorRemoving",cm.prototype.NJ);v("nrg.ui.ZippyNode.prototype.disposeInternal",cm.prototype.f);function hm(a,b,c,d){this.files=a;this.ZJ=b;this.Tw=c;this.vu=d}v("xiv.sampleData.Sample",hm);function im(){wc.call(this);this.Pg=[]}w(im,wc);v("xiv.sampleData.SampleCollection",im);im.prototype.mI=function(){return this.Pg};im.prototype.g=function(){im.d.g.call(this);E(this.Pg,function(a){D(a)});delete this.Pg};v("xiv.sampleData.SampleCollection.Samples",im.Pg);v("xiv.sampleData.SampleCollection.getSamples",im.mI);v("xiv.sampleData.SampleCollection.dispose",im.g);function jm(){im.call(this);this.Pg.push(this.pw)}w(jm,im);v("xiv.sampleData.SlicerScenes",jm);
jm.prototype.pw=new hm("src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Slicer Data Bundle Scene View_4.png;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/oneView_brain_2.mrml;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-176-slutbu.dcm.nrrd.nrrd;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/5%3a%20t1_mpr_1mm_p2_pos50-label.nrrd;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/F.fcsv;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/brain.vtk;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/BrainMesh_Underside.png;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/Top.png".split(";"),{Name:"Example Slicer Scene",
Type:"Slicer Scene"},"src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Slicer Data Bundle Scene View_4.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
*/
function km(){}v("xiv",km);km.MODE="live";v("xiv.SAMPLE_DATA_PATH","xiv/sample-data");v("xiv.SAMPLE_SCAN_PREFIX","xiv/sample-data/scans/");function lm(a,b,c){Hi.call(this,"Scans",a,b);this.Ac["Total Frames"]=0;c&&c(this)}w(lm,Hi);v("gxnat.vis.Scan",lm);var mm=["dcm","dicom","nii.gz","nii"];f=lm.prototype;f.Fk="scans";f.lm="/files";f.qj="URI";
f.wh=function(){lm.d.wh.call(this);null!=this.Kf.frames&&(this.Ac["Total Frames"]=this.Kf.frames);if(null!=this.Kf["parameters/orientation"]){var a;a:{switch(this.Kf["parameters/orientation"]){case "Sag":a="Sagittal";break a;case "Cor":a="Coronal";break a;case "Tra":a="Transverse";break a}a=void 0}this.Ac.Orientation=a;this.orientation=this.Ac.Orientation}null!=this.Kf["parameters/acqType"]&&(this.Ac["Acq. Type"]=this.Kf["parameters/acqType"])};
f.hh=function(a){this.og?a():M.li(this.yl.originalUrl,function(b){this.Kf=b.items[0].data_fields;this.wh();lm.d.hh.call(this,function(){this.Jk();a()}.bind(this))}.bind(this))};f.zf=function(a){a=lm.d.zf.call(this,a);if(null!=a){for(var b=0,c=mm.length;b<c;b++)if(Fa(a,"."+mm[b]))return a;return null}};
f.Cu=function(a){for(var b=a.split("/"),c=0;c<b.length;c++)if("resources"==b[c]){var d=b[c+1];-1!=b[b.length-1].toLowerCase().indexOf("nii")&&(d=d+" - "+b[b.length-1]);break}void 0==d&&(d="scan");for(c=0;c<this.ib.length;c++)if(this.ib[c].pp==d)return this.ib[c];var e=new Dh;e.Aw(d);e.Cc(d);e.Im("scans");M.get(a.replace(/\/files\/.*$/,"?format=xml"),function(a){try{var b=Ei(a),c=b.getElementsByTagName("Catalog"),n=b.getElementsByTagName("DCMCatalog");if((void 0==c||1>c.length)&&(void 0==n||1>n.length))if(0<=
a.indexOf("DCMCatalog"))e.Cc("DICOM"+(0<d.indexOf("-")?d.substring(d.indexOf("-")-1):""));else{if(0<=a.indexOf("Catalog ID=")){var p=a.replace(/(\r\n|\n|\r)/gm,"").replace(/^.*Catalog ID=\\*"/,"").replace(/\\*".*$/,"");0<p.length&&0>p.indexOf("<")&&e.Cc(p+(0<d.indexOf("-")?d.substring(d.indexOf("-")-1):""))}}else 0<n.length?e.Cc("DICOM"+(0<d.indexOf("-")?d.substring(d.indexOf("-")-1):"")):0<c.length&&(p=c[0].attributes.getNamedItem("ID").nodeValue,e.Cc(p+(0<d.indexOf("-")?d.substring(d.indexOf("-")-
1):"")))}catch(m){e.Cc(d)}},"text");this.ib.push(e);return e};
f.sf=function(a){this.Im("Scans");E(a.split(","),function(b){b=this.zf(b);null!=b&&(b=this.Cu(b),0==b.pa.length&&b.Bt(new Ch),b.pa[0].sf(a,this.zf))},this);0==this.Ac["Total Frames"]&&(this.Ac["Total Frames"]=0<this.ib.length?this.ib[0].pa[0].mb().length:0);this.ib.sort(function(a,c){var d=!1,e=!1,h=!1,k=!1;0<a.pa.length&&0<a.pa[0].mb().length&&(0<=a.pa[0].mb()[0].toLowerCase().indexOf(".dcm")||0<=a.pa[0].mb()[0].toLowerCase().indexOf(".dcm")?d=!0:0<=a.pa[0].mb()[0].toLowerCase().indexOf(".nii")&&
(e=!0));0<c.pa.length&&0<c.pa[0].mb().length&&(0<=c.pa[0].mb()[0].toLowerCase().indexOf(".dcm")||0<=c.pa[0].mb()[0].toLowerCase().indexOf(".dcm")?h=!0:0<=c.pa[0].mb()[0].toLowerCase().indexOf(".nii")&&(k=!0));d=(d?9:0)+(e?5:0)+(a.$b()<c.$b()?1:-1);return(h?9:0)+(k?5:0)-d})};f.Bm=function(a){return $g(this.Dk,a[this.qj],"experiments")};
f.Jk=function(a){if(this.ib&&this.ib[0]){for(var b=0;b<this.ib.length;b++){var c=this.ib[b].pa[0].mb().sort(M.Hr);0<=c[0].toLowerCase().indexOf(".nii")?this.ib[b].yi(serverRoot+"/images/viewer/xiv/ui/Thumbnail/silhouette.png"):this.ib[b].yi(c[Math.floor(c.length/2)]+M.JPEG_CONVERT_SUFFIX);0==b&&this.yi(this.ib[0].ml)}null!=a&&a(this)}};f.g=function(){lm.d.g.call(this);null!=this.Kf&&D(this.Kf);delete this.Kf};v("gxnat.vis.Scan.acceptableFileTypes",mm);
v("gxnat.vis.Scan.prototype.folderQuerySuffix",lm.prototype.Fk);v("gxnat.vis.Scan.prototype.fileQuerySuffix",lm.prototype.lm);v("gxnat.vis.Scan.prototype.fileContentsKey",lm.prototype.qj);v("gxnat.vis.Scan.prototype.setViewableMetadata",lm.prototype.wh);v("gxnat.vis.Scan.prototype.getFileList",lm.prototype.hh);v("gxnat.vis.Scan.prototype.fileFilter",lm.prototype.zf);v("gxnat.vis.Scan.prototype.addFiles",lm.prototype.sf);v("gxnat.vis.Scan.prototype.makeFileUrl",lm.prototype.Bm);
v("gxnat.vis.Scan.prototype.getThumbnailImage",lm.prototype.Jk);v("gxnat.vis.Scan.prototype.dispose",lm.prototype.g);function nm(a,b,c){$c.call(this);this.target=a;this.handle=b||a;this.zo=c||new jj(NaN,NaN,NaN,NaN);this.la=Th(a);this.Kc=new Vj(this);zc(this,va(Ac,this.Kc));G(this.handle,["touchstart","mousedown"],this.qp,!1,this)}w(nm,$c);var om=F||hc&&pc("1.9.3");f=nm.prototype;f.clientX=0;f.clientY=0;f.screenX=0;f.screenY=0;f.Mw=0;f.Nw=0;f.$h=0;f.Wd=0;f.Xb=!0;f.kj=!1;f.YA=0;f.Fr=0;f.nJ=!1;f.ol=!1;f.mj=function(a){this.ol=a};f.nb=function(){return this.Kc};function pm(a,b){a.zo=b||new jj(NaN,NaN,NaN,NaN)}
f.KC=function(a){this.is=a};f.Pb=function(a){this.Xb=a};f.f=function(){nm.d.f.call(this);Uc(this.handle,["touchstart","mousedown"],this.qp,!1,this);this.Kc.Dg();om&&this.la.releaseCapture();this.handle=this.target=null};function qm(a){da(a.th)||(a.th=Aj(a.target));return a.th}
f.qp=function(a){var b="mousedown"==a.type;if(!this.Xb||this.kj||b&&!Jc(a))this.dispatchEvent("earlycancel");else{rm(a);if(0==this.YA)if(this.dispatchEvent(new sm("start",this,a.clientX,a.clientY)))this.kj=!0,a.preventDefault();else return;else a.preventDefault();var b=this.la,c=b.documentElement,d=!om;this.Kc.D(b,["touchmove","mousemove"],this.cJ,d);this.Kc.D(b,["touchend","mouseup"],this.nj,d);om?(c.setCapture(!1),this.Kc.D(c,"losecapture",this.nj)):this.Kc.D(bi(b),"blur",this.nj);F&&this.nJ&&this.Kc.D(b,
"dragstart",Dc);this.is&&this.Kc.D(this.is,"scroll",this.Dj,d);this.clientX=this.Mw=a.clientX;this.clientY=this.Nw=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.$h=this.ol?Ek(this.target):this.target.offsetLeft;this.Wd=this.target.offsetTop;this.ew=Di(Qh(this.la));this.Fr=xa()}};
f.nj=function(a,b){this.Kc.Dg();om&&this.la.releaseCapture();if(this.kj){rm(a);this.kj=!1;var c=tm(this,this.$h),d=um(this,this.Wd);this.dispatchEvent(new sm("end",this,a.clientX,a.clientY,0,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function rm(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.va(a.Xc.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.va(a.Xc.changedTouches[0],a.currentTarget)}
f.cJ=function(a){if(this.Xb){rm(a);var b=(this.ol&&qm(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.kj){var d=this.Mw-this.clientX,e=this.Nw-this.clientY;if(d*d+e*e>this.YA)if(this.dispatchEvent(new sm("start",this,a.clientX,a.clientY)))this.kj=!0;else{this.wk||this.nj(a);return}}c=vm(this,b,c);b=c.x;c=c.y;this.kj&&this.dispatchEvent(new sm("beforedrag",this,a.clientX,a.clientY,0,b,
c))&&(wm(this,a,b,c),a.preventDefault())}};function vm(a,b,c){var d=Di(Qh(a.la));b+=d.x-a.ew.x;c+=d.y-a.ew.y;a.ew=d;a.$h+=b;a.Wd+=c;b=tm(a,a.$h);a=um(a,a.Wd);return new Oh(b,a)}f.Dj=function(a){var b=vm(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;wm(this,a,b.x,b.y)};function wm(a,b,c,d){a.gu(c,d);a.dispatchEvent(new sm("drag",a,b.clientX,b.clientY,0,c,d))}
function tm(a,b){var c=a.zo,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function um(a,b){var c=a.zo,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}f.gu=function(a,b){this.ol&&qm(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};f.vg=function(){return this.kj};
function sm(a,b,c,d,e,h,k,l){Cc.call(this,a);this.clientX=c;this.clientY=d;this.left=da(h)?h:b.$h;this.top=da(k)?k:b.Wd;this.pu=b;this.GG=!!l}w(sm,Cc);yb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function xm(){this.kw="";this.XE=ym;this.Bz=null}xm.prototype.$z=function(){return this.Bz};xm.prototype.toString=function(){return"SafeHtml{"+this.kw+"}"};function zm(a){if(a instanceof xm&&a.constructor===xm&&a.XE===ym)return a.kw;fb("expected object of type SafeHtml, got '"+a+"'");return"type_error:SafeHtml"}yb("action","cite","data","formaction","href","manifest","poster","src");yb("link","script","style");var ym={};function Am(a,b){var c=new xm;c.kw=a;c.Bz=b;return c}var Bm=Am("",0);function Cm(a,b){$c.call(this);this.nd=new Vj(this);this.sw(a||null);b&&(this.Sm=b)}w(Cm,$c);f=Cm.prototype;f.q=null;f.eG=!0;f.Sy=null;f.Ty=null;f.Am=!1;f.mM=!1;f.hv=-1;f.hJ=!1;f.IG=!0;f.Sm="toggle_display";f.a=function(){return this.q};f.sw=function(a){if(this.Am)throw Error("Can not change this state of the popup while showing.");this.q=a};f.RC=function(a,b){this.Lm=a;this.tm=b};f.nb=function(){return this.nd};f.wa=function(){return this.Am};
f.ca=function(a){this.Lm&&this.Lm.stop();this.tm&&this.tm.stop();a?this.Ew():this.um()};f.Ce=fa;
f.Ew=function(){if(!this.Am&&this.Hv()){if(!this.q)throw Error("Caller must call setElement before trying to show the popup");this.Ce();var a=Th(this.q);this.hJ&&this.nd.D(a,"keydown",this.uK,!0);if(this.eG)if(this.nd.D(a,"mousedown",this.MB,!0),F){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}this.nd.D(a,"mousedown",this.MB,!0);this.nd.D(a,"deactivate",this.LB)}else this.nd.D(a,"blur",
this.LB);"toggle_display"==this.Sm?(this.q.style.visibility="visible",Lj(this.q,!0)):"move_offscreen"==this.Sm&&this.Ce();this.Am=!0;this.hv=xa();this.Lm?(Tc(this.Lm,"end",this.TB,!1,this),this.Lm.play()):this.TB()}};f.um=function(a){if(!this.Am||!this.dispatchEvent({type:"beforehide",target:a}))return!1;this.nd&&this.nd.Dg();this.Am=!1;xa();this.tm?(Tc(this.tm,"end",va(this.hz,a),!1,this),this.tm.play()):this.hz(a);return!0};
f.hz=function(a){"toggle_display"==this.Sm?this.mM?Zf(this.XA,0,this):this.XA():"move_offscreen"==this.Sm&&(this.q.style.top="-10000px");this.Qv(a)};f.XA=function(){this.q.style.visibility="hidden";Lj(this.q,!1)};f.Hv=function(){return this.dispatchEvent("beforeshow")};f.TB=function(){this.dispatchEvent("show")};f.Qv=function(a){this.dispatchEvent({type:"hide",target:a})};f.MB=function(a){a=a.target;ni(this.q,a)||Dm(this,a)||this.Ty&&!ni(this.Ty,a)||150>xa()-this.hv||this.um(a)};
f.uK=function(a){27==a.keyCode&&this.um(a.target)&&(a.preventDefault(),a.stopPropagation())};f.LB=function(a){if(this.IG){var b=Th(this.q);if("undefined"!=typeof document.activeElement){if(a=b.activeElement,!a||ni(this.q,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>xa()-this.hv||this.um()}};function Dm(a,b){return Eb(a.Sy||[],function(a){return b===a||ni(a,b)})}f.f=function(){Cm.d.f.call(this);this.nd.g();Ac(this.Lm);Ac(this.tm);delete this.q;delete this.nd;delete this.Sy};function Em(a){$c.call(this);this.q=a;a=F?"focusout":"blur";this.KJ=G(this.q,F?"focusin":"focus",this,!F);this.LJ=G(this.q,a,this,!F)}w(Em,$c);Em.prototype.handleEvent=function(a){var b=new Gc(a.Xc);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Em.prototype.f=function(){Em.d.f.call(this);Vc(this.KJ);Vc(this.LJ);delete this.q};function Fm(a,b){Zj.call(this,b);this.PM=!!a;this.xo=null}w(Fm,Zj);f=Fm.prototype;f.tu=null;f.Qc=!1;f.Re=null;f.zd=null;f.Ig=null;f.Ht=!1;f.$=function(){return"goog-modalpopup"};f.ei=function(){return this.Re};f.B=function(){Fm.d.B.call(this);var a=this.a(),b=Ia(this.$()).split(" ");Ol(a,b);ri(a,!0);Lj(a,!1);Gm(this);Hm(this)};
function Gm(a){if(a.PM&&!a.zd){var b;b=a.O().B("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.zd=b;a.zd.className=a.$()+"-bg";Lj(a.zd,!1);Kj(a.zd,0)}a.Re||(a.Re=a.O().B("div",a.$()+"-bg"),Lj(a.Re,!1))}function Hm(a){a.Ig||(a.Ig=a.O().createElement("span"),Lj(a.Ig,!1),ri(a.Ig,!0),a.Ig.style.position="absolute")}f.kC=function(){this.Ht=!1};f.Se=function(a){return!!a&&"DIV"==a.tagName};
f.qe=function(a){Fm.d.qe.call(this,a);a=Ia(this.$()).split(" ");Ol(this.a(),a);Gm(this);Hm(this);Lj(this.a(),!1)};f.lb=function(){this.zd&&gi(this.zd,this.a());gi(this.Re,this.a());Fm.d.lb.call(this);var a=this.a();a.parentNode&&a.parentNode.insertBefore(this.Ig,a.nextSibling);this.tu=new Em(Ai(this.O()));this.nb().D(this.tu,"focusin",this.zK);Im(this,!1)};f.Lc=function(){this.wa()&&this.ca(!1);Ac(this.tu);Fm.d.Lc.call(this);S(this.zd);S(this.Re);S(this.Ig)};
f.ca=function(a){a!=this.Qc&&(this.cl&&this.cl.stop(),this.Zl&&this.Zl.stop(),this.bl&&this.bl.stop(),this.Yl&&this.Yl.stop(),this.ma&&Im(this,a),a?this.Ew():this.um())};function Im(a,b){if(b){a.rm||(a.rm=[]);for(var c=a.O(),c=c.wu(c.la.body),d=0;d<c.length;d++){var e=c[d];e==a.q||Kl(e,"hidden")||(Jl(e,"hidden",!0),a.rm.push(e))}}else if(a.rm){for(d=0;d<a.rm.length;d++)a.rm[d].removeAttribute("aria-hidden");a.rm=null}}f.RC=function(a,b,c,d){this.cl=a;this.bl=b;this.Zl=c;this.Yl=d};
f.Ew=function(){if(this.dispatchEvent("beforeshow")){try{this.xo=Ai(this.O()).activeElement}catch(a){}this.ow();this.Ce();this.nb().D(Ci(this.O()),"resize",this.ow);Jm(this,!0);this.focus();this.Qc=!0;this.cl&&this.Zl?(Tc(this.cl,"end",this.Qr,!1,this),this.Zl.play(),this.cl.play()):this.Qr()}};
f.um=function(){if(this.dispatchEvent("beforehide")){this.nb().Ab(Ci(this.O()),"resize",this.ow);this.Qc=!1;this.bl&&this.Yl?(Tc(this.bl,"end",this.Io,!1,this),this.Yl.play(),this.bl.play()):this.Io();try{var a=Ai(this.O()).body,b=Ai(this.O()).activeElement||a;this.xo&&b==a&&this.xo!=a&&this.xo.focus()}catch(c){}this.xo=null}};function Jm(a,b){a.zd&&Lj(a.zd,b);a.Re&&Lj(a.Re,b);Lj(a.a(),b);Lj(a.Ig,b)}f.Qr=function(){this.dispatchEvent("show")};f.Io=function(){Jm(this,!1);this.dispatchEvent("hide")};
f.wa=function(){return this.Qc};f.focus=function(){this.Pz()};f.ow=function(){this.zd&&Lj(this.zd,!1);this.Re&&Lj(this.Re,!1);var a=Ai(this.O()),b=$h(bi(a)||window||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.zd&&(Lj(this.zd,!0),Fj(this.zd,c,a));this.Re&&(Lj(this.Re,!0),Fj(this.Re,c,a))};
f.Ce=function(){var a=Ai(this.O()),b=bi(a)||window;if("fixed"==rj(this.a()))var c=a=0;else c=Di(this.O()),a=c.x,c=c.y;var d=U(this.a()),b=$h(b||window),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);sj(this.a(),a,c);sj(this.Ig,a,c)};f.zK=function(a){this.Ht?this.kC():a.target==this.Ig&&Zf(this.Pz,0,this)};f.Pz=function(){try{F&&Ai(this.O()).body.focus(),this.a().focus()}catch(a){}};
f.f=function(){Ac(this.cl);this.cl=null;Ac(this.bl);this.bl=null;Ac(this.Zl);this.Zl=null;Ac(this.Yl);this.Yl=null;Fm.d.f.call(this)};function Km(a,b,c){Fm.call(this,b,c);this.Vd=a||"modal-dialog";this.ba=Lm(Lm(new Mm,Nm,!0),Om,!1,!0)}w(Km,Fm);f=Km.prototype;f.Hz=!0;f.Su=!0;f.wv=!0;f.Fq=!0;f.mq=.5;f.Rb="";f.Vc=null;f.Oa=null;f.mu=!1;f.Jd=null;f.de=null;f.Cs=null;f.Fe=null;f.kg=null;f.kd=null;f.jw="dialog";f.$=function(){return this.Vd};f.Cc=function(a){this.Rb=a;this.de&&oi(this.de,a)};f.$b=function(){return this.Rb};f.il=function(a){this.Vc=a=Am(a,null);this.kg&&(this.kg.innerHTML=zm(a))};
f.getContent=function(){return null!=this.Vc?zm(this.Vc):""};f.sj=function(){return this.jw};f.Ia=function(){this.a()||this.k();return this.kg};f.Uq=function(){this.a()||this.k();return this.Jd};f.ei=function(){this.a()||this.k();return Km.d.ei.call(this)};function Pm(a,b){a.mq=b;if(a.a()){var c=a.ei();c&&Kj(c,a.mq)}}function Qm(a,b){b!=a.wv&&Rm(a,b)}function Rm(a,b){a.wv=b;if(a.ma){var c=a.O(),d=a.ei(),e=a.zd;b?(e&&c.Zu(e,a.a()),c.Zu(d,a.a())):(c.removeNode(e),c.removeNode(d))}a.wa()&&Im(a,b)}
f.qs=function(a){this.Fq=a;this.cp(a&&this.ma)};f.cp=function(a){var b=Ia(this.Vd+"-title-draggable").split(" ");this.a()&&(a?Ol(this.Jd,b):Ql(this.Jd,b));a&&!this.Oa?(this.Oa=new nm(this.a(),this.Jd),Ol(this.Jd,b),G(this.Oa,"start",this.rs,!1,this)):!a&&this.Oa&&(this.Oa.g(),this.Oa=null)};
f.B=function(){Km.d.B.call(this);var a=this.a(),b=this.O();this.Jd=b.B("div",this.Vd+"-title",this.de=b.B("span",{className:this.Vd+"-title-text",id:ck(this)},this.Rb),this.Fe=b.B("span",this.Vd+"-title-close"));R(a,this.Jd,this.kg=b.B("div",this.Vd+"-content"),this.kd=b.B("div",this.Vd+"-buttons"));Il(this.de,"heading");Il(this.Fe,"button");ri(this.Fe,!0);Jl(this.Fe,"label",Sm);this.Cs=this.de.id;Il(a,this.sj());Jl(a,"labelledby",this.Cs||"");this.Vc&&(this.kg.innerHTML=zm(this.Vc));Lj(this.Fe,this.Su);
this.ba&&(a=this.ba,a.q=this.kd,a.k());Lj(this.kd,!!this.ba);Pm(this,this.mq)};
f.qe=function(a){Km.d.qe.call(this,a);a=this.a();var b=this.Vd+"-content";this.kg=Wh(document,null,b,a)[0];this.kg||(this.kg=this.O().B("div",b),this.Vc&&(this.kg.innerHTML=zm(this.Vc)),a.appendChild(this.kg));var b=this.Vd+"-title",c=this.Vd+"-title-text",d=this.Vd+"-title-close";(this.Jd=Wh(document,null,b,a)[0])?(this.de=Wh(document,null,c,this.Jd)[0],this.Fe=Wh(document,null,d,this.Jd)[0]):(this.Jd=this.O().B("div",b),a.insertBefore(this.Jd,this.kg));this.de?(this.Rb=ui(this.de),this.de.id||(this.de.id=
ck(this))):(this.de=Q("span",{className:c,id:ck(this)}),this.Jd.appendChild(this.de));this.Cs=this.de.id;Jl(a,"labelledby",this.Cs||"");this.Fe||(this.Fe=this.O().B("span",d),this.Jd.appendChild(this.Fe));Lj(this.Fe,this.Su);b=this.Vd+"-buttons";(this.kd=Wh(document,null,b,a)[0])?(this.ba=new Mm(this.O()),this.ba.Nb(this.kd)):(this.kd=this.O().B("div",b),a.appendChild(this.kd),this.ba&&(a=this.ba,a.q=this.kd,a.k()),Lj(this.kd,!!this.ba));Pm(this,this.mq)};
f.lb=function(){Km.d.lb.call(this);this.nb().D(this.a(),"keydown",this.qi).D(this.a(),"keypress",this.qi);this.nb().D(this.kd,"click",this.rK);this.cp(this.Fq);this.nb().D(this.Fe,"click",this.lL);var a=this.a();Il(a,this.sj());""!==this.de.id&&Jl(a,"labelledby",this.de.id);this.wv||Rm(this,!1)};f.Lc=function(){this.wa()&&this.ca(!1);this.cp(!1);Km.d.Lc.call(this)};f.ca=function(a){a!=this.wa()&&(this.ma||this.k(),Km.d.ca.call(this,a))};f.Qr=function(){Km.d.Qr.call(this);this.dispatchEvent(Tm)};
f.Io=function(){Km.d.Io.call(this);this.dispatchEvent(Um);this.mu&&this.g()};f.rs=function(){var a=Ai(this.O()),b=$h(bi(a)||window||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=U(this.a());"fixed"==rj(this.a())?pm(this.Oa,new jj(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height))):pm(this.Oa,new jj(0,0,c-d.width,a-d.height))};f.lL=function(){Vm(this)};
function Vm(a){if(a.Su){var b=a.ba,c=b&&b.Ot;c?(b=b.get(c),a.dispatchEvent(new Wm(c,b))&&a.ca(!1)):a.ca(!1)}}f.f=function(){this.kd=this.Fe=null;Km.d.f.call(this)};function Xm(a,b){a.ba=b;if(a.kd){if(a.ba){var c=a.ba;c.q=a.kd;c.k()}else a.kd.innerHTML=zm(Bm);Lj(a.kd,!!a.ba)}}f.rK=function(a){a:{for(a=a.target;null!=a&&a!=this.kd;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.ba.get(a);this.dispatchEvent(new Wm(a,b))&&this.ca(!1)}};
f.qi=function(a){var b=!1,c=!1,d=this.ba,e=a.target;if("keydown"==a.type)if(this.Hz&&27==a.keyCode){var h=d&&d.Ot,e="SELECT"==e.tagName&&!e.disabled;h&&!e?(c=!0,b=d.get(h),b=this.dispatchEvent(new Wm(h,b))):e||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&e==this.a()){this.Ht=!0;try{this.Ig.focus()}catch(k){}Zf(this.kC,0,this)}}else if(13==a.keyCode){if("BUTTON"==e.tagName&&!e.disabled)h=e.name;else if(e==this.Fe)Vm(this);else if(d){var l=d.hu,n;if(n=l)a:{n=d.q.getElementsByTagName("BUTTON");for(var p=
0,m;m=n[p];p++)if(m.name==l||m.id==l){n=m;break a}n=null}e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!n||n.disabled||e||(h=l)}h&&d&&(c=!0,b=this.dispatchEvent(new Wm(h,String(d.get(h)))))}else e==this.Fe&&32==a.keyCode&&Vm(this);if(b||c)a.stopPropagation(),a.preventDefault();b&&this.ca(!1)};function Wm(a,b){this.type=Ym;this.key=a;this.caption=b}w(Wm,Cc);var Ym="dialogselect",Um="afterhide",Tm="aftershow";function Mm(a){this.wb=a||Qh();id.call(this)}var Zm,$m;
w(Mm,id);f=Mm.prototype;f.Vd="goog-buttonset";f.hu=null;f.q=null;f.Ot=null;f.set=function(a,b,c,d){id.prototype.set.call(this,a,b);c&&(this.hu=a);d&&(this.Ot=a);return this};function Lm(a,b,c,d){return a.set(b.key,b.caption,c,d)}f.k=function(){if(this.q){this.q.innerHTML=zm(Bm);var a=Qh(this.q);this.forEach(function(b,c){var d=a.B("button",{name:c},b);c==this.hu&&(d.className=this.Vd+"-default");this.q.appendChild(d)},this)}};
f.Nb=function(a){if(a&&1==a.nodeType){this.q=a;a=this.q.getElementsByTagName("button");for(var b=0,c,d,e;c=a[b];b++)if(d=c.name||c.id,e=ui(c)||c.value,d){var h=0==b;this.set(d,e,h,c.name==an);h&&Nl(c,this.Vd+"-default")}}};f.a=function(){return this.q};f.O=function(){return this.wb};var an="cancel",Sm="Close",Nm={key:"ok",caption:"OK"},Om={key:an,caption:"Cancel"},bn={key:"yes",caption:"Yes"},cn={key:"no",caption:"No"},dn={key:"save",caption:"Save"},gn={key:"continue",caption:"Continue"};
"undefined"!=typeof document&&(Zm=Lm(new Mm,Nm,!0,!0),Lm(Lm(new Mm,Nm,!0),Om,!1,!0),$m=Lm(Lm(new Mm,bn,!0),cn,!1,!0),Lm(Lm(Lm(new Mm,bn),cn,!0),Om,!1,!0),Lm(Lm(Lm(new Mm,gn),dn),Om,!0,!0));function hn(){try{this.gl=serverRoot}catch(a){this.gl=""}Km.call(this);this.Hz=!1}w(hn,Km);v("nrg.ui.Dialog",hn);hn.ID_PREFIX="nrg.ui.Dialog";hn.CSS={Gx:"nrg-ui-dialog-overlay",Jp:"nrg-ui-dialog-background",Rj:"nrg-ui-dialog-closebutton",YD:"nrg-ui-dialog-closebutton-image",dF:"nrg-ui-dialog-subtext",Yj:"nrg-ui-dialog-text",TITLE:"nrg-ui-dialog-title",Eh:"nrg-ui-dialog-content",RD:"nrg-ui-dialog-buttons"};f=hn.prototype;f.ul={x:20,y:20};f.Fq=!0;f.Oa=null;f.dl=null;f.Fm=null;
f.Ey=function(a){O(this.Uw,a)};f.SF=function(a){O(this.Vc,a)};f.QF=function(a){O(this.qk.parentNode,a)};f.RF=function(a){O(this.qk,a)};f.py=function(a){O(this.sq,a)};f.PF=function(a){O(this.Mt,a)};
function jn(a){a.sq=Vh("modal-dialog-title-close",a.a())[0];O(a.sq,hn.CSS.Rj);a.qk=Q("img",{id:a.constructor.ID_PREFIX+"_CloseButton_"+B(),"class":hn.CSS.YD});a.qk.src=a.gl+"/images/viewer/xiv/ui/Modal/close.png";a.sq.appendChild(a.qk);G(a.qk,"click",function(a){this.ca(!this.wa());this.dispatchEvent({type:"f"});a.stopPropagation()}.bind(a))}f.bG=function(){var a=this.a(),b=Mk(a,600),c=Lk(a,600),d=Mk(a,600),a=Lk(a,600);this.RC(b,c,d,a)};
f.Gr=function(a,b,c,d){var e=this.a(),h=U(e.parentNode),k=U(e);c=null!=c?c:0;"left"==a?e.style.left=(0+c).toString()+"px":"right"==a&&(e.style.left=h.width-k.width+c+"px");"top"==b&&(e.style.top=(0+(null!=d?d:0)).toString()+"px")};
f.Ud=function(){var a=this.a(),b=U(this.a().parentNode);if(null!=this.ei()){var c=this.ei();0==c.opacity?S(c):al(c,{width:b.width,height:b.height,"z-index":199})}var c=U(a),d=0,e=0;c.width<=b.width&&(d=b.width/2-c.width/2);c.height<=b.height&&(e=b.height/2-c.height/2);sj(a,d,e)};f.qs=function(a){this.Fq=a;this.cp(a&&this.ma)};
f.cp=function(a){var b=Ia(this.$()+"-title-draggable").split(" "),c=this.Uq();this.a()&&(a?Ol(c,b):Ql(c,b));a&&!this.Oa?(this.Oa=new nm(this.a(),this.Jd),Ol(c,b),G(this.Oa,"start",this.rs,!1,this)):!a&&this.Oa&&(this.Oa.g(),this.Oa=null)};f.cx=function(){this.rs()};f.hI=function(){return this.Fm};f.aA=function(){return null!=this.Oa?this.Oa.zo:null};
f.rs=function(){var a=Ai(this.O()),b=bi(a)||window;null!=this.a()&&(a=U(this.a().parentNode),b=$h(b||window),U(this.a()),this.Fm=this.Oa.zo.clone(),"fixed"==rj(this.a())?pm(this.Oa,new jj(0,0,Math.max(0,b.width-this.ul.x),Math.max(0,b.height-this.ul.y))):pm(this.Oa,new jj(-1*this.ul.x,-1*this.ul.y,a.width+this.ul.x,a.height+this.ul.y)))};
f.ry=function(a){var b=Q("img",{id:this.constructor.ID_PREFIX+"_Image_"+B(),"class":hn.CSS.Gh});null==this.lo&&(this.lo=[]);this.lo.push(b);this.Ia().appendChild(b);null!=a&&(b.src=a);return b};f.mk=function(a){var b=Q("div",{id:this.constructor.ID_PREFIX+"_Text_"+B(),"class":hn.CSS.Yj},a);null==this.zh&&(this.zh=[]);this.zh.push(b);b.innerHTML=a||"";this.Ia().appendChild(b);return b};f.At=function(a){var b=Q("div",{id:"ErrorSub_"+B(),"class":hn.CSS.dF});b.innerHTML=a;this.Ia().appendChild(b);return b};
f.$H=function(){return this.a()};f.k=function(a){if(!this.ma)hn.d.k.call(this,a);else if(null!=a&&this.a().parentNode!=a){R(a,this.a());return}O(this.a(),"nrg-ui-dialog");this.Uw=Vh("modal-dialog-title",this.a())[0];this.Vc=Vh("modal-dialog-content",this.a())[0];this.Mt=Vh("modal-dialog-buttons",this.a())[0];this.qk=null;jn(this);O(this.Mt,hn.CSS.RD);O(this.Uw,hn.CSS.TITLE);O(this.Vc,hn.CSS.Eh);hn.d.qs.call(this,!1);this.qs(!0)};
f.ca=function(a,b){!0==b&&hn.d.ca.call(this,a);null!=this.a()&&(null==this.dl&&(this.dl=uj(this.a())),this.wa()&&!1==a?(this.dl=uj(this.a()),jl(this.a(),200,function(){this.ca(a,!0)}.bind(this))):this.wa()||!0!=a||(hn.d.ca.call(this,a),sj(this.a(),this.dl),this.a().style.opacity=0,gl(this.a(),200)))};
f.ds=function(){var a=this.a(),b=this.Ia(),c=0,d=0,e=0,h=0,k=a.style.overflow;a.style.overflow="visible";var l=this.a().style.opacity,n=this.a().style.visibility;this.a().style.opacity=1;null!=this.zh&&E(this.zh,function(a){e=a.scrollWidth;h=a.scrollHeight;c=e>c?e:c;d=h>d?h:d;Fj(a,e,h)});null!=k?a.style.overflow=k:a.style.removeProperty("overflow");var p=U(b),k=c>p.width?c:p.width,p=d>p.height?d:p.height;Fj(b,k,p);Fj(a,k+20,p+20);this.a().style.opacity=l;this.a().style.visibility=n};f.wI=function(){return this.zh};
f.iJ=function(){};f.f=function(){hn.d.f.call(this);delete this.Mt;delete this.Uw;delete this.Vc;delete this.qk;delete this.sq;null!=this.gl&&delete this.gl;null!=this.WB&&(S(this.WB),delete this.WB);null!=this.zh&&(E(this.zh,function(a){S(a);delete a}),delete this.zh);null!=this.lo&&(E(this.lo,function(a){S(a);delete a}),delete this.lo);null!=this.dl&&(D(this.dl),delete this.dl);null!=this.Fm&&(D(this.Fm),delete this.Fm)};v("nrg.ui.Dialog.ID_PREFIX",hn.ID_PREFIX);
v("nrg.ui.Dialog.EventType",{jO:"d",CLOSED:"e",fN:"f"});v("nrg.ui.Dialog.prototype.addTitleClass",hn.prototype.Ey);v("nrg.ui.Dialog.prototype.addContentClass",hn.prototype.SF);v("nrg.ui.Dialog.prototype.addCloseButtonClass",hn.prototype.QF);v("nrg.ui.Dialog.prototype.addCloseButtonImageClass",hn.prototype.RF);v("nrg.ui.Dialog.prototype.addCloseSpanClass",hn.prototype.py);v("nrg.ui.Dialog.prototype.addButtonsClass",hn.prototype.PF);v("nrg.ui.Dialog.prototype.applyFadeTransitions",hn.prototype.bG);
v("nrg.ui.Dialog.prototype.moveToCorner",hn.prototype.Gr);v("nrg.ui.Dialog.prototype.center",hn.prototype.Ud);v("nrg.ui.Dialog.prototype.hideWindowOnHover",hn.prototype.iJ);v("nrg.ui.Dialog.prototype.setDraggable",hn.prototype.qs);v("nrg.ui.Dialog.prototype.updateLimits",hn.prototype.cx);v("nrg.ui.Dialog.prototype.addImage",hn.prototype.ry);v("nrg.ui.Dialog.prototype.addText",hn.prototype.mk);v("nrg.ui.Dialog.prototype.addSubText",hn.prototype.At);v("nrg.ui.Dialog.prototype.getOverlay",hn.prototype.$H);
v("nrg.ui.Dialog.prototype.render",hn.prototype.k);v("nrg.ui.Dialog.prototype.setVisible",hn.prototype.ca);v("nrg.ui.Dialog.prototype.getTextElements",hn.prototype.wI);v("nrg.ui.Dialog.prototype.resizeToContents",hn.prototype.ds);v("nrg.ui.Dialog.prototype.getPreviousDraggerLimits",hn.prototype.hI);v("nrg.ui.Dialog.prototype.getDraggerLimits",hn.prototype.aA);v("nrg.ui.Dialog.prototype.disposeInternal",hn.prototype.f);function kn(){hn.call(this);Xm(this,null)}w(kn,hn);v("nrg.ui.ErrorDialog",kn);kn.ID_PREFIX="nrg.ui.ErrorDialog";kn.CSS={Gx:"nrg-ui-errordialog",Gh:"nrg-ui-errordialog-image",Yj:"nrg-ui-errordialog-text"};kn.prototype.hm=null;kn.prototype.mk=function(a){kn.d.mk.call(this,a);a=this.zh;O(a[a.length-1],kn.CSS.Yj)};kn.prototype.k=function(a){kn.d.k.call(this,a);O(this.a(),kn.CSS.Gx);null==this.hm&&(this.hm=this.ry(this.gl+"/images/viewer/xiv/ui/Overlay/sadbrain-white.png"),O(this.hm,kn.CSS.Gh),this.Ud())};
kn.prototype.f=function(){kn.d.f.call(this);null!=this.hm.parentNode&&S(this.hm);delete this.hm};v("nrg.ui.ErrorDialog.ID_PREFIX",kn.ID_PREFIX);v("nrg.ui.ErrorDialog.CSS",kn.CSS);v("nrg.ui.ErrorDialog.prototype.addText",kn.prototype.mk);v("nrg.ui.ErrorDialog.prototype.disposeInternal",kn.prototype.f);function ln(a,b,c,d){na(this);this.url=a;this.document=b;this.files=d}w(ln,eh);v("gxnat.slicerNode.Mrml",ln);function mn(a,b){na(this);this.file=a;this.Ae=b}w(mn,eh);v("gxnat.slicerNode.Displayable",mn);function nn(a,b,c){na(this);this.position=a;this.OM=b;this.focus=c}w(nn,eh);v("gxnat.slicerNode.Camera",nn);function on(a,b,c,d,e,h){na(this);this.position=a;this.color=b;this.name=h}w(on,eh);v("gxnat.slicerNode.Annotations",on);function pn(){na(this)}w(pn,eh);v("gxnat.slicerNode.Layout",pn);M.I={};v("gxnat.slicerUtils",M.I);M.I.px="/scripts/viewer/xiv/vis/GenericColorTable.txt";M.I.Lz=function(a){for(var b=[],c=0,d=a.length;c<d;c++)Fa(a[c],".mrml")&&b.push(a[c]);return b};M.I.Gu=function(a,b){M.get(a,function(a){b(new Ei(a))},"text")};M.I.qA=function(a,b,c){a=g(a)?a:[a];var d=M.I.Lz(a),e=[],h=0;E(d,function(b){M.I.Gu(b,function(l){h++;e.push(new ln(b,l,0,a));h==d.length&&c(e)})})};
M.I.pz=function(a,b,c){M.I.Sz(a,b,function(b){c(new zh(a,M.I.Wz(a),M.I.Tz(a),M.I.kA(a),b,M.I.HA(a),M.I.pA(a),null))})};M.I.uA=function(a,b){var c=[],d=[],e=0;E(a,function(a){c=M.I.vA(a.document);E(c,function(k){M.I.pz(k,a,function(a){e++;d.push(a);e==c.length&&b(d)})})})};M.I.bA=function(a,b){a=r(a)?M.I.Gu(a):a;var c=[];E(a.getElementsByTagName(b),function(a){c.push(a)});return c};M.I.vA=function(a){return M.I.bA(a,"SceneView")};
M.I.Wz=function(a){var b=a.getElementsByTagName("Camera").length-1,c=a.getElementsByTagName("Camera")[b].getAttribute("position"),d=a.getElementsByTagName("Camera")[b].getAttribute("viewUp");a=a.getElementsByTagName("Camera")[b].getAttribute("focalPoint");return new nn(dh(c),dh(d),dh(a))};M.I.zA=function(a,b){for(var c=a.getAttribute("storageNodeRef"),d=b.getElementsByTagName("SceneViewStorage"),e=0,h=d.length;e<h;e++)if(d[e].getAttribute("id")===c)return d[e].getAttribute("fileName")};
M.I.Tz=function(a){return new yh(a.getElementsByTagName("View")[0].getAttribute("backgroundColor"),a.getElementsByTagName("View")[0].getAttribute("backgroundColor2"))};M.I.kA=function(a){return new pn(a.getElementsByTagName("Layout")[0].getAttribute("currentViewArrangement"))};
M.I.Cm=function(a,b){if(null!=a)for(var c=0,d=b.length,e="",h="";c<d;c++)if(e=decodeURIComponent(b[c].toLowerCase()),h=decodeURIComponent(a.toLowerCase()),-1<h.indexOf("%")&&(h=decodeURIComponent(h)),e.indexOf(h)==e.length-h.length)return b[c].replace(/%/g,"%25")};M.I.tH=function(a,b){var c=a.slice(0,a.lastIndexOf("/")+1);/^\/+$/.test(c)||(c=c.replace(/\/+$/,""));return Ya(b,"!",yl(c),"/",yl(a))};
M.I.Sz=function(a,b,c){var d=a.getElementsByTagName("MarkupsDisplay"),e=a.getElementsByTagName("MarkupsFiducial");a=a.getElementsByTagName("MarkupsFiducialStorage");var h=[],k=[],l=0,n,p,m="rgb(255,0,0)",q="",t="",s="",z=0,y,I;0==a.length?c(null):(E(a,function(a){k.push(M.I.Cm(a.getAttribute("fileName"),b.files))}),0==k.length?c(null):E(k,function(a){M.get(a,function(a){l++;E(a.split(/\n/),function(a){if(-1==a.indexOf("#")&&(n=a.split(/,/),1!=n.length)){p=[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])];
s=n[11];m=[1,0,0];t=q="";z=0;for(len=e.length;z<len;z++)if(y=e[z],q=y.getAttribute("id"),q===n[0].replace("_","")){t=y.getAttribute("displayNodeRef");break}len=d.length;for(z=0;z<len;z++)if(I=d[z],q=I.getAttribute("id"),q===t){m=dh(I.getAttribute("color")).map(function(a){return parseFloat(a)});break}h.push(new on(p,m,0,0,0,s))}});l==k.length&&c(h)},"text")}))};
M.I.Bu=function(a,b,c){var d=[],e=a.getElementsByTagName(c),h=null,k=0,l=e.length;E(a.getElementsByTagName(b),function(a){for(k=0;k<l;k++)if(h=e[k],h.getAttribute("id")===a.getAttribute("storageNodeRef")){d.push(new mn(h.getAttribute("fileName"),a));break}});return d};M.I.qH=function(){return null};
M.I.HA=function(a){var b=a.getElementsByTagName("Selection")[0].getAttribute("activeVolumeID"),c=M.I.Bu(a,"Volume","VolumeArchetypeStorage"),d=a.getElementsByTagName("LabelMapVolumeDisplay"),e=[],h=[],k="";E(c,function(a){k=a.Ae.getAttribute("displayNodeRef");1<k.indexOf("LabelMap")?(E(d,function(b){b.getAttribute("id")==k&&(a.Qn=b,-1!=b.getAttribute("colorNodeID").indexOf("vtkMRMLColorTableNodeFileGeneric")?a.Tt=serverRoot+M.I.px:window.console.log("Custom color table: ",b.getAttribute("colorNodeID")))}),
e.push(a)):h.push(a)});var l="";E(e,function(a){l=a.Ae.getAttribute("attributes").split(";");E(l,function(b){-1!=b.indexOf("AssociatedNodeID")&&(refVol=b.split(":")[1],E(h,function(b){b.Ae.getAttribute("id")==refVol&&(b.nh=a)}.bind(this)))}.bind(this))});E(h,function(c){c.Cg=new qh(a,c.Ae,b);c.nh&&(c.Cg.nh=c.nh,delete c.nh)});return h};M.I.pA=function(a){var b=M.I.Bu(a,"Model","ModelStorage");E(b,function(b){b.Cg=new gh(a,b.Ae)});return b};v("gxnat.slicerUtils.GENERIC_COLORTABLE_FILE",M.I.px);
v("gxnat.slicerUtils.extractMrmls",M.I.Lz);v("gxnat.slicerUtils.getMrmlAsXml",M.I.Gu);v("gxnat.slicerUtils.getMrmlNodes",M.I.qA);v("gxnat.slicerUtils.createSceneViewProperties",M.I.pz);v("gxnat.slicerUtils.getSceneViewNodes",M.I.uA);v("gxnat.slicerUtils.getElementsFromMrml",M.I.bA);v("gxnat.slicerUtils.getSceneViewsFromMrml",M.I.vA);v("gxnat.slicerUtils.getCameraFromSceneView",M.I.Wz);v("gxnat.slicerUtils.getThumbnail",M.I.zA);v("gxnat.slicerUtils.mrmlColorToRgb",M.I.uQ);
v("gxnat.slicerUtils.getBackgroundColorFromSceneView",M.I.Tz);v("gxnat.slicerUtils.getLayoutFromSceneView",M.I.kA);v("gxnat.slicerUtils.matchFileToSet",M.I.Cm);v("gxnat.slicerUtils.getFileUrlRelativeToMrbUrl",M.I.tH);v("gxnat.slicerUtils.getAnnotations",M.I.Sz);v("gxnat.slicerUtils.getDisplayables",M.I.Bu);v("gxnat.slicerUtils.getFibers",M.I.qH);v("gxnat.slicerUtils.getVolumes",M.I.HA);v("gxnat.slicerUtils.getMeshes",M.I.pA);function qn(a,b,c){this.oi=[];Hi.call(this,"Slicer Scenes",a,b);c&&c(this)}w(qn,Hi);v("gxnat.vis.Slicer",qn);var rn=["jpeg","jpg","png","gif"];f=qn.prototype;f.Fk="resources/Slicer/files";f.lm="?listContents=true";f.qj="File Name";f.hh=function(a){this.og?sn(this,a):lm.d.hh.call(this,function(){this.Jk(function(){this.wh();sn(this,a)}.bind(this))}.bind(this))};function sn(a,b){M.I.qA(a.oi,0,function(a){M.I.uA(a,function(d){this.jz(d,a,b)}.bind(this))}.bind(a))}
f.jz=function(a,b,c){this.fK=b;this.ZL=a;var d,e,h,k;E(this.ZL,function(a){d=[a.TM||[],a.YJ||[],a.PG||[]];e=[];E(d,function(a){E(a,function(a){h=M.I.Cm(yl(a.file),this.oi);a.Cg instanceof qh&&a.Cg.nh&&(a.Cg.labelMapFile=M.I.Cm(a.Cg.nh.file,this.oi),null!=a.Cg.nh.Tt&&null==M.I.Cm(a.Cg.nh.Tt,this.oi)&&(a.Cg.colorTableFile=a.Cg.nh.Tt));e.push(new Ch(h,a.Cg))}.bind(this))}.bind(this));k=new Dh(e);k.yi(M.I.Cm(M.I.zA(a.element,this.fK[0].document),this.oi));k.Cc(a.element.getAttribute("name"));k.zw(a);
this.ib.push(k)}.bind(this));c&&c(this)};f.Jk=function(a){var b="",c=0,d=this.oi.length;for(this.thumbnailFiles=[];c<d;c++)b=uh(this.oi[c]),-1!=rn.indexOf(b)&&this.thumbnailFiles.push(this.oi[c]);E(this.thumbnailFiles,function(a,b){-1!=a.indexOf("%20")&&(this.thumbnailFiles[b]=a.replace(/%20/g,"%2520"))}.bind(this));d=this.thumbnailFiles.length;for(c=0;c<d;c++)if("Data"!=sh(th(this.thumbnailFiles[c]))){this.yi(this.thumbnailFiles[c]);break}a&&a(this)};f.sf=function(a){g(a)||(a=[a]);E(a,function(a){this.oi.push(a)}.bind(this))};
v("gxnat.vis.Slicer.thumbnailExtensions",rn);v("gxnat.vis.Slicer.prototype.folderQuerySuffix",qn.prototype.Fk);v("gxnat.vis.Slicer.prototype.fileQuerySuffix",qn.prototype.lm);v("gxnat.vis.Slicer.prototype.fileContentsKey",qn.prototype.qj);v("gxnat.vis.Slicer.prototype.getFileList",qn.prototype.hh);v("gxnat.vis.Slicer.prototype.convertToViewableGroups",qn.prototype.jz);v("gxnat.vis.Slicer.prototype.getThumbnailImage",qn.prototype.Jk);v("gxnat.vis.Slicer.prototype.addFiles",qn.prototype.sf);function tn(){im.call(this);this.Pg.push(this.pw);this.Pg.push(this.XL);this.Pg.push(this.YL)}w(tn,im);v("xiv.sampleData.Scans",tn);
tn.prototype.pw=new hm("src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 1","Total Frames":176,Type:"t1_mpr_1mm_p2_pos50"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample1/Sample1.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);
tn.prototype.XL=new hm("src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 2","Total Frames":176,Type:"t1_mpr_1mm_p2_pos50"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample2/Sample2.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);
tn.prototype.YL=new hm("src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 3","Total Frames":176,Type:"t2_spc_1mm_p2"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample3/Sample3.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function un(a,b,c,d){wc.call(this);vn();wn();this.$m={h:lm,fQ:Ni,uM:qn};this.md=null!=a?a:un.States.Sj;this.aK=b;this.nC=d;this.$r=Xg(d);this.$g=this.$g?this.$g:[];a="/"!==c[0]?"/"+c:c;-1===this.$g.indexOf(this.$r+a)&&this.$g.push(-1===a.indexOf(this.$r)?this.$r+a:a);1==this.$g.length&&(this.$d=new Vg(this.$g[0]))}w(un,wc);v("xiv.start",un);un.ModalStates={Ke:"fullscreen",mf:"popup",Ps:"fullscreen-popup",Rg:"windowed",Sj:"demo",bE:"demp-fullscreen"};un.States={Sj:"demo",YN:"live"};
function vn(){Sf.IMA=[Tf,null]}function wn(){document.body.style.overflow="hidden"}f=un.prototype;f.Ns=B();f.Ny=300;f.zJ=1E3;f.gr=!1;f.jr=!1;f.MC=function(){};f.Vy=function(){xn(this);this.show();this.md==un.States.Sj?(km.MODE="demo",S(this.gb.ba.mf),S(this.gb.ba.tl),yn(this)):(this.gb.Bc(this.aK),zn(this))};f.jM=function(a){this.bK=a};function xn(a){a.gb=new a.bK;a.gb.AC(serverRoot);G(a.gb,"g",a.IK.bind(a));window.onresize=function(){null!=this.gb&&this.gb.o()}.bind(a)}
f.IK=function(){this.he.sB(null,function(a){E(a,function(a){An(this,a);this.gb.aa.Zc()}.bind(this))}.bind(this))};f.show=function(){this.gb.a().style.opacity=0;this.gb.k();this.md!==un.States.Sj&&this.gb.oy();G(this.gb.aa.qa,"a",this.cw.bind(this));G(this.gb.ba.mf,"click",this.sG.bind(this));G(this.gb.ba.tl,"click",this.g.bind(this));this.gb.Lb.lc(!0,0,this.zJ);il(this.gb.a(),this.Ny)};
function yn(a){var b=a.gb.aa,c={slicer:(new jm).Pg,scan:(new tn).Pg},d,e=null;C(c,function(a,b){E(a,function(a){d="scan"==b?new this.$m.h:new this.$m.uM;d.sf(a.files);d.xC(!0);d.NC(a.ZJ);d.yi(a.Tw);Bn(this,d,a.vu);null==e&&(e=a.vu);E(a.vu,function(a){Ib(e,a)||e.push(a)})}.bind(this))}.bind(a));a=b.qa.Mq(e);var h=[];E(a,function(a){null!=a&&(a.hc.Wi=0,a.lc(!0),a=a.vf,a.style.opacity=0,h.push(a))});b.qa.a().style.opacity=1;Ob(h,void 0,0,b.qa.a());kl(h,400,200)}
function zn(a){var b=a.gb.aa.qa,c=0;a.gb.aa&&G(a.gb.aa.qa,Cn,a.zL.bind(a));a.he=new Qi(a.$g[0]);a.he.pB(function(a){var e=An(this,a);0==c&&(this.qJ=a,this.Wu=b.La[e[0]],b.Zo(e[0]));1==c&&(this.jr=!0,this.rJ=a,this.kr=this.Wu.La[e[1]]);2==c&&(this.gr=!0,this.hr=a,this.bB=this.kr.La[e[2]],gm([this.Wu,this.kr,this.bB]));c++}.bind(a))}
function Dn(a,b){var c=a.he.Wn(b),d=a.he.Uz(b),e=0;C(c,function(a,b){var c=d[e];25<c.length&&(c=Xa(c,25));d[e]=b.toUpperCase()+":&nbsp&nbsp&nbsp&nbsp&nbsp"+c;e++});return d}function An(a,b){var c=a.he.Vz(b),d=Dn(a,b);En(a,d,c);return d}function Fn(a,b){a.he.oB(b.originalUrl,null,function(a){if(b.si("subjects")==this.$d.si("subjects")&&this.jr){var d=this.$d.si("experiments");this.hr=this.he.mm(d);Lb(a,this.hr);Ob(a,0,0,this.hr);this.jr=!1}E(a,function(a){An(this,a)}.bind(this))}.bind(a))}
f.cw=function(a){if(null!=a.Ae[this.Ns])switch(a=new Vg(a.Ae[this.Ns]),a.Kq()){case "subjects":Fn(this,a);break;case "experiments":Gn(this,a.originalUrl)}};f.sm=function(a){jl(this.gb.a(),this.Ny,a)};f.g=function(){this.sm(this.CG.bind(this))};
function Gn(a,b){if(null==a.rv)a.rv=[];else if(-1<a.rv.indexOf(b)){window.console.log("don't need to reload",b);return}var c=a.he.Wn(a.he.mm(b)),c=new Gi(c.projects[bj],c.subjects[bj],c.experiments[bj]);Hn(a,b,function(){this.rv.push(b);this.gr&&(this.gr=!1,C(this.kr.La,function(){}.bind(this)))}.bind(a),c)}f.zL=function(a){var b=a.Ae.hc.Wi;a.Ae.hc.Wi=0;a.Ae.hc.Wi=b};
f.sG=function(){var a=open(this.nC+"/scripts/viewer/xiv/popup.html?"+this.$g[0],"XImgView","width=1200,height=800");a.focus();var b=this.$g[0];a.onload=function(){a.pQ(b,un.ModalStates.mf,serverRoot)}.bind(this);this.g()};function Hn(a,b,c,d){In(a,b,function(a){var b=a.ti;Jn(this,a,b,function(a){Bn(this,a)}.bind(this));null!=d&&(this.Sa[b].hp(d.KL),this.Sa[b].jp(d.yM),this.Sa[b].dp(d.NG))}.bind(a),c)}
function En(a,b,c){var d=a.gb.aa.qa;d.Mn(b);zippyNodes=d.Mq(b);E(zippyNodes,function(a,b){-1<a.$b().toLowerCase().indexOf("experiments")&&!a.dr()&&Tc(a,"a",function(){a.vy()});null==c||null==c[b]||null==a[this.Ns]&&(a[this.Ns]=c[b])}.bind(a))}
function Bn(a,b,c){var d=a.gb.aa;null!=d&&(null==c&&null!=a.he&&(c=Dn(a,a.he.mm(b.Dk))),("experimentResource"in a.$m||"Scans"!=b.uf)&&c.push(b.uf),b.hh(function(){if(0<b.ib.length){d.ej(b,c).uw(b.ml);var a=d.qa.Mq(c);0<c.length&&1<a.length&&d.lc(c[c.length-1],a[a.length-2])}}.bind(a)))}function Jn(a,b,c,d){a.Sa=a.Sa?a.Sa:{};null==a.Sa[c]&&(a.Sa[c]=b,d(b))}
f.CG=function(){un.d.g.call(this);document.body.style.overflow="visible";C(this.Sa,function(a,b){a.g();delete this.Sa[b]}.bind(this));delete this.Sa;this.he&&(this.he.g(),delete this.he);delete this.$g;delete this.nC;delete this.$r;delete this.hQ;null!=this.$d&&(this.$d.g(),delete this.$d);delete this.gr;delete this.jr;delete this.qJ;delete this.rJ;delete this.hr;delete this.Wu;delete this.kr;delete this.bB;J(this.gb);this.gb.g();S(this.gb.a());delete this.gb};
function In(a,b,c,d){var e=nb(a.$m),h=0;C(a.$m,function(a){Mi(b,a,c,function(){h++;h===e&&null!=d&&d()})})}v("xiv.start.States",un.States);v("xiv.start.loadCustomExtensions",vn);v("xiv.start.adjustDocumentStyle",wn);v("xiv.start.ModalStates",un.ModalStates);v("xiv.start.checkForWebGL",un.checkForWebGL);v("xiv.start.isCompatible",un.AJ);v("xiv.start.prototype.setServerRoot",un.prototype.MC);v("xiv.start.prototype.setModalType",un.prototype.jM);v("xiv.start.prototype.begin",un.prototype.Vy);
v("xiv.start.prototype.show",un.prototype.show);v("xiv.start.prototype.hide",un.prototype.sm);v("xiv.start.prototype.dispose",un.prototype.g);window["xiv.start.isCompatible"]=un.AJ;window["xiv.start.checkForWebGL"]=un.checkForWebGL;window["xiv.start.ModalStates"]=un.ModalStates;un.prototype.setServerRoot=un.prototype.MC;un.prototype.begin=un.prototype.Vy;function Kn(){$c.call(this);this.ro=[];this.qD=[];this.Wo=[]}w(Kn,$c);f=Kn.prototype;f.cv=!1;f.dv=!1;f.Bj=!1;f.gB=function(){return this.Bj};function Ln(a,b){a.qD.push(b);b.dv=!0;a.cv=!0}f.KC=function(a){this.is=a};f.va=function(){if(!this.Bj){for(var a,b=0;a=this.ro[b];b++)Mn(this,a);this.Bj=!0}};function Mn(a,b){a.cv&&(G(b.element,"mousedown",b.zg,!1,b),a.Iw&&Nl(b.element,a.Iw));a.dv&&a.Sw&&Nl(b.element,a.Sw)}
function Nn(a){for(var b,c=0;b=a.ro[c];c++){var d=a;d.cv&&(Uc(b.element,"mousedown",b.zg,!1,b),d.Iw&&Pl(b.element,d.Iw));d.dv&&d.Sw&&Pl(b.element,d.Sw);b.g()}a.ro.length=0}
f.qp=function(a,b){if(!this.yf)if(this.yf=b,!1==this.dispatchEvent(new On("dragstart",0,this.yf)))this.yf=null;else{var c=b.gj;this.yk=this.Zt(c);var d=Th(c);d.body.appendChild(this.yk);var e=this.yk,h=zj(c),c=Rj(c,"margin");h.x-=2*(c.left||0);h.y-=2*(c.top||0);e.style.position="absolute";e.style.left=h.x+"px";e.style.top=h.y+"px";this.Oa=new nm(e);this.Oa.KC(this.is);G(this.Oa,"drag",this.CB,!1,this);G(this.Oa,"end",this.nj,!1,this);G(d.body,"selectstart",this.nD);this.Om=[];for(e=0;d=this.qD[e];e++)for(var k,
h=0;k=d.ro[h];h++)for(var c=d,l=[k.element],n=this.Om,p=0;p<l.length;p++){var m=l[p],q,t=m;q=zj(t);t=U(t);q=new ij(q.y,q.x+t.width,q.y+t.height,q.x);n.push(new Pn(q,c,k,m));Qn(this,q)}this.Bi||(this.Bi=new ij(0,0,0,0));for(e=0;d=this.Wo[e];e++)d.Vt=[],d.oC=d.q.scrollLeft,d.pC=d.q.scrollTop,h=zj(d.q),c=U(d.q),d.Hc=new ij(h.y,h.x+c.width,h.y+c.height,h.x);for(e=0;c=this.Om[e];e++)for(h=0;d=this.Wo[h];h++)ni(d.q,c.q)&&(d.Vt.push(c),c.Vo=d);this.kk=null;for(e=0;d=this.Wo[e];e++)G(d.q,"scroll",this.fz,
!1,this);this.Oa.qp(a);a.preventDefault()}};
f.nj=function(a){var b=a.GG?null:this.kk;if(b&&b.jl){var c=a.clientX;a=a.clientY;var d=Di(Qh(this.yk)),e=c+d.x,d=a+d.y,h;this.vp&&(h=this.vp(b.ki,b.Hc,e,d));this.dispatchEvent(new On("drag",0,this.yf,0,b.ki,0,c,a));b.jl.dispatchEvent(new On("drop",0,this.yf,0,b.ki,0,c,a,0,0,h))}this.dispatchEvent(new On("dragend",0,this.yf));Uc(this.Oa,"drag",this.CB,!1,this);Uc(this.Oa,"end",this.nj,!1,this);Uc(Th(this.yf.gj).body,"selectstart",this.nD);for(b=0;c=this.Wo[b];b++)Uc(c.q,"scroll",this.fz,!1,this),c.Vt=
[];this.Oa.g();S(this.yk);delete this.yf;delete this.yk;delete this.Oa;delete this.Om;delete this.kk};
f.CB=function(a){var b,c=Di(Qh(this.yk));b=new Oh(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.kk,h;if(e){this.vp&&e.jl&&(h=this.vp(e.ki,e.Hc,c,d));if(e.Hc.contains(b)&&h==this.ny)return;e.jl&&(this.dispatchEvent(new On("dragout",0,this.yf,0,e.ki)),e.jl.dispatchEvent(new On("dragout",0,this.yf,0,e.ki,0,void 0,void 0,0,0,this.ny)));this.ny=h;this.kk=null}if(this.Bi.contains(b)){a:{for(var k=0;e=this.Om[k];k++)if(e.Hc.contains(b))if(e.Vo){if(e.Vo.Hc.contains(b)){b=e;break a}}else{b=e;break a}b=
null}if((e=this.kk=b)&&e.jl)this.vp&&(h=this.vp(e.ki,e.Hc,c,d)),c=new On("dragover",0,this.yf,0,e.ki),c.zM=h,this.dispatchEvent(c),e.jl.dispatchEvent(new On("dragover",0,this.yf,0,e.ki,0,a.clientX,a.clientY,0,0,h));else if(!e){this.Te||(this.Te=new Pn(this.Bi.clone()));a=this.Te.Hc;a.top=this.Bi.top;a.right=this.Bi.right;a.bottom=this.Bi.bottom;a.left=this.Bi.left;for(h=0;e=this.Om[h];h++)b=e.Hc,e.Vo&&(e=e.Vo.Hc,b=new ij(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,e.bottom),
Math.max(b.left,e.left))),e=null,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),k=null,d>=b.bottom?k=b.bottom>a.top?b.bottom:a.top:d<b.top&&(k=b.top<a.bottom?b.top:a.bottom),null===e||null===k||(Math.abs(e-c)>Math.abs(k-d)?k=null:e=null),null!==e?e<=c?a.left=e:a.right=e:null!==k&&(k<=d?a.top=k:a.bottom=k);this.kk=10<=(a.right-a.left)*(a.bottom-a.top)?this.Te:null}}};f.nD=function(){return!1};
f.fz=function(a){for(var b=0,c;c=this.Wo[b];b++)if(a.target==c.q){var d=c.pC-c.q.scrollTop,e=c.oC-c.q.scrollLeft;c.pC=c.q.scrollTop;c.oC=c.q.scrollLeft;this.Te&&this.kk==this.Te&&(0<d?this.Te.Hc.top+=d:this.Te.Hc.bottom+=d,0<e?this.Te.Hc.left+=e:this.Te.Hc.right+=e);for(var h=0,k;k=c.Vt[h];h++)k=k.Hc,k.top+=d,k.left+=e,k.bottom+=d,k.right+=e,Qn(this,k)}this.Oa.Dj(a)};
f.Zt=function(a){a:{for(var b=a.cloneNode(!0),c=a.getElementsByTagName("textarea"),d=b.getElementsByTagName("textarea"),e=0;e<c.length;e++)d[e].value=c[e].value;switch(a.tagName.toLowerCase()){case "tr":a=Q("table",null,Q("tbody",null,b));break a;case "td":case "th":a=Q("table",null,Q("tbody",null,Q("tr",null,b)));break a;case "textarea":b.value=a.value;default:a=b}}this.HG&&Nl(a,this.HG);return a};f.Lq=function(){return this.Oa};
function Qn(a,b){if(1==a.Om.length)a.Bi=new ij(b.top,b.right,b.bottom,b.left);else{var c=a.Bi;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}f.f=function(){Kn.d.f.call(this);Nn(this)};function On(a,b,c,d,e,h,k,l,n,p,m){Cc.call(this,a);this.Eq=c;this.em=e;this.clientX=k;this.clientY=l;this.zM=m}w(On,Cc);On.prototype.f=function(){};
function Rn(a,b){$c.call(this);this.element=Uh(a);this.data=b;this.Ya=null;this.Kc=new Vj(this);zc(this,va(Ac,this.Kc));if(!this.element)throw Error("Invalid argument");}w(Rn,$c);f=Rn.prototype;f.gj=null;f.zg=function(a){if(Jc(a)){var b=a.target;b&&(this.Kc.D(b,"mousemove",this.zB,!1).D(b,"mouseout",this.zB,!1),this.Kc.D(Th(b),"mouseup",this.dK,!0),this.gj=b,this.Lw=new Oh(a.clientX,a.clientY),a.preventDefault())}};f.fp=function(a){this.Ya=a};
f.zB=function(a){var b=this.gj,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Lw.x)+Math.abs(a.clientY-this.Lw.y)||b)this.Kc.Dg(),this.Ya.qp(a,this)};f.dK=function(){this.Kc.Dg();delete this.Lw;this.gj=null};function Pn(a,b,c,d){this.Hc=a;this.jl=b;this.ki=c;this.q=d}Pn.prototype.Vo=null;function Sn(a,b){this.type=a;this.currentTarget=this.target=b||null}f=Sn.prototype;f.Bg=!1;f.defaultPrevented=!1;f.To=!0;f.stopPropagation=function(){this.Bg=!0};f.preventDefault=function(){this.defaultPrevented=!0;this.To=!1};
function Tn(a){a=new Sn("click",a);a.button=0;var b=void 0;if(!b&&a.target&&1==a.target.nodeType)try{b=Cj(a.target)}catch(c){}a.clientX=b?b.x:0;a.clientY=b?b.y:0;a.screenX=a.clientX;a.screenY=a.clientY;a.To=!0;for(var b=[],d=a.target;d;d=d.parentNode)b.push(d);for(d=b.length-1;0<=d&&!a.Bg;d--){var e=b[d],h=a.type,k=new Gc(a,b[d]);hb(e)?ad(e,h,!0,k):Xc(e,h,!0,k)}for(d=0;d<b.length&&!a.Bg;d++)e=b[d],h=a.type,k=new Gc(a,b[d]),hb(e)?ad(e,h,!1,k):Xc(e,h,!1,k)};function Un(a,b){if(!a)throw Error("Invalid class name "+a);if(!la(b))throw Error("Invalid decorator function "+b);Vn[a]=b}var Wn={},Vn={};function Xn(){}var Yn;ga(Xn);var Zn={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};f=Xn.prototype;f.fh=function(){};f.B=function(a){var b=a.O().B("div",this.Gk(a).join(" "),a.getContent());$n(this,a,b);return b};f.Ia=function(a){return a};f.Bk=function(a,b,c){if(a=a.a?a.a():a){var d=[b];F&&!pc("7")&&(d=ao(Ll(a),b),d.push(b));(c?Ol:Ql)(a,d)}};f.Se=function(){return!0};
f.Nb=function(a,b){b.id&&dk(a,b.id);var c=this.Ia(b);c&&c.firstChild?bo(a,c.firstChild.nextSibling?Nb(c.childNodes):c.firstChild):a.Vc=null;var d=0,e=this.$(),h=this.$(),k=!1,l=!1,c=!1,n=Nb(Ll(b));E(n,function(a){k||a!=e?l||a!=h?d|=this.Iu(a):l=!0:(k=!0,h==e&&(l=!0))},this);a.U=d;k||(n.push(e),h==e&&(l=!0));l||n.push(h);var p=a.ng;p&&n.push.apply(n,p);if(F&&!pc("7")){var m=ao(n);0<m.length&&(n.push.apply(n,m),c=!0)}if(!k||!l||p||c)b.className=n.join(" ");$n(this,a,b);return b};
f.xm=function(a){a.Xe()&&this.Km(a.a(),!0);a.isEnabled()&&this.Ij(a,a.wa())};function co(a,b,c){if(a=c||a.fh())c=b.getAttribute("role")||null,a!=c&&Il(b,a)}function $n(a,b,c){b.wa()||Jl(c,"hidden",!b.wa());b.isEnabled()||a.Bh(c,1,!b.isEnabled());eo(b,8)&&a.Bh(c,8,!!(b.U&8));eo(b,16)&&a.Bh(c,16,b.lh());eo(b,64)&&a.Bh(c,64,!!(b.U&64))}f.Yo=function(a,b){Oj(a,!b,!F&&!gc)};f.Km=function(a,b){this.Bk(a,this.$()+"-rtl",b)};f.ji=function(a){var b;return eo(a,32)&&(b=a.xc())?si(b)&&ti(b):!1};
f.Ij=function(a,b){var c;if(eo(a,32)&&(c=a.xc())){if(!b&&a.U&32){try{c.blur()}catch(d){}a.U&32&&a.Lk(null)}(si(c)&&ti(c))!=b&&ri(c,b)}};f.ca=function(a,b){Lj(a,b);a&&Jl(a,"hidden",!b)};f.Bc=function(a,b,c){var d=a.a();if(d){var e=this.Xn(b);e&&this.Bk(a,e,c);this.Bh(d,b,c)}};f.Bh=function(a,b,c){Yn||(Yn={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=Yn[b];var d=a.getAttribute("role")||null;d&&(d=Zn[d]||b,b="checked"==b||"selected"==b?d:b);b&&Jl(a,b,c)};
f.il=function(a,b){var c=this.Ia(a);if(c&&(fi(c),b))if(r(b))oi(c,b);else{var d=function(a){if(a){var b=Th(c);c.appendChild(r(a)?b.createTextNode(a):a)}};g(b)?E(b,d):!ia(b)||"nodeType"in b?d(b):E(Nb(b),d)}};f.xc=function(a){return a.a()};f.$=function(){return"goog-control"};f.Gk=function(a){var b=this.$(),c=[b],d=this.$();d!=b&&c.push(d);b=a.om();for(d=[];b;){var e=b&-b;d.push(this.Xn(e));b&=~e}c.push.apply(c,d);(a=a.ng)&&c.push.apply(c,a);F&&!pc("7")&&c.push.apply(c,ao(c));return c};
function ao(a,b){var c=[];b&&(a=a.concat([b]));E([],function(d){!Fb(d,va(Ib,a))||b&&!Ib(d,b)||c.push(d.join("_"))});return c}f.Xn=function(a){this.rq||fo(this);return this.rq[a]};f.Iu=function(a){if(!this.kD){this.rq||fo(this);var b=this.rq,c={},d;for(d in b)c[b[d]]=d;this.kD=c}a=parseInt(this.kD[a],10);return isNaN(a)?0:a};function fo(a){var b=a.$();b.replace(/\xa0|\s/g," ");a.rq={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function go(a,b){$c.call(this);a&&this.Xl(a,b)}w(go,$c);f=go.prototype;f.q=null;f.sr=null;f.ev=null;f.tr=null;f.Ye=-1;f.Cj=-1;f.Ft=!1;
var ho={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},io={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},jo=F||ic&&pc("525"),ko=cc&&hc;f=go.prototype;
f.Xq=function(a){ic&&(17==this.Ye&&!a.ctrlKey||18==this.Ye&&!a.altKey||cc&&91==this.Ye&&!a.metaKey)&&(this.Cj=this.Ye=-1);-1==this.Ye&&(a.ctrlKey&&17!=a.keyCode?this.Ye=17:a.altKey&&18!=a.keyCode?this.Ye=18:a.metaKey&&91!=a.keyCode&&(this.Ye=91));jo&&!Tl(a.keyCode,this.Ye,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Cj=Vl(a.keyCode),ko&&(this.Ft=a.altKey))};f.$I=function(a){this.Cj=this.Ye=-1;this.Ft=a.altKey};
f.handleEvent=function(a){var b=a.Xc,c,d,e=b.altKey;F&&"keypress"==a.type?(c=this.Cj,d=13!=c&&27!=c?b.keyCode:0):ic&&"keypress"==a.type?(c=this.Cj,d=0<=b.charCode&&63232>b.charCode&&Ul(c)?b.charCode:0):gc?(c=this.Cj,d=Ul(c)?b.keyCode:0):(c=b.keyCode||this.Cj,d=b.charCode||0,ko&&(e=this.Ft),cc&&63==d&&224==c&&(c=191));var h=c=Vl(c),k=b.keyIdentifier;c?63232<=c&&c in ho?h=ho[c]:25==c&&a.shiftKey&&(h=9):k&&k in io&&(h=io[k]);a=h==this.Ye;this.Ye=h;b=new lo(h,d,a,b);b.altKey=e;this.dispatchEvent(b)};
f.a=function(){return this.q};f.Xl=function(a,b){this.tr&&this.detach();this.q=a;this.sr=G(this.q,"keypress",this,b);this.ev=G(this.q,"keydown",this.Xq,b,this);this.tr=G(this.q,"keyup",this.$I,b,this)};f.detach=function(){this.sr&&(Vc(this.sr),Vc(this.ev),Vc(this.tr),this.tr=this.ev=this.sr=null);this.q=null;this.Cj=this.Ye=-1};f.f=function(){go.d.f.call(this);this.detach()};function lo(a,b,c,d){Gc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}w(lo,Gc);function mo(a,b,c){Zj.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=na(b);if(d=Wn[d])break;b=b.d?b.d.constructor:null}b=d?la(d.ue)?d.ue():new d:null}this.xa=b;this.Vc=da(a)?a:null}w(mo,Zj);f=mo.prototype;f.Vc=null;f.U=0;f.wp=39;f.Dn=255;f.sp=0;f.Qc=!0;f.ng=null;f.Nk=!0;f.kq=!1;f.jw=null;f.ep=function(a){this.ma&&a!=this.Nk&&no(this,a);this.Nk=a};f.xc=function(){return this.xa.xc(this)};f.Pq=function(){return this.xb||(this.xb=new go)};f.Wa=function(){return this.xa};
f.Bk=function(a,b){b?a&&(this.ng?Ib(this.ng,a)||this.ng.push(a):this.ng=[a],this.xa.Bk(this,a,!0)):a&&this.ng&&Lb(this.ng,a)&&(0==this.ng.length&&(this.ng=null),this.xa.Bk(this,a,!1))};f.B=function(){var a=this.xa.B(this);this.q=a;co(this.xa,a,this.sj());this.kq||this.xa.Yo(a,!1);this.wa()||this.xa.ca(a,!1)};f.sj=function(){return this.jw};f.Ia=function(){return this.xa.Ia(this.a())};f.Se=function(a){return this.xa.Se(a)};
f.qe=function(a){this.q=a=this.xa.Nb(this,a);co(this.xa,a,this.sj());this.kq||this.xa.Yo(a,!1);this.Qc="none"!=a.style.display};f.lb=function(){mo.d.lb.call(this);this.xa.xm(this);if(this.wp&-2&&(this.Nk&&no(this,!0),eo(this,32))){var a=this.xc();if(a){var b=this.Pq();b.Xl(a);this.nb().D(b,"key",this.ih).D(a,"focus",this.Mk).D(a,"blur",this.Lk)}}};
function no(a,b){var c=a.nb(),d=a.a();b?(c.D(d,"mouseover",a.Ok).D(d,"mousedown",a.jh).D(d,"mouseup",a.sg).D(d,"mouseout",a.Zq),a.co!=fa&&c.D(d,"contextmenu",a.co),F&&c.D(d,"dblclick",a.JA)):(c.Ab(d,"mouseover",a.Ok).Ab(d,"mousedown",a.jh).Ab(d,"mouseup",a.sg).Ab(d,"mouseout",a.Zq),a.co!=fa&&c.Ab(d,"contextmenu",a.co),F&&c.Ab(d,"dblclick",a.JA))}f.Lc=function(){mo.d.Lc.call(this);this.xb&&this.xb.detach();this.wa()&&this.isEnabled()&&this.xa.Ij(this,!1)};
f.f=function(){mo.d.f.call(this);this.xb&&(this.xb.g(),delete this.xb);delete this.xa;this.ng=this.Vc=null};f.getContent=function(){return this.Vc};f.il=function(a){this.xa.il(this.a(),a);this.Vc=a};function bo(a,b){a.Vc=b}f.Jq=function(){var a=this.getContent();if(!a)return"";a=r(a)?a:g(a)?Db(a,wi).join(""):ui(a);return Ha(a)};f.Km=function(a){mo.d.Km.call(this,a);var b=this.a();b&&this.xa.Km(b,a)};f.Yo=function(a){this.kq=a;var b=this.a();b&&this.xa.Yo(b,a)};f.wa=function(){return this.Qc};
f.ca=function(a,b){if(b||this.Qc!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.xa.ca(c,a);this.isEnabled()&&this.xa.Ij(this,a);this.Qc=a;return!0}return!1};f.isEnabled=function(){return!(this.U&1)};f.Pb=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!oo(this,1,!a)||(a||(this.setActive(!1),this.Fg(!1)),this.wa()&&this.xa.Ij(this,a),this.Bc(1,!a))};f.Fg=function(a){oo(this,2,a)&&this.Bc(2,a)};f.kh=function(){return!!(this.U&4)};
f.setActive=function(a){oo(this,4,a)&&this.Bc(4,a)};f.ip=function(a){oo(this,8,a)&&this.Bc(8,a)};f.lh=function(){return!!(this.U&16)};f.Hd=function(a){oo(this,16,a)&&this.Bc(16,a)};f.mc=function(a){oo(this,64,a)&&this.Bc(64,a)};f.om=function(){return this.U};f.Bc=function(a,b){eo(this,a)&&b!=!!(this.U&a)&&(this.xa.Bc(this,a,b),this.U=b?this.U|a:this.U&~a)};function eo(a,b){return!!(a.wp&b)}
f.rd=function(a,b){if(this.ma&&this.U&a&&!b)throw Error("Component already rendered");!b&&this.U&a&&this.Bc(a,!1);this.wp=b?this.wp|a:this.wp&~a};function po(a,b){return!!(a.Dn&b)&&eo(a,b)}function oo(a,b,c){return eo(a,b)&&!!(a.U&b)!=c&&(!(a.sp&b)||a.dispatchEvent(bk(b,c)))&&!a.wk}f.Ok=function(a){(!a.relatedTarget||!ni(this.a(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&po(this,2)&&this.Fg(!0)};
f.Zq=function(a){a.relatedTarget&&ni(this.a(),a.relatedTarget)||!this.dispatchEvent("leave")||(po(this,4)&&this.setActive(!1),po(this,2)&&this.Fg(!1))};f.co=fa;f.jh=function(a){this.isEnabled()&&(po(this,2)&&this.Fg(!0),Jc(a)&&(po(this,4)&&this.setActive(!0),this.xa.ji(this)&&this.xc().focus()));!this.kq&&Jc(a)&&a.preventDefault()};f.sg=function(a){this.isEnabled()&&(po(this,2)&&this.Fg(!0),this.kh()&&this.al(a)&&po(this,4)&&this.setActive(!1))};f.JA=function(a){this.isEnabled()&&this.al(a)};
f.al=function(a){po(this,16)&&this.Hd(!this.lh());po(this,8)&&this.ip(!0);po(this,64)&&this.mc(!(this.U&64));var b=new Cc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.gw=a.gw);return this.dispatchEvent(b)};f.Mk=function(){po(this,32)&&oo(this,32,!0)&&this.Bc(32,!0)};f.Lk=function(){po(this,4)&&this.setActive(!1);po(this,32)&&oo(this,32,!1)&&this.Bc(32,!1)};
f.ih=function(a){return this.wa()&&this.isEnabled()&&this.rg(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};f.rg=function(a){return 13==a.keyCode&&this.al(a)};if(!la(mo))throw Error("Invalid component class "+mo);if(!la(Xn))throw Error("Invalid renderer class "+Xn);var qo=na(mo);Wn[qo]=Xn;Un("goog-control",function(){return new mo(null)});function ro(){this.bz=[]}w(ro,Xn);ga(ro);function so(a,b){var c=a.bz[b];if(!c){switch(b){case 0:c=a.$()+"-highlight";break;case 1:c=a.$()+"-checkbox";break;case 2:c=a.$()+"-content"}a.bz[b]=c}return c}f=ro.prototype;f.fh=function(){return"menuitem"};f.B=function(a){var b=a.O().B("div",this.Gk(a).join(" "),to(this,a.getContent(),a.O()));uo(this,a,b,eo(a,8)||eo(a,16));return b};f.Ia=function(a){return a&&a.firstChild};
f.Nb=function(a,b){var c=ji(b),d=so(this,2);c&&Ml(c,d)||b.appendChild(to(this,b.childNodes,a.O()));Ml(b,"goog-option")&&(a.ns(!0),this.ns(a,b,!0));return ro.d.Nb.call(this,a,b)};f.il=function(a,b){var c=this.Ia(a),d=vo(this,a)?c.firstChild:null;ro.d.il.call(this,a,b);d&&!vo(this,a)&&c.insertBefore(d,c.firstChild||null)};function to(a,b,c){a=so(a,2);return c.B("div",a,b)}f.LC=function(a,b,c){a&&b&&uo(this,a,b,c)};f.ns=function(a,b,c){a&&b&&uo(this,a,b,c)};
function vo(a,b){var c=a.Ia(b);if(c){var c=c.firstChild,d=so(a,1);return!!c&&mi(c)&&Ml(c,d)}return!1}function uo(a,b,c,d){co(a,c,b.sj());$n(a,b,c);d!=vo(a,c)&&(Rl(c,"goog-option",d),c=a.Ia(c),d?(a=so(a,1),c.insertBefore(b.O().B("div",a),c.firstChild||null)):c.removeChild(c.firstChild))}f.Xn=function(a){switch(a){case 2:return so(this,0);case 16:case 8:return"goog-option-selected";default:return ro.d.Xn.call(this,a)}};
f.Iu=function(a){var b=so(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return ro.d.Iu.call(this,a)}};f.$=function(){return"goog-menuitem"};function wo(a,b,c,d){mo.call(this,a,d||ro.ue(),c);this.C(b)}w(wo,mo);f=wo.prototype;f.w=function(){var a=this.xv;return null!=a?a:this.Jq()};f.C=function(a){this.xv=a};f.rd=function(a,b){wo.d.rd.call(this,a,b);switch(a){case 8:this.lh()&&!b&&this.Hd(!1);var c=this.a();c&&this.Wa().LC(this,c,b);break;case 16:(c=this.a())&&this.Wa().ns(this,c,b)}};f.LC=function(a){this.rd(8,a)};f.ns=function(a){this.rd(16,a)};
f.Jq=function(){var a=this.getContent();return g(a)?(a=Db(a,function(a){return mi(a)&&(Ml(a,"goog-menuitem-accel")||Ml(a,"goog-menuitem-mnemonic-separator"))?"":wi(a)}).join(""),Ha(a)):wo.d.Jq.call(this)};f.sg=function(a){var b=this.getParent();if(b){var c=b.VB;b.VB=null;if(b=c&&u(a.clientX))b=new Oh(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}wo.d.sg.call(this,a)};f.rg=function(a){return a.keyCode==this.yB&&this.al(a)?!0:wo.d.rg.call(this,a)};f.XH=function(){return this.yB};
Un("goog-menuitem",function(){return new wo(null)});wo.prototype.sj=function(){return eo(this,16)?"menuitemcheckbox":eo(this,8)?"menuitemradio":wo.d.sj.call(this)};function xo(a){this.Ry=a}ga(xo);f=xo.prototype;f.fh=function(){return this.Ry};function yo(a,b){a&&(a.tabIndex=b?0:-1)}f.B=function(a){return a.O().B("div",this.Gk(a).join(" "))};f.Ia=function(a){return a};f.Se=function(a){return"DIV"==a.tagName};f.Nb=function(a,b){b.id&&dk(a,b.id);var c=this.$(),d=!1,e=Ll(b);e&&E(e,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Pb(!1):b==c+"-horizontal"?a.xi(zo):b==c+"-vertical"&&a.xi(Ao))},this);d||Nl(b,c);Bo(this,a,this.Ia(b));return b};
function Bo(a,b,c){if(c)for(var d=c.firstChild,e;d&&d.parentNode==c;){e=d.nextSibling;if(1==d.nodeType){var h=a.Au(d);h&&(h.q=d,b.isEnabled()||h.Pb(!1),b.Bn(h),h.Nb(d))}else d.nodeValue&&""!=Ia(d.nodeValue)||c.removeChild(d);d=e}}f.Au=function(a){a:{var b;a=Ll(a);for(var c=0,d=a.length;c<d;c++)if(b=a[c],b=b in Vn?Vn[b]():null){a=b;break a}a=null}return a};f.xm=function(a){a=a.a();Oj(a,!0,hc);F&&(a.hideFocus=!0);var b=this.fh();b&&Il(a,b)};f.xc=function(a){return a.a()};f.$=function(){return"goog-container"};
f.Gk=function(a){var b=this.$(),c=[b,a.Zb()==zo?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function Co(){}w(Co,Xn);ga(Co);Co.prototype.B=function(a){return a.O().B("div",this.$())};Co.prototype.Nb=function(a,b){b.id&&dk(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);gi(b,c);S(c)}else Nl(b,this.$());return b};Co.prototype.il=function(){};Co.prototype.$=function(){return"goog-menuseparator"};function Do(a,b){mo.call(this,null,a||Co.ue(),b);this.rd(1,!1);this.rd(2,!1);this.rd(4,!1);this.rd(32,!1);this.U=1}w(Do,mo);Do.prototype.lb=function(){Do.d.lb.call(this);Il(this.a(),"separator")};Un("goog-menuseparator",function(){return new Do});function Eo(a){this.Ry=a||"menu"}w(Eo,xo);ga(Eo);f=Eo.prototype;f.Se=function(a){return"UL"==a.tagName||Eo.d.Se.call(this,a)};f.Au=function(a){return"HR"==a.tagName?new Do:Eo.d.Au.call(this,a)};f.rk=function(a,b){return ni(a.a(),b)};f.$=function(){return"goog-menu"};f.xm=function(a){Eo.d.xm.call(this,a);Jl(a.a(),"haspopup","true")};function Fo(a,b,c,d,e,h,k,l,n){var p,m;if(p=c.offsetParent){var q="HTML"==p.tagName||"BODY"==p.tagName;q&&"static"==rj(p)||(m=zj(p),q||(q=(q=Aj(p))&&hc?-p.scrollLeft:!q||F&&pc("8")||"visible"==qj(p,"overflowX")?p.scrollLeft:p.scrollWidth-p.clientWidth-p.scrollLeft,m=Ph(m,new Oh(q,p.scrollTop))))}p=m||new Oh;m=Jj(a);(q=yj(a))&&m.eB(new jj(q.left,q.top,q.right-q.left,q.bottom-q.top));var q=Qh(a),t=Qh(c);if(q.la!=t.la){var s=q.la.body,t=Ci(t),z=new Oh(0,0),y=bi(Th(s)),I=s;do{var P=y==t?zj(I):Dj(I);z.x+=
P.x;z.y+=P.y}while(y&&y!=t&&(I=y.frameElement)&&(y=y.parent));s=Ph(z,zj(s));F&&!Bi(q)&&(s=Ph(s,Di(q)));m.left+=s.x;m.top+=s.y}a=Go(a,b);b=new Oh(a&2?m.left+m.width:m.left,a&1?m.top+m.height:m.top);b=Ph(b,p);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var N;if(k)if(n)N=n;else if(N=yj(c))N.top-=p.y,N.right-=p.x,N.bottom-=p.y,N.left-=p.x;return Ho(b,c,d,h,N,k,l)}
function Ho(a,b,c,d,e,h,k){a=a.clone();var l=0,n=Go(b,c);c=U(b);k=k?k.clone():c.clone();if(d||0!=n)n&2?a.x-=k.width+(d?d.right:0):d&&(a.x+=d.left),n&1?a.y-=k.height+(d?d.bottom:0):d&&(a.y+=d.top);if(h&&(e?(l=a,d=0,65==(h&65)&&(l.x<e.left||l.x>=e.right)&&(h&=-2),132==(h&132)&&(l.y<e.top||l.y>=e.bottom)&&(h&=-5),l.x<e.left&&h&1&&(l.x=e.left,d|=1),l.x<e.left&&l.x+k.width>e.right&&h&16&&(k.width=Math.max(k.width-(l.x+k.width-e.right),0),d|=4),l.x+k.width>e.right&&h&1&&(l.x=Math.max(e.right-k.width,e.left),
d|=1),h&2&&(d=d|(l.x<e.left?16:0)|(l.x+k.width>e.right?32:0)),l.y<e.top&&h&4&&(l.y=e.top,d|=2),l.y<=e.top&&l.y+k.height<e.bottom&&h&32&&(k.height=Math.max(k.height-(e.top-l.y),0),l.y=e.top,d|=8),l.y>=e.top&&l.y+k.height>e.bottom&&h&32&&(k.height=Math.max(k.height-(l.y+k.height-e.bottom),0),d|=8),l.y+k.height>e.bottom&&h&4&&(l.y=Math.max(e.bottom-k.height,e.top),d|=2),h&8&&(d=d|(l.y<e.top?64:0)|(l.y+k.height>e.bottom?128:0)),l=d):l=256,l&496))return l;sj(b,a);ih(c,k)||(e=Bi(Qh(Th(b))),!F||e&&pc("8")?
(b=b.style,hc?b.MozBoxSizing="border-box":ic?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(k.width,0)+"px",b.height=Math.max(k.height,0)+"px"):(a=b.style,e?(e=Rj(b,"padding"),b=Uj(b),a.pixelWidth=k.width-b.left-e.left-e.right-b.right,a.pixelHeight=k.height-b.top-e.top-e.bottom-b.bottom):(a.pixelWidth=k.width,a.pixelHeight=k.height)));return l}function Go(a,b){return(b&4&&Aj(a)?b^2:b)&-5};var Io,Jo;Jo=Io=!1;var Ko=Ub;Ko&&(-1!=Ko.indexOf("Firefox")||-1!=Ko.indexOf("Camino")||(-1!=Ko.indexOf("iPhone")||-1!=Ko.indexOf("iPod")?Io=!0:-1!=Ko.indexOf("iPad")&&(Jo=!0)));var Lo=Io,Mo=Jo;Un("goog-menuseparator",function(){return new Do});function No(a,b,c){Zj.call(this,c);this.xa=b||xo.ue();this.Ka=a||Ao}w(No,Zj);var zo="horizontal",Ao="vertical";f=No.prototype;f.fv=null;f.xb=null;f.xa=null;f.Ka=null;f.Qc=!0;f.Xb=!0;f.uu=!0;f.We=-1;f.Nc=null;f.ni=!1;f.XF=!1;f.DL=!0;f.Yh=null;f.xc=function(){return this.fv||this.xa.xc(this)};f.Pq=function(){return this.xb||(this.xb=new go(this.xc()))};f.Wa=function(){return this.xa};f.B=function(){this.q=this.xa.B(this)};f.Ia=function(){return this.xa.Ia(this.a())};f.Se=function(a){return this.xa.Se(a)};
f.qe=function(a){this.q=this.xa.Nb(this,a);"none"==a.style.display&&(this.Qc=!1)};f.lb=function(){No.d.lb.call(this);fk(this,function(a){a.ma&&Oo(this,a)},this);var a=this.a();this.xa.xm(this);this.ca(this.Qc,!0);this.nb().D(this,"enter",this.Pu).D(this,"highlight",this.Qu).D(this,"unhighlight",this.Ru).D(this,"open",this.dJ).D(this,"close",this.VI).D(a,"mousedown",this.jh).D(Th(a),"mouseup",this.XI).D(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.UI);this.ji()&&Po(this,!0)};
function Po(a,b){var c=a.nb(),d=a.xc();b?c.D(d,"focus",a.Mk).D(d,"blur",a.Lk).D(a.Pq(),"key",a.ih):c.Ab(d,"focus",a.Mk).Ab(d,"blur",a.Lk).Ab(a.Pq(),"key",a.ih)}f.Lc=function(){this.vh(-1);this.Nc&&this.Nc.mc(!1);this.ni=!1;No.d.Lc.call(this)};f.f=function(){No.d.f.call(this);this.xb&&(this.xb.g(),this.xb=null);this.xa=this.Nc=this.Yh=this.fv=null};f.Pu=function(){return!0};
f.Qu=function(a){var b=ik(this,a.target);if(-1<b&&b!=this.We){var c=Qo(this);c&&c.Fg(!1);this.We=b;c=Qo(this);this.ni&&c.setActive(!0);this.DL&&this.Nc&&c!=this.Nc&&(eo(c,64)?c.mc(!0):this.Nc.mc(!1))}b=this.a();null!=a.target.a()&&Jl(b,"activedescendant",a.target.a().id)};f.Ru=function(a){a.target==Qo(this)&&(this.We=-1);this.a().removeAttribute("aria-activedescendant")};f.dJ=function(a){(a=a.target)&&a!=this.Nc&&a.getParent()==this&&(this.Nc&&this.Nc.mc(!1),this.Nc=a)};
f.VI=function(a){a.target==this.Nc&&(this.Nc=null)};f.jh=function(a){this.Xb&&(this.ni=!0);var b=this.xc();b&&si(b)&&ti(b)?b.focus():a.preventDefault()};f.XI=function(){this.ni=!1};f.UI=function(a){var b;a:{b=a.target;if(this.Yh)for(var c=this.a();b&&b!==c;){var d=b.id;if(d in this.Yh){b=this.Yh[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.jh(a);break;case "mouseup":b.sg(a);break;case "mouseover":b.Ok(a);break;case "mouseout":b.Zq(a);break;case "contextmenu":b.co(a)}};
f.Mk=function(){};f.Lk=function(){this.vh(-1);this.ni=!1;this.Nc&&this.Nc.mc(!1)};f.ih=function(a){return this.isEnabled()&&this.wa()&&(0!=gk(this)||this.fv)&&this.rg(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
f.rg=function(a){var b=Qo(this);if(b&&"function"==typeof b.ih&&b.ih(a)||this.Nc&&this.Nc!=b&&"function"==typeof this.Nc.ih&&this.Nc.ih(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.ji())this.xc().blur();else return!1;break;case 36:Ro(this);break;case 35:So(this);break;case 38:if(this.Ka==Ao)To(this);else return!1;break;case 37:if(this.Ka==zo)this.Xe()?Uo(this):To(this);else return!1;break;case 40:if(this.Ka==Ao)Uo(this);else return!1;break;case 39:if(this.Ka==
zo)this.Xe()?To(this):Uo(this);else return!1;break;default:return!1}return!0};function Oo(a,b){var c=b.a(),c=c.id||(c.id=ck(b));a.Yh||(a.Yh={});a.Yh[c]=b}f.Bn=function(a,b){No.d.Bn.call(this,a,b)};f.zt=function(a,b,c){a.sp|=2;a.sp|=64;!this.ji()&&this.XF||a.rd(32,!1);a.ep(!1);No.d.zt.call(this,a,b,c);a.ma&&this.ma&&Oo(this,a);b<=this.We&&this.We++};
f.removeChild=function(a,b){if(a=r(a)?ek(this,a):a){var c=ik(this,a);-1!=c&&(c==this.We?(a.Fg(!1),this.We=-1):c<this.We&&this.We--);(c=a.a())&&c.id&&this.Yh&&tb(this.Yh,c.id)}a=No.d.removeChild.call(this,a,b);a.ep(!0);return a};f.Zb=function(){return this.Ka};f.xi=function(a){if(this.a())throw Error("Component already rendered");this.Ka=a};f.wa=function(){return this.Qc};
f.ca=function(a,b){if(b||this.Qc!=a&&this.dispatchEvent(a?"show":"hide")){this.Qc=a;var c=this.a();c&&(Lj(c,a),this.ji()&&yo(this.xc(),this.Xb&&this.Qc),b||this.dispatchEvent(this.Qc?"aftershow":"afterhide"));return!0}return!1};f.isEnabled=function(){return this.Xb};
f.Pb=function(a){this.Xb!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Xb=!0,fk(this,function(a){a.HD?delete a.HD:a.Pb(!0)})):(fk(this,function(a){a.isEnabled()?a.Pb(!1):a.HD=!0}),this.ni=this.Xb=!1),this.ji()&&yo(this.xc(),a&&this.Qc))};f.ji=function(){return this.uu};f.Ij=function(a){a!=this.uu&&this.ma&&Po(this,a);this.uu=a;this.Xb&&this.Qc&&yo(this.xc(),a)};f.vh=function(a){(a=hk(this,a))?a.Fg(!0):-1<this.We&&Qo(this).Fg(!1)};f.Fg=function(a){this.vh(ik(this,a))};
function Qo(a){return hk(a,a.We)}function Ro(a){Vo(a,function(a,c){return(a+1)%c},gk(a)-1)}function So(a){Vo(a,function(a,c){a--;return 0>a?c-1:a},0)}function Uo(a){Vo(a,function(a,c){return(a+1)%c},a.We)}function To(a){Vo(a,function(a,c){a--;return 0>a?c-1:a},a.We)}function Vo(a,b,c){c=0>c?ik(a,a.Nc):c;var d=gk(a);c=b.call(a,c,d);for(var e=0;e<=d;){var h=hk(a,c);if(h&&a.$y(h)){a.vh(c);break}e++;c=b.call(a,c,d)}}f.$y=function(a){return a.wa()&&a.isEnabled()&&eo(a,2)};function Wo(){}w(Wo,Xn);ga(Wo);Wo.prototype.$=function(){return"goog-menuheader"};function Xo(a,b,c){mo.call(this,a,c||Wo.ue(),b);this.rd(1,!1);this.rd(2,!1);this.rd(4,!1);this.rd(32,!1);this.U=1}w(Xo,mo);Un("goog-menuheader",function(){return new Xo(null)});function Yo(a,b){No.call(this,Ao,b||Eo.ue(),a);this.Ij(!1)}w(Yo,No);f=Yo.prototype;f.Et=!0;f.YF=!1;f.$=function(){return this.Wa().$()};f.rk=function(a){if(this.Wa().rk(this,a))return!0;for(var b=0,c=gk(this);b<c;b++){var d=hk(this,b);if("function"==typeof d.rk&&d.rk(a))return!0}return!1};f.lk=function(a){this.Bn(a,!0)};f.yw=function(a,b){var c=this.wa();c||Lj(this.a(),!0);var d=this.a(),e=a,h=b,k=zj(d);e instanceof Oh&&(h=e.y,e=e.x);sj(d,d.offsetLeft+(e-k.x),d.offsetTop+(h-k.y));c||Lj(this.a(),!1)};
f.ca=function(a,b,c){(b=Yo.d.ca.call(this,a,b))&&a&&this.ma&&this.Et&&this.xc().focus();this.VB=a&&c&&u(c.clientX)?new Oh(c.clientX,c.clientY):null;return b};f.Pu=function(a){this.Et&&this.xc().focus();return Yo.d.Pu.call(this,a)};f.$y=function(a){return(this.YF||a.isEnabled())&&a.wa()&&eo(a,2)};f.qe=function(a){var b=this.Wa(),c;c=this.O();c=Wh(c.la,"div",b.$()+"-content",a);for(var d=c.length,e=0;e<d;e++)Bo(b,this,c[e]);Yo.d.qe.call(this,a)};
f.rg=function(a){var b=Yo.d.rg.call(this,a);b||fk(this,function(c){!b&&c.XH&&c.yB==a.keyCode&&(this.isEnabled()&&this.Fg(c),b=c.ih(a))},this);return b};f.vh=function(a){Yo.d.vh.call(this,a);var b=hk(this,a);if(b){a=this.a();var b=b.a(),c=zj(b),d=zj(a),e=Uj(a),h=c.x-d.x-e.left,c=c.y-d.y-e.top,d=a.clientHeight-b.offsetHeight,e=a.scrollLeft,k=a.scrollTop,e=e+Math.min(h,Math.max(h-(a.clientWidth-b.offsetWidth),0)),k=k+Math.min(c,Math.max(c-d,0)),b=new Oh(e,k);a.scrollLeft=b.x;a.scrollTop=b.y}};function Zo(){}Zo.prototype.Ce=function(){};function $o(a,b,c){this.element=a;this.Ln=b;this.EL=c}w($o,Zo);$o.prototype.Ce=function(a,b,c){Fo(this.element,this.Ln,a,b,void 0,c,this.EL)};function ap(a,b,c,d){$o.call(this,a,b);this.vr=c?5:0;this.dw=d||void 0}w(ap,$o);ap.prototype.JH=function(){return this.vr};ap.prototype.Ce=function(a,b,c,d){var e=Fo(this.element,this.Ln,a,b,null,c,10,d,this.dw);if(e&496){var h=bp(e,this.Ln);b=bp(e,b);e=Fo(this.element,h,a,b,null,c,10,d,this.dw);e&496&&(h=bp(e,h),b=bp(e,b),Fo(this.element,h,a,b,null,c,this.vr,d,this.dw))}};function bp(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function cp(a,b,c,d){ap.call(this,a,b,c||d);if(c||d)this.vr=65|(d?32:132)}w(cp,ap);function dp(){}w(dp,Xn);ga(dp);f=dp.prototype;f.fh=function(){return"button"};f.Bh=function(a,b,c){switch(b){case 8:case 16:Jl(a,"pressed",c);break;default:case 64:case 1:dp.d.Bh.call(this,a,b,c)}};f.B=function(a){var b=dp.d.B.call(this,a);this.us(b,a.bo());var c=a.w();c&&this.C(b,c);eo(a,16)&&this.Bh(b,16,a.lh());return b};f.Nb=function(a,b){b=dp.d.Nb.call(this,a,b);var c=this.w(b);a.ad=c;a.Xw=this.bo(b);eo(a,16)&&this.Bh(b,16,a.lh());return b};f.w=fa;f.C=fa;f.bo=function(a){return a.title};
f.us=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};f.Zo=function(a,b){var c=a.Xe(),d=this.$()+"-collapse-left",e=this.$()+"-collapse-right";a.Bk(c?e:d,!!(b&1));a.Bk(c?d:e,!!(b&2))};f.$=function(){return"goog-button"};function ep(){}w(ep,dp);ga(ep);f=ep.prototype;f.fh=function(){};f.B=function(a){a.ep(!1);a.Dn&=-256;a.rd(32,!1);return a.O().B("button",{"class":this.Gk(a).join(" "),disabled:!a.isEnabled(),title:a.bo()||"",value:a.w()||""},a.Jq()||"")};f.Se=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};f.Nb=function(a,b){a.ep(!1);a.Dn&=-256;a.rd(32,!1);if(b.disabled){var c=this.Xn(1);Nl(b,c)}return ep.d.Nb.call(this,a,b)};
f.xm=function(a){a.nb().D(a.a(),"click",a.al)};f.Yo=fa;f.Km=fa;f.ji=function(a){return a.isEnabled()};f.Ij=fa;f.Bc=function(a,b,c){ep.d.Bc.call(this,a,b,c);(a=a.a())&&1==b&&(a.disabled=c)};f.w=function(a){return a.value};f.C=function(a,b){a&&(a.value=b)};f.Bh=fa;function fp(a,b,c){mo.call(this,a,b||ep.ue(),c)}w(fp,mo);f=fp.prototype;f.w=function(){return this.ad};f.C=function(a){this.ad=a;this.Wa().C(this.a(),a)};f.bo=function(){return this.Xw};f.us=function(a){this.Xw=a;this.Wa().us(this.a(),a)};f.Zo=function(a){this.Wa().Zo(this,a)};f.f=function(){fp.d.f.call(this);delete this.ad;delete this.Xw};f.lb=function(){fp.d.lb.call(this);if(eo(this,32)){var a=this.xc();a&&this.nb().D(a,"keyup",this.rg)}};
f.rg=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.al(a):32==a.keyCode};Un("goog-button",function(){return new fp(null)});function gp(){}w(gp,dp);ga(gp);f=gp.prototype;f.B=function(a){var b={"class":"goog-inline-block "+this.Gk(a).join(" ")},b=a.O().B("div",b,this.uq(a.getContent(),a.O()));this.us(b,a.bo());$n(this,a,b);return b};f.fh=function(){return"button"};f.Ia=function(a){return a&&a.firstChild.firstChild};f.uq=function(a,b){return b.B("div","goog-inline-block "+(this.$()+"-outer-box"),b.B("div","goog-inline-block "+(this.$()+"-inner-box"),a))};f.Se=function(a){return"DIV"==a.tagName};
f.Nb=function(a,b){hp(b,!0);hp(b,!1);var c;a:{c=a.O().dA(b);var d=this.$()+"-outer-box";if(c&&Ml(c,d)&&(c=a.O().dA(c),d=this.$()+"-inner-box",c&&Ml(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.uq(b.childNodes,a.O()));Ol(b,["goog-inline-block",this.$()]);return gp.d.Nb.call(this,a,b)};f.$=function(){return"goog-custom-button"};
function hp(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ia(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function ip(){}w(ip,gp);ga(ip);f=ip.prototype;f.Ia=function(a){return ip.d.Ia.call(this,a&&a.firstChild)};f.Nb=function(a,b){var c=Wh(document,"*","goog-menu",b)[0];if(c){Lj(c,!1);Th(c).body.appendChild(c);var d=new Yo;d.Nb(c);jp(a,d)}return ip.d.Nb.call(this,a,b)};f.uq=function(a,b){return ip.d.uq.call(this,[this.createCaption(a,b),b.B("div","goog-inline-block "+(this.$()+"-dropdown"),"\u00a0")],b)};f.createCaption=function(a,b){return b.B("div","goog-inline-block "+(this.$()+"-caption"),a)};
f.$=function(){return"goog-menu-button"};function kp(a,b,c,d,e){fp.call(this,a,c||ip.ue(),d);this.rd(64,!0);this.Br=new cp(null,5);b&&jp(this,b);this.WJ=null;this.P=new Xf(500);!Lo&&!Mo||pc("533.17.9")||(this.nr=!0);this.XJ=e||Eo.ue()}w(kp,fp);f=kp.prototype;f.nr=!1;f.RL=!1;f.lb=function(){kp.d.lb.call(this);lp(this,!0);this.W&&mp(this,this.W,!0);Jl(this.q,"haspopup",!!this.W)};f.Lc=function(){kp.d.Lc.call(this);lp(this,!1);if(this.W){this.mc(!1);this.W.Lc();mp(this,this.W,!1);var a=this.W.a();a&&S(a)}};
f.f=function(){kp.d.f.call(this);this.W&&(this.W.g(),delete this.W);delete this.JL;this.P.g()};f.jh=function(a){kp.d.jh.call(this,a);this.kh()&&(this.mc(!(this.U&64),a),this.W&&(this.W.ni=!!(this.U&64)))};f.sg=function(a){kp.d.sg.call(this,a);this.W&&!this.kh()&&(this.W.ni=!1)};f.al=function(){this.setActive(!1);return!0};f.WI=function(a){this.W&&this.W.wa()&&!this.rk(a.target)&&this.mc(!1)};f.rk=function(a){return a&&ni(this.a(),a)||this.W&&this.W.rk(a)||!1};
f.rg=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.W&&this.W.wa()){var b=this.W.ih(a);return 27==a.keyCode?(this.mc(!1),!0):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.mc(!0,a),!0):!1};f.aJ=function(){this.mc(!1)};f.bJ=function(){this.kh()||this.mc(!1)};f.Lk=function(a){this.nr||this.mc(!1);kp.d.Lk.call(this,a)};f.Fu=function(){this.W||jp(this,new Yo(this.O(),this.XJ));return this.W||null};
function jp(a,b){var c=a.W;b!=c&&(c&&(a.mc(!1),a.ma&&mp(a,c,!1),delete a.W),a.ma&&Jl(a.q,"haspopup",!!b),b&&(a.W=b,b.fp(a),b.ca(!1),c=a.nr,(b.Et=c)&&b.Ij(!0),a.ma&&mp(a,b,!0)))}f.lk=function(a){this.Fu().Bn(a,!0)};f.ca=function(a,b){var c=kp.d.ca.call(this,a,b);c&&!this.wa()&&this.mc(!1);return c};f.Pb=function(a){kp.d.Pb.call(this,a);this.isEnabled()||this.mc(!1)};f.Bw=function(){this.mc(!0)};f.fo=function(){this.mc(!1)};
f.mc=function(a,b){kp.d.mc.call(this,a);if(this.W&&!!(this.U&64)==a){if(a){if(!this.W.ma)if(this.RL){var c=li(this.a());c?this.W.sh(c.parentNode,c):this.W.k(this.a().parentNode)}else this.W.k();this.ED=yj(this.a());this.Yy=Jj(this.a());np(this);this.W.vh(!b||40!=b.keyCode&&38!=b.keyCode?-1:0)}else{this.setActive(!1);this.W.ni=!1;if(c=this.a())Jl(c,"activedescendant",""),Jl(c,"owns","");null!=this.Sr&&(this.Sr=void 0,(c=this.W.a())&&Fj(c,"",""))}this.W.ca(a,!1,b);if(!this.wk){var c=this.nb(),d=a?c.D:
c.Ab;d.call(c,Ai(this.O()),"mousedown",this.WI,!0);this.nr&&d.call(c,this.W,"blur",this.bJ);d.call(c,this.P,Yf,this.kL);a?this.P.start():this.P.stop()}}};function np(a){if(a.W.ma){var b=a.Br;a.Br.element=a.JL||a.a();var c=a.W.a();a.W.wa()||(c.style.visibility="hidden",Lj(c,!0));!a.Sr&&a.Br.JH&&a.Br.vr&32&&(a.Sr=U(c));b.Ce(c,b.Ln^1,a.WJ,a.Sr);a.W.wa()||(Lj(c,!1),c.style.visibility="visible")}}
f.kL=function(){var a=Jj(this.a()),b=yj(this.a()),c=this.Yy;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.ED,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.Yy=a,this.ED=b,np(this))};function mp(a,b,c){var d=a.nb();c=c?d.D:d.Ab;c.call(d,b,"action",a.aJ);c.call(d,b,"highlight",a.Qu);c.call(d,b,"unhighlight",a.Ru)}function lp(a,b){var c=a.nb();(b?c.D:c.Ab).call(c,a.a(),"keydown",a.ZI)}
f.Qu=function(a){var b=this.a();if(a=a.target.a()){var c=Kl(a,"activedescendant");a=Th(a).getElementById(c)||a;a.id||(c=Yj.ue(),a.id=":"+(c.IB++).toString(36));c="";a&&(c=a.id);Jl(b,"activedescendant",c);Jl(b,"owns",a.id)}};f.ZI=function(a){eo(this,32)&&this.xc()&&this.W&&this.W.wa()&&a.stopPropagation()};f.Ru=function(){if(!Qo(this.W)){var a=this.a();Jl(a,"activedescendant","");Jl(a,"owns","")}};Un("goog-menu-button",function(){return new kp(null)});function op(){W.call(this);this.we=Q("div",{id:this.constructor.ID_PREFIX+"_Holder_"+B(),"class":op.CSS.CE});R(this.a(),this.we);this.zj=Q("img",{id:this.constructor.ID_PREFIX+"_Icon_"+B(),"class":op.CSS.tb});R(this.a(),this.zj);this.W=new Yo;this.jd=new Rk;this.Td=[];pp(this);this.fo(void 0,0);this.W.k(this.we);O(this.W.a(),op.CSS.BE)}w(op,W);v("nrg.ui.SlideInMenu",op);op.ID_PREFIX="nrg.ui.SlideInMenu";
op.CSS_SUFFIX={tb:"icon",EN:"icon-hovered",BE:"menu",CE:"menuholder",DE:"menuitem",Dx:"menuitem-highlight",EE:"menuitem-icon"};var qp={Rs:null,Eh:null,tb:null};function rp(a,b,c,d){d=da(d)?d:200;return[new Mk(a,d),new Gk(a,b,c,d,el)]}function sp(a,b,c,d){d=da(d)?d:200;return[new Lk(a,d),new Gk(a,b,c,d,el)]}f=op.prototype;f.yc=null;f.YB=null;f.Pn=null;f.Dm=!1;f.ho=[-100,-100];f.np=[0,0];f.uv=!0;f.vv=!1;f.zC=function(a,b){return this.ho=[a,b]};f.OC=function(a,b){return this.np=[a,b]};f.BH=function(){return this.ho};
f.qI=function(){return this.np};f.Fu=function(){return this.W};f.SH=function(){return this.we};f.TH=function(){return this.zj};f.DC=function(a){this.zj.src=a};f.gM=function(a,b){this.yc[a].tb.src=b};f.hA=function(a){return pb(this.yc).indexOf(a)};f.Ku=function(a){return pb(this.yc)[a]};f.Du=function(a){return this.yc[pb(this.yc)[a]]};f.uB=function(a){return this.uv=a};f.TJ=function(a){return this.vv=a};f.oI=function(){return this.Pn};
function tp(a){null!=a.jd&&(a.jd.stop(),E(a.Td,function(a){this.jd.remove(a);a.g()}.bind(a)),Jb(a.Td))}function up(a,b,c){tp(a);E(g(b)?b:[b],function(a){this.jd.add(a);this.Td.push(a)}.bind(a));a.we.style.visibility="visible";Tc(a.jd,"end",function(){c&&c()}.bind(a));a.jd.play()}f.km=null;f.Aq=null;f.sC=function(a){this.Aq=a;this.a().title=a};function vp(a){null!=a.km&&(ba.clearTimeout(a.km),a.km=null);a.km=Zf(function(){this.km=null;this.Dm&&(!this.zv&&this.Dm?this.fo():vp(this))}.bind(a),450)}
f.vh=function(a){O(this.yc[this.Ku(a)].Eh,op.CSS.Dx);this.uv&&(this.zj.src=this.yc[this.Ku(a)].tb.src);this.vv?this.a().title=this.Du(a).Rs.getContent():null!=this.Aq&&(this.a().title=this.Aq)};f.yz=function(){C(this.yc,function(a){Gh(a.Eh,op.CSS.Dx)}.bind(this))};
f.wy=function(a,b){null==this.yc&&(this.yc={});a=r(a)?[a]:a;b=b||[];b=g(b)?b:[b];var c=null,d=null,e=null;E(a,function(a,k){if(this.yc[a])throw Error(a+" is already in use!");c=new wo(a);this.W.lk(c);d=c.Ia();O(d,op.CSS.DE);d.title=a;e=Q("img",{id:op.ID_PREFIX+"_MenuItemIcon_"+B(),"class":op.CSS.EE});e.src=k<=b.length-1?b[k]:null;R(d,e);this.yc[a]=vb(qp);this.yc[a].Rs=c;this.yc[a].Eh=d;this.yc[a].tb=e}.bind(this))};
f.ip=function(a,b){var c=a?a:5;if(r(c)){if(!this.yc[c])throw Error(c+" does not exist!");c=this.hA(c)}this.YB=this.Pn?this.Pn:a;this.Pn=a;da(b)&&!b||this.yz();this.vh(c);this.dispatchEvent({type:"item_selected",index:c,title:this.Du(c).Rs.getContent()})};f.Bw=function(a,b){up(this,rp(this.we,this.ho,this.np,b),function(){this.Dm=!0;null!=a&&a()}.bind(this))};f.fo=function(a,b){up(this,sp(this.we,this.np,this.ho,b),function(){this.Dm=!1;this.we.style.visibility="hidden";da(a)&&a()}.bind(this))};
function pp(a){G(a.a(),"click",function(){this.Dm?this.fo():this.Bw()}.bind(a));G(a.W,"action",function(a){this.ip(a.target.getContent())}.bind(a));G(a.we,"mouseover",function(){this.zv=!0}.bind(a));G(a.we,"mouseout",function(){this.zv=!1;vp(this)}.bind(a))}
f.f=function(){op.d.f.call(this);delete this.zv;delete this.km;tp(this);Jb(this.Td);delete this.Td;C(this.yc,function(a,b){J(a);S(a);delete this.yc[b]}.bind(this));D(this.yc);delete this.yc;S(this.we);delete this.we;S(this.zj);delete this.zj;J(this.W);this.W.g();this.Cq(this.jd);delete this.jd;delete this.Aq;delete this.YB;delete this.Pn;delete this.Dm;delete this.ho;delete this.np;delete this.uv;delete this.vv};v("nrg.ui.SlideInMenu.ID_PREFIX",op.ID_PREFIX);v("nrg.ui.SlideInMenu.EventType",{JN:"item_selected"});
v("nrg.ui.SlideInMenu.CSS_SUFFIX",op.CSS_SUFFIX);v("nrg.ui.SlideInMenu.menuItemCollection",qp);v("nrg.ui.SlideInMenu.FADE_OUT_COUNTDOWN",450);v("nrg.ui.SlideInMenu.ANIM_LEN_IN",200);v("nrg.ui.SlideInMenu.ANIM_LEN_OUT",200);v("nrg.ui.SlideInMenu.MOUSEOUT_HIDE",1E3);v("nrg.ui.SlideInMenu.prototype.setHidePosition",op.prototype.zC);v("nrg.ui.SlideInMenu.prototype.setShowPosition",op.prototype.OC);v("nrg.ui.SlideInMenu.prototype.getHidePosition",op.prototype.BH);
v("nrg.ui.SlideInMenu.prototype.getShowPosition",op.prototype.qI);v("nrg.ui.SlideInMenu.prototype.getMenu",op.prototype.Fu);v("nrg.ui.SlideInMenu.prototype.getMenuHolder",op.prototype.SH);v("nrg.ui.SlideInMenu.prototype.getMenuIcon",op.prototype.TH);v("nrg.ui.SlideInMenu.prototype.setMenuIconSrc",op.prototype.DC);v("nrg.ui.SlideInMenu.prototype.setMenuItemIconSrc",op.prototype.gM);v("nrg.ui.SlideInMenu.prototype.getIndexFromTitle",op.prototype.hA);
v("nrg.ui.SlideInMenu.prototype.getTitleFromIndex",op.prototype.Ku);v("nrg.ui.SlideInMenu.prototype.getItemCollectionFromIndex",op.prototype.Du);v("nrg.ui.SlideInMenu.prototype.matchMenuIconToSelected",op.prototype.uB);v("nrg.ui.SlideInMenu.prototype.matchMenuTitleToSelected",op.prototype.TJ);v("nrg.ui.SlideInMenu.prototype.getSelectedMenuItem",op.prototype.oI);v("nrg.ui.SlideInMenu.prototype.setHighlightedIndex",op.prototype.vh);v("nrg.ui.SlideInMenu.prototype.deselectAll",op.prototype.yz);
v("nrg.ui.SlideInMenu.prototype.addMenuItem",op.prototype.wy);v("nrg.ui.SlideInMenu.prototype.setSelected",op.prototype.ip);v("nrg.ui.SlideInMenu.prototype.showMenu",op.prototype.Bw);v("nrg.ui.SlideInMenu.prototype.hideMenu",op.prototype.fo);v("nrg.ui.SlideInMenu.prototype.setDefaultTitle",op.prototype.sC);v("nrg.ui.SlideInMenu.prototype.disposeInternal",op.prototype.f);function wp(){W.call(this)}w(wp,W);v("nrg.ui.HoverInput",wp);wp.ID_PREFIX="nrg.ui.HoverInput";wp.CSS_SUFFIX={rE:"inputbox",IN:"inputbox-hovered",nx:"display"};f=wp.prototype;f.Jc=null;f.da=null;f.sJ=!1;f.Xb=!0;f.ku="";f.Pb=function(a){this.Xb=a};f.C=function(a){null!=this.da&&(this.da.value=a,this.Kg())};f.w=function(){if(null!=this.da)return parseInt(this.da.value)};f.Jb=function(a){null!=this.da&&(this.da.max=a,this.Kg())};f.T=function(){if(null!=this.da)return this.da.max};
f.Qb=function(a){null!=this.da&&(this.da.min=a,this.Kg())};f.ha=function(){if(null!=this.da)return this.da.min};f.Oc=function(a){null!=this.da&&(this.da.step=a,this.Kg())};f.Ed=function(){if(null!=this.da)return this.da.step};f.GH=function(){return this.da};f.nH=function(){return this.Jc};f.My="right";f.uC=function(a){a=a.toLowerCase();if("right"==a||"left"==a)this.My=a;else throw Error("Invalid alignment: "+a);};
f.jq=function(){this.Jc.style.left="right"==this.My?"calc(100% - "+U(this.Jc).width.toString()+"px)":"0px"};f.Kg=function(){this.Jc.innerHTML=this.da.value.toString()+this.ku;this.jq()};f.NB=function(a){this.Xb&&(this.da.value=parseInt(a.target.value),this.dispatchEvent({type:"h",value:this.da.value}),this.Kg())};
f.k=function(a){wp.d.k.call(this,a);this.Jc=Q("div");this.a().appendChild(this.Jc);O(this.Jc,wp.CSS.nx);this.da=Q("input");this.da.type="number";this.da.step=1;this.da.min=0;this.da.max=100;this.da.value=100;this.a().appendChild(this.da);O(this.da,wp.CSS.rE);G(this.da,"input",this.NB.bind(this));this.Kg()};f.bp=function(a){this.ku=a};f.f=function(){wp.d.f.call(this);delete this.sJ;delete this.Xb;delete this.ku;this.da&&(J(this.da),S(this.da),delete this.da);this.Jc&&(J(this.Jc),S(this.Jc),delete this.Jc)};
v("nrg.ui.HoverInput.EventType",{HN:"h",nx:"i"});v("nrg.ui.HoverInput.ID_PREFIX",wp.ID_PREFIX);v("nrg.ui.HoverInput.CSS_SUFFIX",wp.CSS_SUFFIX);v("nrg.ui.HoverInput.prototype.displayElt",wp.prototype.Jc);v("nrg.ui.HoverInput.prototype.inputBox",wp.prototype.da);v("nrg.ui.HoverInput.prototype.alignDisplayElement",wp.prototype.jq);v("nrg.ui.HoverInput.prototype.setDisplayAlignment",wp.prototype.uC);v("nrg.ui.HoverInput.prototype.getValue",wp.prototype.w);v("nrg.ui.HoverInput.prototype.setValue",wp.prototype.C);
v("nrg.ui.HoverInput.prototype.setStep",wp.prototype.Oc);v("nrg.ui.HoverInput.prototype.getStep",wp.prototype.Ed);v("nrg.ui.HoverInput.prototype.setMaximum",wp.prototype.Jb);v("nrg.ui.HoverInput.prototype.getMaximum",wp.prototype.T);v("nrg.ui.HoverInput.prototype.setMinimum",wp.prototype.Qb);v("nrg.ui.HoverInput.prototype.getMinimum",wp.prototype.ha);v("nrg.ui.HoverInput.prototype.updateValue",wp.prototype.Kg);v("nrg.ui.HoverInput.prototype.onInput",wp.prototype.NB);
v("nrg.ui.HoverInput.prototype.getInputElement",wp.prototype.GH);v("nrg.ui.HoverInput.prototype.getDisplayElement",wp.prototype.nH);v("nrg.ui.HoverInput.prototype.setDisplaySuffix",wp.prototype.bp);v("nrg.ui.HoverInput.prototype.render",wp.prototype.k);v("nrg.ui.HoverInput.prototype.disposeInternal",wp.prototype.f);function xp(a,b){$c.call(this);this.q=a;var c=mi(this.q)?this.q:this.q?this.q.body:null;this.EJ=!!c&&Aj(c);this.mB=G(this.q,hc?"DOMMouseScroll":"mousewheel",this,b)}w(xp,$c);
xp.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.Xc;if("mousewheel"==a.type){c=1;if(F||ic&&(dc||pc("532.0")))c=40;d=yp(-a.wheelDelta,c);da(a.wheelDeltaX)?(b=yp(-a.wheelDeltaX,c),c=yp(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),da(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;u(this.vB)&&(b=hd(b,-this.vB,this.vB));u(this.wB)&&(c=hd(c,-this.wB,this.wB));this.EJ&&(b=-b);b=new zp(d,a,b,c);this.dispatchEvent(b)};function yp(a,b){return ic&&(cc||ec)&&0!=a%b?a:a/b}
xp.prototype.f=function(){xp.d.f.call(this);Vc(this.mB);this.mB=null};function zp(a,b,c,d){Gc.call(this,b);this.type="mousewheel";this.detail=a;this.$h=c;this.Wd=d}w(zp,Gc);function Ap(a){bd.call(this);this.u="interactor";this.Oe=a;this.jt=this.dy=this.cy=this.ey=this.by=this.fy=null;this.$p=!0;this.Ui=this.Oi=this.Vg=!1;this.ed=[0,0];this.et=new A.S(0,0,0);this.en=new A.S(0,0,0);this.jB=0;this.ly=this.Wp=null;this.tt=!1;this.Bb={MOUSEWHEEL_ENABLED:!0,MOUSECLICKS_ENABLED:!0,KEYBOARD_ENABLED:!0,HOVERING_ENABLED:!0,CONTEXTMENU_ENABLED:!1,TOUCH_ENABLED:!0,TOUCH_BOUNCING_ENABLED:!1}}w(Ap,bd);Ap.prototype.__defineGetter__("config",function(){return this.Bb});
Ap.prototype.__defineGetter__("leftButtonDown",function(){return this.Vg});Ap.prototype.__defineGetter__("middleButtonDown",function(){return this.Oi});Ap.prototype.__defineGetter__("rightButtonDown",function(){return this.Ui});
Ap.prototype.va=function(){this.Bb.MOUSEWHEEL_ENABLED?(this.jt=new xp(this.Oe),this.fy=G(this.jt,"mousewheel",this.Jo.bind(this))):(Vc(this.fy),this.jt=null);this.Bb.MOUSECLICKS_ENABLED?(this.by=G(this.Oe,"mousedown",this.Vv.bind(this)),this.ey=G(this.Oe,"mouseup",this.Wv.bind(this))):(Vc(this.by),Vc(this.ey));this.Oe.oncontextmenu=this.Bb.CONTEXTMENU_ENABLED?null:function(){return!1};window.onkeydown=this.Bb.KEYBOARD_ENABLED?this.qi.bind(this):null;this.Bb.TOUCH_ENABLED?(this.Bb.TOUCH_BOUNCING_ENABLED||
document.body.addEventListener("touchmove",function(a){a.preventDefault()},!1),this.LF=G(this.Oe,"touchstart",this.tL.bind(this)),this.KF=G(this.Oe,"touchmove",this.rL.bind(this)),this.JF=G(this.Oe,"touchend",this.nL.bind(this))):(Vc(this.LF),Vc(this.KF),Vc(this.JF));Vc(this.cy);Vc(this.dy);this.cy=G(this.Oe,"mousemove",this.OK.bind(this));this.dy=G(this.Oe,"mouseout",this.PK.bind(this))};
Ap.prototype.Vv=function(a){0==a.button?this.Vg=!0:1==a.button?this.Oi=!0:2==a.button&&(this.Ui=!0);eval("this.onMouseDown("+this.Vg+","+this.Oi+","+this.Ui+")");Bp(this);a.preventDefault()};Ap.prototype.LK=function(){};Ap.prototype.Wv=function(a){0==a.button?this.Vg=!1:1==a.button?this.Oi=!1:2==a.button&&(this.Ui=!1);eval("this.onMouseUp("+this.Vg+","+this.Oi+","+this.Ui+")");Bp(this);a.preventDefault()};Ap.prototype.__defineGetter__("mousePosition",function(){return this.ed});f=Ap.prototype;
f.RK=function(){};f.PK=function(a){this.$p=!1;this.Bb.KEYBOARD_ENABLED&&(window.onkeydown=null);this.Ui=this.Oi=this.Vg=!1;Bp(this);this.et=new A.S(0,0,0);a.preventDefault()};f.NK=function(){};f.tL=function(a){a.preventDefault();a.va(a.Xc.targetTouches[0],a.currentTarget);eval("this.onTouchStart("+a.clientX+","+a.clientY+")");this.en=new A.S(a.clientX,a.clientY,0);this.ly=setTimeout(this.pL.bind(this,a),500)};f.sL=function(){};
f.pL=function(a){eval("this.onTouchHover("+a.clientX+","+a.clientY+")");a=new se;a.Ug=!0;a.Zf=this instanceof Cp;this.dispatchEvent(a);this.dq=!0};f.oL=function(){};function Dp(a){clearTimeout(a.ly);if(a.dq){var b=new se;b.Ug=!1;b.Zf=a instanceof Cp;a.dispatchEvent(b)}a.dq=!1}f.nL=function(a){a.preventDefault();eval("this.onTouchEnd()");Dp(this)};f.mL=function(){};
f.rL=function(a){a.preventDefault();this.dq||Dp(this);this.touchmoveEvent=a=a.Xc;eval("this.onTouchMove(this['touchmoveEvent'])");var b=a.targetTouches;if(1==b.length){a=b[0];var c=[a.clientX,a.clientY];a=new A.S(c[0],c[1],0);var b=c[0]>3*this.Oe.clientWidth/4,d=c[0]<this.Oe.clientWidth/4,e=c[1]<this.Oe.clientHeight/4,c=c[1]>3*this.Oe.clientHeight/4,c=!b&&!d&&!e&&!c,e=this.en.Pc(a);this.en=a.clone();if(this.dq)a=new qe,5<e.x?e.x=1:-5>e.x&&(e.x=-1),5<e.y?e.y=1:-5>e.y&&(e.y=-1),a.vd=e,this.dispatchEvent(a);
else if(this instanceof Ep&&(b||d))a=new te,a.kc=0>e.y,this.dispatchEvent(a);else if(this instanceof Cp||c)e.scale(3),a=new re,a.vd=e,this.dispatchEvent(a)}else 2==b.length&&(a=b[0],b=b[1],a=[a.clientX,a.clientY],b=[b.clientX,b.clientY],a=new A.S(a[0],a[1],0),b=new A.S(b[0],b[1],0),e=rd(a,b),b=e-this.jB,this.jB=e,this.en.Pc(a),this.en=a.clone(),10<Math.abs(b)&&(a=new se,a.Ug=0<b,a.Zf=this instanceof Cp,this.dispatchEvent(a)))};f.qL=function(){};
f.OK=function(a){this.mousemoveEvent=a;eval("this.onMouseMove(this['mousemoveEvent'])");this.$p=!0;this.Bb.KEYBOARD_ENABLED&&null==window.onkeydown&&(window.onkeydown=this.qi.bind(this));a.preventDefault();var b=a.shiftKey;this.tt=b;this.ed=[a.offsetX,a.offsetY];var c=new A.S(this.ed[0],this.ed[1],0);a=this.et.Pc(c);this.et=c.clone();this.Bb.HOVERING_ENABLED&&((0<Math.abs(a.x)||0<Math.abs(a.y)||this.Oi||this.Vg||this.Ui)&&Bp(this),this.Wp=setTimeout(function(){Bp(this);var a=new ve;a.hq=c.x;a.iq=
c.y;this.dispatchEvent(a);this.Wp=null}.bind(this),300));0!=a.xg()&&(this.Vg&&!b?(b=new re,a.scale(3),b.vd=a,this.dispatchEvent(b)):this.Oi||this.Vg&&b?(b=new qe,b.vd=a,this.dispatchEvent(b)):this.Ui&&(b=new se,b.Ug=0<a.y,b.Zf=!1,this.dispatchEvent(b)))};function Bp(a){a.Wp&&clearTimeout(a.Wp);a.dispatchEvent(new we)}f.SK=function(){};f.Jo=function(a){this.mouseWheelEvent=a;eval("this.onMouseWheel(this['mouseWheelEvent'])");Bp(this);a.preventDefault()};f.DK=function(){};
f.qi=function(a){if(this.$p){this.keyEvent=a;eval("this.onKey(this['keyEvent'])");Bp(this);var b=a.altKey,c=a.ctrlKey,d=a.metaKey,e=a.shiftKey,h=a.keyCode;82!=h||b||c||d||e?37<=h&&40>=h&&(a.preventDefault(),e?a=new qe:b?a=new se:(a=new re,this instanceof Ep&&(a=new te)),a&&(c=new A.S(0,0,0),37==h?(c.x=5,a.kc=!1,b&&(a.kc=!0,a.Ug=!0,a.Zf=!1)):39==h?(c.x=-5,a.kc=!0,b&&(a.Ug=!1,a.Zf=!1)):38==h?(c.y=5,a.kc=!0,b&&(a.Ug=!0,a.Zf=!0)):40==h&&(c.y=-5,a.kc=!1,b&&(a.Ug=!1,a.Zf=!0)),a.vd=c,this.dispatchEvent(a))):
(a.preventDefault(),a=new xe,this.dispatchEvent(a))}};v("X.interactor",Ap);v("X.interactor.prototype.init",Ap.prototype.va);v("X.interactor.prototype.onMouseDown",Ap.prototype.LK);v("X.interactor.prototype.onMouseUp",Ap.prototype.RK);v("X.interactor.prototype.onMouseMove",Ap.prototype.NK);v("X.interactor.prototype.onMouseWheel",Ap.prototype.SK);v("X.interactor.prototype.onKey",Ap.prototype.DK);v("X.interactor.prototype.onTouchStart",Ap.prototype.sL);v("X.interactor.prototype.onTouchMove",Ap.prototype.qL);
v("X.interactor.prototype.onTouchEnd",Ap.prototype.mL);v("X.interactor.prototype.onTouchHover",Ap.prototype.oL);function Ep(a){Ap.call(this,a);this.u="interactor2D"}w(Ep,Ap);Ep.prototype.Jo=function(a){Ep.d.Jo.call(this,a);var b=new te;null==a.Wd&&(a.Wd=0);b.kc=0>a.Wd;this.dispatchEvent(b)};function Fp(a,b){if(!u(a)||!u(b))throw Error("A camera needs valid width and height values.");bd.call(this);this.u="camera";this.dk=new A.S(0,100,0);this.Hl=new A.S(0,0,0);this.kc=new A.S(0,0,1);this.cb=a;this.Na=b;this.Q=this.yr(this.dk,this.Hl)}w(Fp,bd);Fp.prototype.observe=function(a){if(!(null!=a&&a instanceof Ap))throw Error("Could not observe the interactor.");G(a,ce,this.aL.bind(this));G(a,ae,this.UK.bind(this));G(a,de,this.CL.bind(this))};
Fp.prototype.aL=function(a){if(!(a instanceof re))throw Error("Received no valid rotate event.");this.rotate(a.vd)};Fp.prototype.CL=function(a){if(!(a instanceof se))throw Error("Received no valid zoom event.");a.Ug?this.Um(a.Zf):this.Vm(a.Zf)};Fp.prototype.UK=function(a){if(!(a instanceof qe))throw Error("Received no valid pan event.");this.Tr(a.vd)};Fp.prototype.__defineGetter__("view",function(){return this.Q});
Fp.prototype.__defineSetter__("view",function(a){if(!(null!=a&&a instanceof Float32Array))throw Error("Invalid view matrix.");this.Q=a});Fp.prototype.__defineGetter__("position",function(){return[this.dk.x,this.dk.y,this.dk.z]});Fp.prototype.__defineSetter__("position",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid position.");this.dk=new A.S(a[0],a[1],a[2]);this.reset()});Fp.prototype.__defineGetter__("focus",function(){return[this.Hl.x,this.Hl.y,this.Hl.z]});
Fp.prototype.__defineSetter__("focus",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid focus");this.Hl=new A.S(a[0],a[1],a[2]);this.reset()});Fp.prototype.__defineGetter__("up",function(){return[this.kc.x,this.kc.y,this.kc.z]});Fp.prototype.__defineSetter__("up",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid up vector.");this.kc=new A.S(a[0],a[1],a[2]);this.reset()});f=Fp.prototype;f.reset=function(){this.Q=this.yr(this.dk,this.Hl)};
f.rotate=function(a){if(g(a)&&2==a.length)a=new A.S(a[0],a[1],0);else if(!(a instanceof A.S))throw Error("Invalid distance vector for rotate operation.");return a};f.Tr=function(a){if(g(a)&&2==a.length)a=new A.S(a[0],a[1],0);else if(!(a instanceof A.S))throw Error("Invalid distance vector for pan operation.");this.Q[12]-=a.x;this.Q[13]+=a.y};f.Um=function(a){var b=20;null!=a&&!a&&(b=1);this.Q[14]+=b};f.Vm=function(a){var b=20;null!=a&&!a&&(b=1);this.Q[14]-=b};
f.yr=function(a,b){if(!(a instanceof A.S&&b instanceof A.S))throw Error("3D vectors required for calculating the view.");return A.v.ko()};v("X.camera",Fp);v("X.camera.prototype.pan",Fp.prototype.Tr);v("X.camera.prototype.rotate",Fp.prototype.rotate);v("X.camera.prototype.zoomIn",Fp.prototype.Um);v("X.camera.prototype.zoomOut",Fp.prototype.Vm);function Gp(a,b,c){this.jf=this.hf=this.gf=0;3==arguments.length?(this.gf=Number(a),this.hf=Number(b),this.jf=Number(c)):a instanceof Gp?(this.gf=Number(a.x()),this.hf=Number(a.y()),this.jf=Number(a.z())):(this.gf=Number(a[0]),this.hf=Number(a[1]),this.jf=Number(a[2]))}
Gp.prototype={clone:function(){return new Gp(this.gf,this.hf,this.jf)},jj:function(a){return this.gf*a.x()+this.hf*a.y()+this.jf*a.z()},xr:function(a,b){return Hp(this,Ip(Jp(a,this),b))},length:function(){return Math.sqrt(this.jj(this))},uk:function(a){return new Gp(this.hf*a.z()-this.jf*a.y(),this.jf*a.x()-this.gf*a.z(),this.gf*a.y()-this.hf*a.x())},x:function(){return this.gf},y:function(){return this.hf},z:function(){return this.jf}};
function Kp(a){var b=a.length();return new Gp(a.gf/b,a.hf/b,a.jf/b)}function Ip(a,b){return new Gp(a.gf*b,a.hf*b,a.jf*b)}function Jp(a,b){return new Gp(a.gf-b.x(),a.hf-b.y(),a.jf-b.z())}function Hp(a,b){return new Gp(a.gf+b.x(),a.hf+b.y(),a.jf+b.z())}function Lp(a){return new Gp(-a.gf,-a.hf,-a.jf)};function Mp(a,b){this.hw=new Gp(a);this.qd=new Gp(b)}Mp.prototype={clone:function(){return new Mp(this.hw.clone(),this.qd.clone())},Ek:function(){this.qd=Lp(this.qd)},Be:function(){return this.hw}};function Np(a,b){this.qd=a;this.Ip=b}Np.prototype={clone:function(){return new Np(this.qd.clone(),this.Ip)},Ek:function(){this.qd=Lp(this.qd);this.Ip=-this.Ip}};function Op(a,b){this.Di=a;this.vs=b;var c=a[0].Be(),d=a[1].Be(),e=a[2].Be(),d=Kp(Jp(d,c).uk(Jp(e,c)));this.cf=new Np(d,d.jj(c))}Op.prototype={clone:function(){var a=this.Di.map(function(a){return a.clone()});return new Op(a,this.vs)},Ek:function(){this.Di.reverse().map(function(a){a.Ek()});this.cf.Ek()}};
function Pp(a,b,c,d,e,h){for(var k=0,l=[],n=0;n<a.Di.length;n++){var p=b.qd.jj(a.Di[n].Be())-b.Ip,p=-1E-5>p?2:1E-5<p?1:0,k=k|p;l.push(p)}switch(k){case 0:(0<b.qd.jj(a.cf.qd)?c:d).push(a);break;case 1:e.push(a);break;case 2:h.push(a);break;case 3:c=[];d=[];for(n=0;n<a.Di.length;n++){var m=(n+1)%a.Di.length,p=l[n],q=l[m],k=a.Di[n],m=a.Di[m];2!=p&&c.push(k);1!=p&&d.push(2!=p?k.clone():k);3==(p|q)&&(p=(b.Ip-b.qd.jj(k.Be()))/b.qd.jj(Jp(m.Be(),k.Be())),p=new Mp(k.hw.xr(m.Be(),p),k.qd.xr(m.qd,p)),c.push(p),
d.push(p.clone()))}3<=c.length&&e.push(new Op(c,a.vs));3<=d.length&&h.push(new Op(d,a.vs))}};function Qp(a){this.eb=this.$a=this.cf=null;this.Ob=[];a&&Rp(this,a)}Qp.prototype={clone:function(){var a=new Qp;Sp(a,this.cf&&this.cf.clone());Tp(a,this.$a&&this.$a.clone());Up(a,this.eb&&this.eb.clone());a.ss(this.Ob.map(function(a){return a.clone()}));return a},Hb:function(){for(var a=0;a<this.Ob.length;a++)this.Ob[a].Ek();this.cf.Ek();this.$a&&this.$a.Hb();this.eb&&this.eb.Hb();a=this.$a;this.$a=this.eb;this.eb=a},ss:function(a){this.Ob=a}};function Up(a,b){a.eb=b}function Tp(a,b){a.$a=b}
function Sp(a,b){a.cf=b}function Rp(a,b){if(b.length){a.cf||(a.cf=b[0].cf.clone());for(var c=[],d=[],e=0;e<b.length;e++)Pp(b[e],a.cf,a.Ob,a.Ob,c,d);c.length&&(a.$a||(a.$a=new Qp),Rp(a.$a,c));d.length&&(a.eb||(a.eb=new Qp),Rp(a.eb,d))}}function Vp(a){var b=a.Ob.slice();a.$a&&(b=b.concat(Vp(a.$a)));a.eb&&(b=b.concat(Vp(a.eb)));return b}function Wp(a,b){a.Ob=Xp(b,a.Ob);a.$a&&Wp(a.$a,b);a.eb&&Wp(a.eb,b)}
function Xp(a,b){if(!a.cf)return b.slice();for(var c=[],d=[],e=0;e<b.length;e++)Pp(b[e],a.cf,c,d,c,d);a.$a&&(c=Xp(a.$a,c));d=a.eb?Xp(a.eb,d):[];return c.concat(d)};function Yp(){this.Ob=[]}function Zp(a){var b=new Yp;b.ss(a);return b}
Yp.prototype={clone:function(){var a=new Yp;a.ss(this.Ob.map(function(a){return a.clone()}));return a},ax:function(a){var b=new Qp(this.clone().Ob);a=new Qp(a.clone().Ob);Wp(b,a);Wp(a,b);a.Hb();Wp(a,b);a.Hb();Rp(b,Vp(a));return Zp(Vp(b))},Pc:function(a){var b=new Qp(this.clone().Ob);a=new Qp(a.clone().Ob);b.Hb();Wp(b,a);Wp(a,b);a.Hb();Wp(a,b);a.Hb();Rp(b,Vp(a));b.Hb();return Zp(Vp(b))},$u:function(a){var b=new Qp(this.clone().Ob);a=new Qp(a.clone().Ob);b.Hb();Wp(a,b);a.Hb();Wp(b,a);Wp(a,b);Rp(b,Vp(a));
b.Hb();return Zp(Vp(b))},inverse:function(){var a=this.clone();a.Ob.map(function(a){a.Ek()});return a},ss:function(a){this.Ob=a}};function $p(){}function aq(a){for(var b=a.G.count,c=[],d=0,d=0;d<b;d+=3){var e=a.G.get(d),h=a.G.get(d+1),k=a.G.get(d+2),l=a.fa.get(d),n=a.fa.get(d+1),p=a.fa.get(d+2),m=a.Ma;a.Tc&&0<a.Tc.length&&(m=a.Tc.get(d));var q=[];q.push(new Mp(e,l));q.push(new Mp(h,n));q.push(new Mp(k,p));c.push(new Op(q,m))}return Zp(c)}
function bq(a,b){if(!(null!=b&&b instanceof Yp))throw Error("Invalid CSG object.");var c=new dd,d=[];Db(b.Ob,function(a){var b=[],k=a.vs,b=Db(a.Di,function(a){a.color=k;return c.add(a)});for(a=a=2;a<b.length;a++)d.push([b[0],b[a-1],b[a]])}.bind(a));a.DF=Db(c.unique(),function(a){return[a.Be().x(),a.Be().y(),a.Be().z()]});a.CF=Db(c.unique(),function(a){return[a.qd.x(),a.qd.y(),a.qd.z()]});a.BF=Db(c.unique(),function(a){return a.color?[a.color[0],a.color[1],a.color[2]]:null});a.G=new cd(9*d.length);
a.fa=new cd(9*d.length);a.Tc=new cd(9*d.length);Db(d,function(a){var b=a[0],c=a[1];a=a[2];var d=this.DF,n=this.CF,p=this.BF;this.G.add(d[b][0],d[b][1],d[b][2]);this.G.add(d[c][0],d[c][1],d[c][2]);this.G.add(d[a][0],d[a][1],d[a][2]);this.fa.add(n[b][0],n[b][1],n[b][2]);this.fa.add(n[c][0],n[c][1],n[c][2]);this.fa.add(n[a][0],n[a][1],n[a][2]);p[b]&&this.Tc.add(p[b][0],p[b][1],p[b][2]);p[c]&&this.Tc.add(p[c][0],p[c][1],p[c][2]);p[a]&&this.Tc.add(p[a][0],p[a][1],p[a][2])}.bind(a));0==a.Tc.Ta&&(a.Tc=null);
a.Sd=Td}$p.prototype.ax=function(a){if(null==a||!(a instanceof Yp||a instanceof Wd))throw Error("Invalid object.");var b=a;a instanceof Wd&&(b=aq(b));a=new Wd;Aa(a,new $p);bq(a,aq(this).ax(b));return a};$p.prototype.Pc=function(a){if(null==a||!(a instanceof Yp||a instanceof Wd))throw Error("Invalid object.");var b=a;a instanceof Wd&&(b=aq(b));a=new Wd;Aa(a,new $p);bq(a,aq(this).Pc(b));return a};
$p.prototype.$u=function(a){if(null==a||!(a instanceof Yp||a instanceof Wd))throw Error("Invalid object.");var b=a;a instanceof Wd&&(b=aq(b));a=new Wd;Aa(a,new $p);bq(a,aq(this).$u(b));return a};$p.prototype.inverse=function(){var a=new Wd;Aa(a,new $p);bq(a,aq(this).inverse());return a};v("X.constructable",$p);v("X.constructable.prototype.intersect",$p.prototype.$u);v("X.constructable.prototype.inverse",$p.prototype.inverse);v("X.constructable.prototype.subtract",$p.prototype.Pc);
v("X.constructable.prototype.union",$p.prototype.ax);function cq(a){function b(a,b,d){b=b*Math.PI*2;b=Hp(Ip(n,Math.cos(b)),Ip(p,Math.sin(b)));a=Hp(Hp(c,Ip(e,a)),Ip(b,h));d=Hp(Ip(b,1-Math.abs(d)),Ip(k,d));return new Mp(a,d)}this.Ob=[];a=a||{};var c=new Gp(a.start||[0,-1,0]),d=new Gp(a.end||[0,1,0]),e=Jp(d,c),h=a.qh||1;a=a.sa||16;for(var k=Kp(e),l=.5<Math.abs(k.y()),n=Kp((new Gp(l,!l,0)).uk(k)),p=Kp(n.uk(k)),l=new Mp(c,Lp(k)),d=new Mp(d,Kp(k)),m=[],q=0;q<a;q++){var t=q/a,s=(q+1)/a;m.push(new Op([l,b(0,t,-1),b(0,s,-1)]));m.push(new Op([b(0,s,0),b(0,t,
0),b(1,t,0),b(1,s,0)]));m.push(new Op([d,b(1,s,1),b(1,t,1)]))}return Zp(m)}w(cq,Yp);function dq(){Wd.call(this);this.u="cylinder";this.vt=[-10,-10,-10];this.ct=[10,10,10];this.ek=10;this.hd=32;Aa(this,new $p)}w(dq,Wd);dq.prototype.__defineGetter__("start",function(){return this.vt});dq.prototype.__defineSetter__("start",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid start");this.vt=a});dq.prototype.__defineGetter__("end",function(){return this.ct});dq.prototype.__defineSetter__("end",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid end");this.ct=a});
dq.prototype.__defineGetter__("radius",function(){return this.ek});dq.prototype.__defineSetter__("radius",function(a){if(!u(a))throw Error("Invalid radius.");this.ek=a});dq.prototype.ga=function(){bq(this,new cq({start:this.vt,end:this.ct,qh:this.ek,sa:this.hd}));dq.d.ga.call(this)};v("X.cylinder",dq);v("X.cylinder.prototype.modified",dq.prototype.ga);function eq(a){function b(a,b){a=2*a*Math.PI;b*=Math.PI;var e=new Gp(Math.cos(a)*Math.sin(b),Math.cos(b),Math.sin(a)*Math.sin(b));k.push(new Mp(Hp(c,Ip(e,d)),e))}this.Ob=[];a=a||{};var c=new Gp(a.Ud||[0,0,0]),d=a.qh||1,e=a.sa||16;a=a.wM||8;for(var h=[],k=[],l=0;l<e;l++)for(var n=0;n<a;n++)k=[],b(l/e,n/a),0<n&&b((l+1)/e,n/a),n<a-1&&b((l+1)/e,(n+1)/a),b(l/e,(n+1)/a),h.push(new Op(k));return Zp(h)}w(eq,Yp);function fq(){Wd.call(this);this.u="sphere";this.Za=[0,0,0];this.ek=5;this.hd=32;this.IF=16;Aa(this,new $p)}w(fq,Wd);fq.prototype.__defineGetter__("center",function(){return this.Za});fq.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center");this.Za=a});fq.prototype.__defineGetter__("radius",function(){return this.ek});fq.prototype.__defineSetter__("radius",function(a){if(!u(a))throw Error("Invalid radius.");this.ek=a});
fq.prototype.ga=function(){bq(this,new eq({Ud:this.Za,qh:this.ek,sa:this.hd,wM:this.IF}));fq.d.ga.call(this)};v("X.sphere",fq);v("X.sphere.prototype.modified",fq.prototype.ga);function Qe(a){K.call(this);this.u="labelmap";this.Th=a;this.ut=new Float32Array([-255,-255,-255,-255])}w(Qe,K);Qe.prototype.ga=function(){var a=new Xd;a.Ua=this;this.dispatchEvent(a);this.Th.ga()};Qe.prototype.__defineSetter__("showOnly",function(a){var b=[-1,-1,-1,-1];if(null!=a)if(g(a)&&4==a.length)b=a;else{if(!this.Pd)throw Error("No colortable assigned.");b=this.Pd.ke.get(a).slice(1,5)}this.ut=new Float32Array([Math.floor(255*b[0]),Math.floor(255*b[1]),Math.floor(255*b[2]),Math.floor(255*b[3])])});
v("X.labelmap",Qe);function gq(a){this.Ob=[];a=a||{};var b=new Gp(a.Ud||[0,0,0]),c=a.qh?a.qh.length?a.qh:[a.qh,a.qh,a.qh]:[1,1,1];return Zp([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(a){return new Op(a[0].map(function(e){e=new Gp(b.x()+c[0]*(2*!!(e&1)-1),b.y()+c[1]*(2*!!(e&2)-1),b.z()+c[2]*(2*!!(e&4)-1));return new Mp(e,new Gp(a[1]))}))}))}w(gq,Yp);function hq(){Wd.call(this);this.u="cube";this.Za=[0,0,0];this.ht=this.gt=this.ft=20;this.Tl=[0,1,1,1,1,0,0,1,1,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0];Aa(this,new $p)}w(hq,Wd);hq.prototype.__defineGetter__("center",function(){return this.Za});hq.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center");this.Za=a});hq.prototype.__defineGetter__("lengthX",function(){return this.ft});
hq.prototype.__defineSetter__("lengthX",function(a){if(!u(a))throw Error("Invalid lengthX.");this.ft=a});hq.prototype.__defineGetter__("lengthY",function(){return this.gt});hq.prototype.__defineSetter__("lengthY",function(a){if(!u(a))throw Error("Invalid lengthY.");this.gt=a});hq.prototype.__defineGetter__("lengthZ",function(){return this.ht});hq.prototype.__defineSetter__("lengthZ",function(a){if(!u(a))throw Error("Invalid lengthZ.");this.ht=a});
hq.prototype.ga=function(){bq(this,new gq({Ud:this.Za,qh:[this.ft/2,this.gt/2,this.ht/2]}));hq.d.ga.call(this)};v("X.cube",hq);v("X.cube.prototype.modified",hq.prototype.ga);function Cp(a){Ap.call(this,a);this.u="interactor3D"}w(Cp,Ap);Cp.prototype.Jo=function(a){Cp.d.Jo.call(this,a);var b=new se;null==a.Wd&&(a.Wd=0);b.Ug=0>a.Wd;b.Zf=!0;this.dispatchEvent(b)};function iq(a){bd.call(this);this.u="array";this.jb=[];this.Sx=a}w(iq,bd);function jq(a,b,c){for(var d=0;4>d;d++)if(a[d+0]!==b[d+c])return!1;return!0}iq.prototype.add=function(a){this.jb.push(a);return!0};iq.prototype.remove=function(a){a=this.jb.indexOf(a);-1<a&&this.jb.splice(a,1);return!0};iq.prototype.clear=function(){this.jb.length=0};
function kq(a,b,c){var d=c-b;if(!(2>d))for(d=b+Math.floor(d/2),kq(a,b,d),kq(a,d,c);b<d;++b)if(0<a.Sx(a.jb[b],a.jb[d])){var e=a.jb[b];a.jb[b]=a.jb[d];for(var h=a,k=d,l=c;k+1<l&&0>h.Sx(h.jb[k+1],e);){var n=h,p=k+1,m=n.jb[k];n.jb[k]=n.jb[p];n.jb[p]=m;++k}h.jb[k]=e}}iq.prototype.sort=function(){kq(this,0,this.jb.length)};function lq(a,b){Fp.call(this,a,b);this.u="camera2D"}w(lq,Fp);lq.prototype.rotate=function(a){a=lq.d.rotate.call(this,a);var b=new pe;0<a.x?b.xt--:0>a.x&&b.xt++;0<a.y?b.it++:0>a.y&&b.it--;this.dispatchEvent(b)};lq.prototype.Um=function(a){var b=20;null!=a&&!a&&(b=.02);this.Q[14]+=b};lq.prototype.Vm=function(a){var b=20;null!=a&&!a&&(b=.02);this.Q[14]-=b};
lq.prototype.Tr=function(a){if(g(a)&&2==a.length)a=new A.S(a[0],a[1],0);else if(!(a instanceof A.S))throw Error("Invalid distance vector for pan operation.");this.Q[12]-=a.x/this.Q[14];this.Q[13]+=a.y/this.Q[14]};function mq(a,b){Fp.call(this,a,b);this.u="camera3D";this.Vx=45;this.nt=A.v.tv(A.v.ko(),this.Vx,a/b,1,1E4)}w(mq,Fp);mq.prototype.rotate=function(a){a=mq.d.rotate.call(this,a);var b=-a.x/5*Math.PI/180;a=-a.y/5*Math.PI/180;var c=new A.S(this.Q[1],this.Q[5],this.Q[9]),d=new A.S(this.Q[0],this.Q[4],this.Q[8]);c.normalize();d.normalize();A.v.rotate(this.Q,b,c.x,c.y,c.z);A.v.rotate(this.Q,a,d.x,d.y,d.z)};mq.prototype.yr=function(a,b){var c=mq.d.yr.call(this,a,b);A.v.tB(c,a,b,this.kc);return c};
function nq(a,b,c,d){var e=new Float32Array(4),h=new Float32Array(4),k=new Float32Array(16),l=new Float32Array(16);new Float32Array(16);A.v.multiply(a.nt,a.Q,l);A.v.Hb(l,k);e[0]=b;e[1]=c;e[2]=2*d-1;e[3]=1;A.v.DB(k,e,h);h[3]=1/h[3];h[0]*=h[3];h[1]*=h[3];h[2]*=h[3];return h}v("X.camera3D",mq);function oq(){$c.call(this)}w(oq,$c);f=oq.prototype;f.ad=0;f.yg=0;f.Hf=100;f.Ue=0;f.zi=1;f.xe=!1;f.Wk=!1;f.C=function(a){a=pq(this,a);this.ad!=a&&(this.ad=a+this.Ue>this.Hf?this.Hf-this.Ue:a<this.yg?this.yg:a,this.xe||this.Wk||this.dispatchEvent("change"))};f.w=function(){return pq(this,this.ad)};f.Lf=function(a){a=pq(this,a);this.Ue!=a&&(this.Ue=0>a?0:this.ad+a>this.Hf?this.Hf-this.ad:a,this.xe||this.Wk||this.dispatchEvent("change"))};
f.Cd=function(){var a=this.Ue;return null==this.zi?a:Math.round(a/this.zi)*this.zi};f.Qb=function(a){if(this.yg!=a){var b=this.xe;this.xe=!0;this.yg=a;a+this.Ue>this.Hf&&(this.Ue=this.Hf-this.yg);a>this.ad&&this.C(a);a>this.Hf&&(this.Ue=0,this.Jb(a),this.C(a));(this.xe=b)||this.Wk||this.dispatchEvent("change")}};f.ha=function(){return pq(this,this.yg)};
f.Jb=function(a){a=pq(this,a);if(this.Hf!=a){var b=this.xe;this.xe=!0;this.Hf=a;a<this.ad+this.Ue&&this.C(a-this.Ue);a<this.yg&&(this.Ue=0,this.Qb(a),this.C(this.Hf));a<this.yg+this.Ue&&(this.Ue=this.Hf-this.yg);(this.xe=b)||this.Wk||this.dispatchEvent("change")}};f.T=function(){return pq(this,this.Hf)};f.Ed=function(){return this.zi};f.Oc=function(a){this.zi!=a&&(this.zi=a,a=this.xe,this.xe=!0,this.Jb(this.T()),this.Lf(this.Cd()),this.C(this.w()),(this.xe=a)||this.Wk||this.dispatchEvent("change"))};
function pq(a,b){return null==a.zi?b:a.yg+Math.round((b-a.yg)/a.zi)*a.zi};function qq(a){Zj.call(this,a);this.rh=new oq;G(this.rh,"change",this.Nu,!1,this)}w(qq,Zj);var rq={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};f=qq.prototype;f.B=function(){this.ef=this.tk();var a=rq[this.Ka];this.q=this.O().B("div",a,this.ef);sq(this);tq(this);uq(this)};f.lb=function(){qq.d.lb.call(this);F&&7>nc&&G(this.a(),"resize",this.Ch,!1,this);this.Ch();var a=this.a();Il(a,"progressbar");Jl(a,"live","polite")};f.Lc=function(){qq.d.Lc.call(this);vq(this)};
f.tk=function(){return this.O().B("div","progress-bar-thumb")};function vq(a){F&&7>nc&&Uc(a.a(),"resize",a.Ch,!1,a)}f.qe=function(a){qq.d.qe.call(this,a);Nl(this.a(),rq[this.Ka]);a=Wh(document,null,"progress-bar-thumb",this.a())[0];a||(a=this.tk(),this.a().appendChild(a));this.ef=a};f.w=function(){return this.rh.w()};f.C=function(a){this.rh.C(a);this.a()&&sq(this)};function sq(a){Jl(a.a(),"valuenow",a.w())}f.ha=function(){return this.rh.ha()};f.Qb=function(a){this.rh.Qb(a);this.a()&&tq(this)};
function tq(a){Jl(a.a(),"valuemin",a.ha())}f.T=function(){return this.rh.T()};f.Jb=function(a){this.rh.Jb(a);this.a()&&uq(this)};function uq(a){Jl(a.a(),"valuemax",a.T())}f.Ka="horizontal";f.Nu=function(){this.Ch();this.dispatchEvent("change")};
f.Ch=function(){if(this.ef){var a=this.ha(),b=this.T(),a=(this.w()-a)/(b-a),b=Math.round(100*a);"vertical"==this.Ka?F&&7>nc?(this.ef.style.top=0,this.ef.style.height="100%",b=this.ef.offsetHeight,a=Math.round(a*b),this.ef.style.top=b-a+"px",this.ef.style.height=a+"px"):(this.ef.style.top=100-b+"%",this.ef.style.height=b+"%"):this.ef.style.width=b+"%"}};
f.xi=function(a){if(this.Ka!=a){var b=rq[this.Ka],c=rq[a];this.Ka=a;if(a=this.a())Ml(a,b)&&(Pl(a,b),Nl(a,c)),b=this.ef.style,"vertical"==this.Ka?(b.left=0,b.width="100%"):(b.top=b.left=0,b.height="100%"),this.Ch()}};f.Zb=function(){return this.Ka};f.f=function(){vq(this);qq.d.f.call(this);this.ef=null;this.rh.g()};f.Ed=function(){return this.rh.Ed()};f.Oc=function(a){this.rh.Oc(a)};function wq(a,b){if(null==a)throw Error("No valid parent element.");if(null==b)throw Error("Invalid initial value.");qq.call(this);this.u="progressbar";this.qf=a;this.mt="";this.Sp=this.Sh=null;this.bk=[];var c;c=".progress-bar-horizontal {\n  position: relative;\n  border: 1px solid #949dad;\n";c+="  background: white;\n";c+="  padding: 1px;\n";c+="  overflow: hidden;\n";c+="  margin: 2px;\n";c+="  width: 100px;\n";c+="  height: 5px;\n";c+="}";var d;d=".progress-bar-thumb {\n  position: relative;\n  background: #F62217;\n";
d+="  overflow: hidden;\n";d+="  width: 0%;\n";d+="  height: 100%;\n";d+="}";var e;e=".progress-bar-thumb-done {\n  background: #57E964;\n}";this.bk=[c,d,e];this.C(b);this.Xu()}w(wq,qq);
wq.prototype.Xu=function(){var a=pj(this.qf,"position");if("static"==a||""==a)this.mt=this.qf.style.position,this.qf.style.position="relative";var a=document.getElementsByTagName("head")[0],b=Q("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.bk[0])),d=document.createTextNode(String(this.bk[1])),e=document.createTextNode(String(this.bk[2]));a.appendChild(b);b.appendChild(c);b.appendChild(d);b.appendChild(e);this.Sh=b;this.k(this.qf);a=this.a();a.style.position=
"absolute";a.style.top=(this.qf.clientHeight-5)/2+"px";a.style.left=(this.qf.clientWidth-100)/2+"px";a.classList.add("xtk-progress-bar")};wq.prototype.done=function(){var a=this.a().style.top,b=this.a().style.left;S(this.a());var c=new wq(this.qf,100),d=c.a();d.style.position="absolute";d.style.top=a;d.style.left=b;d.classList.add("xtk-progress-bar");ji(d).classList.add("progress-bar-thumb-done");this.Sp=c};
wq.prototype.uo=function(){this.Sh&&S(this.Sh);this.a()&&S(this.a());this.Sp&&S(this.Sp.a());this.Sp=this.Sh=null;this.mt&&(this.qf.style.position=this.mt)};function xq(){bd.call(this);this.u="renderer";this.za=window.document.body;this.cb=this.za.clientWidth;this.Na=this.za.clientHeight;this.Ha=this.oa=this.Gc=null;this.Wg=new iq(Zd);this.xd=[];this.Tb=null;this.aq=this.fn=this.Zp=!1;this.b=this.Si=this.ne=null;this.Bb={PROGRESSBAR_ENABLED:!0,INTERMEDIATE_RENDERING:!1,SLICENAVIGATORS:!0};this.$s=-1;window.console.log("XTK release 10 -- ###TIMESTAMP### -- http://www.goXTK.com -- @goXTK")}w(xq,bd);f=xq.prototype;
f.Jv=function(){window.cancelAnimationFrame(this.$s);this.Bb.PROGRESSBAR_ENABLED&&(this.Si=new wq(this.za,3))};f.Kv=function(){this.Bb.PROGRESSBAR_ENABLED&&this.Si&&(this.Si.done(),this.Pp=Zf(function(){this.Pp=null;this.Si&&(this.Si.uo(),this.Si=null);this.fn=this.aq=!0;this.k()}.bind(this),700))};f.Lv=function(a){this.Si&&this.Si.C(100*a.ik)};f.Zk=function(a){this.ne&&this.ne.C(100*a.ik)};f.KK=function(a){null!=a&&a instanceof Xd&&a.Ua&&this.Dh(a.Ua)};
f.WK=function(a){null!=a&&a instanceof Yd&&a.Ua&&this.remove(a.Ua)};f.Rv=function(a){if(!(null!=a&&a instanceof ve))throw Error("Invalid hover event.");};f.$k=function(){var a=Uh(this.za);this.cb=a.clientWidth;this.Na=a.clientHeight;a=Uh(this.Gc);null!=a&&(a.width=this.cb,a.height=this.Na,"renderer3D"==this.u&&(this.b.viewport(0,0,this.cb,this.Na),this.oa.nt=A.v.tv(A.v.ko(),this.oa.Vx,this.Gc.width/this.Gc.height,1,1E4)))};
f.Dj=function(a){if(!(null!=a&&a instanceof te))throw Error("Invalid scroll event.");};xq.prototype.__defineGetter__("config",function(){return this.Bb});xq.prototype.__defineGetter__("interactor",function(){return this.Ha});xq.prototype.__defineGetter__("camera",function(){return this.oa});xq.prototype.__defineGetter__("loadingCompleted",function(){return this.fn});xq.prototype.__defineGetter__("container",function(){return this.za});
xq.prototype.__defineSetter__("container",function(a){if(null==a)throw Error("An ID to a valid container (<div>..) is required.");var b=a;r(b)&&(b=Uh(a));if(!mi(b))throw Error("Could not find the given container.");this.za=b});f=xq.prototype;f.So=function(){this.oa.reset()};function yq(a){a.Bb.PROGRESSBAR_ENABLED&&a.ne&&!a.Pp&&(a.ne.done(),a.Pp=Zf(function(){this.Pp=null;this.ne&&(this.ne.uo(),this.ne=null);this.k()}.bind(a),700))}
f.va=function(a){var b=Q("canvas");this.za.appendChild(b);this.cb=this.za.clientWidth;this.Na=this.za.clientHeight;b.width=this.cb;b.height=this.Na;try{var c=b.getContext(a);if(!c)throw Error();}catch(d){throw a="Sorry, "+a+' context is <strong>not supported</strong> on this machine! See <a href="http://crash.goXTK.com" target="_blank">http://crash.goXTK.com</a> for requirements..',this.za.innerHTML='<h3 style="color:red;font-family:sans-serif;">Oooops..</h3><p style="color:red;font-family:sans-serif;">'+
a+"</p>",Error(a);}this.Tb=new Pf;G(this.Tb,je,this.Zk.bind(this));this.Gc=b;this.b=c;b=new Cp(this.Gc);"2d"==a&&(b=new Ep(this.Gc));b.va();G(b,fe,this.So.bind(this));G(b,ke,this.Rv.bind(this));G(b,ee,this.Dj.bind(this));this.Ha=b;b=new mq(this.cb,this.Na);"2d"==a&&(b=new lq(this.cb,this.Na));b.observe(this.Ha);this.oa=b;G(window,"resize",this.$k,!1,this)};f.add=function(a){(a instanceof hq||a instanceof fq||a instanceof dq)&&a.ga();this.xd.push(a);this.Dh(a)};
f.remove=function(a){if(!this.Gc||!this.b)throw Error("The renderer was not initialized properly.");null!=a&&J(a);return!1};f.Dh=function(a){if(!this.Gc||!this.b)throw Error("The renderer was not initialized properly.");null!=a&&(Wc(a,he)||G(a,he,this.KK.bind(this)),Wc(a,ie)||G(a,ie,this.WK.bind(this)),Wc(a,me)||G(a,me,this.Jv.bind(this)),Wc(a,oe)||G(a,oe,this.Lv.bind(this)),Wc(a,ne)||G(a,ne,this.Kv.bind(this)))};
f.get=function(a){if(null==a)throw Error("Invalid object id.");for(var b=this.Wg.jb,c=b.length,d=0,d=0;d<c;d++)if(b[d].wd==a)return b[d];return null};
f.k=function(){if(!this.Gc||!this.b)throw Error("The renderer was not initialized properly.");if(null==this.iy){if(this.Tb.Ml.Wt(!1)){if(this.Bb.PROGRESSBAR_ENABLED&&!this.ne&&(this.ne=new wq(this.za,3)),this.aq=this.fn=!1,this.iy=Zf(function(){this.iy=null;this.k()}.bind(this),100),!this.Bb.INTERMEDIATE_RENDERING)return}else if(this.fn||this.aq||(this.aq=!0,eval("this.onShowtime()"),this.fn=!0),this.ne){yq(this);return}this.$s=window.requestAnimationFrame(this.k.bind(this));eval("this.onRender()");
this.sh(!1,!0)}};f.UB=function(){};f.QB=function(){};f.sh=function(){};f.re=function(){window.cancelAnimationFrame(this.$s);this.Tb&&(delete this.Tb,this.Tb=null);this.ne&&(this.ne.uo(),delete this.ne,this.ne=null);this.Wg.clear();delete this.Wg;this.xd.length=0;delete this.xd;delete this.Tb;this.Tb=null;delete this.oa;this.oa=null;delete this.Ha;this.Ha=null;delete this.b;this.b=null;S(this.Gc);delete this.Gc;this.Gc=null};function zq(){xq.call(this);this.u="renderer2D";this.gd=null;this.Qd=-1;this.me=[];this.$x=this.Xp=this.Wx=this.Vp=null;this.Ql=this.Sl=this.fk=this.gk=0;this.Ub=this.Vb=this.Fb=this.Db=this.Tx=-1;this.ay=new Float32Array([-255,-255,-255,-255]);this.hy=!0}w(zq,xq);zq.prototype.Zv=function(){};zq.prototype.wL=function(){};zq.prototype.Dj=function(a){zq.d.Dj.call(this,a);var b=this.xd[0];if(b){var c="",c=0==this.Qd?"indexX":1==this.Qd?"indexY":"indexZ";b[c]=a.kc?b[c]+1:b[c]-1;eval("this.onScroll();")}};
zq.prototype.xL=function(a){var b=this.xd[0];if(b){var c=b.Ub-b.Vb,d=c/2,e=parseInt(c+c/15*-a.xt,10);a=parseInt(d+d/15*a.it,10);c==e&&e++;d==a&&a++;b.Vb-=parseInt(d-a,10);b.Vb-=parseInt(c-e,10);b.Vb=Math.max(b.Vb,b.le);b.Ub-=parseInt(d-a,10);b.Ub+=parseInt(c-e,10);b.Ub=Math.min(b.Ub,b.ic);eval("this.onWindowLevel();")}};zq.prototype.__defineGetter__("orientation",function(){return this.gd});
zq.prototype.__defineSetter__("orientation",function(a){a=a.toUpperCase();"AXIAL"==a?(a="Z",this.Qd=2):"SAGITTAL"==a?(a="X",this.Qd=0):"CORONAL"==a&&(a="Y",this.Qd=1);if("X"!=a&&"Y"!=a&&"Z"!=a)throw Error("Invalid orientation.");this.gd=a});zq.prototype.__defineGetter__("radiological",function(){return this.hy});zq.prototype.__defineSetter__("radiological",function(a){this.hy=a});f=zq.prototype;
f.va=function(){if(!this.gd)throw Error("No 2D orientation set.");zq.d.va.call(this,"2d");this.b.fillStyle="rgba(50,50,50,0)";this.b.fillRect(0,0,this.Gc.width,this.Gc.height);this.Vp=Q("canvas");this.Xp=Q("canvas");G(this.oa,ge,this.xL.bind(this))};f.$k=function(){zq.d.$k.call(this);Aq(this)};f.So=function(){zq.d.So.call(this);Aq(this);var a=this.xd[0];a&&(a.Ub=a.ic,a.Vb=a.le)};
f.Dh=function(a){zq.d.Dh.call(this,a);var b=!1;this.get(a.wd)&&(b=!0);if(a instanceof K){var c=a.ja,d=a.t,e=a.Pd;if(null!=d&&null!=d.ja&&d.ja.J)this.Dh(d);else if(null!=e&&null!=e.ja&&e.ja.J)this.Tb.load(e,a);else{if(null!=c&&g(c))if(null!=a.Hh){if(a.Hh.Bo!=c.length||b&&!a.J)return}else{b=0;d=c.length;for(b=0;b<d;b++)this.Tb.load(c[b],a);return}else if(null!=c&&c.J){this.Tb.load(a,a);return}c=this.gd;this.Qd="X"==c?0:"Y"==c?1:2;this.hd=a.j[this.Qd].j;e=null;e=0==this.Qd?a.indexX:1==this.Qd?a.indexY:
a.indexZ;c=a.j[this.Qd].j[e].Zx;d=a.j[this.Qd].j[e].Yx;this.Sl=a.j[this.Qd].j[e].Uh;this.Ql=a.j[this.Qd].j[e].Nh;this.gk=c;this.fk=d;e=this.Vp;e.width=c;e.height=d;var h=this.Xp;h.width=c;h.height=d;this.Wx=e.getContext("2d");this.$x=h.getContext("2d");b||(this.Wg.add(a),Aq(this))}}};function Aq(a){var b=Math.min(a.cb/(a.gk*a.Sl),a.Na/(a.fk*a.Ql));null!=a.oa&&(a.oa.Q[14]=b)}f.Rr=function(){};
f.JD=function(a,b){var c=this.xd[0],d=this.oa.Q,e=null,h=this.gk,k=this.fk,l=null,n=null;if("Y"==this.gd)e=this.hd[parseInt(c.indexY,10)],l=e.Uh,n=e.Nh,this.me[0]="red",this.me[1]="blue";else if("Z"==this.gd)e=this.hd[parseInt(c.indexZ,10)],l=e.Uh,n=e.Nh,this.me[0]="red",this.me[1]="green";else{e=this.hd[parseInt(c.indexX,10)];l=e.Nh;n=e.Uh;this.me[0]="green";this.me[1]="blue";var p=h,h=k,k=p}var m=1*d[12],q=-1*d[13],p=Math.max(d[14],.6),d=[this.cb/2,this.Na/2],l=h*l*p,n=k*n*p,t=d[0]-l/2,d=d[1]-n/
2,t=t+m*p,d=d+q*p;return a>t&&a<t+l&&b>d&&b<d+n?(m=(a-t)/l*h,q=(b-d)/n*k,n=e.NF[4],"X"==this.gd?(p=h-m,m=q,q=p):"Y"==this.gd?m=h-m:"Z"==this.gd&&(m=h-m,q=k-q),m=e.MF+m*e.Uh,q=e.GF+q*e.Nh,m=Bd(m,q,n,1),h=Cd(),Md(e.zF,m,h),k=Cd(),Md(e.AF,m,k),e=Math.round((c.e[0].H[0]*k[0]+c.e[0].H[1]*k[1]+c.e[0].H[2]*k[2]+c.e[0].lt)/c.e[0].Rl),e>=c.e[0].ea?e=c.e[0].ea-1:0>e&&(e=0),m=Math.round((c.e[1].H[0]*k[0]+c.e[1].H[1]*k[1]+c.e[1].H[2]*k[2]+c.e[1].lt)/c.e[1].Rl),m>=c.e[1].ea?m=c.e[1].ea-1:0>m&&(m=0),q=Math.round((c.e[2].H[0]*
k[0]+c.e[2].H[1]*k[1]+c.e[2].H[2]*k[2]+c.e[2].lt)/c.e[2].Rl),q>=c.e[2].ea?q=c.e[2].ea-1:0>q&&(q=0),[[e,m,q],[h[0],h[1],h[2]],[k[0],k[1],k[2]]]):null};
f.sh=function(a,b){zq.d.sh.call(this,a,b);if(0!=this.Wg.jb.length){var c=this.xd[0],d=null,d=0==this.Qd?c.indexX:1==this.Qd?c.indexY:c.indexZ,e=this.hd[parseInt(d,10)].Zx,h=this.hd[parseInt(d,10)].Yx;this.Sl=this.hd[parseInt(d,10)].Uh;this.Ql=this.hd[parseInt(d,10)].Nh;this.gk=e;this.fk=h;var k=this.cb,l=this.Na,n=this.oa.Q;this.b.save();this.b.clearRect(-k,-l,2*k,2*l);this.b.restore();var p=Math.max(n[14],.1);this.b.setTransform(p,0,0,p,0,0);var m=1*n[12],n=-1*n[13],q=null;c.t&&(q=c.t.ut);var t=
this.hd[parseInt(d,10)],s=t.bb.Ti,t=t.t,z=null;t&&(z=t.Ti);var y=this.gk,I=this.fk,P=this.Wx,N=this.$x,H=P.getImageData(0,0,y,I),T=N.getImageData(0,0,y,I),ca=H.data,V=T.data,wa=ca.length,oa=c.ic,ya=c.Db,Oa=c.Fb,Ja=c.Vb/oa,Pa=c.Ub/oa;if(this.Tx!=d||this.Db!=ya||this.Fb!=Oa||this.Vb!=Ja||this.Ub!=Pa||q&&!jq(q,this.ay,0)){var ka=this.Vp;ka.width=e;ka.height=h;ka=this.Xp;ka.width=e;ka.height=h;e=0;do{var ka=[0,0,0,0],h=[0,0,0,0],za=s[e]/255*oa,qa=s[e],qa=(qa/255-Ja)/(Pa-Ja),qa=255*qa;za>=ya&&za<=Oa&&
(ka=new pd(c.Pi[0],c.Pi[1],c.Pi[2]),ka=(new pd(c.Ni[0],c.Ni[1],c.Ni[2])).scale(qa).add(ka.scale(255-qa)),ka=[Math.floor(ka.x),Math.floor(ka.y),Math.floor(ka.z),255],t&&(-255==q[3]?h=[z[e],z[e+1],z[e+2],z[e+3]]:jq(q,z,e)&&(h=[z[e],z[e+1],z[e+2],z[e+3]])));"X"==this.gd?(ca[e]=ka[0],ca[e+1]=ka[1],ca[e+2]=ka[2],ca[e+3]=ka[3],V[e]=h[0],V[e+1]=h[1],V[e+2]=h[2],V[e+3]=h[3]):"Y"==this.gd?(qa=Math.floor(e/(4*y)),qa=qa*y*4+(4*(y-1)-(e-qa*y*4)),ca[qa]=ka[0],ca[qa+1]=ka[1],ca[qa+2]=ka[2],ca[qa+3]=ka[3],V[qa]=
h[0],V[qa+1]=h[1],V[qa+2]=h[2],V[qa+3]=h[3]):(qa=wa-1-e,ca[qa-3]=ka[0],ca[qa-2]=ka[1],ca[qa-1]=ka[2],ca[qa]=ka[3],V[qa-3]=h[0],V[qa-2]=h[1],V[qa-1]=h[2],V[qa]=h[3]);e+=4}while(e<wa);P.putImageData(H,0,0);N.putImageData(T,0,0);this.Tx=d;this.Db=ya;this.Fb=Oa;this.Vb=Ja;this.Ub=Pa;t&&(this.ay=q)}this.b.globalAlpha=1;this.b.translate(k/2/p,l/2/p);"X"==this.gd&&(this.b.rotate(.5*Math.PI),d=m,m=n,n=-d);m=-y*this.Sl/2+m;n=-I*this.Ql/2+n;this.b.drawImage(this.Vp,m,n,y*this.Sl,I*this.Ql);t&&c.t.vb&&(this.b.globalAlpha=
c.t.fd,this.b.drawImage(this.Xp,m,n,y*this.Sl,I*this.Ql));this.Bb.SLICENAVIGATORS&&this.Ha.$p&&this.Ha.tt&&!this.Ha.Vg&&(m=this.Ha.ed,m=this.JD(m[0],m[1]))&&(c.Oh=m[0][0],c.Ph=m[0][1],c.Qh=m[0][2],c.ga(!1),this.onSliceNavigation(),this.b.setTransform(1,0,0,1,0,0),this.b.lineWidth=1,this.b.beginPath(),this.b.moveTo(this.Ha.ed[0],0),this.b.lineTo(this.Ha.ed[0],this.Ha.ed[1]-10),this.b.moveTo(this.Ha.ed[0],this.Ha.ed[1]+10),this.b.lineTo(this.Ha.ed[0],this.Na),this.b.strokeStyle=this.me[0],this.b.stroke(),
this.b.closePath(),this.b.beginPath(),this.b.moveTo(0,this.Ha.ed[1]),this.b.lineTo(this.Ha.ed[0]-10,this.Ha.ed[1]),this.b.moveTo(this.Ha.ed[0]+10,this.Ha.ed[1]+.5),this.b.lineTo(this.cb,this.Ha.ed[1]),this.b.strokeStyle=this.me[1],this.b.stroke(),this.b.closePath(),this.b.font="10pt Arial",this.b.textAlign="left",this.b.textBaseline="top",this.b.fillStyle="white",this.b.fillText("RAS: "+m[2][0].toFixed(2)+", "+m[2][1].toFixed(2)+", "+m[2][2].toFixed(2),0,0),y=t=n="undefined","undefined"!=typeof c.pc[m[1][2].toFixed(0)]&&
"undefined"!=typeof c.pc[m[1][2].toFixed(0)][m[1][1].toFixed(0)]&&(n=c.pc[m[1][2].toFixed(0)][m[1][1].toFixed(0)][m[1][0].toFixed(0)],c.ob&&(t=c.t.pc[m[1][2].toFixed(0)][m[1][1].toFixed(0)][m[1][0].toFixed(0)],c.t.bn&&(y=c.t.bn.get(t),"undefined"!=typeof y&&(y=y[0])))),this.b.fillText("Background:  "+n+" ("+m[1][0].toFixed(0)+", "+m[1][1].toFixed(0)+", "+m[1][2].toFixed(0)+")",0,15),c.ob&&this.b.fillText("Labelmap:  "+y+" ("+t+")",0,30))}};v("X.renderer2D",zq);v("X.renderer2D.prototype.init",zq.prototype.va);
v("X.renderer2D.prototype.add",zq.prototype.add);v("X.renderer2D.prototype.onShowtime",zq.prototype.UB);v("X.renderer2D.prototype.onRender",zq.prototype.QB);v("X.renderer2D.prototype.onScroll",zq.prototype.Zv);v("X.renderer2D.prototype.onWindowLevel",zq.prototype.wL);v("X.renderer2D.prototype.get",zq.prototype.get);v("X.renderer2D.prototype.resetViewAndRender",zq.prototype.So);v("X.renderer2D.prototype.xy2ijk",zq.prototype.JD);v("X.renderer2D.prototype.render",zq.prototype.k);
v("X.renderer2D.prototype.destroy",zq.prototype.re);v("X.renderer2D.prototype.onSliceNavigation",zq.prototype.Rr);function Bq(){$c.call(this)}w(Bq,$c);v("xiv.vis.RenderEngine",Bq);Bq.prototype.ID_PREFIX="xiv.vis.RenderEngine";var Cq="isSelectedVolume"+B();v("xiv.vis.RenderEngine.EventType",{qO:"j",nO:"k",oO:"l"});v("xiv.vis.RenderEngine.SELECTED_VOL_KEY",Cq);v("xiv.vis.RenderEngine.prototype.ID_PREFIX",Bq.prototype.ID_PREFIX);function Dq(){zq.call(this)}w(Dq,zq);v("xiv.vis.XtkRenderer2D",Dq);f=Dq.prototype;f.bf=function(){this.$k()};f.Zv=function(){this.Rr()};f.Zk=function(a){Dq.d.Zk.call(this,a);this.dispatchEvent({type:"k",value:a.ik})};f.va=function(){this.config.PROGRESSBAR_ENABLED=!1;this.config.SLICENAVIGATORS=!1;Dq.d.va.call(this);this.Ha.onMouseMove=this.CK.bind(this);this.Ha.config.MOUSEWHEEL_ENABLED=!1;this.Ha.config.MOUSECLICKS_ENABLED=!1;this.Ha.config.KEYBOARD_ENABLED=!1;this.Ha.va()};f.Zb=function(){return this.gd};
f.ZG=function(){return this.oa};f.YH=function(){return this.Ha.mousePosition};f.or=function(){};f.CK=function(){this.dispatchEvent({type:"mouseover",cK:this.Ha.cK,lM:this.Ha.shiftDown})};f.Rr=function(){this.dispatchEvent({type:"m",volume:this.xd[0],UP:this.xd[0]["index"+this.gd],TP:this.gd,lM:this.Ha.tt})};f.k=function(){this.Gc&&this.b?(Dq.d.k.call(this),this.dispatchEvent({type:"l"})):(window.console.log("init"),this.va(),window.console.log(this.pm().visible))};f.$G=function(){return this.Gc};
f.pm=function(){return this.xd[0]};f.sA=function(){if(null!=this.hd){var a=this.xd[0];if(null!=a[K.REORIENTED_DIMENSIONS_KEY]&&"false"==a.reslicing.toString())switch(this.Zb()){case "X":return a[K.REORIENTED_DIMENSIONS_KEY][0];case "Y":return a[K.REORIENTED_DIMENSIONS_KEY][1];case "Z":return a[K.REORIENTED_DIMENSIONS_KEY][2]}return this.hd.length}};f.IA=function(){return this.oa.Q[14]};f.WC=function(a){this.oa.Q[14]=a};function Eq(a){.01>a.oa.Q[14]&&(a.oa.Q[14]=.01)}
f.Um=function(){this.oa.Q[14]+=.03;Eq(this)};f.Vm=function(){this.oa.Q[14]+=-.03;Eq(this)};
function Fq(a,b,c,d){var e=a.xd[0],h=a.oa.Q,k=null,l=a.gk,n=a.fk,p=null,m=null;if(null!=e){"Y"==a.gd?(k=a.hd[parseInt(e.indexY,10)],p=k.Uh,m=k.Nh,a.me[0]="red",a.me[1]="blue"):"Z"==a.gd?(k=a.hd[parseInt(e.indexZ,10)],p=k.Uh,m=k.Nh,a.me[0]="red",a.me[1]="green"):(k=a.hd[parseInt(e.indexX,10)],p=k.Nh,m=k.Uh,a.me[0]="green",a.me[1]="blue",e=l,l=n,n=e);var e=1*h[12],k=-1*h[13],h=Math.max(h[14],.6),q=[a.cb/2,a.Na/2],p=l*p*h,m=n*m*h,t=q[0]-p/2,q=q[1]-m/2,t=t+e*h,q=q+k*h;if("vertical"===c)return b=Math.max(0,
b),b=Math.min(b,l),d?t+(a.gk-b)/l*p:t+b/l*p;b=Math.max(0,b);b=Math.min(b,n);return d?q+(a.fk-b)/n*m:q+b/n*m}}f.BA=function(a,b){return Fq(this,a,"vertical",b)};f.gA=function(a,b){return Fq(this,a,"horizontal",b)};f.re=function(){Dq.d.re.call(this)};v("xiv.vis.XtkRenderer2D.ZOOM_MINIMUM",.01);v("xiv.vis.XtkRenderer2D.prototype.onResize",Dq.prototype.bf);v("xiv.vis.XtkRenderer2D.prototype.onScroll",Dq.prototype.Zv);v("xiv.vis.XtkRenderer2D.prototype.onProgress",Dq.prototype.Zk);
v("xiv.vis.XtkRenderer2D.prototype.init",Dq.prototype.va);v("xiv.vis.XtkRenderer2D.prototype.getOrientation",Dq.prototype.Zb);v("xiv.vis.XtkRenderer2D.prototype.getCamera",Dq.prototype.ZG);v("xiv.vis.XtkRenderer2D.prototype.getMousePosition",Dq.prototype.YH);v("xiv.vis.XtkRenderer2D.prototype.isMouseOver",Dq.prototype.or);v("xiv.vis.XtkRenderer2D.prototype.onSliceNavigation",Dq.prototype.Rr);v("xiv.vis.XtkRenderer2D.prototype.render",Dq.prototype.k);v("xiv.vis.XtkRenderer2D.prototype.getCanvas",Dq.prototype.$G);
v("xiv.vis.XtkRenderer2D.prototype.getVolume",Dq.prototype.pm);v("xiv.vis.XtkRenderer2D.prototype.getNumberSlices",Dq.prototype.sA);v("xiv.vis.XtkRenderer2D.prototype.getZoom",Dq.prototype.IA);v("xiv.vis.XtkRenderer2D.prototype.setZoom",Dq.prototype.WC);v("xiv.vis.XtkRenderer2D.prototype.zoomIn",Dq.prototype.Um);v("xiv.vis.XtkRenderer2D.prototype.zoomOut",Dq.prototype.Vm);v("xiv.vis.XtkRenderer2D.prototype.getVerticalSliceX",Dq.prototype.BA);
v("xiv.vis.XtkRenderer2D.prototype.getHorizontalSliceY",Dq.prototype.gA);v("xiv.vis.XtkRenderer2D.prototype.destroy",Dq.prototype.re);function Gq(){W.call(this)}w(Gq,wp);v("xiv.ui.ZoomDisplay",Gq);Gq.ID_PREFIX="xiv.ui.ZoomDisplay";Gq.prototype.k=function(a){Gq.d.k.call(this,a);this.da.max=1E5;this.da.min=1;O(this.Jc,"xiv-ui-framedisplay-text");O(this.da,"xiv-ui-framedisplay-text")};Gq.prototype.Kg=function(){this.Jc.innerHTML="Zoom:&nbsp"+this.da.value+"%";this.jq()};v("xiv.ui.ZoomDisplay.ID_PREFIX",Gq.ID_PREFIX);v("xiv.ui.ZoomDisplay.prototype.updateValue",Gq.prototype.Kg);v("xiv.ui.ZoomDisplay.prototype.render",Gq.prototype.k);function Hq(){W.call(this)}w(Hq,wp);v("xiv.ui.FrameDisplay",Hq);Hq.ID_PREFIX="xiv.ui.FrameDisplay";Hq.prototype.k=function(a){Hq.d.k.call(this,a);O(this.Jc,"xiv-ui-framedisplay-text");O(this.da,"xiv-ui-framedisplay-text")};Hq.prototype.Kg=function(){this.Jc.innerHTML=this.da.value+" / "+this.da.max;this.jq()};v("xiv.ui.FrameDisplay.ID_PREFIX",Hq.ID_PREFIX);v("xiv.ui.FrameDisplay.prototype.updateValue",Hq.prototype.Kg);v("xiv.ui.FrameDisplay.prototype.render",Hq.prototype.k);function Iq(a,b){if(null==a)throw Error("Invalid direction for ResizeDragger: "+a);W.call(this);this.Cz=a;this.Gj=b;this.Fn=null;this.sb=new nm(this.a());this.tw()}w(Iq,W);v("nrg.ui.ResizeDragger",Iq);Iq.ID_PREFIX="nrg.ui.ResizeDragger";Iq.CSS_SUFFIX={};f=Iq.prototype;f.Lg=null;f.hi=null;f.dm=null;f.Tn=null;f.bh=null;f.bi=null;f.Gq=null;f.Sn=null;f.offsetX=0;f.HC=function(a){this.offsetX=a};f.offsetY=0;f.kM=function(a){this.offsetY=a};f.fb=null;f.gi=null;f.Ca=null;f.be=null;f.Aa=null;f.sc=null;
f.ae=!1;f.ze=new hh(10,10);f.Bd=function(){return this.Fn};f.ui=function(a){this.Fn=a};f.Lq=function(){return this.sb};f.$z=function(){return this.Cz};f.Dd=function(){return this.a()};
f.Oj=function(){this.gi=U(this.a());this.fb=uj(this.a());this.Lg=-1*this.gi.height/2+this.offsetY;this.hi=-1*this.gi.width/2+this.offsetX;this.sb.vg()||this.ae||(this.Ca=vb(uj(this.Gj)),this.be=vb(U(this.Gj)),this.Ca.left=this.Ca.x,this.Ca.top=this.Ca.y,this.Ca.right=this.Ca.x+this.be.width,this.Ca.bottom=this.Ca.y+this.be.height,this.Aa=vb(uj(this.Fn)),this.sc=vb(U(this.Fn)),this.Aa.left=this.Aa.x,this.Aa.top=this.Aa.y,this.Aa.right=this.Aa.x+this.sc.width,this.Aa.bottom=this.Aa.y+this.sc.height,
this.Yg&&this.Yg(this))};f.FC=function(a){return this.ze=a};f.tw=function(){G(this.sb,"start",this.Yv.bind(this));G(this.sb,"drag",this.bf.bind(this));G(this.sb,"end",this.Ko.bind(this))};f.Yv=function(){this.dispatchEvent({type:"start_resize"})};f.bf=function(){this.Oj();this.dispatchEvent({type:"resize",TL:this.Ca,be:this.be,jG:this.Aa,sc:this.sc});null!=this.df&&this.df()};f.Ko=function(){this.dispatchEvent({type:"end_resize"})};f.update=function(){this.sb.vg()||this.ae||this.Oj()};f.Af=function(){};
f.Nf=function(a,b,c){this.Oj();a=this.Af(a);u(c)&&0===c?(sj(this.a(),a.end),this.bf(),this.Ko()):Jq(this,a.start,a.end,b,c)};f.lD=function(){null!=this.xh&&(this.xh.stop(),this.bf(),this.Ko())};function Jq(a,b,c,d,e){a.xh=new Gk(a.a(),[b.x,b.y],[c.x,c.y],u(e)?e:500,el);G(a.xh,"begin",function(){this.ae=!0;this.Yv()}.bind(a));G(a.xh,"animate",a.bf.bind(a));G(a.xh,"end",function(){this.ae=!1;this.xh.g();J(this.xh);this.xh.re();this.xh=null;sj(this.a(),c);this.Ko();d&&d()}.bind(a));a.xh.play()}
f.f=function(){delete this.AQ;delete this.BQ;delete this.hi;delete this.dm;delete this.Tn;delete this.bh;delete this.bi;delete this.Gq;delete this.Sn;delete this.ae;D(this.ze);delete this.ze;delete this.Gj;delete this.Fn;D(this.fb);delete this.fb;D(this.gi);delete this.gi;D(this.Ca);delete this.Ca;D(this.be);delete this.be;D(this.Aa);delete this.Aa;D(this.sc);delete this.sc;S(this.sb.handle);this.sb.handle=null;J(this.sb);this.sb.g();delete this.sb;delete this.Cz};
v("nrg.ui.ResizeDragger.EventType",{Us:"resize",UE:"start_resize",TE:"end_resize"});v("nrg.ui.ResizeDragger.ID_PREFIX",Iq.ID_PREFIX);v("nrg.ui.ResizeDragger.CSS_SUFFIX",Iq.CSS_SUFFIX);v("nrg.ui.ResizeDragger.ANIM_MED",500);v("nrg.ui.ResizeDragger.prototype.vertDraggerOffset",Iq.prototype.Lg);v("nrg.ui.ResizeDragger.prototype.horizDraggerOffset",Iq.prototype.hi);v("nrg.ui.ResizeDragger.prototype.draggerLimitLeft",Iq.prototype.dm);v("nrg.ui.ResizeDragger.prototype.draggerLimitRight",Iq.prototype.Tn);
v("nrg.ui.ResizeDragger.prototype.draggerLimitTop",Iq.prototype.bh);v("nrg.ui.ResizeDragger.prototype.draggerLimitBottom",Iq.prototype.bi);v("nrg.ui.ResizeDragger.prototype.draggerLimitWidth",Iq.prototype.Gq);v("nrg.ui.ResizeDragger.prototype.draggerLimitHeight",Iq.prototype.Sn);v("nrg.ui.ResizeDragger.prototype.offsetX",Iq.prototype.offsetX);v("nrg.ui.ResizeDragger.prototype.setOffsetX",Iq.prototype.HC);v("nrg.ui.ResizeDragger.prototype.offsetY",Iq.prototype.offsetY);
v("nrg.ui.ResizeDragger.prototype.setOffsetY",Iq.prototype.kM);v("nrg.ui.ResizeDragger.prototype.handlePos",Iq.prototype.fb);v("nrg.ui.ResizeDragger.prototype.handleSize",Iq.prototype.gi);v("nrg.ui.ResizeDragger.prototype.resizeePos",Iq.prototype.Ca);v("nrg.ui.ResizeDragger.prototype.resizeeSize",Iq.prototype.be);v("nrg.ui.ResizeDragger.prototype.boundaryPos",Iq.prototype.Aa);v("nrg.ui.ResizeDragger.prototype.boundarySize",Iq.prototype.sc);v("nrg.ui.ResizeDragger.prototype.isAnimating",Iq.prototype.ae);
v("nrg.ui.ResizeDragger.prototype.minSize",Iq.prototype.ze);v("nrg.ui.ResizeDragger.prototype.getBoundaryElement",Iq.prototype.Bd);v("nrg.ui.ResizeDragger.prototype.setBoundaryElement",Iq.prototype.ui);v("nrg.ui.ResizeDragger.prototype.getDragger",Iq.prototype.Lq);v("nrg.ui.ResizeDragger.prototype.getDirection",Iq.prototype.$z);v("nrg.ui.ResizeDragger.prototype.getHandle",Iq.prototype.Dd);v("nrg.ui.ResizeDragger.prototype.updateTrackingValues",Iq.prototype.Oj);
v("nrg.ui.ResizeDragger.prototype.setMinSize",Iq.prototype.FC);v("nrg.ui.ResizeDragger.prototype.onResizeStart",Iq.prototype.Yv);v("nrg.ui.ResizeDragger.prototype.onResize",Iq.prototype.bf);v("nrg.ui.ResizeDragger.prototype.onResizeEnd",Iq.prototype.Ko);v("nrg.ui.ResizeDragger.prototype.update",Iq.prototype.update);v("nrg.ui.ResizeDragger.prototype.getSlideTrajectory",Iq.prototype.Af);v("nrg.ui.ResizeDragger.prototype.stopSlideAnimation",Iq.prototype.lD);
v("nrg.ui.ResizeDragger.prototype.slideToLimits",Iq.prototype.Nf);v("nrg.ui.ResizeDragger.prototype.disposeInternal",Iq.prototype.f);function Kq(a){Iq.call(this,"right",a)}w(Kq,Iq);v("nrg.ui.ResizeDraggerRight",Kq);Kq.ID_PREFIX="nrg.ui.ResizeDraggerRight";Kq.CSS_SUFFIX={};Kq.prototype.Yg=function(){this.dm=this.Ca.left+this.ze.width+this.hi;this.Tn=this.Aa.right+this.hi;this.Gq=this.Tn-this.dm};v("nrg.ui.ResizeDraggerRight.prototype.calculateDraggerLimits",Kq.prototype.Yg);Kq.prototype.df=function(){Gj(this.Gj,Math.min(Math.max(this.be.width+(this.ae?this.fb.x-this.Ca.right+this.hi:this.sb.clientX-this.sb.Mw),this.ze.width),this.sc.width))};
v("nrg.ui.ResizeDraggerRight.prototype.resizeMethod",Kq.prototype.df);Kq.prototype.update=function(a){this.sb.vg()||this.ae||(Kq.d.update.call(this,a),pm(this.sb,new jj(this.dm,this.Ca.y,this.Gq,0)),sj(this.a(),this.Ca.right+this.hi,this.Ca.y),Hj(this.a(),this.be.height))};Kq.prototype.Af=function(a){return{start:new Oh(this.fb.x,this.fb.y),end:"MIN"==a?new Oh(this.dm,this.fb.y):new Oh(this.Tn,this.fb.y)}};v("nrg.ui.ResizeDraggerRight.ID_PREFIX",Kq.ID_PREFIX);
v("nrg.ui.ResizeDraggerRight.CSS_SUFFIX",Kq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerRight.prototype.update",Kq.prototype.update);v("nrg.ui.ResizeDraggerRight.prototype.getSlideTrajectory",Kq.prototype.Af);function Lq(a){Iq.call(this,"right",a)}w(Lq,Iq);v("nrg.ui.ResizeDraggerBottom",Lq);Lq.ID_PREFIX="nrg.ui.ResizeDraggerBottom";Lq.CSS_SUFFIX={};Lq.prototype.Yg=function(){this.bh=this.Ca.top+this.ze.height+this.Lg;this.bi=this.Aa.bottom+this.Lg;this.Sn=this.bi-this.bh};v("nrg.ui.ResizeDraggerBottom.prototype.calculateDraggerLimits",Lq.prototype.Yg);Lq.prototype.df=function(){Hj(this.Gj,Math.max(this.be.height+(this.fb.y-this.Ca.bottom),this.ze.height))};
v("nrg.ui.ResizeDraggerBottom.prototype.resizeMethod",Lq.prototype.df);Lq.prototype.update=function(){this.sb.vg()||this.ae||(Lq.d.update.call(this),pm(this.sb,new jj(this.Aa.x,this.bh,0,this.bi)),sj(this.a(),this.Ca.x,this.Ca.bottom+this.Lg))};Lq.prototype.Af=function(a){return{start:new Oh(this.fb.x,this.fb.y),end:"MIN"==a?new Oh(this.fb.x,this.bh):new Oh(this.fb.x,this.bi)}};v("nrg.ui.ResizeDraggerBottom.ID_PREFIX",Lq.ID_PREFIX);v("nrg.ui.ResizeDraggerBottom.CSS_SUFFIX",Lq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerBottom.prototype.update",Lq.prototype.update);v("nrg.ui.ResizeDraggerBottom.prototype.getSlideTrajectory",Lq.prototype.Af);function Mq(a){Iq.call(this,"right",a)}w(Mq,Iq);v("nrg.ui.ResizeDraggerTop",Mq);Mq.ID_PREFIX="nrg.ui.ResizeDraggerTop";Mq.CSS_SUFFIX={};Mq.prototype.Yg=function(){this.bh=this.Aa.top-this.Lg;this.bi=this.Ca.bottom-this.ze.height+this.Lg;this.Sn=this.bi-this.bh};v("nrg.ui.ResizeDraggerTop.calculateDraggerLimits",Mq.Yg);Mq.prototype.df=function(){var a=this.fb.y-this.Lg,b=this.be.height+(this.ae?this.Ca.y-a:this.sb.Nw-this.sb.clientY);this.Gj.style.top=a.toString()+"px";Hj(this.Gj,Math.max(b,this.ze.height))};
Mq.prototype.update=function(){this.sb.vg()||this.ae||(Mq.d.update.call(this),pm(this.sb,new jj(this.Aa.x,this.bh,0,this.Sn)),sj(this.a(),this.Ca.x,this.Ca.y+this.Lg))};Mq.prototype.Af=function(a){return{start:new Oh(this.fb.x,this.fb.y),end:"MIN"==a?new Oh(this.fb.x,this.bi):new Oh(this.fb.x,this.bh)}};v("nrg.ui.ResizeDraggerTop.ID_PREFIX",Mq.ID_PREFIX);v("nrg.ui.ResizeDraggerTop.CSS_SUFFIX",Mq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerTop.prototype.calculateDraggerLimits",Mq.prototype.Yg);
v("nrg.ui.ResizeDraggerTop.prototype.resizeMethod",Mq.prototype.df);v("nrg.ui.ResizeDraggerTop.resizeMethod",Mq.df);v("nrg.ui.ResizeDraggerTop.prototype.update",Mq.prototype.update);v("nrg.ui.ResizeDraggerTop.prototype.getSlideTrajectory",Mq.prototype.Af);function Nq(a){Iq.call(this,"right",a)}w(Nq,Iq);v("nrg.ui.ResizeDraggerTopRight",Nq);Nq.ID_PREFIX="nrg.ui.ResizeDraggerTopRight";Nq.CSS_SUFFIX={};Nq.prototype.Oj=function(){Nq.d.Oj.call(this);this.sb.vg()||this.ae||(Kq.prototype.Yg.bind(this)(),Mq.prototype.Yg.bind(this)())};Nq.prototype.bf=function(){Nq.d.bf.call(this);Kq.prototype.df.bind(this)();Mq.prototype.df.bind(this)()};
Nq.prototype.update=function(a){this.sb.vg()||this.ae||(Nq.d.update.call(this,a),pm(this.sb,new jj(this.Aa.x+this.hi,this.Aa.y+this.Lg,this.sc.width,this.sc.height)),sj(this.a(),this.Ca.right+this.hi,this.Ca.y+this.Lg))};
Nq.prototype.Af=function(a){var b=new Oh(this.fb.x,this.fb.y),c;"TOP_LEFT"==a?c=new Oh(this.Aa.x,this.Aa.y):"TOP_RIGHT"==a?c=new Oh(this.Aa.x+this.sc.width,this.Aa.y):"BOTTOM_RIGHT"==a?c=new Oh(this.Aa.x+this.sc.width,this.Aa.y+this.sc.height):"BOTTOM_LEFT"==a&&(c=new Oh(this.Aa.x,this.Aa.y+this.sc.height));return{start:b,end:c}};v("nrg.ui.ResizeDraggerTopRight.ID_PREFIX",Nq.ID_PREFIX);v("nrg.ui.ResizeDraggerTopRight.CSS_SUFFIX",Nq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerTopRight.prototype.updateTrackingValues",Nq.prototype.Oj);v("nrg.ui.ResizeDraggerTopRight.prototype.onResize",Nq.prototype.bf);v("nrg.ui.ResizeDraggerTopRight.prototype.update",Nq.prototype.update);v("nrg.ui.ResizeDraggerTopRight.prototype.getSlideTrajectory",Nq.prototype.Af);function Oq(a){Iq.call(this,"right",a)}w(Oq,Iq);v("nrg.ui.ResizeDraggerLeft",Oq);Oq.ID_PREFIX="nrg.ui.ResizeDraggerLeft";Oq.CSS_SUFFIX={};Oq.prototype.df=function(){Gj(this.Gj,Math.min(Math.max(this.be.width+(this.Ca.x-this.fb.x),this.ze.width),this.sc.width));sj(this.a(),this.fb.x,this.Ca.y)};v("nrg.ui.ResizeDraggerLeft.prototype.resizeMethod",Oq.prototype.df);
Oq.prototype.update=function(a){this.sb.vg()||this.ae||(Oq.d.update.call(this,a),pm(this.sb,new jj(this.Aa.x-this.gi.width,this.Aa.y,this.sc.width-this.ze.width-this.gi.width,0)),sj(this.a(),this.Ca.x-this.gi.width,this.Ca.y))};Oq.prototype.Af=function(a){return{start:new Oh(this.fb.x,this.fb.y),end:"MIN"==a?new Oh(this.Aa.x+this.ze.width,this.fb.y):new Oh(this.Aa.x+this.sc.width-this.ze.width,this.fb.y)}};v("nrg.ui.ResizeDraggerLeft.ID_PREFIX",Oq.ID_PREFIX);
v("nrg.ui.ResizeDraggerLeft.CSS_SUFFIX",Oq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerLeft.resizeMethod",Oq.df);v("nrg.ui.ResizeDraggerLeft.prototype.update",Oq.prototype.update);v("nrg.ui.ResizeDraggerLeft.prototype.getSlideTrajectory",Oq.prototype.Af);function Pq(a,b){W.call(this);this.q=Uh(a);this.ie={};this.Dr=this.Er=20;this.Jm(b||Pq.$P)}w(Pq,W);v("nrg.ui.Resizable",Pq);Pq.ID_PREFIX="nrg.ui.Resizable";Pq.CSS_SUFFIX={bN:"boundary"};var Qq="TOP RIGHT BOTTOM LEFT TOP_LEFT TOP_RIGHT BOTTOM_RIGHT BOTTOM_LEFT".split(" "),Rq=["RIGHT","BOTTOM"],Sq=new jj(0,0,600,600);f=Pq.prototype;f.dM=function(a,b){this.VP(a);if(0>b)throw Error("Threshold must be greater than zero!");this.RP[a]=b};f.Dd=function(a){return this.ie[a].Dd()};f.Hk=function(a){return this.ie[a]};
f.yH=function(){var a=[];E(ob(this.ie),function(b){a.push(b.Dd())});return a};f.Bd=function(){return this.hg};f.ui=function(a){this.hg=a;if(this.hg.parentNode!==this.q.parentNode)throw Error("Boundary element parentNode must be same as resizable  element's parentNode.");this.update()};f.EC=function(a){this.Dr=a};f.GC=function(a){this.Er=a};f.VH=function(){return this.Dr};f.WH=function(){return this.Er};
f.Jm=function(a){a=a||"DEFAULT";r(a)&&(a="ALL"==a.toUpperCase()?Qq:"DEFAULT"==a.toUpperCase()?Rq:[a]);Tq(this);E(a,function(a){if(!r(a))throw Error("String required!");if(!Ib(Qq,a))throw Error("Invalid direction: ",a);this.xy(a)}.bind(this))};f.Pt=function(a){if(!Ib(Qq,a))throw Error("Invalid draggerDir '"+a);};f.eJ=function(a){this.Pt(a);if(!this.ie[a])throw Error("No ResizeDragger for "+a);};f.Nf=function(a,b,c,d){a=a.toUpperCase();this.Pt(a);this.update();this.ie[a].Nf(b,c,d)};
function Uq(a,b){switch(a){case "TOP":return new Mq(b);case "BOTTOM":return new Lq(b);case "LEFT":return new Oq(b);case "RIGHT":return new Kq(b);case "TOP_RIGHT":return new Nq(b);case "TOP_LEFT":window.console.log("ToDo: need to implement resize dragger for top left.");break;case "BOTTOM_LEFT":window.console.log("ToDo: need to implement resize dragger for bottom left.");break;case "BOTTOM_RIGHT":window.console.log("ToDo: need to implement resize dragger for bottom right.")}}
f.xy=function(a){if(a in this.ie)throw Error("Resize direction "+a+" already in use.");this.ie[a]=Uq(a,this.q);G(this.ie[a],"start_resize",this.$K.bind(this));G(this.ie[a],"resize",this.$k.bind(this));G(this.ie[a],"end_resize",this.ZK.bind(this));this.update()};f.update=function(){if(null!=this.hg){var a=new hh(this.Er,this.Dr);C(this.ie,function(b){this.hg&&this.hg.parentNode&&R(this.hg.parentNode,b.Dd());b.Bd()!==this.hg&&b.ui(this.hg);b.FC(a);b.Oj();b.update()}.bind(this))}};f.$K=function(){this.dispatchEvent({type:"resize_start"})};
f.$k=function(a){this.dispatchEvent({type:"resize",TL:a.Ca,be:a.be,jG:a.Aa,sc:a.sc})};f.ZK=function(){this.update();this.dispatchEvent({type:"resize_end"})};function Tq(a){C(a.ie,function(a){a&&(J(a),a.g())});D(a.ie)}f.f=function(){Pq.d.f.call(this);Tq(this);delete this.ie;this.hg&&(S(this.hg.parentNode),delete this.hg)};v("nrg.ui.Resizable.EventType",{Us:"resize",UE:"resize_start",TE:"resize_end"});v("nrg.ui.Resizable.ID_PREFIX",Pq.ID_PREFIX);v("nrg.ui.Resizable.CSS_SUFFIX",Pq.CSS_SUFFIX);
v("nrg.ui.Resizable.DIRECTIONS",Qq);v("nrg.ui.Resizable.DEFAULT_DIRECTIONS",Rq);v("nrg.ui.Resizable.DEFAULT_LIMITS",Sq);v("nrg.ui.Resizable.DEFAULT_MIN_HEIGHT",20);v("nrg.ui.Resizable.DEFAULT_MIN_WIDTH",20);v("nrg.ui.Resizable.createResizeDragger",Uq);v("nrg.ui.Resizable.prototype.setBoundThreshold",Pq.prototype.dM);v("nrg.ui.Resizable.prototype.getHandle",Pq.prototype.Dd);v("nrg.ui.Resizable.prototype.getResizeDragger",Pq.prototype.Hk);v("nrg.ui.Resizable.prototype.getHandles",Pq.prototype.yH);
v("nrg.ui.Resizable.prototype.getBoundaryElement",Pq.prototype.Bd);v("nrg.ui.Resizable.prototype.setBoundaryElement",Pq.prototype.ui);v("nrg.ui.Resizable.prototype.setMinHeight",Pq.prototype.EC);v("nrg.ui.Resizable.prototype.setMinWidth",Pq.prototype.GC);v("nrg.ui.Resizable.prototype.getMinHeight",Pq.prototype.VH);v("nrg.ui.Resizable.prototype.getMinWidth",Pq.prototype.WH);v("nrg.ui.Resizable.prototype.setResizeDirections",Pq.prototype.Jm);v("nrg.ui.Resizable.prototype.checkDirectionValid",Pq.prototype.Pt);
v("nrg.ui.Resizable.prototype.hasDragger",Pq.prototype.eJ);v("nrg.ui.Resizable.prototype.slideToLimits",Pq.prototype.Nf);v("nrg.ui.Resizable.prototype.addResizeDirection",Pq.prototype.xy);v("nrg.ui.Resizable.prototype.update",Pq.prototype.update);v("nrg.ui.Resizable.prototype.disposeInternal",Pq.prototype.f);function Vq(a){W.call(this);this.Rb=a}w(Vq,W);v("xiv.ui.layouts.LayoutFrame",Vq);Vq.ID_PREFIX="xiv.ui.layouts.LayoutFrame";Vq.CSS_SUFFIX={};f=Vq.prototype;f.$b=function(){return this.Rb};f.Rc=null;f.R=function(){return this.Mp};f.Jm=function(a){this.Mp=this.Mp?this.Mp:new Pq(this.a());this.Mp.Jm(a)};f.f=function(){Vq.d.f.call(this);delete this.Rb};v("xiv.ui.layouts.LayoutFrame.EventType",{});v("xiv.ui.layouts.LayoutFrame.ID_PREFIX",Vq.ID_PREFIX);v("xiv.ui.layouts.LayoutFrame.CSS_SUFFIX",Vq.CSS_SUFFIX);
v("xiv.ui.layouts.LayoutFrame.prototype.getTitle",Vq.prototype.$b);v("xiv.ui.layouts.LayoutFrame.prototype.getResizable",Vq.prototype.R);v("xiv.ui.layouts.LayoutFrame.prototype.setResizeDirections",Vq.prototype.Jm);v("xiv.ui.layouts.LayoutFrame.prototype.disposeInternal",Vq.prototype.f);function Wq(){W.call(this);if(null==this.constructor.TITLE)throw window.console.log("\n\n\n\nThis is the class attempting to inherit from it:"),window.console.log(this,this.constructor,this.constructor.TITLE,this.constructor.ID_PREFIX),Error("Sublcasses of xiv.ui.layouts.Layout must have  the TITLE defined as a constructor property!");this.i={}}w(Wq,W);v("xiv.ui.layouts.Layout",Wq);
var Xq="Slider_"+B(),Yq="FrameDisplay_"+B(),Zq="ZoomDisplay_"+B(),$q="Crosshairs_"+B(),ar="PlayButton_"+B(),br={ia:Xq,Ld:Yq,pf:Zq,sd:$q,Jh:ar};Wq.ID_PREFIX="xiv.ui.layouts.Layout";Wq.CSS_SUFFIX={};f=Wq.prototype;f.zb=20;f.pd=20;f.hM=function(a){this.pd=a};f.iM=function(a){this.zb=a};f.LH=function(){return this.i};f.Eu=function(a){return this.i[a]};f.KH=function(a){window.console.log(a,this.i[a]);var b={};C(br,function(c){b[c]=this.i[a][c]}.bind(this));window.console.log("INTERACTORS!",b);return b};
f.$b=function(){return this.constructor.TITLE};f.uy=function(a){this.i=this.i?this.i:{};this.i[a.$b()]=a};f.ah=function(){this.dispatchEvent({type:"n"})};f.nw=function(){C(this.nm(),function(a){null!=a.ia&&(a.ia.g(),delete a.ia);null!=a.sd&&(a.sd.g(),delete a.sd);null!=a.Ld&&(a.Ld.g(),delete a.Ld);null!=a.pf&&(a.pf.g(),delete a.pf);null!=a.Jh&&(a.Jh.g(),delete a.Jh)})};
f.Gp=function(){C(this.nm(),function(a){null!=a.ia&&(a.ia.o(),a.ia.C(a.ia.w()));null!=a.sd&&a.sd.o();null!=a.Ld&&a.Ld.o();null!=a.pf&&a.pf.o();null!=a.Jh&&a.Jh.o()})};f.o=function(){Wq.d.o.call(this);this.ah()};f.f=function(){Wq.d.f.call(this);delete this.pd;delete this.zb;this.Rn(this.zE);delete this.zE};v("xiv.ui.layouts.Layout.EventType",{Us:"n"});v("xiv.ui.layouts.Layout.INTERACTORS",br);v("xiv.ui.layouts.Layout.ID_PREFIX",Wq.ID_PREFIX);v("xiv.ui.layouts.Layout.CSS_SUFFIX",Wq.CSS_SUFFIX);
v("xiv.ui.layouts.Layout.prototype.setMinLayoutFrameHeight",Wq.prototype.hM);v("xiv.ui.layouts.Layout.prototype.setMinLayoutFrameWidth",Wq.prototype.iM);v("xiv.ui.layouts.Layout.prototype.getLayoutFrames",Wq.prototype.LH);v("xiv.ui.layouts.Layout.prototype.getLayoutFrameByTitle",Wq.prototype.Eu);v("xiv.ui.layouts.Layout.prototype.getLayoutFrameInteractors",Wq.prototype.KH);v("xiv.ui.layouts.Layout.prototype.getTitle",Wq.prototype.$b);v("xiv.ui.layouts.Layout.prototype.addLayoutFrame",Wq.prototype.uy);
v("xiv.ui.layouts.Layout.prototype.dispatchResize",Wq.prototype.ah);v("xiv.ui.layouts.Layout.prototype.removeAllInteractors",Wq.prototype.nw);v("xiv.ui.layouts.Layout.prototype.updateInteractors",Wq.prototype.Gp);v("xiv.ui.layouts.Layout.prototype.updateStyle",Wq.prototype.o);v("xiv.ui.layouts.Layout.prototype.disposeInternal",Wq.prototype.f);function cr(){W.call(this)}w(cr,W);v("xiv.ui.Crosshairs",cr);cr.ID_PREFIX="xiv.ui.Crosshairs";cr.CSS_SUFFIX={BN:"horizontal",sP:"vertical"};f=cr.prototype;f.Mg=null;f.tg=null;f.UC=function(a){null!=a&&(this.Mg.style.left=a.toString()+"px")};f.VC=function(a){null!=a&&(this.tg.style.top=a.toString()+"px")};f.k=function(a){this.Mg=dr(this,"vertical");this.tg=dr(this,"horizontal");a.appendChild(this.tg);a.appendChild(this.Mg)};
f.Bp=function(a){a=!1===a?"hidden":"visible";this.Mg.style.visibility=a;this.tg.style.visibility=a};function dr(a,b){b=b.toLowerCase();if(!qb(cr.CSS_SUFFIX,b))throw Error("Invalid orientation: "+b);return Q("div",{id:a.constructor.ID_PREFIX+"_"+b+"_"+B(),"class":a.constructor.cd+"-"+b.toLowerCase()})}f.f=function(){cr.d.f.call(this);S(this.Mg);delete this.Mg;S(this.tg);delete this.tg};v("xiv.ui.Crosshairs.EventType",{});v("xiv.ui.Crosshairs.ID_PREFIX",cr.ID_PREFIX);
v("xiv.ui.Crosshairs.CSS_SUFFIX",cr.CSS_SUFFIX);v("xiv.ui.Crosshairs.prototype.vertical",cr.prototype.Mg);v("xiv.ui.Crosshairs.prototype.horizontal",cr.prototype.tg);v("xiv.ui.Crosshairs.prototype.setX",cr.prototype.UC);v("xiv.ui.Crosshairs.prototype.setY",cr.prototype.VC);v("xiv.ui.Crosshairs.prototype.render",cr.prototype.k);v("xiv.ui.Crosshairs.prototype.toggleVisible",cr.prototype.Bp);v("xiv.ui.Crosshairs.prototype.disposeInternal",cr.prototype.f);function er(a,b){Zj.call(this,a);this.Ky=null;this.Pa=new oq;this.HJ=b||gd;G(this.Pa,"change",this.OA,!1,this)}w(er,Zj);f=er.prototype;f.Ka="horizontal";f.oo=!1;f.eK=!1;f.Xg=10;f.Cr=0;f.fB=!0;f.Fr=0;f.KE=1E3;f.Xb=!0;f.Ve=!1;f.B=function(){er.d.B.call(this);var a=this.O().B("div",this.$(this.Ka));this.qe(a)};f.qe=function(a){er.d.qe.call(this,a);Nl(a,this.$(this.Ka));this.rz();Il(this.a(),"slider");fr(this)};
f.lb=function(){er.d.lb.call(this);this.Je=new nm(this.ta);this.mg=new nm(this.wc);this.Je.mj(this.Ve);this.mg.mj(this.Ve);this.Je.gu=this.mg.gu=fa;this.xb=new go(this.a());gr(this,!0);this.a().tabIndex=0;this.Ch()};
function gr(a,b){b?(a.nb().D(a.Je,"beforedrag",a.Wq).D(a.mg,"beforedrag",a.Wq).D(a.Je,["start","end"],a.ar).D(a.mg,["start","end"],a.ar).D(a.xb,"key",a.Xq).D(a.a(),"click",a.Yq).D(a.a(),"mousedown",a.Yq),a.fB&&hr(a,!0)):(a.nb().Ab(a.Je,"beforedrag",a.Wq).Ab(a.mg,"beforedrag",a.Wq).Ab(a.Je,["start","end"],a.ar).Ab(a.mg,["start","end"],a.ar).Ab(a.xb,"key",a.Xq).Ab(a.a(),"click",a.Yq).Ab(a.a(),"mousedown",a.Yq),a.fB&&hr(a,!1))}f.Lc=function(){er.d.Lc.call(this);Bc(this.Je,this.mg,this.xb,this.Vk)};
f.Wq=function(a){var b=a.pu==this.Je?this.ta:this.wc,c;"vertical"==this.Ka?(c=this.a().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.T()-this.ha())+this.ha()):c=a.left/(this.a().clientWidth-b.offsetWidth)*(this.T()-this.ha())+this.ha();c=a.pu==this.Je?Math.min(Math.max(c,this.ha()),this.w()+this.Cd()):Math.min(Math.max(c,this.w()),this.T());ir(this,b,c)};
f.ar=function(a){var b="start"==a.type;Rl(this.a(),"goog-slider-dragging",b);Rl(a.target.handle,"goog-slider-thumb-dragging",b);a=a.pu==this.Je;b?(this.dispatchEvent("s"),this.dispatchEvent(a?"o":"q")):(this.dispatchEvent("t"),this.dispatchEvent(a?"p":"r"))};
f.Xq=function(a){var b=!0;switch(a.keyCode){case 36:jr(this,this.ha());break;case 35:jr(this,this.T());break;case 33:kr(this,this.Xg);break;case 34:kr(this,-this.Xg);break;case 37:var c=this.Ve&&this.Xe()?1:-1;kr(this,a.shiftKey?c*this.Xg:c*this.Fp);break;case 40:kr(this,a.shiftKey?-this.Xg:-this.Fp);break;case 39:c=this.Ve&&this.Xe()?-1:1;kr(this,a.shiftKey?c*this.Xg:c*this.Fp);break;case 38:kr(this,a.shiftKey?this.Xg:this.Fp);break;default:b=!1}b&&a.preventDefault()};
f.Yq=function(a){this.a().focus&&this.a().focus();var b=a.target;ni(this.ta,b)||ni(this.wc,b)||(b="click"==a.type,b&&xa()<this.Fr+this.KE||(b||(this.Fr=xa()),this.eK?jr(this,lr(this,a)):(this.Qw(a),this.Pf=mr(this,lr(this,a)),this.aB="vertical"==this.Ka?this.ur<this.Pf.offsetTop:this.ur>nr(this,this.Pf)+this.Pf.offsetWidth,a=Th(this.a()),this.nb().D(a,"mouseup",this.Ow,!0).D(this.a(),"mousemove",this.Qw),this.Aj||(this.Aj=new Xf(200),this.nb().D(this.Aj,Yf,this.PA)),this.PA(),this.Aj.start())))};
f.NA=function(a){kr(this,(0<a.detail?-1:1)*this.Fp);a.preventDefault()};f.PA=function(){var a;if("vertical"==this.Ka){var b=this.ur,c=this.Pf.offsetTop;this.aB?b<c&&(a=or(this,this.Pf)+this.Xg):b>c+this.Pf.offsetHeight&&(a=or(this,this.Pf)-this.Xg)}else b=this.ur,c=nr(this,this.Pf),this.aB?b>c+this.Pf.offsetWidth&&(a=or(this,this.Pf)+this.Xg):b<c&&(a=or(this,this.Pf)-this.Xg);da(a)&&ir(this,this.Pf,a)};
f.Ow=function(){this.Aj&&this.Aj.stop();var a=Th(this.a());this.nb().Ab(a,"mouseup",this.Ow,!0).Ab(this.a(),"mousemove",this.Qw)};function pr(a,b){var c=Bj(b,a.a());return"vertical"==a.Ka?c.y:a.Ve&&a.Xe()?a.a().clientWidth-c.x:c.x}f.Qw=function(a){this.ur=pr(this,a)};function lr(a,b){var c=a.ha(),d=a.T();if("vertical"==a.Ka){var e=a.ta.offsetHeight,h=a.a().clientHeight-e,e=pr(a,b)-e/2;return(d-c)*(h-e)/h+c}e=a.ta.offsetWidth;h=a.a().clientWidth-e;e=pr(a,b)-e/2;return(d-c)*e/h+c}
function or(a,b){if(b==a.ta)return a.Pa.w();if(b==a.wc)return a.Pa.w()+a.Pa.Cd();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");}f.vg=function(){return this.Je.vg()||this.mg.vg()};function kr(a,b){Math.abs(b)<a.Ed()&&(b=(0==b?0:0>b?-1:1)*a.Ed());var c=or(a,a.ta)+b,d=or(a,a.wc)+b,c=hd(c,a.ha(),a.T()-a.Cr),d=hd(d,a.ha()+a.Cr,a.T());a.Jj(c,d-c)}function ir(a,b,c){var d=pq(a.Pa,c);c=b==a.ta?d:a.Pa.w();b=b==a.wc?d:a.Pa.w()+a.Pa.Cd();c>=a.ha()&&b>=c+a.Cr&&a.T()>=b&&a.Jj(c,b-c)}
f.Jj=function(a,b){this.ha()<=a&&a<=this.T()-b&&this.Cr<=b&&b<=this.T()-a&&(a!=this.w()||b!=this.Cd())&&(this.Pa.Wk=!0,this.Pa.Lf(0),this.Pa.C(a),this.Pa.Lf(b),this.Pa.Wk=!1,this.OA())};f.ha=function(){return this.Pa.ha()};f.Qb=function(a){this.Pa.Qb(a)};f.T=function(){return this.Pa.T()};f.Jb=function(a){this.Pa.Jb(a)};function mr(a,b){return b<=a.Pa.w()+a.Pa.Cd()/2?a.ta:a.wc}f.OA=function(){this.Ch();fr(this);this.dispatchEvent("change")};
f.Ch=function(){if(this.ta&&!this.oo){var a=qr(this,or(this,this.ta)),b=qr(this,or(this,this.wc));if("vertical"==this.Ka)this.ta.style.top=a.y+"px",this.wc.style.top=b.y+"px",this.dc&&(a=rr(b.y,a.y,this.ta.offsetHeight),this.dc.style.top=a.offset+"px",this.dc.style.height=a.size+"px");else{var c=this.Ve&&this.Xe()?"right":"left";this.ta.style[c]=a.x+"px";this.wc.style[c]=b.x+"px";this.dc&&(a=rr(a.x,b.x,this.ta.offsetWidth),this.dc.style[c]=a.offset+"px",this.dc.style.width=a.size+"px")}}};
function rr(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}}function qr(a,b){var c=new Oh;if(a.ta){var d=a.ha(),e=a.T(),e=b==d&&d==e?0:(b-d)/(e-d);"vertical"==a.Ka?(d=a.a().clientHeight-a.ta.offsetHeight,e=Math.round(e*d),c.x=nr(a,a.ta),c.y=d-e):(d=Math.round(e*(a.a().clientWidth-a.ta.offsetWidth)),c.x=d,c.y=a.ta.offsetTop)}return c}
function jr(a,b){b=hd(b,a.ha(),a.T());a.oo&&a.zq.stop(!0);var c=new Rk,d,e=mr(a,b),h=a.w(),k=a.Cd(),l=or(a,e),n=qr(a,l);d=a.Ed();Math.abs(b-l)<d&&(b=hd(l+(b>l?d:-d),a.ha(),a.T()));ir(a,e,b);l=qr(a,or(a,e));d="vertical"==a.Ka?[nr(a,e),l.y]:[l.x,e.offsetTop];n=new Gk(e,[n.x,n.y],d,100);n.mj(a.Ve);c.add(n);a.dc&&sr(a,e,h,k,l,c);a.Ky&&(e=a.Ky.YP(h,b,100),E(e,function(a){c.add(a)}));a.zq=c;a.nb().D(c,"end",a.JG);a.oo=!0;c.play(!1)}f.ae=function(){return this.oo};
function sr(a,b,c,d,e,h){var k=qr(a,c),l=qr(a,c+d);c=k;d=l;b==a.ta?c=e:d=e;"vertical"==a.Ka?(b=rr(l.y,k.y,a.ta.offsetHeight),k=rr(d.y,c.y,a.ta.offsetHeight),e=new Gk(a.dc,[nr(a,a.dc),b.offset],[nr(a,a.dc),k.offset],100),b=new Jk(a.dc,b.size,k.size,100)):(b=rr(k.x,l.x,a.ta.offsetWidth),k=rr(c.x,d.x,a.ta.offsetWidth),e=new Gk(a.dc,[b.offset,a.dc.offsetTop],[k.offset,a.dc.offsetTop],100),b=new Ik(a.dc,b.size,k.size,100));e.mj(a.Ve);b.mj(a.Ve);h.add(e);h.add(b)}f.JG=function(){this.oo=!1};
f.xi=function(a){if(this.Ka!=a){var b=this.$(this.Ka),c=this.$(a);this.Ka=a;this.a()&&(a=this.a(),Ml(a,b)&&(Pl(a,b),Nl(a,c)),b=this.Ve&&this.Xe()?"right":"left",this.ta.style[b]=this.ta.style.top="",this.wc.style[b]=this.wc.style.top="",this.dc&&(this.dc.style[b]=this.dc.style.top="",this.dc.style.width=this.dc.style.height=""),this.Ch())}};f.Zb=function(){return this.Ka};
f.f=function(){er.d.f.call(this);this.Aj&&this.Aj.g();delete this.Aj;this.zq&&this.zq.g();delete this.zq;delete this.ta;delete this.wc;this.dc&&delete this.dc;this.Pa.g();delete this.Pa;this.xb&&(this.xb.g(),delete this.xb);this.Vk&&(this.Vk.g(),delete this.Vk);this.Je&&(this.Je.g(),delete this.Je);this.mg&&(this.mg.g(),delete this.mg)};f.Fp=1;f.Ed=function(){return this.Pa.Ed()};f.Oc=function(a){this.Pa.Oc(a)};f.w=function(){return this.Pa.w()};f.C=function(a){ir(this,this.ta,a)};f.Cd=function(){return this.Pa.Cd()};
f.Lf=function(a){ir(this,this.wc,this.Pa.w()+a)};f.ca=function(a){Lj(this.a(),a);a&&this.Ch()};function fr(a){var b=a.a();b&&(Jl(b,"valuemin",a.ha()),Jl(b,"valuemax",a.T()),Jl(b,"valuenow",a.w()),Jl(b,"valuetext",a.HJ(a.w())||""))}function hr(a,b){b?(a.Vk||(a.Vk=new xp(a.a())),a.nb().D(a.Vk,"mousewheel",a.NA)):a.nb().Ab(a.Vk,"mousewheel",a.NA)}f.Pb=function(a){this.Xb!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.Xb=a,gr(this,a),a||this.Ow(),Rl(this.a(),"goog-slider-disabled",!a))};
f.isEnabled=function(){return this.Xb};function nr(a,b){return a.Ve?Ek(b):b.offsetLeft};function tr(a,b){er.call(this,a,b);this.Pa.Lf(0)}w(tr,er);tr.prototype.$=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};tr.prototype.rz=function(){var a=this.a(),b=Wh(document,null,"goog-slider-thumb",a)[0];b||(b=this.tk(),a.appendChild(b));this.ta=this.wc=b};tr.prototype.tk=function(){var a=this.O().B("div","goog-slider-thumb");Il(a,"button");return a};function ur(){W.call(this)}w(ur,W);v("xiv.ui.PlayButton",ur);ur.ID_PREFIX="xiv.ui.PlayButton";ur.CSS_SUFFIX={Gh:"image"};f=ur.prototype;f.Xa=null;f.qo=!1;f.yh=null;f.P=null;f.ug=70;f.k=function(a){ur.d.k.call(this,a);this.Xa=Q("img",{id:"PlayButton_"+B()});O(this.Xa,ur.CSS.Gh);this.a().appendChild(this.Xa);this.Xa.src=serverRoot+"/images/viewer/xiv/ui/other/play.png";G(this.Xa,"click",function(){this.qo?(this.qo=!1,this.pause()):(this.qo=!0,this.play())}.bind(this))};
f.pause=function(){this.Xa.src=serverRoot+"/images/viewer/xiv/ui/other/play.png";null!=this.yh&&null!=this.P&&this.P.stop()};f.play=function(){this.Xa.src=serverRoot+"/images/viewer/xiv/ui/other/pause.png";null!=this.yh&&(null==this.P&&(this.P=new Xf),this.P.setInterval(this.ug),this.P.addEventListener(Yf,function(){this.yh.w()==this.yh.T()?this.yh.C(this.yh.ha()):this.yh.C(this.yh.w()+1)}.bind(this)),this.P.start())};f.setInterval=function(a){this.ug=a};f.Ef=function(){return this.qo};
f.PC=function(a){this.yh=a};f.f=function(){ur.d.f.call(this);S(this.Xa);J(this.Xa);delete this.Xa;null!=this.P&&(J(this.P),this.P.g());delete this.yh;delete this.qo;delete this.P;delete this.ug};v("xiv.ui.PlayButton.ID_PREFIX",ur.ID_PREFIX);v("xiv.ui.PlayButton.prototype.pause",ur.prototype.pause);v("xiv.ui.PlayButton.prototype.play",ur.prototype.play);v("xiv.ui.PlayButton.prototype.isPlaying",ur.prototype.Ef);v("xiv.ui.PlayButton.prototype.setInterval",ur.prototype.setInterval);
v("xiv.ui.PlayButton.prototype.setSlider",ur.prototype.PC);function vr(){this.$a=[];this.eb=[]}f=vr.prototype;f.pg=function(){return this.$a.length+this.eb.length};f.ym=function(){return 0==this.$a.length&&0==this.eb.length};f.clear=function(){this.$a=[];this.eb=[]};f.contains=function(a){return Ib(this.$a,a)||Ib(this.eb,a)};f.remove=function(a){var b=Bb(this.$a,a);if(0>b)return Lb(this.eb,a);zb.splice.call(this.$a,b,1);return!0};
f.fi=function(){for(var a=[],b=this.$a.length-1;0<=b;--b)a.push(this.$a[b]);for(var c=this.eb.length,b=0;b<c;++b)a.push(this.eb[b]);return a};function wr(a){tr.call(this);this.constructor.Kp=this.constructor.ID_PREFIX.toLowerCase().replace(/\./g,"-");this.constructor.cd=this.constructor.Kp;W.prototype.vq.bind(this)();null!=a&&this.xi(a)}w(wr,tr);v("nrg.ui.Slider",wr);wr.ID_PREFIX="nrg.ui.Slider";wr.CSS_SUFFIX={gF:"track",cP:"track-hovered",Vs:"thumb",aP:"thumb-hovered"};f=wr.prototype;f.rr=!1;f.xs=!1;f.FJ=function(){return this.rr};f.Ai=function(a){this.xs=a};
f.k=function(a){this.q=Q("div",{id:wr.ID_PREFIX+"_Widget_"+B()});this.Nb(this.q);a=null!=a?a:document.body;a.appendChild(this.q);this.Ah=Q("div",{id:wr.ID_PREFIX+"_Track_"+B()});this.q.appendChild(this.Ah);this.Qf=Xh("goog-slider-thumb",this.q);G(this,"change",this.Iv.bind(this));G(this,"s",this.gL.bind(this));G(this,"t",this.dL.bind(this));this.xi(this.Zb().toLowerCase())};f.a=function(){return this.q};f.DI=function(){return this.Ah};f.xI=function(){return this.Qf};
f.nq=function(a){null==this.Vj&&(this.Vj={});if(null==this.Vj[a.id]){var b=new xp(a);b.addEventListener("mousewheel",this.TK,!1,this);this.Vj[a.id]=b}};f.hG=function(a){null==this.Tj&&(this.Tj={});if(null==this.Tj[a.id]){var b=new go(a);G(b,"key",this.qi.bind(this));this.Tj[a.id]=b}};f.qi=function(){};f.o=function(){var a=this.w(),a=qr(this,a);"horizontal"==this.Zb().toLowerCase()?this.Qf.style.left=a.x.toString()+"px":"vertical"==this.Zb().toLowerCase()&&(this.Qf.style.left=a.y.toString()+"px")};
f.xi=function(a){wr.d.xi.call(this,a);this.ma&&xr(this,this.Zb().toLowerCase())};function xr(a,b){function c(a,c){Ih(a,[wh(c,"horizontal"),wh(c,"vertical")],[c,wh(c,b)])}c(a.q,a.constructor.cd);c(a.Ah,wr.CSS.gF);c(a.Qf,wr.CSS.Vs)}f.fx=!1;f.iu=1;f.SC=function(a,b){this.fx=a;u(b)&&(this.iu=b)};f.TK=function(a){var b=Math.abs(a.Wd)<Math.abs(a.$h)?a.$h:a.Wd;this.fx?this.C(Math.round(this.w()-b*this.iu)):this.C(Math.round(this.w()-(0>b?-1:1)));this.dispatchEvent({type:"v"});a.preventDefault()};f.fe=null;
f.tA=function(){if(null!=this.fe){var a=this.fe.fi();if(0<a.length)return a[0]}};f.Iv=function(a){a.stopPropagation();null==this.fe&&(this.fe=new vr);2>this.fe.pg()?(a=this.w(),this.fe.eb.push(a)):(a=this.w(),this.fe.eb.push(a),a=this.fe,0==a.$a.length&&(a.$a=a.eb,a.$a.reverse(),a.eb=[]),a.$a.pop());this.xs||this.dispatchEvent({type:"u",value:this.w(),$J:this.ha(),UJ:this.T()});this.xs=!1};f.gL=function(){this.rr=!0};f.dL=function(){this.rr=!1};
f.f=function(){wr.d.f.call(this);delete this.xs;null!=this.q&&(J(this),S(this.q),delete this.q);null!=this.Qf&&(J(this.Qf),S(this.Qf),delete this.Qf);null!=this.Ah&&(J(this.Ah),S(this.Ah),delete this.Ah);null!=this.Tj&&(C(this.Tj,function(a){J(a);a.g()}),D(this.Tj),delete this.Tj);null!=this.Vj&&(C(this.Vj,function(a){J(a);a.g()}),D(this.Vj),delete this.Vj);null!=this.rD&&(Jb(this.rD),delete this.rD);null!=this.wD&&(Jb(this.wD),delete this.wD);null!=this.fe&&(D(this.fe),delete this.fe);delete this.fx;
delete this.iu;delete this.rr};v("nrg.ui.Slider.EventType",{TD:"u",cO:"v"});v("nrg.ui.Slider.ID_PREFIX",wr.ID_PREFIX);v("nrg.ui.Slider.CSS_SUFFIX",wr.CSS_SUFFIX);v("nrg.ui.Slider.prototype.suspendChangeEvent",wr.prototype.Ai);v("nrg.ui.Slider.prototype.render",wr.prototype.k);v("nrg.ui.Slider.prototype.isSliding",wr.prototype.FJ);v("nrg.ui.Slider.prototype.getPreviousValue",wr.prototype.tA);v("nrg.ui.Slider.prototype.getElement",wr.prototype.a);v("nrg.ui.Slider.prototype.getTrack",wr.prototype.DI);
v("nrg.ui.Slider.prototype.getThumb",wr.prototype.xI);v("nrg.ui.Slider.prototype.bindToMouseWheel",wr.prototype.nq);v("nrg.ui.Slider.prototype.bindToArrowKeys",wr.prototype.hG);v("nrg.ui.Slider.prototype.updateStyle",wr.prototype.o);v("nrg.ui.Slider.prototype.setOrientation",wr.prototype.xi);v("nrg.ui.Slider.prototype.setUseDeltaToScroll",wr.prototype.SC);v("nrg.ui.Slider.prototype.disposeInternal",wr.prototype.f);function yr(){wr.call(this)}w(yr,wr);v("xiv.ui.FrameSlider",yr);yr.ID_PREFIX="xiv.ui.FrameSlider";yr.CSS_SUFFIX={};yr.prototype.k=function(){yr.d.k.call(this)};yr.prototype.f=function(){yr.d.f.call(this)};v("xiv.ui.FrameSlider.EventType",{});v("xiv.ui.FrameSlider.ID_PREFIX",yr.ID_PREFIX);v("xiv.ui.FrameSlider.CSS_SUFFIX",yr.CSS_SUFFIX);v("xiv.ui.FrameSlider.prototype.render",yr.prototype.k);v("xiv.ui.FrameSlider.prototype.disposeInternal",yr.prototype.f);function zr(a){Wq.call(this);a=null!=a?a:ob(Ar);a=g(a)?a:[a];E(a,function(b,c){a[c]=b.toUpperCase()});Br(this,a);Cr(this,a);null!=this.i.X&&this.De();null!=this.i.Y&&this.Hg();null!=this.i.Z&&this.Kj();null!=this.i.V&&this.mp();this.o()}w(zr,Wq);v("xiv.ui.layouts.XyzvLayout",zr);zr.TITLE="XyzvLayout";zr.ID_PREFIX="xiv.ui.layouts.XyzvLayout";var Ar={Sg:"X",Ne:"Y",Cl:"Z",Np:"V"};
zr.CSS_SUFFIX={Sg:"x",Ne:"y",Cl:"z",Np:"v",ia:"slider",Og:"slider-thumb",bF:"slider-thumb-hovered",Kh:"slider-track",LO:"slider-track-x",MO:"slider-track-y",NO:"slider-track-z",xN:"framenumber"};function Dr(a,b,c,d,e){this.ia=a;this.Ld=b;this.sd=c;this.pf=d;this.Jh=e}f=zr.prototype;f.lC=0;f.wi=function(a,b){this.i[a].Jm(b);var c=this.oz(a);R(this.a(),c);c.style.position="absolute";this.i[a].R().ui(c);this.i[a].R().update()};
f.oz=function(a){return Q("div",{id:this.constructor.ID_PREFIX+"_ResizeBoundary_"+a+"_"+B(),"class":wh(this.constructor.cd,a.toLowerCase()+"-resizeboundary")})};function Br(a,b){if(b.length>nb(Ar))throw Error("Invalid amount of frames "+b+". Must be "+Ar);E(b,function(a){if(!qb(Ar,a))throw Error("Invalid frame title ",a);}.bind(a))}function Cr(a,b){var c="";E(b,function(a,b){c=a.toUpperCase();this.uy(new Vq(c));R(this.a(),this.i[c].a());O(this.i[c].a(),zr.CSS[b])}.bind(a))}f.MM=function(a){a.vw(this.nm())};
f.vw=function(a){this.Ze(function(b,c){null!=a[c]&&(b[Xq]=a[c].ia,S(a[c].ia.a()),b.a().appendChild(a[c].ia.a()),b[Yq]=a[c].Ld,S(a[c].Ld.a()),b.a().appendChild(a[c].Ld.a()),b[$q]=a[c].sd,b.a().appendChild(a[c].sd.Mg),b.a().appendChild(a[c].sd.tg))})};f.sy=function(){this.nw();Er(this);Fr(this);Gr(this);Hr(this);Ir(this)};f.nm=function(){var a={};this.Ze(function(b,c){a[c]=new Dr(b[Xq],b[Yq],b[$q],b[Zq],b[ar])});return a};f.jA=function(a){a=this.i[a];return new Dr(a[Xq],a[Yq],a[$q],a[Zq],a[ar])};
f.iA=function(a,b){return this.i[a][b]};f.fA=function(a){return this.i[a]};function Er(a){var b;a.Ze(function(a,d){b=new wr("horizontal");b.k(a.a());b.a().id=d+"_LayoutFrameSlider_"+B();a[Xq]=b;Ih(b.a(),null,[zr.CSS.ia]);Ih(b.Qf,null,[zr.CSS.Og]);Ih(b.Ah,null,[zr.CSS.Kh,wh(zr.CSS.Kh,d.toLowerCase())])}.bind(a))}function Fr(a){var b;a.Ze(function(a){b=new Hq;b.k(a.a());a[Yq]=b}.bind(a))}function Gr(a){var b;a.Ze(function(a){b=new Gq;b.k(a.a());a[Zq]=b}.bind(a))}
function Ir(a){var b;a.Ze(function(a){b=new ur;b.k(a.a());a[ar]=b}.bind(a))}function Hr(a){var b;a.Ze(function(a){b=new cr;a[$q]=b;b.k(a.a());a.a().appendChild(b.tg);a.a().appendChild(b.Mg)}.bind(a))}f.Ze=function(a){C(Ar,function(b){b=b.toUpperCase();null!=this.i[b]&&"V"!=b&&a(this.i[b],b)}.bind(this))};f.loop=function(a){C(Ar,function(b){b=b.toUpperCase();a(this.i[b],b)}.bind(this))};f.De=function(){null!=this.constructor.CSS&&O(this.i.X.a(),this.constructor.CSS.Sg)};
f.Hg=function(){null!=this.constructor.CSS&&O(this.i.Y.a(),this.constructor.CSS.Ne)};f.Mo=function(a){this.Wh();var b=U(this.i.X.a()),c=U(this.i.Y.a()),d=U(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.A.width)};f.Kj=function(){null!=this.constructor.CSS&&O(this.i.Z.a(),this.constructor.CSS.Cl)};f.mp=function(){null!=this.constructor.CSS&&O(this.i.V.a(),this.constructor.CSS.Np)};f.af=fa;f.Yk=fa;f.Mr=fa;f.Lr=fa;f.He=fa;f.ff=fa;f.Ie=fa;f.nl=fa;f.f=function(){zr.d.f.call(this);delete this.lC};
v("xiv.ui.layouts.XyzvLayout.TITLE",zr.TITLE);v("xiv.ui.layouts.XyzvLayout.EventType",{});v("xiv.ui.layouts.XyzvLayout.ID_PREFIX",zr.ID_PREFIX);v("xiv.ui.layouts.XyzvLayout.FRAMES",Ar);v("xiv.ui.layouts.XyzvLayout.CSS_SUFFIX",zr.CSS_SUFFIX);v("xiv.ui.layouts.XyzvLayout.InteractorSet",Dr);v("xiv.ui.layouts.XyzvLayout.prototype.resizeMargin",zr.prototype.lC);v("xiv.ui.layouts.XyzvLayout.prototype.setLayoutFrameResizable",zr.prototype.wi);
v("xiv.ui.layouts.XyzvLayout.prototype.createResizeBoundary",zr.prototype.oz);v("xiv.ui.layouts.XyzvLayout.prototype.transferInteractors",zr.prototype.MM);v("xiv.ui.layouts.XyzvLayout.prototype.setInteractors",zr.prototype.vw);v("xiv.ui.layouts.XyzvLayout.prototype.addInteractors",zr.prototype.sy);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractors",zr.prototype.nm);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractorsByPlane",zr.prototype.jA);
v("xiv.ui.layouts.XyzvLayout.prototype.getInteractorByPlane",zr.prototype.iA);v("xiv.ui.layouts.XyzvLayout.prototype.getFrameByPlane",zr.prototype.fA);v("xiv.ui.layouts.XyzvLayout.prototype.loopXyz",zr.prototype.Ze);v("xiv.ui.layouts.XyzvLayout.prototype.loop",zr.prototype.loop);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_X",zr.prototype.De);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_Y",zr.prototype.Hg);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_Z",zr.prototype.Kj);
v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_V",zr.prototype.mp);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_X",zr.prototype.af);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_Y",zr.prototype.Yk);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_Z",zr.prototype.Mr);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_V",zr.prototype.Lr);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_X",zr.prototype.He);
v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_Z",zr.prototype.ff);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_Y",zr.prototype.Ie);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_V",zr.prototype.nl);v("xiv.ui.layouts.XyzvLayout.prototype.disposeInternal",zr.prototype.f);function Jr(){zr.call(this,["X","Y","Z"])}w(Jr,zr);v("xiv.ui.layouts.TwoDWidescreen",Jr);Jr.TITLE="TwoDWidescreen";Jr.ID_PREFIX="xiv.ui.layouts.TwoDWidescreen";Jr.CSS_SUFFIX={Sg:"x",Ne:"y",Cl:"z"};f=Jr.prototype;f.De=function(){Jr.d.De.call(this);this.wi("X",["RIGHT"]);G(this.i.X.R(),"resize",this.af.bind(this));G(this.i.X.R(),"resize_end",this.o.bind(this))};f.Hg=function(){Jr.d.Hg.call(this);this.wi("Y",["BOTTOM"]);G(this.i.Y.R(),"resize",this.Yk.bind(this));G(this.i.Y.R(),"resize_end",this.o.bind(this))};
f.af=function(){this.Mo(function(a){var b=a.width,c=Math.max(this.A.width-a.width,this.zb);E(["Y","Z"],function(a){this.i[a].a().style.left=b+"px";this.i[a].a().style.width=c+"px"}.bind(this))}.bind(this));this.ah()};f.Yk=function(){this.Mo(function(a,b){window.console.log("Y SIZE",b.height);var c=b.height,d=this.A.height-c;this.i.Z.a().style.top=c+"px";this.i.Z.a().style.height=d+"px"}.bind(this));this.ah()};f.o=function(){Jr.d.o.call(this);this.Uo();this.He();this.Ie();this.ff()};
f.Uo=function(){if(this.ra.width!==this.A.width||this.ra.height!==this.A.height){var a=1-(this.ra.height-this.A.height)/this.ra.height,b=1-(this.ra.width-this.A.width)/this.ra.width;this.Ze(function(c){frameSize=U(c.a());c.a().style.width=Math.max(frameSize.width*b,this.zb).toString()+"px";c.a().style.height=Math.max(frameSize.height*a,this.pd).toString()+"px"}.bind(this))}};
f.He=function(){var a=this.i.X;a.a().style.height=this.A.height.toString()+"px";al(a.R().Bd(),{left:this.zb,width:this.A.width-2*this.zb});var b=a.R().Dd("RIGHT");b.style.left=a.a().style.width;Hj(b,this.A.height);a.R().update()};f.Ie=function(){var a=this.i.Y;a.a().style.left=this.i.X.a().style.width;al(a.R().Bd(),{top:this.pd,height:this.A.height-2*this.pd});var b=a.R().Dd("BOTTOM");b.style.top=a.a().style.height;Gj(b,parseInt(a.a().style.width));a.R().update()};
f.ff=function(){var a=this.i.Z;a.a().style.left=this.i.X.a().style.width;a.a().style.top=this.i.Y.a().style.height;a.a().style.height=this.A.height-parseInt(this.i.Y.a().style.height)+NaN};v("xiv.ui.layouts.TwoDWidescreen.TITLE",Jr.TITLE);v("xiv.ui.layouts.TwoDWidescreen.EventType",{});v("xiv.ui.layouts.TwoDWidescreen.ID_PREFIX",Jr.ID_PREFIX);v("xiv.ui.layouts.TwoDWidescreen.CSS_SUFFIX",Jr.CSS_SUFFIX);v("xiv.ui.layouts.TwoDWidescreen.prototype.setupLayoutFrame_X",Jr.prototype.De);
v("xiv.ui.layouts.TwoDWidescreen.prototype.setupLayoutFrame_Y",Jr.prototype.Hg);v("xiv.ui.layouts.TwoDWidescreen.prototype.onLayoutFrameResize_X",Jr.prototype.af);v("xiv.ui.layouts.TwoDWidescreen.prototype.onLayoutFrameResize_Y",Jr.prototype.Yk);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle",Jr.prototype.o);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_X",Jr.prototype.He);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_Y",Jr.prototype.Ie);
v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_Z",Jr.prototype.ff);function Kr(a){zr.call(this,a)}w(Kr,zr);v("xiv.ui.layouts.SingleFrameLayout",Kr);Kr.TITLE="SingleFrameLayout";Kr.ID_PREFIX="xiv.ui.layouts.SingleFrameLayout";Kr.prototype.Uo=function(){if(this.ra.width!==this.A.width||this.ra.height!==this.A.height){var a=this.ra.height*(1-(this.ra.height-this.A.height)/this.ra.height),b=this.ra.width*(1-(this.ra.width-this.A.width)/this.ra.width);this.loop(function(c){null!=c&&Fj(c.a(),Math.max(b,this.zb),Math.max(a,this.pd))}.bind(this))}};
Kr.prototype.o=function(){Kr.d.o.call(this);this.Uo()};v("xiv.ui.layouts.SingleFrameLayout.TITLE",Kr.TITLE);v("xiv.ui.layouts.SingleFrameLayout.ID_PREFIX",Kr.ID_PREFIX);v("xiv.ui.layouts.SingleFrameLayout.prototype.updateStyle",Kr.prototype.o);function Lr(){zr.call(this,"V");O(this.i.V.a(),wh(Vq.cd,this.constructor.TITLE))}w(Lr,Kr);v("xiv.ui.layouts.ThreeD",Lr);Lr.TITLE="ThreeD";Lr.ID_PREFIX="xiv.ui.layouts.ThreeD";v("xiv.ui.layouts.ThreeD.TITLE",Lr.TITLE);v("xiv.ui.layouts.ThreeD.ID_PREFIX",Lr.ID_PREFIX);function Mr(){zr.call(this,"X");O(this.i.X.a(),wh(Vq.cd,this.constructor.TITLE.toLowerCase()))}w(Mr,Kr);v("xiv.ui.layouts.Sagittal",Mr);Mr.TITLE="Sagittal";Mr.ID_PREFIX="xiv.ui.layouts.Sagittal";v("xiv.ui.layouts.Sagittal.TITLE",Mr.TITLE);v("xiv.ui.layouts.Sagittal.ID_PREFIX",Mr.ID_PREFIX);function Nr(){zr.call(this)}w(Nr,zr);v("xiv.ui.layouts.Conventional",Nr);Nr.TITLE="Conventional";Nr.ID_PREFIX="xiv.ui.layouts.Conventional";Nr.CSS_SUFFIX={Sg:"x",Ne:"y",Cl:"z",Np:"v",HP:"v-boundary"};f=Nr.prototype;f.De=function(){Nr.d.De.call(this);this.wi("X",["RIGHT","TOP_RIGHT"]);G(this.i.X.R(),"resize",this.af.bind(this));G(this.i.X.R(),"resize_end",this.o.bind(this))};f.Hg=function(){Nr.d.Hg.call(this)};
f.Kj=function(){Nr.d.Kj.call(this);this.wi("Z",["RIGHT","TOP_RIGHT"]);G(this.i.Z.R(),"resize",this.Mr.bind(this));G(this.i.Z.R(),"resize_end",this.o.bind(this))};f.mp=function(){Nr.d.mp.call(this);this.wi("V","BOTTOM");G(this.i.V.R(),"resize",this.Lr.bind(this));G(this.i.V.R(),"resize_end",this.o.bind(this))};function Or(a,b){a.Wh();var c=U(a.i.X.a()),d=U(a.i.Y.a()),e=U(a.i.Z.a());b(c,d,e)}
f.af=function(){Or(this,function(a,b,c){var d=Math.max(this.A.width-a.width-c.width,this.zb),e=c.width,h=this.A.height-a.height;this.zb==d&&(e=Math.max(this.A.width-a.width-b.width,this.zb),sj(this.i.X.a(),e,h));sj(this.i.Z.a(),0,h);Fj(this.i.Z.a(),e,a.height);sj(this.i.Y.a(),c.width+a.width,h);Fj(this.i.Y.a(),d,a.height);Fj(this.i.V.a(),this.A.width,this.A.height-a.height)}.bind(this));this.ah()};
f.Mr=function(){Or(this,function(a,b,c){var d=Math.max(this.A.width-c.width-b.width,this.zb),e=b.width,h=this.A.height-c.height;this.zb==d&&(e=Math.max(this.A.width-c.width-a.width,this.zb));sj(this.i.X.a(),c.width,h);Fj(this.i.X.a(),d,c.height);sj(this.i.Y.a(),c.width+d,h);Fj(this.i.Y.a(),e,b.height);Fj(this.i.V.a(),this.A.width,this.A.height-c.height)}.bind(this));this.ah()};
f.Lr=function(){this.Wh();var a=parseInt(this.i.V.a().style.height),b=this.A.height-a;C(this.i,function(c){c!==this.i.V&&al(c.a(),{top:a,height:b})}.bind(this));this.He();this.Ie();this.ah()};f.o=function(){Nr.d.o.call(this);this.nl();this.dx();this.ex();this.He();this.Ie();this.ff()};f.dx=function(){var a=parseInt(this.i.V.a().style.height),b=Math.max(this.A.height-a,this.pd);this.Ze(function(c){c.a().style.top=a+"px";c.a().style.height=b+"px"})};
f.ex=function(){var a,b=1-(this.ra.width-this.A.width)/this.ra.width;this.ra.width!==this.A.width&&this.Ze(function(c){a=U(c.a());c.a().style.width=Math.max(a.width*b,this.zb).toString()+"px"}.bind(this))};
function Pr(a,b){var c=a.i.V.R().Hk("BOTTOM"),d=a.i[b].R().Bd(),e=uj(a.i[b].a()),h=U(a.i[b].a());sj(d,parseInt(d.style.left),a.pd);Fj(d,a.A.width-3*a.zb,a.A.height-2*a.pd);d=a.i[b].R().Dd("RIGHT");sj(d,e.x+h.width,e.y);Hj(d,a.A.height-c.fb.y);sj(a.i[b].R().Dd("TOP_RIGHT"),e.x+h.width,e.y);a.i[b].R().update()}f.He=function(){this.i.X.a().style.left=this.i.Z.a().style.width;al(this.i.X.R().Bd(),{left:2*this.zb});Pr(this,"X")};
f.Ie=function(){this.i.Y.a().style.left=(parseInt(this.i.Z.a().style.width)+parseInt(this.i.X.a().style.width)).toString()+"px"};f.ff=function(){al(this.i.Z.R().Bd(),{left:this.zb});Pr(this,"Z")};
f.nl=function(){if(this.ra.width!==this.A.width||this.ra.height!==this.A.height){var a=U(this.i.V.a());Fj(this.i.V.a(),this.A.width,Math.max(a.height*(1-(this.ra.height-this.A.height)/this.ra.height),this.pd))}sj(this.i.V.R().Bd(),this.A.width,this.pd);Fj(this.i.V.R().Bd(),this.A.width-3*this.zb,this.A.height-2*this.pd);a=this.i.V.R().Dd("BOTTOM");sj(a,0,U(this.i.V.a()).height);Gj(a,this.A.width);this.i.V.R().update()};v("xiv.ui.layouts.Conventional.TITLE",Nr.TITLE);
v("xiv.ui.layouts.Conventional.EventType",{});v("xiv.ui.layouts.Conventional.ID_PREFIX",Nr.ID_PREFIX);v("xiv.ui.layouts.Conventional.CSS_SUFFIX",Nr.CSS_SUFFIX);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_X",Nr.prototype.De);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_Y",Nr.prototype.Hg);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_Z",Nr.prototype.Kj);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_V",Nr.prototype.mp);
v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_Z",Nr.prototype.Mr);v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_X",Nr.prototype.af);v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_V",Nr.prototype.Lr);v("xiv.ui.layouts.Conventional.prototype.updateStyle",Nr.prototype.o);v("xiv.ui.layouts.Conventional.prototype.updateStyle_X",Nr.prototype.He);v("xiv.ui.layouts.Conventional.prototype.updateStyle_Y",Nr.prototype.Ie);
v("xiv.ui.layouts.Conventional.prototype.updateStyle_Z",Nr.prototype.ff);v("xiv.ui.layouts.Conventional.prototype.updateStyle_V",Nr.prototype.nl);function Qr(){zr.call(this,"Z");O(this.i.Z.a(),wh(Vq.cd,this.constructor.TITLE))}w(Qr,Kr);v("xiv.ui.layouts.Transverse",Qr);Qr.TITLE="Transverse";Qr.ID_PREFIX="xiv.ui.layouts.Transverse";v("xiv.ui.layouts.Transverse.TITLE",Qr.TITLE);v("xiv.ui.layouts.Transverse.ID_PREFIX",Qr.ID_PREFIX);function Rr(){zr.call(this)}w(Rr,zr);v("xiv.ui.layouts.FourUp",Rr);Rr.TITLE="Four-Up";Rr.ID_PREFIX="xiv.ui.layouts.FourUp";Rr.CSS_SUFFIX={Sg:"x",Ne:"y",Cl:"z",Np:"v"};f=Rr.prototype;f.De=function(){Rr.d.De.call(this);this.wi("X",["RIGHT","TOP","TOP_RIGHT"]);G(this.i.X.R(),"resize",this.af.bind(this));G(this.i.X.R(),"resize_end",this.o.bind(this))};
f.af=function(){var a=uj(this.i.X.a()),b=U(this.i.X.a());sj(this.i.Y.a(),b.width,a.y);Fj(this.i.Y.a(),this.A.width-b.width,b.height);sj(this.i.Z.a(),0,0);Fj(this.i.Z.a(),b.width,a.y);sj(this.i.V.a(),b.width,0);Fj(this.i.V.a(),this.A.width-b.width,a.y);a=this.i.X.R().Hk("RIGHT").Dd();a.style.top="0px";a.style.height=this.A.height.toString()+"px";this.ah()};f.o=function(){Rr.d.o.call(this);this.Uo();this.ff();this.nl();this.He();this.Ie()};
f.Uo=function(){if(this.ra.width!==this.A.width||this.ra.height!==this.A.height){var a=this.ra.height*(1-(this.ra.height-this.A.height)/this.ra.height)/2,b=this.ra.width*(1-(this.ra.width-this.A.width)/this.ra.width)/2;this.loop(function(c){Fj(c.a(),Math.max(b,this.zb),Math.max(a,this.pd))}.bind(this))}};
f.He=function(){this.i.X.a().style.top=this.i.Z.a().style.height;sj(this.i.X.R().Bd(),this.zb,this.pd);Fj(this.i.X.R().Bd(),this.A.width-2*this.zb,this.A.height-2*this.pd);var a=this.i.X.R().Hk("TOP").Dd();a.style.left="0px";a.style.width=this.A.width.toString()+"px";this.i.X.R().update();a=this.i.X.R().Hk("RIGHT").Dd();a.style.top="0px";a.style.height=this.A.height.toString()+"px"};f.Ie=function(){this.i.Y.a().style.left=this.i.Z.a().style.width;this.i.Y.a().style.top=this.i.Z.a().style.height};
f.ff=function(){};f.nl=function(){this.i.V.a().style.left=this.i.Z.a().style.width};f.f=function(){Rr.d.f.call(this)};v("xiv.ui.layouts.FourUp.TITLE",Rr.TITLE);v("xiv.ui.layouts.FourUp.EventType",{});v("xiv.ui.layouts.FourUp.ID_PREFIX",Rr.ID_PREFIX);v("xiv.ui.layouts.FourUp.CSS_SUFFIX",Rr.CSS_SUFFIX);v("xiv.ui.layouts.FourUp.prototype.setupLayoutFrame_X",Rr.prototype.De);v("xiv.ui.layouts.FourUp.prototype.onLayoutFrameResize_X",Rr.prototype.af);v("xiv.ui.layouts.FourUp.prototype.updateStyle",Rr.prototype.o);
v("xiv.ui.layouts.FourUp.prototype.updateStyle_X",Rr.prototype.He);v("xiv.ui.layouts.FourUp.prototype.updateStyle_Y",Rr.prototype.Ie);v("xiv.ui.layouts.FourUp.prototype.updateStyle_Z",Rr.prototype.ff);v("xiv.ui.layouts.FourUp.prototype.updateStyle_V",Rr.prototype.nl);v("xiv.ui.layouts.FourUp.prototype.disposeInternal",Rr.prototype.f);function Sr(){zr.call(this,["X","Y","Z"])}w(Sr,zr);v("xiv.ui.layouts.TwoDRow",Sr);Sr.TITLE="TwoDRow";Sr.ID_PREFIX="xiv.ui.layouts.TwoDRow";Sr.CSS_SUFFIX={Sg:"x",Ne:"y",Cl:"z"};f=Sr.prototype;f.De=function(){Sr.d.De.call(this);this.wi("X",["RIGHT"]);G(this.i.X.R(),"resize",this.af.bind(this));G(this.i.X.R(),"resize_end",this.o.bind(this))};f.Hg=function(){Sr.d.Hg.call(this);this.wi("Y",["RIGHT"]);G(this.i.Y.R(),"resize",this.Yk.bind(this));G(this.i.Y.R(),"resize_end",this.o.bind(this))};f.Kj=function(){Sr.d.Kj.call(this)};
f.Mo=function(a){this.Wh();var b=U(this.i.X.a()),c=U(this.i.Y.a()),d=U(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.A.width)};f.af=function(){this.Mo(function(a,b,c){b=Math.max(this.A.width-a.width-c.width,this.zb);var d=this.A.height-a.height;sj(this.i.Y.a(),a.width,d);Fj(this.i.Y.a(),b,a.height);sj(this.i.Z.a(),a.width+b,d);Fj(this.i.Z.a(),c.width,a.height)}.bind(this));this.ah()};
f.Yk=function(){this.Mo(function(a,b){var c=this.A.height-b.height;sj(this.i.X.a(),0,c);Fj(this.i.X.a(),a.width,b.height);sj(this.i.Z.a(),a.width+b.width,c);Fj(this.i.Z.a(),this.A.width-a.width-b.width,b.height)}.bind(this));this.ah()};f.o=function(){Sr.d.o.call(this);this.ex();this.dx();this.He();this.Ie();this.ff()};f.dx=function(){var a=this.A.height.toString()+"px";this.Ze(function(b){b.a().style.height=a})};
f.ex=function(){var a,b=1-(this.ra.width-this.A.width)/this.ra.width;this.ra.width!==this.A.width&&this.Ze(function(c){a=U(c.a());newWidth=c.a().style.width=Math.max(a.width*b,this.zb).toString()+"px"}.bind(this))};function Tr(a,b){var c=a.i[b].R().Bd(),d=uj(a.i[b].a()),e=U(a.i[b].a());sj(c,parseInt(c.style.left),a.pd);Fj(c,a.A.width-3*a.zb,a.A.height-2*a.pd);c=a.i[b].R().Dd("RIGHT");sj(c,d.x+e.width,d.y);Hj(c,a.A.height);a.i[b].R().update()}
f.He=function(){al(this.i.X.R().Bd(),{left:this.zb});Tr(this,"X")};f.Ie=function(){this.i.Y.a().style.left=this.i.X.a().style.width;al(this.i.Y.R().Bd(),{left:2*this.zb});Tr(this,"Y")};f.ff=function(){this.i.Z.a().style.left=(parseInt(this.i.X.a().style.width)+parseInt(this.i.Y.a().style.width)).toString()+"px"};v("xiv.ui.layouts.TwoDRow.TITLE",Sr.TITLE);v("xiv.ui.layouts.TwoDRow.EventType",{});v("xiv.ui.layouts.TwoDRow.ID_PREFIX",Sr.ID_PREFIX);v("xiv.ui.layouts.TwoDRow.CSS_SUFFIX",Sr.CSS_SUFFIX);
v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_X",Sr.prototype.De);v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_Y",Sr.prototype.Hg);v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_Z",Sr.prototype.Kj);v("xiv.ui.layouts.TwoDRow.prototype.onLayoutFrameResize_X",Sr.prototype.af);v("xiv.ui.layouts.TwoDRow.prototype.onLayoutFrameResize_Y",Sr.prototype.Yk);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle",Sr.prototype.o);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_X",Sr.prototype.He);
v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_Y",Sr.prototype.Ie);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_Z",Sr.prototype.ff);v("nrg.array",function(){});v("nrg.array.naturalCompare",function(a,b){function c(a){for(var b=[],c=0,d=-1,e=0,h,k;h=(k=a.charAt(c++)).charCodeAt(0);)h=46==h||48<=h&&57>=h,h!==e&&(b[++d]="",e=h),b[d]+=k;return b}var d=c(a),e=c(b);for(x=0;d[x]&&e[x];x++)if(d[x]!==e[x]){var h=Number(d[x]),k=Number(e[x]);return h==d[x]&&k==e[x]?h-k:d[x]>e[x]?1:-1}return d.length-e.length});function Ur(){zr.call(this,"Y");O(this.i.Y.a(),wh(Vq.cd,this.constructor.TITLE.toLowerCase()))}w(Ur,Kr);v("xiv.ui.layouts.Coronal",Ur);Ur.TITLE="Coronal";Ur.ID_PREFIX="xiv.ui.layouts.Coronal";v("xiv.ui.layouts.Coronal.TITLE",Ur.TITLE);v("xiv.ui.layouts.Coronal.ID_PREFIX",Ur.ID_PREFIX);function Vr(){W.call(this);this.constructor.Ax={};this.constructor.Ax[Rr.TITLE]=Rr;this.constructor.Ax[Nr.TITLE]=Nr;this.xl={};this.Fj={};this.Ci={}}w(Vr,W);v("xiv.ui.layouts.LayoutHandler",Vr);Vr.ID_PREFIX="xiv.ui.layouts.LayoutHandler";Vr.CSS_SUFFIX={};f=Vr.prototype;f.ub=null;f.Fd=null;f.jv=!1;f.Xi=null;f.Ge=null;f.Oy=!0;f.JJ=function(){return this.jv};f.$F=function(a){this.Oy=a};f.Xz=function(){return this.ub[this.Wc]};f.Yz=function(a){return this.ub[this.Wc].Eu(a)};
f.Gp=function(){null!=this.Fd&&this.Fd.Gp()};f.Qq=function(){return null!=this.Fd?this.Fd.nm():null};function Wr(a){var b=[];a=a.Fd.nm();C(a,function(a){C(a,function(a){b.push(a.a())})});return b}f.oA=function(a){return null!=this.Fd?this.Fd.jA(a):null};f.RH=function(a){return null!=this.Fd?this.Fd.fA(a):null};f.nA=function(a,b){return null!=this.Fd?this.Fd.iA(a,b):null};f.CC=function(a){this.vi(a);null!=this.Fd&&this.Fd.nw();this.ub[a].sy();this.Fd=this.ub[a]};
f.ty=function(a,b){if(void 0 in this.xl)throw Error(a+" is an already used layout title!");b&&(this.xl[a]=b)};f.vi=function(a,b){if(!(a in this.xl))throw Error("Invalid layout: "+a+"!");null==this.ub&&(this.ub={});a in this.ub||(this.ub[a]=new this.xl[a],G(this.ub[a],"n",this.Nr.bind(this)),Xr(this.ub[a]),R(this.a(),this.ub[a].a()));this.Wr=this.Wc;this.Wc=a;Yr(this);this.oD(!1===b?0:500)};
function Yr(a){var b;C(a.ub[a.Wc].i,function(a,d){b=this.oA(d);null!=b&&null!=b.ia&&null!=b.Jh&&(O(a.a(),"xiv-ui-layouts-hoverframe"),E([b.ia.a(),b.Jh.a()],function(a){O(a,"xiv-ui-layouts-fadeableinteractor")}.bind(this)))}.bind(a))}function Zr(a){var b;C(a.ub[a.Wc].i,function(a,d){b=this.nA(d,Xq);null!=b&&null==a[$r]&&(b.nq(a.a()),a[$r]=!0)}.bind(a))}f.Nr=function(){this.dispatchEvent({type:"z"})};
f.oD=function(a){a=u(a)&&0<=a?a:500;this.Wr==this.Wc?Zr(this):this.Wr?this.Oy?as(this,a):as(this,0):(bs(this,this.Wc),cs(this,this.Wc))};function ds(a,b,c){E(ii(b.a()),function(a){null!=this.Fj[c]||(this.Fj[c]=[]);this.Fj[c].push(a)}.bind(a))}function es(a){C(a.Ci,function(a){R(this.a().parentNode,a)}.bind(a))}function fs(a,b){var c=[];C(a.Ci,function(a,e){c=Mb(c,ul(a,this.Xi[e],this.Ge[e],b))}.bind(a));return c}
function as(a,b){var c=a.ub[a.Wc].i,d;bs(a,a.Wc);cs(a,a.Wc);null!=a.Xi&&D(a.Xi);null!=a.Ge&&D(a.Ge);a.Xi={};a.Ge={};C(a.ub[a.Wr].i,function(a,b){d=a.a().cloneNode(!1);this.Ci[b]=d;ds(this,a,b);C(this.Fj,function(a,b){E(a,function(a){S(a);null!=this.Ci[b]&&this.Ci[b].appendChild(a)}.bind(this))}.bind(this));if(b in c){var k=tl(a.a(),c[b].a());this.Xi[b]=k.dG;this.Ge[b]=k.JM}else this.Xi[b]={"z-index":0},this.Ge[b]={opacity:0}}.bind(a));es(a);vl(fs(a,b),a.Tv.bind(a),a.Uv.bind(a),a.Sv.bind(a))}
f.Tv=function(){this.WA();this.jv=!0;this.dispatchEvent({type:"w",Zw:this.Ci})};var $r=B();f=Vr.prototype;f.Uv=function(){this.dispatchEvent({type:"y",Zw:this.Ci})};
f.Sv=function(){var a=this.ub[this.Wc].i;C(a,function(a,c){null!=this.Fj[c]&&E(this.Fj[c],function(c){a.a().appendChild(c)})}.bind(this));C(a,function(a,c){null!=this.Ge[c]&&al(a.a(),this.Ge[c])}.bind(this));this.ub[this.Wc]!==this.Fd&&this.ub[this.Wc].vw(this.Qq());gs(this);this.jv=!1;bs(this,this.Wc);cs(this,this.Wc);hs(this);this.dispatchEvent({type:"x",frames:a});Zr(this);this.o()};function cs(a,b){a.ub[b].a().style.opacity=1;a.ub[b].o()}
function bs(a,b){a.ub[b].a().style.visibility="visible";a.ub[b].o()}f.WA=function(){C(this.ub,function(a){a.a().style.visibility="hidden";a.o()}.bind(this))};function gs(a){C(a.Ci,function(a){S(a);delete a})}function Xr(a){C(a.i,function(a){G(a.a(),"dblclick",function(){})})}f.EK=function(a){this.CQ.push(a)};f.o=function(){Vr.d.o.call(this);this.ub[this.Wc].o()};function hs(a){null!=a.Xi&&(C(a.Xi,function(a){D(a)}),D(a.Ge),delete a.Ge);null!=a.Ge&&(C(a.Ge,function(a){D(a)}),D(a.Ge),delete a.Ge)}
f.f=function(){Vr.d.f.call(this);hs(this);delete this.Ci;D(this.Fj);delete this.Fj;delete this.Fd;this.Rn(this.ub);delete this.ub;D(this.xl);delete this.xl;delete this.Wc;delete this.Wr};v("xiv.ui.layouts.LayoutHandler.EventType",{NN:"w",MN:"x",ON:"y",Us:"z"});v("xiv.ui.layouts.LayoutHandler.ID_PREFIX",Vr.ID_PREFIX);v("xiv.ui.layouts.LayoutHandler.CSS_SUFFIX",Vr.CSS_SUFFIX);v("xiv.ui.layouts.LayoutHandler.ANIM_TIME",500);v("xiv.ui.layouts.LayoutHandler.SLIDER_BOUND",$r);
v("xiv.ui.layouts.LayoutHandler.prototype.layoutChanging",Vr.prototype.JJ);v("xiv.ui.layouts.LayoutHandler.prototype.animateLayoutChange",Vr.prototype.$F);v("xiv.ui.layouts.LayoutHandler.prototype.getCurrentLayout",Vr.prototype.Xz);v("xiv.ui.layouts.LayoutHandler.prototype.getCurrentLayoutFrame",Vr.prototype.Yz);v("xiv.ui.layouts.LayoutHandler.prototype.updateInteractors",Vr.prototype.Gp);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractors",Vr.prototype.Qq);
v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorsElements",Vr.prototype.gQ);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorsByPlane",Vr.prototype.oA);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterFrameByPlane",Vr.prototype.RH);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorByPlane",Vr.prototype.nA);v("xiv.ui.layouts.LayoutHandler.prototype.setMasterLayout",Vr.prototype.CC);v("xiv.ui.layouts.LayoutHandler.prototype.addLayout",Vr.prototype.ty);
v("xiv.ui.layouts.LayoutHandler.prototype.setLayout",Vr.prototype.vi);v("xiv.ui.layouts.LayoutHandler.prototype.switchLayout",Vr.prototype.oD);v("xiv.ui.layouts.LayoutHandler.prototype.hideAllLayouts",Vr.prototype.WA);v("xiv.ui.layouts.LayoutHandler.prototype.onLayoutFrameDoubleClicked",Vr.prototype.EK);v("xiv.ui.layouts.LayoutHandler.prototype.updateStyle",Vr.prototype.o);v("xiv.ui.layouts.LayoutHandler.prototype.disposeInternal",Vr.prototype.f);function js(a,b){this.x=a;this.y=b}w(js,Oh);f=js.prototype;f.clone=function(){return new js(this.x,this.y)};f.xg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};f.scale=Oh.prototype.scale;f.Hb=function(){this.x=-this.x;this.y=-this.y;return this};f.normalize=function(){return this.scale(1/this.xg())};f.add=function(a){this.x+=a.x;this.y+=a.y;return this};f.Pc=function(a){this.x-=a.x;this.y-=a.y;return this};
f.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};f.gm=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y};function ks(){bd.call(this);this.u="shaders";this.eq="";var a;a="precision mediump float;\n\n";a+="attribute vec3 vertexPosition;\n";a+="attribute vec3 vertexNormal;\n";a+="attribute vec3 vertexColor;\n";a+="attribute vec2 vertexTexturePos;\n";a+="attribute float vertexScalar;\n";a+="\n";a+="uniform mat4 view;\n";a+="uniform mat4 perspective;\n";a+="uniform vec3 center;\n";a+="uniform mat4 objectTransform;\n";a+="uniform bool useObjectColor;\n";a+="uniform bool useScalars;\n";a+="uniform bool scalarsReplaceMode;\n";
a+="uniform float scalarsMin;\n";a+="uniform float scalarsMax;\n";a+="uniform vec3 scalarsMinColor;\n";a+="uniform vec3 scalarsMaxColor;\n";a+="uniform float scalarsMinThreshold;\n";a+="uniform float scalarsMaxThreshold;\n";a+="uniform int scalarsInterpolation;\n";a+="uniform vec3 objectColor;\n";a+="uniform float pointSize;\n";a+="\n";a+="varying float fDiscardNow;\n";a+="varying vec4 fVertexPosition;\n";a+="varying vec3 fragmentColor;\n";a+="varying vec2 fragmentTexturePos;\n";a+="varying vec3 fVertexNormal;\n";
a+="varying vec3 fTransformedVertexNormal;\n";a+="\n";a+="void main(void) {\n";a+="  fTransformedVertexNormal = mat3(view[0].xyz,view[1].xyz,view[2].xyz) * ";a+="mat3(objectTransform[0].xyz,objectTransform[1].xyz,objectTransform[2].xyz) * ";a+="vertexNormal;\n";a+="  fVertexNormal = vertexNormal;\n";a+="  fDiscardNow = 0.0;\n";a+="  vec3 vertexPosition2 = vertexPosition - center;\n";a+="  fVertexPosition = view * objectTransform * vec4(vertexPosition2, 1.0);\n";a+="  fragmentTexturePos = vertexTexturePos;\n";
a+="  if (useScalars) {\n";a+="    float scalarValue = vertexScalar;\n";a+="    if (scalarValue < scalarsMinThreshold || scalarValue > scalarsMaxThreshold) {\n";a+="      if (scalarsReplaceMode) {\n";a+="        fragmentColor = objectColor;\n";a+="      } else {\n";a+="        fDiscardNow = 1.0;\n";a+="      }\n";a+="    } else {\n";a+="      if (scalarsReplaceMode) {\n";a+="        if (scalarsInterpolation == 1) {\n";a+="            vec3 zeroMaxColor;\n";a+="            vec3 zeroMinColor;\n";a+=
"            zeroMaxColor[0] = scalarsMaxColor[0]*0.33;\n";a+="            zeroMaxColor[1] = scalarsMaxColor[1]*0.33;\n";a+="            zeroMaxColor[2] = scalarsMaxColor[2]*0.33;\n";a+="            zeroMinColor[0] = scalarsMinColor[0]*0.33;\n";a+="            zeroMinColor[1] = scalarsMinColor[1]*0.33;\n";a+="            zeroMinColor[2] = scalarsMinColor[2]*0.33;\n";a+="            if(scalarValue < 0.0) {fragmentColor = scalarValue/(scalarsMin) * scalarsMinColor + (1.0 - scalarValue/(scalarsMin)) * (zeroMinColor);}\n";
a+="            else {fragmentColor = scalarValue/(scalarsMax) * scalarsMaxColor + (1.0 - scalarValue/(scalarsMax)) * (zeroMaxColor);}\n";a+="        } else {\n";a+="            fragmentColor = scalarValue * scalarsMaxColor + (1.0 - scalarValue) * scalarsMinColor;\n";a+="          }\n";a+="      } else {\n";a+="        fragmentColor = vertexColor;\n";a+="      }\n";a+="    }\n";a+="  } else if (useObjectColor) {\n";a+="    fragmentColor = objectColor;\n";a+="  } else {\n";a+="    fragmentColor = vertexColor;\n";
a+="  }\n";a+="  gl_PointSize = pointSize;\n";a+="  gl_Position = perspective * fVertexPosition;\n";this.eq=a+="}\n";this.Tp="";a="precision mediump float;\n\n";a+="uniform bool usePicking;\n";a+="uniform bool useTexture;\n";a+="uniform bool volumeTexture;\n";a+="uniform bool useLabelMapTexture;\n";a+="uniform sampler2D textureSampler;\n";a+="uniform sampler2D textureSampler2;\n";a+="uniform float objectOpacity;\n";a+="uniform float labelmapOpacity;\n";a+="uniform vec4 labelmapColor;\n";a+="uniform float volumeLowerThreshold;\n";
a+="uniform float volumeUpperThreshold;\n";a+="uniform float volumeScalarMin;\n";a+="uniform float volumeScalarMax;\n";a+="uniform vec3 volumeScalarMinColor;\n";a+="uniform vec3 volumeScalarMaxColor;\n";a+="uniform float volumeWindowLow;\n";a+="uniform float volumeWindowHigh;\n";a+="\n";a+="varying float fDiscardNow;\n";a+="varying vec4 fVertexPosition;\n";a+="varying vec3 fragmentColor;\n";a+="varying vec2 fragmentTexturePos;\n";a+="varying vec3 fVertexNormal;\n";a+="varying vec3 fTransformedVertexNormal;\n";
a+="\n";a+="void main(void) {\n";a+=" if (fDiscardNow > 0.0) {\n";a+="   discard;\n";a+=" }\n";a+=" if (usePicking) {\n";a+="   gl_FragColor = vec4(fragmentColor, 1.0);\n";a+=" } else if (useTexture) {\n";a+="   vec4 texture1 = texture2D(textureSampler,fragmentTexturePos);\n";a+="   vec4 textureSum = texture1;\n";a+="   if (volumeTexture) {\n";a+="     float _windowLow = (volumeWindowLow / volumeScalarMax);\n";a+="     float _windowHigh = (volumeWindowHigh / volumeScalarMax);\n";a+="     vec3 _minrange = vec3(_windowLow,_windowLow,_windowLow);\n";
a+="     vec3 _maxrange = vec3(_windowHigh,_windowHigh,_windowHigh);\n";a+="     vec3 fac = _maxrange - _minrange;\n";a+="     textureSum = vec4((textureSum.r - _minrange)/fac,1);\n";a+="     textureSum = textureSum.r * vec4(volumeScalarMaxColor,1) + (1.0 - textureSum.r) * vec4(volumeScalarMinColor,1);\n";a+="   }\n";a+="   if (useLabelMapTexture) {\n";a+="     vec4 texture2 = texture2D(textureSampler2,fragmentTexturePos);\n";a+="     if (texture2.a > 0.0) {\n";a+="         if (labelmapColor.a != -255.0) {\n";
a+="           if (all(equal(floor(texture2 * vec4(255)), labelmapColor))) {\n";a+="             if (labelmapOpacity < 1.0) {\n";a+="               textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";a+="             } else {\n";a+="               textureSum = texture2;\n";a+="             }\n";a+="           }\n";a+="         } else {\n";a+="           if (labelmapOpacity < 1.0) {\n";a+="             textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";a+="           } else {\n";
a+="             textureSum = texture2;\n";a+="           }\n";a+="         }\n";a+="     }\n";a+="   }\n";a+="   if (volumeTexture) {\n";a+="     float _volumeLowerThreshold = (volumeLowerThreshold / volumeScalarMax);\n";a+="     float _volumeUpperThreshold = (volumeUpperThreshold / volumeScalarMax);\n";a+="     if (texture1.r < _volumeLowerThreshold ||\n";a+="         texture1.r > _volumeUpperThreshold ||\n";a+="         texture1.a == 0.0 ) {\n";a+="       discard;\n";a+="     };\n";a+="   };\n";
a+="   gl_FragColor = textureSum;\n";a+="   gl_FragColor.a = objectOpacity;\n";a+=" } else {\n";a+="   vec3 nNormal = normalize(fTransformedVertexNormal);\n";a+="   if (fVertexNormal == vec3(0.0,0.0,0.0)) {\n";a+="     gl_FragColor = vec4(fragmentColor,1.0);\n";a+="     return;\n";a+="   }\n";a+="   vec3 light = vec3(0.0, 0.0, 1.0);\n";a+="   vec3 lightDirection = vec3(0,0,-10);\n";a+="   lightDirection = normalize(lightDirection);\n";a+="   vec3 eyeDirection = normalize(-fVertexPosition.xyz);\n";
a+="   vec3 reflectionDirection = reflect(-lightDirection, nNormal);\n";a+="   float specular = pow(max(dot(reflectionDirection, eyeDirection), 0.0), 10.0);\n";a+="   float diffuse = 0.8 * max(dot(nNormal, light), 0.0);\n";a+="   float ambient = 0.3;\n";a+="   gl_FragColor = vec4(fragmentColor * ambient +\n";a+="                       fragmentColor * diffuse +\n";a+="                       vec3(0.2, 0.2, 0.2) * specular,\n";a+="                       objectOpacity);\n";a+=" }\n";this.Tp=a+="}\n"}
w(ks,bd);
var ls={pP:"vertexPosition",oP:"vertexNormal",nP:"vertexColor",rP:"vertexTexturePos",qP:"vertexScalar"},ms={tP:"view",kO:"perspective",cN:"center",hO:"objectTransform",jP:"useObjectColor",fO:"objectColor",lP:"useScalars",BO:"scalarsReplaceMode",yO:"scalarsMin",vO:"scalarsMax",zO:"scalarsMinColor",wO:"scalarsMaxColor",AO:"scalarsMinThreshold",xO:"scalarsMaxThreshold",uO:"scalarsInterpolation",lO:"pointSize",gO:"objectOpacity",eO:"normal",kP:"usePicking",mP:"useTexture",iP:"useLabelMapTexture",LN:"labelmapOpacity",
KN:"labelmapColor",TO:"textureSampler",UO:"textureSampler2",xP:"volumeLowerThreshold",EP:"volumeUpperThreshold",BP:"volumeScalarMin",zP:"volumeScalarMax",CP:"volumeScalarMinColor",AP:"volumeScalarMaxColor",GP:"volumeWindowLow",FP:"volumeWindowHigh",DP:"volumeTexture"};
function ns(a){var b=Object.keys(ms);if(!Object.keys(ls).every(function(a){a=ls[a];return-1!=this.eq.search(a)||-1!=this.Tp.search(a)}.bind(a)))throw Error("Could not find all attributes in the shader sources.");if(!b.every(function(a){a=ms[a];return-1!=this.eq.search(a)||-1!=this.Tp.search(a)}.bind(a)))throw Error("Could not find all uniforms in the shader sources.");};function os(a,b,c){if(null==a)throw Error("Invalid GL Buffer.");if(null==b)throw Error("Invalid number of items.");if(null==c)throw Error("Invalid item size.");bd.call(this);this.u="buffer";this.Cb=a;this.Li=b;this.Mi=c}w(os,bd);function ps(a,b){this.Xt=a instanceof Oh?a:new Oh(a,b)}w(ps,Zo);ps.prototype.Ce=function(a,b,c,d){Fo(vj(a),0,a,b,this.Xt,c,null,d)};function qs(a,b){this.IL=4;this.iw=b||void 0;Cm.call(this,a)}w(qs,Cm);qs.prototype.yw=function(a){this.iw=a||void 0;this.wa()&&this.Ce()};qs.prototype.Ce=function(){if(this.iw){var a=!this.wa()&&"move_offscreen"!=this.Sm,b=this.a();a&&(b.style.visibility="hidden",Lj(b,!0));this.iw.Ce(b,this.IL,this.sQ);a&&Lj(b,!1)}};function rs(a,b,c){this.wb=c||(a?Qh(Uh(a)):Qh());qs.call(this,this.wb.B("div",{style:"position:absolute;display:none;"}));this.cu=new Oh(1,1);this.Ak=new lg;a&&this.Xl(a);null!=b&&this.kp(b)}w(rs,qs);var ss=[];f=rs.prototype;f.oe=null;f.className="goog-tooltip";f.bD=500;f.fJ=0;f.O=function(){return this.wb};f.Xl=function(a){a=Uh(a);this.Ak.add(a);G(a,"mouseover",this.Ok,!1,this);G(a,"mouseout",this.$q,!1,this);G(a,"mousemove",this.KA,!1,this);G(a,"focus",this.Mk,!1,this);G(a,"blur",this.$q,!1,this)};
f.detach=function(a){if(a)a=Uh(a),ts(this,a),this.Ak.remove(a);else{for(var b=this.Ak.fi(),c=0;a=b[c];c++)ts(this,a);this.Ak.clear()}};function ts(a,b){Uc(b,"mouseover",a.Ok,!1,a);Uc(b,"mouseout",a.$q,!1,a);Uc(b,"mousemove",a.KA,!1,a);Uc(b,"focus",a.Mk,!1,a);Uc(b,"blur",a.$q,!1,a)}f.kp=function(a){oi(this.a(),a)};f.sw=function(a){var b=this.a();b&&S(b);rs.d.sw.call(this,a);a&&(b=this.wb.la.body,b.insertBefore(a,b.lastChild))};f.Ju=function(){return ui(this.a())};
f.om=function(){return this.Lj?this.wa()?4:1:this.io?3:this.wa()?2:0};f.Hv=function(){if(!Cm.prototype.Hv.call(this))return!1;if(this.anchor)for(var a,b=0;a=ss[b];b++)ni(a.a(),this.anchor)||a.ca(!1);Kb(ss,this);a=this.a();a.className=this.className;us(this);G(a,"mouseover",this.RA,!1,this);G(a,"mouseout",this.QA,!1,this);vs(this);return!0};
f.Qv=function(){Lb(ss,this);for(var a=this.a(),b,c=0;b=ss[c];c++)b.anchor&&ni(a,b.anchor)&&b.ca(!1);this.XB&&ws(this.XB);Uc(a,"mouseover",this.RA,!1,this);Uc(a,"mouseout",this.QA,!1,this);this.anchor=void 0;0==this.om()&&(this.ks=!1);Cm.prototype.Qv.call(this)};f.xB=function(a,b){this.anchor==a&&this.Ak.contains(this.anchor)&&(this.ks||!this.IQ?(this.ca(!1),this.wa()||(this.anchor=a,this.yw(b||xs(this,0)),this.ca(!0))):this.anchor=void 0);this.Lj=void 0};
f.VJ=function(a){this.io=void 0;a==this.anchor&&(null!=this.oe&&(this.oe==this.a()||this.Ak.contains(this.oe))||this.az&&this.az.oe||this.ca(!1))};function ys(a,b){var c=Di(a.wb);a.cu.x=b.clientX+c.x;a.cu.y=b.clientY+c.y}f.Ok=function(a){var b=zs(this,a.target);this.oe=b;us(this);b!=this.anchor&&(this.anchor=b,this.Lj||(this.Lj=Zf(ua(this.xB,this,b,void 0),this.bD)),As(this),ys(this,a))};function zs(a,b){try{for(;b&&!a.Ak.contains(b);)b=b.parentNode;return b}catch(c){return null}}
f.KA=function(a){ys(this,a);this.ks=!0};f.Mk=function(a){this.oe=a=zs(this,a.target);this.ks=!0;if(this.anchor!=a){this.anchor=a;var b=xs(this,1);us(this);this.Lj||(this.Lj=Zf(ua(this.xB,this,a,b),this.bD));As(this)}};function xs(a,b){if(0==b){var c=a.cu.clone();return new Bs(c)}return new Cs(a.oe)}function As(a){if(a.anchor)for(var b,c=0;b=ss[c];c++)ni(b.a(),a.anchor)&&(b.az=a,a.XB=b)}
f.$q=function(a){var b=zs(this,a.target),c=zs(this,a.relatedTarget);b!=c&&(b==this.oe&&(this.oe=null),vs(this),this.ks=!1,!this.wa()||a.relatedTarget&&ni(this.a(),a.relatedTarget)?this.anchor=void 0:ws(this))};f.RA=function(){var a=this.a();this.oe!=a&&(us(this),this.oe=a)};f.QA=function(a){var b=this.a();this.oe!=b||a.relatedTarget&&ni(b,a.relatedTarget)||(this.oe=null,ws(this))};function vs(a){a.Lj&&(ba.clearTimeout(a.Lj),a.Lj=void 0)}
function ws(a){2==a.om()&&(a.io=Zf(ua(a.VJ,a,a.anchor),a.fJ))}function us(a){a.io&&(ba.clearTimeout(a.io),a.io=void 0)}f.f=function(){this.ca(!1);vs(this);this.detach();this.a()&&S(this.a());this.oe=null;delete this.wb;rs.d.f.call(this)};function Bs(a,b){ps.call(this,a,b)}w(Bs,ps);Bs.prototype.Ce=function(a,b,c){b=vj(a);b=yj(b);c=c?new ij(c.top+10,c.right,c.bottom,c.left+10):new ij(10,0,0,10);Ho(this.Xt,a,4,c,b,9)&496&&Ho(this.Xt,a,4,c,b,5)};function Cs(a){$o.call(this,a,3)}w(Cs,$o);
Cs.prototype.Ce=function(a,b,c){var d=new Oh(10,0);Fo(this.element,this.Ln,a,b,d,c,9)&496&&Fo(this.element,2,a,1,d,c,5)};function Ds(a,b,c,d){if(null==a)throw Error("No valid parent element.");if(!u(b)||!u(c))throw Error("Invalid coordinates.");if(!(null!=d&&d instanceof Ap))throw Error("Invalid interactor.");rs.call(this);this.u="caption";this.qf=a;this.hq=b;this.iq=c;this.Ha=d;this.Sh=null;this.bk=[];a=".x-tooltip {\n  background: #C0C0FF;\n  color: #000000;\n";a+="  border: 1px solid infotext;\n";a+="  padding: 1px;\n";a+="  font-family: sans-serif;\n";a+="}";this.bk=[a];Tc(d,le,this.uo.bind(this));this.Xu()}
w(Ds,rs);Ds.prototype.Xu=function(){var a=pj(this.qf,"position");if("static"==a||""==a)this.qf.style.position="relative";var a=document.getElementsByTagName("head")[0],b=Q("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.bk[0]));a.appendChild(b);b.appendChild(c);this.Sh=b;this.yw(new ps(this.hq,this.iq));this.ca(!0);this.Xl(this.qf);this.a().classList.add("x-tooltip")};Ds.prototype.uo=function(){this.ca(!1);this.Sh&&S(this.Sh);this.a()&&S(this.a());this.Sh=null};function Es(){xq.call(this);this.u="renderer3D";this.kn=this.nn=this.jn=this.mn=this.hn=this.ln=this.rt=this.st=null;this.Za=[0,0,0];this.an=[0,0,0];this.gy=null;this.bt=new id;this.yn=new id;this.jk=new id;this.pn=new id;this.Gl=new id;this.Pl=new id;this.hk=new id;this.Ul=new id;this.Bb={PROGRESSBAR_ENABLED:!0,PICKING_ENABLED:!0,ORDERING_ENABLED:!0,STATISTICS_ENABLED:!1,INTERMEDIATE_RENDERING:!1}}w(Es,xq);Es.prototype.__defineGetter__("config",function(){return this.Bb});f=Es.prototype;
f.SL=function(){this.kn=this.nn=this.jn=this.mn=this.hn=this.ln=null;this.Za=[0,0,0]};f.Rv=function(a){Es.d.Rv.call(this,a);var b=a.hq;a=a.iq;var c=this.fw(b,a);if(c=this.get(c))if(c=c.Fl){var d=Cj(this.za),b=new Ds(this.za,d.x+b+10,d.y+a+10,this.Ha);a=Am(c,null);if(b=b.a())b.innerHTML=zm(a)}};
f.va=function(){Es.d.va.call(this,"experimental-webgl");try{if(this.b.viewport(0,0,this.cb,this.Na),this.b.clearColor(this.an[0],this.an[1],this.an[2],0),this.b.enable(this.b.BLEND),this.b.blendEquation(this.b.FUNC_ADD),this.b.blendFunc(this.b.SRC_ALPHA,this.b.ONE_MINUS_SRC_ALPHA),this.b.enable(this.b.DEPTH_TEST),this.b.depthFunc(this.b.LEQUAL),this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT),this.Bb.PICKING_ENABLED){var a=this.b.createFramebuffer(),b=this.b.createRenderbuffer(),c=this.b.createTexture();
this.b.bindTexture(this.b.TEXTURE_2D,c);this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGB,this.cb,this.Na,0,this.b.RGB,this.b.UNSIGNED_BYTE,null);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.NEAREST);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.NEAREST);this.b.bindFramebuffer(this.b.FRAMEBUFFER,
a);this.b.bindRenderbuffer(this.b.RENDERBUFFER,b);this.b.renderbufferStorage(this.b.RENDERBUFFER,this.b.DEPTH_COMPONENT16,this.cb,this.Na);this.b.bindRenderbuffer(this.b.RENDERBUFFER,null);this.b.framebufferTexture2D(this.b.FRAMEBUFFER,this.b.COLOR_ATTACHMENT0,this.b.TEXTURE_2D,c,0);this.b.framebufferRenderbuffer(this.b.FRAMEBUFFER,this.b.DEPTH_ATTACHMENT,this.b.RENDERBUFFER,b);this.b.bindFramebuffer(this.b.FRAMEBUFFER,null);this.gy=a}}catch(d){throw Error("Exception while accessing GL Context!\n"+
d);}a=new ks;Fs(this,a)};
function Fs(a,b){if(null==a.Gc||null==a.b||null==a.oa)throw Error("Renderer was not initialized properly.");if(!(null!=b&&b instanceof ks))throw Error("Could not add shaders.");ns(b);var c=a.b.createShader(a.b.FRAGMENT_SHADER),d=a.b.createShader(a.b.VERTEX_SHADER);a.b.shaderSource(c,b.Tp);a.b.shaderSource(d,b.eq);a.b.compileShader(c);a.b.compileShader(d);if(!a.b.getShaderParameter(c,a.b.COMPILE_STATUS))throw Error("Fragement Shader compilation failed!\n"+a.b.getShaderInfoLog(c));if(!a.b.getShaderParameter(d,
a.b.COMPILE_STATUS))throw Error("Vertex Shader compilation failed!\n"+a.b.getShaderInfoLog(d));var e=a.b.createProgram();a.b.attachShader(e,d);a.b.attachShader(e,c);a.b.linkProgram(e);if(!a.b.getProgramParameter(e,a.b.LINK_STATUS))throw Error("Could not create shader program!\n"+a.b.getShaderInfoLog(c)+"\n"+a.b.getShaderInfoLog(d)+"\n"+a.b.getProgramInfoLog(e));a.b.useProgram(e);a.rt=e;Object.keys(ls).forEach(function(a){a=ls[a];this.bt.set(a,this.b.getAttribLocation(this.rt,a));this.b.enableVertexAttribArray(this.bt.get(a))}.bind(a));
Object.keys(ms).forEach(function(a){a=ms[a];this.yn.set(a,this.b.getUniformLocation(this.rt,a))}.bind(a));a.st=b}
f.Dh=function(a){Es.d.Dh.call(this,a);var b=!1;if(null!=a){this.get(a.wd)&&(b=!0);var c=a.wd,d=a.G,e=a.fa,h=a.Tc,k=a.bb,l=a.ja,n=a.qc,p=a.Pd,m=a.t,q=a.kb;if(null!=m&&null!=m.ja&&m.ja.J)this.Dh(m);else if(null!=m&&m.J&&this.Dh(m),null!=p&&null!=p.ja&&p.ja.J)this.Tb.load(p,a);else if(null!=k&&null!=k.ja&&k.ja.J)this.Tb.load(k,a);else{if(null!=l&&g(l))if(null!=a.Hh){if(a.Hh.Bo!=l.length||!a.J)return}else{b=0;c=l.length;for(b=0;b<c;b++)this.Tb.load(l[b],a);return}else{if(null!=l&&l.J){this.Tb.load(a,
a);return}if(null!=q&&null!=q.ja&&q.ja.J){this.Tb.load(q,a);return}}if(0<a.j.length)for(l=a.j,p=l.length,m=m=0;m<p;m++)this.Dh(l[m]);if(d){for(l=0;this.Zp;)l++,window.console.log("Possible thread lock avoided: "+l);this.Zp=!0;p=a instanceof Le&&a.Th instanceof Qe;b&&null!=k&&k.J&&(l=this.hk.get(c),null!=l&&this.b.isBuffer(l.Cb)&&this.b.deleteBuffer(l.Cb));l=null;if(null!=k)if(!b||k.J){l=a.Tl;if(null==l)throw Error("Can not add an object and texture without valid coordinate mapping! Set the textureCoordinateMap!");
m=!1;k.Ti&&(m=!0);this.b.pixelStorei(this.b.UNPACK_FLIP_Y_WEBGL,m);m=this.b.createTexture();m.oJ=k.$f;this.Ul.set(k.wd,m);this.b.bindTexture(this.b.TEXTURE_2D,m);k.Ti?(m=this.b.RGBA,k.Xx&&(m=this.b.LUMINANCE,this.b.pixelStorei(this.b.UNPACK_ALIGNMENT,1)),this.b.texImage2D(this.b.TEXTURE_2D,0,m,k.qt,k.pt,0,m,this.b.UNSIGNED_BYTE,k.Ti)):this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGBA,this.b.RGBA,this.b.UNSIGNED_BYTE,m.oJ);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);
this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);p?(this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.NEAREST),this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.NEAREST)):(this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.LINEAR),this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.LINEAR));this.b.bindTexture(this.b.TEXTURE_2D,null);m=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,
m);this.b.bufferData(this.b.ARRAY_BUFFER,new Float32Array(l),this.b.STATIC_DRAW);l=new os(m,l.length,2);this.hk.set(c,l);k.J=!1}else l=this.hk.get(c);Qf(this.Tb,.1);if(p)this.Zp=!1,A.Nd(this.u+".update"),Qf(this.Tb,.9);else{if(!b||d.J||n.J){p=n.Eb;k=A.v.bc(p,d.dg,d.eg,d.fg);p=A.v.bc(p,d.ag,d.bg,d.cg);if(null===this.ln||k.x<this.ln)this.ln=k.x;if(null===this.hn||p.x>this.hn)this.hn=p.x;if(null===this.mn||k.y<this.mn)this.mn=k.y;if(null===this.jn||p.y>this.jn)this.jn=p.y;if(null===this.nn||k.z<this.nn)this.nn=
k.z;if(null===this.kn||p.z>this.kn)this.kn=p.z;this.Za=[(this.ln+this.hn)/2,(this.mn+this.jn)/2,(this.nn+this.kn)/2];n.J=!1}b&&d.J&&(n=this.jk.get(c),null!=n&&this.b.isBuffer(n.Cb)&&this.b.deleteBuffer(n.Cb));n=null;!b||d.J?(n=this.b.createBuffer(),d.resize(),this.b.bindBuffer(this.b.ARRAY_BUFFER,n),this.b.bufferData(this.b.ARRAY_BUFFER,d.jc,this.b.STATIC_DRAW),n=new os(n,d.count,3),d.J=!1):n=this.jk.get(c);Qf(this.Tb,.3);b&&e.J&&(k=this.jk.get(c),null!=k&&this.b.isBuffer(k.Cb)&&this.b.deleteBuffer(k.Cb));
k=null;!b||e.J?(k=this.b.createBuffer(),e.resize(),this.b.bindBuffer(this.b.ARRAY_BUFFER,k),this.b.bufferData(this.b.ARRAY_BUFFER,e.jc,this.b.STATIC_DRAW),k=new os(k,e.count,3),e.J=!1):k=this.pn.get(c);Qf(this.Tb,.3);b&&h&&h.J&&(e=this.Gl.get(c),null!=e&&this.b.isBuffer(e.Cb)&&this.b.deleteBuffer(e.Cb));e=null;if(h)if(!b||h.J){if(h.length!=d.length)throw Error("Mismatch between points and point colors.");e=this.b.createBuffer();h.resize();this.b.bindBuffer(this.b.ARRAY_BUFFER,e);this.b.bufferData(this.b.ARRAY_BUFFER,
h.jc,this.b.STATIC_DRAW);e=new os(e,h.count,3);h.J=!1}else e=this.Gl.get(c);Qf(this.Tb,.2);b&&q&&q.J&&(h=this.Pl.get(c),null!=h&&this.b.isBuffer(h.Cb)&&this.b.deleteBuffer(h.Cb));h=null;if(q)if(h=q.cn,!b||q.J){if(h.length!=d.length)throw Error("Mismatch between points and scalars.");d=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,d);this.b.bufferData(this.b.ARRAY_BUFFER,h,this.b.STATIC_DRAW);h=new os(d,h.length,3);q.J=!1}else h=this.Pl.get(c);Qf(this.Tb,.1);b||this.Wg.add(a);this.jk.set(c,
n);this.pn.set(c,k);this.Gl.set(c,e);this.hk.set(c,l);this.Pl.set(c,h);this.Zp=a.J=!1}}else a.J=!1}}};f.fw=function(a,b){if(this.Bb.PICKING_ENABLED){this.sh(!0,!1);var c=new Uint8Array(4);this.b.readPixels(a,this.Na-b,1,1,this.b.RGBA,this.b.UNSIGNED_BYTE,c);return c[0]+255*c[1]+65025*c[2]}return-1};
f.sh=function(a,b){Es.d.sh.call(this,a,b);this.b.viewport(0,0,this.cb,this.Na);this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT);var c=this.Wg.jb,d=c.length;if(0!=d){a?this.b.bindFramebuffer(this.b.FRAMEBUFFER,this.gy):this.b.bindFramebuffer(this.b.FRAMEBUFFER,null);var e=this.oa.nt,h=this.oa.Q;this.b.uniformMatrix4fv(this.yn.get("perspective"),!1,e);this.b.uniformMatrix4fv(this.yn.get("view"),!1,h);e=this.Za;this.b.uniform3f(this.yn.get("center"),parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));
h=this.xd.length;for(e=0;e<h;++e){var k=this.xd[e];if(k instanceof K){var l=A.v.bc(this.oa.Q,k.ya[0]+k.e[0].H[0],k.ya[1]+k.e[0].H[1],k.ya[2]+k.e[0].H[2]),n=A.v.bc(this.oa.Q,k.ya[0]-k.e[0].H[0],k.ya[1]-k.e[0].H[1],k.ya[2]-k.e[0].H[2]),p=Math.abs(l.z-n.z),l=A.v.bc(this.oa.Q,k.ya[0]+k.e[1].H[0],k.ya[1]+k.e[1].H[1],k.ya[2]+k.e[1].H[2]),n=A.v.bc(this.oa.Q,k.ya[0]-k.e[1].H[0],k.ya[1]-k.e[1].H[1],k.ya[2]+-k.e[1].H[2]),m=Math.abs(l.z-n.z),l=A.v.bc(this.oa.Q,k.ya[0]+k.e[2].H[0],k.ya[1]+k.e[2].H[1],k.ya[2]+
k.e[2].H[2]),n=A.v.bc(this.oa.Q,k.ya[0]-k.e[2].H[0],k.ya[1]-k.e[2].H[1],k.ya[2]-k.e[2].H[2]),l=Math.max(p,m,Math.abs(l.z-n.z));l==p?Pe(k,0):l==m?Pe(k,1):Pe(k,2)}}if(this.Bb.ORDERING_ENABLED){p=!1;h=this.xd;k=h.length-1;do if(e=h[k],e instanceof K&&e.Qe&&-1!=e.Mb){var p=e.j[e.Mb].j,m=e.Mb,l=A.v.bc(this.oa.Q,e.ya[0]+e.e[m].Va[0],e.ya[1]+e.e[m].Va[1],e.ya[2]+e.e[m].Va[2]),n=A.v.bc(this.oa.Q,e.ya[0]-e.e[m].Va[0],e.ya[1]-e.e[m].Va[1],e.ya[2]-e.e[m].Va[2]),l=l.z-n.z,n=Math.max(e.Dl[e.Mb],Math.max(e.Dl[e.Mb+
4],e.Dl[e.Mb+8])),q=Math.min(e.Dl[e.Mb],Math.min(e.Dl[e.Mb+4],e.Dl[e.Mb+8]));if(0>l*(n+q))for(l=l=0;l<e.tn[m]-1;l++)p[l]&&(p[l].fd=e.fd,p[l].vd=e.e[m].Rl*l);else for(l=e.tn[m]-1;0<=l;l--)p[l]&&(p[l].fd=e.fd,p[l].vd=(e.tn[m]-1)*e.e[m].Rl-e.e[m].Rl*l);p=!0}while(k--);h=this.Wg.jb;k=h.length-1;do e=h[k],!e.vb||1==e.fd||e instanceof Le||(p=e,m=e.G.Qp,e=A.v.bc(e.qc.Eb,m[0],m[1],m[2]),e=A.v.bc(this.oa.Q,e.x,e.y,e.z),e=A.S.nu(this.oa.dk,e),e=Math.round(1E3*e)/1E3,p.vd=e,p=!0);while(k--);p&&this.Wg.sort()}if(h=
!a&&null!=b&&b&&this.Bb.STATISTICS_ENABLED)var t=0,s=0,z=0,y=0;var e=this.bt,k=e.get("vertexPosition"),p=e.get("vertexNormal"),m=e.get("vertexColor"),l=e.get("vertexTexturePos"),n=e.get("vertexScalar"),e=this.yn,q=e.get("usePicking"),I=e.get("useObjectColor"),P=e.get("objectColor"),N=e.get("useScalars"),H=e.get("scalarsReplaceMode"),T=e.get("scalarsMin"),ca=e.get("scalarsMax"),V=e.get("scalarsMinColor"),wa=e.get("scalarsMaxColor"),oa=e.get("scalarsInterpolation"),ya=e.get("scalarsMinThreshold"),Oa=
e.get("scalarsMaxThreshold"),Ja=e.get("objectOpacity"),Pa=e.get("labelmapOpacity"),ka=e.get("labelmapColor"),za=e.get("useTexture"),qa=e.get("useLabelMapTexture"),Hc=e.get("textureSampler"),Ce=e.get("textureSampler2"),De=e.get("volumeLowerThreshold"),Ee=e.get("volumeUpperThreshold"),be=e.get("volumeScalarMin"),Sh=e.get("volumeScalarMax"),Tv=e.get("volumeWindowLow"),Uv=e.get("volumeWindowHigh"),Vv=e.get("volumeScalarMinColor"),Wv=e.get("volumeScalarMaxColor"),is=e.get("volumeTexture"),Xv=e.get("objectTransform"),
Yv=e.get("pointSize"),e=d;do{var Qa=c[d-e];if(Qa){var lb=null;Qa instanceof Le&&Qa.Th&&(lb=Qa.Th);if(Qa.vb&&(!lb||lb.vb)&&(!a||Qa.qn)){var Ec=Qa.wd,Sd=Qa.gn,kd=this.jk.get(Ec),ue=this.pn.get(Ec),en=this.Gl.get(Ec),qf=this.Pl.get(Ec),fn=this.hk.get(Ec);this.b.bindBuffer(this.b.ARRAY_BUFFER,kd.Cb);this.b.vertexAttribPointer(k,kd.Mi,this.b.FLOAT,!1,0,0);this.b.bindBuffer(this.b.ARRAY_BUFFER,ue.Cb);this.b.vertexAttribPointer(p,ue.Mi,this.b.FLOAT,!1,0,0);a?this.b.uniform1i(q,!0):this.b.uniform1i(q,!1);
!en||a||Sd?(ue=1,Sd&&!a&&(ue=0),this.b.uniform1i(I,ue),ue=Qa.Ma,a&&(ue=[Math.floor(Ec%65025%255)/255,Math.floor(Ec%65025/255)/255,Math.floor(Ec/65025)/255]),this.b.uniform3f(P,parseFloat(ue[0]),parseFloat(ue[1]),parseFloat(ue[2])),this.b.vertexAttribPointer(m,kd.Mi,this.b.FLOAT,!1,0,0)):(this.b.uniform1i(I,!1),this.b.bindBuffer(this.b.ARRAY_BUFFER,en.Cb),this.b.vertexAttribPointer(m,en.Mi,this.b.FLOAT,!1,0,0));!qf||a||Sd?(this.b.uniform1i(N,!1),this.b.vertexAttribPointer(n,kd.Mi,this.b.FLOAT,!1,0,
0)):(this.b.uniform1i(N,!0),this.b.uniform1i(H,Qa.kb.jy),Ec=Qa.kb.Pi,Sd=Qa.kb.Ni,this.b.uniform3f(V,parseFloat(Ec[0]),parseFloat(Ec[1]),parseFloat(Ec[2])),this.b.uniform3f(wa,parseFloat(Sd[0]),parseFloat(Sd[1]),parseFloat(Sd[2])),this.b.uniform1f(ya,parseFloat(Qa.kb.Db)),this.b.uniform1f(Oa,parseFloat(Qa.kb.Fb)),this.b.uniform1f(T,parseFloat(Qa.kb.le)),this.b.uniform1f(ca,parseFloat(Qa.kb.ic)),this.b.uniform1i(oa,parseInt(Qa.kb.dt,10)),this.b.bindBuffer(this.b.ARRAY_BUFFER,qf.Cb),this.b.vertexAttribPointer(n,
qf.Mi,this.b.FLOAT,!1,0,0));this.b.uniform1f(Ja,parseFloat(Qa.fd));Qa.bb&&fn&&!a?(this.b.uniform1i(za,!0),this.b.activeTexture(this.b.TEXTURE0),this.b.bindTexture(this.b.TEXTURE_2D,this.Ul.get(Qa.bb.wd)),this.b.uniform1i(Hc,0),this.b.bindBuffer(this.b.ARRAY_BUFFER,fn.Cb),this.b.vertexAttribPointer(l,fn.Mi,this.b.FLOAT,!1,0,0),this.b.uniform1i(is,!1)):(this.b.uniform1i(za,!1),this.b.vertexAttribPointer(l,kd.Mi,this.b.FLOAT,!1,0,0));lb&&(this.b.uniform1i(is,!0),this.b.uniform1f(De,lb.Db),this.b.uniform1f(Ee,
lb.Fb),this.b.uniform1f(be,lb.le),this.b.uniform1f(Sh,lb.ic),Ec=lb.Pi,Sd=lb.Ni,this.b.uniform3f(Vv,parseFloat(Ec[0]),parseFloat(Ec[1]),parseFloat(Ec[2])),this.b.uniform3f(Wv,parseFloat(Sd[0]),parseFloat(Sd[1]),parseFloat(Sd[2])),this.b.uniform1f(Tv,lb.Vb),this.b.uniform1f(Uv,lb.Ub),qf=lb.t,this.b.uniform1i(qa,!1),lb.Qe?this.b.uniform1f(Ja,parseFloat(lb.fd)):qf&&qf.vb&&(lb=Qa.t.wd,this.b.uniform1i(qa,!0),this.b.activeTexture(this.b.TEXTURE1),this.b.bindTexture(this.b.TEXTURE_2D,this.Ul.get(lb)),this.b.uniform1i(Ce,
1),this.b.uniform1f(Pa,qf.fd),this.b.uniform4fv(ka,qf.ut)));this.b.uniformMatrix4fv(Xv,!1,Qa.qc.Eb);lb=1;"POINTS"==Qa.Sd&&(lb=Qa.rn);this.b.uniform1f(Yv,lb);lb=-1;Qa.Sd==Td?(lb=this.b.TRIANGLES,h&&(s+=kd.Li/3)):"LINES"==Qa.Sd?(this.b.lineWidth(Qa.Nl),lb=this.b.LINES,h&&(z+=kd.Li/2)):"POINTS"==Qa.Sd?(lb=this.b.POINTS,h&&(y+=kd.Li)):"TRIANGLE_STRIPS"==Qa.Sd?(lb=this.b.TRIANGLE_STRIP,h&&(s+=kd.Li/3)):"POLYGONS"==Qa.Sd&&(lb=0==kd.Li%3?this.b.TRIANGLES:this.b.TRIANGLE_FAN,h&&(s+=kd.Li/3));h&&(t+=kd.Li);
this.b.drawArrays(lb,0,kd.Li)}}}while(--e);h&&(c="Objects: "+d+" | "+("Vertices: "+t+" | "),c+="Triangles: "+Math.round(s)+" | ",c+="Lines: "+z+" | ",c+="Points: "+y+" | ",c+="Textures: "+this.Ul.pg(),window.console.log(c))}};
f.remove=function(a){Es.d.remove.call(this,a);if(0<a.j.length)for(var b=a.j,c=b.length,d=0,d=0;d<c;d++)this.remove(b[d]);b=a.wd;c=this.hk.get(b);null!=c&&this.b.isBuffer(c.Cb)&&this.b.deleteBuffer(c.Cb);a.bb&&(c=this.Ul.get(a.bb.wd))&&(this.b.deleteTexture(c),this.Ul.remove(a.bb.wd));c=this.jk.get(b);null!=c&&this.b.isBuffer(c.Cb)&&this.b.deleteBuffer(c.Cb);c=this.pn.get(b);null!=c&&this.b.isBuffer(c.Cb)&&this.b.deleteBuffer(c.Cb);c=this.Gl.get(b);null!=c&&this.b.isBuffer(c.Cb)&&this.b.deleteBuffer(c.Cb);
c=this.Pl.get(b);null!=c&&this.b.isBuffer(c.Cb)&&this.b.deleteBuffer(c.Cb);this.jk.remove(b);this.pn.remove(b);this.Gl.remove(b);this.hk.remove(b);this.Pl.remove(b);this.Wg.remove(a);return!0};f.re=function(){this.st=null;delete this.st;this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT);Es.d.re.call(this)};Es.prototype.__defineGetter__("bgColor",function(){return this.an});Es.prototype.__defineSetter__("bgColor",function(a){this.an=a});
Es.prototype.GL=function(a,b,c,d,e){null!=c||(c=4);null!=d||(d=2);if(null==e){e=this.fw(a,b);if(-1==e)return null;e=this.get(e);if(!e)return null}var h=nq(this.oa,a/this.cb*2-1,(this.Na-b)/this.Na*2-1,0);a=nq(this.oa,a/this.cb*2-1,(this.Na-b)/this.Na*2-1,1);h[0]+=this.Za[0];h[1]+=this.Za[1];h[2]+=this.Za[2];a[0]+=this.Za[0];a[1]+=this.Za[1];a[2]+=this.Za[2];b=[e.G.dg,e.G.eg,e.G.fg];var k=[e.G.ag,e.G.eg,e.G.fg],l=[e.G.ag,e.G.bg,e.G.fg],n=[e.G.dg,e.G.bg,e.G.fg],p=[e.G.dg,e.G.bg,e.G.cg],m=[e.G.dg,e.G.eg,
e.G.cg],q=[e.G.ag,e.G.bg,e.G.cg],t=[e.G.ag,e.G.eg,e.G.cg];b=[A.v.bc(e.qc.Eb,b[0],b[1],b[2]),A.v.bc(e.qc.Eb,k[0],k[1],k[2]),A.v.bc(e.qc.Eb,l[0],l[1],l[2]),A.v.bc(e.qc.Eb,n[0],n[1],n[2]),A.v.bc(e.qc.Eb,p[0],p[1],p[2]),A.v.bc(e.qc.Eb,m[0],m[1],m[2]),A.v.bc(e.qc.Eb,q[0],q[1],q[2]),A.v.bc(e.qc.Eb,t[0],t[1],t[2])];var k=[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity],s;for(s in b)s=b[s],k=[Math.min(k[0],s.x),Math.max(k[1],s.x),Math.min(k[2],s.y),Math.max(k[3],s.y),Math.min(k[4],s.z),Math.max(k[5],
s.z)];s=k;b=[];k=[];for(l=0;6>l;l++){var n=Math.floor(l/2),p=(n+1)%3,m=(n+2)%3,t=(2+2*n)%6,z=(4+2*n)%6,y=1/a[n]*(s[l]-h[n]);Infinity!=y&&-Infinity!=y&&(q=h[p]+a[p]*y,y=h[m]+a[m]*y,q>=s[t]&&q<=s[t+1]&&y>=s[z]&&y<=s[z+1]?(t=[],t[n]=s[l],t[p]=q,t[m]=y,b.push(t)):(t=[],t[n]=s[l],t[p]=q,t[m]=y,k.push(t)))}a=[b,k];a=a[0];if(0==a.length)return null;k=Array(2);for(s=0;2>s;s++)b=a[s],k[s]=Math.sqrt((b[0]-h[0])*(b[0]-h[0])+(b[1]-h[1])*(b[1]-h[1])+(b[2]-h[2])*(b[2]-h[2]));h=b=s=null;k[0]<k[1]?(s=a[0],b=a[1]):
(s=a[1],b=a[0]);h=Math.sqrt((s[0]-b[0])*(s[0]-b[0])+(s[1]-b[1])*(s[1]-b[1])+(s[2]-b[2])*(s[2]-b[2]));h/=c;a=s;s=[b[0]-s[0],b[1]-s[1],b[2]-s[2]];b=Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);k=[s[0]/b,s[1]/b,s[2]/b];l=e.G.jc;n=l.length;for(s=0;s<h;s+=c)for(a=[a[0]+c*k[0],a[1]+c*k[1],a[2]+c*k[2]],b=0;b<n;b+=3)if(p=l[b],m=l[b+1],q=l[b+2],t=new A.S(p,m,q),t=A.v.bc(e.qc.Eb,p,m,q),Math.sqrt((a[0]-t.x)*(a[0]-t.x)+(a[1]-t.y)*(a[1]-t.y)+(a[2]-t.z)*(a[2]-t.z))<=d)return[t.x,t.y,t.z];return null};
v("X.renderer3D",Es);v("X.renderer3D.prototype.init",Es.prototype.va);v("X.renderer3D.prototype.add",Es.prototype.add);v("X.renderer3D.prototype.onShowtime",Es.prototype.UB);v("X.renderer3D.prototype.onRender",Es.prototype.QB);v("X.renderer3D.prototype.get",Es.prototype.get);v("X.renderer3D.prototype.render",Es.prototype.k);v("X.renderer3D.prototype.destroy",Es.prototype.re);v("X.renderer3D.prototype.remove",Es.prototype.remove);v("X.renderer3D.prototype.resetBoundingBox",Es.prototype.SL);
v("X.renderer3D.prototype.resetViewAndRender",Es.prototype.So);v("X.renderer3D.prototype.pick",Es.prototype.fw);v("X.renderer3D.prototype.pick3d",Es.prototype.GL);function Gs(){Es.call(this)}w(Gs,Es);v("xiv.vis.XtkRenderer3D",Gs);f=Gs.prototype;f.bf=function(){this.$k()};f.Zk=function(a){Gs.d.Zk.call(this,a);this.dispatchEvent({type:"k",value:a.ik})};f.k=function(){this.Gc&&this.b?(Gs.d.k.call(this),this.dispatchEvent({type:"l"})):(this.Bb.PROGRESSBAR_ENABLED=!1,this.va())};f.re=function(){Gs.d.re.call(this)};f.remove=function(a){null!=a&&Gs.d.remove.call(this,a)};v("xiv.vis.XtkRenderer3D.prototype.onResize",Gs.prototype.bf);
v("xiv.vis.XtkRenderer3D.prototype.onProgress",Gs.prototype.Zk);v("xiv.vis.XtkRenderer3D.prototype.render",Gs.prototype.k);v("xiv.vis.XtkRenderer3D.prototype.remove",Gs.prototype.remove);function Hs(){$c.call(this);this.sl=[]}w(Hs,$c);v("xiv.vis.XtkPlane",Hs);var Is=[-300,300,300];f=Hs.prototype;f.zm=!0;f.Bl=null;f.orientation=null;f.Ro=null;f.Ea=null;f.cj=null;f.Wa=function(){return this.Ea};f.Zb=function(){return this.orientation};f.ms=function(a){null!=this.Ea&&(null!=a?(this.qq=a,this.Ea.camera.focus=a.focus,this.Ea.camera.position=a.position,this.Ea.camera.up=a.OM,a instanceof Fp&&(this.Ea.camera.view=a.view)):this.Ea.camera.position=Is)};
f.ls=function(a){this.cj.style.background=null!=a?r(a)?a:null!=a.Uy?"-webkit-linear-gradient(top, "+a.Uy+", "+a.backgroundColor+")":a.backgroundColor:"black"};f.jH=function(){return this.yq};f.fH=function(){return this.cj};f.hl=function(a){this.cj=a;null!=this.Ea||this.va(a);this.Ea.container=a};f.$v=function(a){this.dispatchEvent(a)};
f.va=function(a){null!=this.Ea&&(J(this.Ea),this.Ea.re(),this.Ea=null);if(null==this.Bl)throw Error('XtkPlane subclass must have the property "XRenderer" defined.');this.Ea=new this.Bl;this.Ea.orientation=this.orientation;this.hl(a||this.cj||document.body);this.Ea.va();G(this.Ea,"k",function(a){this.dispatchEvent({type:"k",value:a.value})}.bind(this));G(this.Ea,"A",this.$v.bind(this))};f.add=function(a){this.zm&&(!0==a.isSelectedVolume&&(this.yq=a),this.sl.push(a),this.Ea.add(a))};f.isEnabled=function(){return this.zm};
function Js(a){null!=a.Uf&&(S(a.Uf),delete a.Uf)}function Ks(a){a.Uf=Q("div",{id:"DisabledOverlay_"+B()});a.Uf.className="xiv-vis-xtkplane-disabledoverlay";var b=a.orientation;"V"==a.orientation&&(b="3D");var c=Q("div",{id:"DisabledOverlay_"+B()});c.style.display="table-cell";c.style.verticalAlign="middle";c.innerHTML=b+" render plane disabled.";a.Uf.appendChild(c);a.cj.appendChild(a.Uf)}
f.Pb=function(a){(this.zm=!1!==a)?jl(this.Uf,200,function(){this.Uf.style.visibility="hidden";Js(this)}.bind(this)):(null!=this.Uf||Ks(this),this.Uf.style.visibility="visible",gl(this.Uf,200,function(){}.bind(this)))};f.restore=function(){this.va();Ls(this);null!=this.qq&&this.ms(this.qq);null!=this.rc&&this.ls(this.rc);this.k()};f.PL=function(){E(this.sl,function(a){null!=a&&this.Ea.remove(a)}.bind(this))};function Ls(a){E(a.sl,function(a){this.Ea.add(a)}.bind(a))}f.k=function(){this.zm&&this.Ea.k()};
f.o=function(){null!=this.Ea&&this.Ea.bf()};f.g=function(){Hs.d.g.call(this);null!=this.Ea&&(this.Ea.re(),delete this.Ea);Js(this);null!=this.rc&&delete this.rc;null!=this.qq&&delete this.qq;null!=this.Ro&&(null!=this.Ro.g&&(this.Ro.stop(),this.Ro.g()),delete this.Ro);delete this.zm;delete this.Bl;delete this.cj;delete this.orientation;D(this.sl);delete this.yq;delete this.HQ};v("xiv.vis.XtkPlane.DEFAULT_CAMERA_POSITION",Is);v("xiv.vis.XtkPlane.DEFAULT_BACKGROUND","black");
v("xiv.vis.XtkPlane.prototype.XRenderer",Hs.prototype.Bl);v("xiv.vis.XtkPlane.prototype.orientation",Hs.prototype.orientation);v("xiv.vis.XtkPlane.prototype.Renderer",Hs.prototype.Ea);v("xiv.vis.XtkPlane.prototype.container",Hs.prototype.cj);v("xiv.vis.XtkPlane.prototype.getRenderer",Hs.prototype.Wa);v("xiv.vis.XtkPlane.prototype.getOrientation",Hs.prototype.Zb);v("xiv.vis.XtkPlane.prototype.setCamera",Hs.prototype.ms);v("xiv.vis.XtkPlane.prototype.setBackground",Hs.prototype.ls);
v("xiv.vis.XtkPlane.prototype.getCurrentVolume",Hs.prototype.jH);v("xiv.vis.XtkPlane.prototype.getContainer",Hs.prototype.fH);v("xiv.vis.XtkPlane.prototype.setContainer",Hs.prototype.hl);v("xiv.vis.XtkPlane.prototype.init",Hs.prototype.va);v("xiv.vis.XtkPlane.prototype.add",Hs.prototype.add);v("xiv.vis.XtkPlane.prototype.isEnabled",Hs.prototype.isEnabled);v("xiv.vis.XtkPlane.prototype.setEnabled",Hs.prototype.Pb);v("xiv.vis.XtkPlane.prototype.restore",Hs.prototype.restore);
v("xiv.vis.XtkPlane.prototype.removeXObjectsFromRenderer",Hs.prototype.PL);v("xiv.vis.XtkPlane.prototype.render",Hs.prototype.k);v("xiv.vis.XtkPlane.prototype.updateStyle",Hs.prototype.o);v("xiv.vis.XtkPlane.prototype.dispose",Hs.prototype.g);function Ms(){Hs.call(this);this.orientation="V";this.Bl=Gs}w(Ms,Hs);v("xiv.vis.XtkPlane3D",Ms);v("xiv.vis.XtkPlane3D.DEFAULT_CAMERA_POSITION",[-300,300,300]);function Ns(a){er.call(this,a);this.Pa.C(this.ha());this.Pa.Lf(this.T()-this.ha())}w(Ns,er);Ns.prototype.$=function(a){return"vertical"==a?"goog-twothumbslider-vertical":"goog-twothumbslider-horizontal"};Ns.prototype.tk=function(a){a=this.O().B("div",a);Il(a,"button");return a};
Ns.prototype.rz=function(){var a=Wh(document,null,"goog-twothumbslider-value-thumb",this.a())[0],b=Wh(document,null,"goog-twothumbslider-extent-thumb",this.a())[0],c=Wh(document,null,"goog-twothumbslider-rangehighlight",this.a())[0];a||(a=this.tk("goog-twothumbslider-value-thumb"),this.a().appendChild(a));b||(b=this.tk("goog-twothumbslider-extent-thumb"),this.a().appendChild(b));c||(c=this.O().B("div","goog-twothumbslider-rangehighlight"),this.O().Zu(c,a));this.ta=a;this.wc=b;this.dc=c};function Os(){Wd.call(this);this.u="fibers";Aa(this,new fd)}w(Os,Wd);v("X.fibers",Os);function Ps(){this.fl=Q("div",{id:this.constructor.ID_PREFIX+"_"+B(),"class":this.constructor.cd});cm.call(this,"",this.fl,!0);O(this.pb,Ps.CSS.WE);this.vf.style.marginTop="-4px";this.pb.style.marginTop="0px";this.pb.style.border="none";this.cD(!1)}w(Ps,cm);v("nrg.ui.ZippyTree",Ps);var Cn="C",Qs={lN:"B",LE:Cn};Ps.ID_PREFIX="nrg.ui.ZippyTree";Ps.CSS_SUFFIX={WE:"rootnode"};f=Ps.prototype;f.Tk=1;f.pj=!1;f.BJ=!0;f.ir=1;f.ru=0;f.js=null;f.Tf=null;f.rw=function(a){this.wz=a};
f.ym=function(){return 0===ii(this.vf).length};f.iz=function(){this.Dp(function(a){a.hc.lc(!1)},this)};f.Jn=function(){this.iz()};f.Rz=function(){var a=[];this.Dp(function(b){a.push(b)},this);return a};f.Mu=function(){var a=[];C(this.La,function(b){a.push(b)});return a};function Rs(a,b,c,d){c==d?a.As.push(b):C(b.La,function(a){Rs(this,a,c+1,d)}.bind(a))}f.rA=function(a){this.As=[];Rs(this,this,0,a);a=Nb(this.As);Jb(this.As);delete this.As;return a};
f.im=function(){this.Dp(function(a){a.hc.lc(!0)},this)};f.Dp=function(a,b){C(b.La,function(b){a(b);this.Dp(a,b)}.bind(this))};f.a=function(){return this.fl};f.lc=function(a,b){return Ss(this,a,b,!0)};function Ss(a,b,c,d){c=null!=c?c:a;if(null!=c.La[b]){var e=c.La[b],h=e.hc;null!=h.tf?Tc(h,d?"a":"b",function(){h.lg!=d&&e.lc(d)}):e.lc(d);return e}}f.Zo=function(a,b){return Ss(this,a,b,!1)};f.Mq=function(a){var b=this,c=[];E(a,function(a){c.push(b.La[a]);b=b.La[a]}.bind(this));return c};
f.rf=function(a,b){!g(a)||mi(a)?Ts(this,a,b):E(a,function(a){this.rf(a,b)}.bind(this))};function Ts(a,b,c){c?(c&&(c=r(c)?[c]:c,c.length>a.Tk&&(a.Tk=c.length)),a.Mn(c,a,b)):R(a.fl,b)}
f.Mn=function(a,b,c,d){d=null!=d?d:1;b=null!=b?b:this;var e=b.vf;if(0==a.length)Us(this,b,c),null!=c&&Vs(this,c,d-2);else{0<a.length&&a.length>this.Tk&&(this.Tk=a.length);if(b.La[a[0]])e=b.La[a[0]];else{var h=a[0];e.style.opacity=this.ir;var k=new cm(h,e,!1);b.pb.parentNode==this.fl&&2==this.fl.childNodes.length&&(k.pb.style.marginTop="5px");k.pb.style.left="inherit";k.pb.style.width="inherit";Ws(this,k);b.La[h]=k;k.pb.style.opacity=this.ir;e.style.opacity=1;this.pj&&Xs(this,k.pb);this.dispatchEvent({type:Cn,
Ae:k});e=k}Vs(this,e.pb,d-1);this.Mn(1<a.length?a.slice(1):[],e,c,d+1)}};function Vs(a,b,c){null!=b&&b._maxDepth!=a.Tk&&(null==b._maxDepth&&(b._maxDepth=a.Tk),c=0>c?0:c,null!=b._nodeDepth||(b._nodeDepth=c),b.style.width=(100-5*c).toString()+"%",b.style.left=(5*c).toString()+"%")}
f.hs=function(a,b,c,d){b=null!=b?b:0;E(this.Rz(),function(e){G(e,"c",function(){timer=new Xf;timer.setInterval(10);timer.addEventListener(Yf,function(){a.style.height=(U(this.a()).height+b).toString()+"px";null!=c&&c()}.bind(this));timer.start();Tc(e,e.hc.lg?"b":"a",function(){timer.stop();delete timer;null!=c&&c();null!=d&&d()}.bind(this))}.bind(this))}.bind(this))};
function Ws(a,b){G(b,"a",function(){this.dispatchEvent({type:"a",Ae:b})}.bind(a));G(b,"c",function(){this.dispatchEvent({type:"c",Ae:b})}.bind(a));G(b,"b",function(){this.dispatchEvent({type:"b",Ae:b})}.bind(a))}function Xs(a,b){(new Mk(b,a.ru)).play()}f.HL=function(){this.pj&&!this.Tf.Ef()&&this.Tf.play()};f.LM=function(a){this.ir=(this.pj=!0===a)?0:1;this.ru=this.pj?300:0;this.pj&&(Ys(this),this.js=[],this.Tf=new Rk,G(this.Tf,"end",this.gz.bind(this)))};
function Us(a,b,c){if(null!=c){var d=b.vf,e=function(){al(c,{position:"relative"});c.style.opacity=0;gl(c,300);null!=this.wz?this.wz(d,c):d.appendChild(c);Zs(d);this.pj?Xs(this,c,function(){this.dispatchEvent({type:"B"})}.bind(this)):this.dispatchEvent({type:"B"})}.bind(a);b.dr()&&!b.Co?b.bs(!0):(0<=b.$b().indexOf("EXPERIMENTS")||$s(a,a,b),e())}}
function $s(a,b,c){for(var d in b.La)if(b.La.hasOwnProperty(d))if(0<=b.La[d].$b().indexOf("EXPERIMENTS"))for(var e in b.La[d].La){if(b.La[d].La.hasOwnProperty(e)&&b.La[d].La[e]==c){b.La[d].dr()&&!b.La[d].Co&&b.La[d].bs(!0);return}}else $s(a,b.La[d],c)}function Zs(a){var b=[],c=[],d=ii(a),e=d.length;E(d,function(a){Ml(a,cm.CSS.vl)?b.push(a):1==a.childNodes.length&&Ml(a.childNodes[0],cm.CSS.Eh)&&c.push(a)});E(b,function(b,d){hi(a,b,e);hi(a,c[d],e+1)})}
f.gz=function(){for(this.Tf.g();this.js.length;)this.Tf.add(this.js[0]),zb.splice.call(this.js,0,1);G(this.Tf,"end",this.gz.bind(this));this.Tf.play()};function Ys(a){null!=a.qC&&(a.lu(a.qC),delete a.qC);null!=a.Tf&&(a.Cq(a.Tf),delete a.Tf)}f.f=function(){Ps.d.f.call(this);S(this.fl);delete this.fl;Ys(this);delete this.Tk;delete this.pj;delete this.BJ;delete this.ir;delete this.ru};v("nrg.ui.ZippyTree.EventType",Qs);v("nrg.ui.ZippyTree.INDENT_PCT",5);v("nrg.ui.ZippyTree.ID_PREFIX",Ps.ID_PREFIX);
v("nrg.ui.ZippyTree.CSS_SUFFIX",Ps.CSS_SUFFIX);v("nrg.ui.ZippyTree.FADE_TIME",300);v("nrg.ui.ZippyTree.NODE_DEPTH_KEY","_nodeDepth");v("nrg.ui.ZippyTree.MAX_DEPTH_KEY","_maxDepth");v("nrg.ui.ZippyTree.folderSorter",function(a,b){if(null!=a.childNodes&&0!=a.childNodes.length)for(var c=ii(a),d=b[dm].toLowerCase(),e,h,k=c.length,l=0;l<k;l++)if(h=c[l],null!=h[dm]&&(e=h[dm].toLowerCase(),e=La(d,e),0>e)){gi(b,h);return}a.appendChild(b)});v("nrg.ui.ZippyTree.prototype.setCustomInsertMethod",Ps.prototype.rw);
v("nrg.ui.ZippyTree.prototype.isEmpty",Ps.prototype.ym);v("nrg.ui.ZippyTree.prototype.contractAll",Ps.prototype.iz);v("nrg.ui.ZippyTree.prototype.collapseAll",Ps.prototype.Jn);v("nrg.ui.ZippyTree.prototype.getAllNodes",Ps.prototype.Rz);v("nrg.ui.ZippyTree.prototype.getTopLevelNodes",Ps.prototype.Mu);v("nrg.ui.ZippyTree.prototype.getNodesByLevel",Ps.prototype.rA);v("nrg.ui.ZippyTree.prototype.expandAll",Ps.prototype.im);v("nrg.ui.ZippyTree.prototype.traverse",Ps.prototype.Dp);
v("nrg.ui.ZippyTree.prototype.getElement",Ps.prototype.a);v("nrg.ui.ZippyTree.prototype.setExpanded",Ps.prototype.lc);v("nrg.ui.ZippyTree.prototype.setCollapsed",Ps.prototype.Zo);v("nrg.ui.ZippyTree.prototype.getFolderNodes",Ps.prototype.Mq);v("nrg.ui.ZippyTree.prototype.addContents",Ps.prototype.rf);v("nrg.ui.ZippyTree.prototype.createBranch",Ps.prototype.Mn);v("nrg.ui.ZippyTree.prototype.scaleElementOnChange",Ps.prototype.hs);v("nrg.ui.ZippyTree.prototype.playFx",Ps.prototype.HL);
v("nrg.ui.ZippyTree.prototype.toggleFadeInFx",Ps.prototype.LM);v("nrg.ui.ZippyTree.prototype.disposeInternal",Ps.prototype.f);function at(){}w(at,Xn);ga(at);at.prototype.B=function(a){var b=a.O().B("span",this.Gk(a).join(" "));bt(this,b,a.aj);return b};at.prototype.Nb=function(a,b){b=at.d.Nb.call(this,a,b);var c=Ll(b),d=ct;Ib(c,dt(this,et))?d=et:Ib(c,dt(this,ft))?d=ft:Ib(c,dt(this,ct))&&(d=ct);a.aj=d;Jl(b,"checked",d==et?"mixed":d==ft?"true":"false");return b};at.prototype.fh=function(){return"checkbox"};
function bt(a,b,c){if(b){var d=dt(a,c);Ml(b,d)||(C(gt,function(a){a=dt(this,a);Rl(b,a,a==d)},a),Jl(b,"checked",c==et?"mixed":c==ft?"true":"false"))}}at.prototype.$=function(){return"goog-checkbox"};function dt(a,b){var c=a.$();if(b==ft)return c+"-checked";if(b==ct)return c+"-unchecked";if(b==et)return c+"-undetermined";throw Error("Invalid checkbox state: "+b);};function ht(a,b,c){c=c||at.ue();mo.call(this,null,c,b);this.aj=da(a)?a:ct}w(ht,mo);var ft=!0,ct=!1,et=null,gt={dN:ft,fP:ct,gP:et};f=ht.prototype;f.yb=null;f.lh=function(){return this.aj==ft};f.Hd=function(a){a!=this.aj&&(this.aj=a,bt(this.Wa(),this.a(),this.aj))};f.Mf=function(a){this.ma?(this.Lc(),this.yb=a,this.lb()):this.yb=a};f.toggle=function(){this.Hd(this.aj?ct:ft)};
f.lb=function(){ht.d.lb.call(this);if(this.Nk){var a=this.nb();this.yb&&a.D(this.yb,"click",this.Ou).D(this.yb,"mouseover",this.Ok).D(this.yb,"mouseout",this.Zq).D(this.yb,"mousedown",this.jh).D(this.yb,"mouseup",this.sg);a.D(this.a(),"click",this.Ou)}this.yb&&(this.yb.id||(this.yb.id=ck(this)+".lbl"),Jl(this.a(),"labelledby",this.yb.id))};f.Pb=function(a){ht.d.Pb.call(this,a);if(a=this.a())a.tabIndex=this.isEnabled()?0:-1};
f.Ou=function(a){a.stopPropagation();var b=this.aj?"uncheck":"check";this.isEnabled()&&!a.target.href&&this.dispatchEvent(b)&&(a.preventDefault(),this.toggle(),this.dispatchEvent("change"))};f.rg=function(a){32==a.keyCode&&this.Ou(a);return!1};Un("goog-checkbox",function(){return new ht});function it(){Wd.call(this);this.u="mesh";Aa(this,new fd)}w(it,Wd);v("X.mesh",it);function jt(){W.call(this);this.$e=[];this.Of=[]}w(jt,W);v("xiv.ui.XtkController",jt);jt.ID_PREFIX="xiv.ui.XtkController";jt.CSS_SUFFIX={tE:"label",aE:"component"};var kt=B();function lt(){return Q("div",{id:"Label_"+B(),"class":jt.CSS.tE})}function mt(a){a=g(a.file)?a.file[0]:a.file||a.name;return yl(a)}function nt(a,b){b.yC([mt(a)])}f=jt.prototype;f.Bj=!1;f.k=function(a){jt.d.k.call(this,a)};f.Mf=function(a){null==this.yb&&(this.yb=lt(),R(this.a(),this.yb));this.yb.innerHTML=a};f.HH=function(){return this.yb};
f.$o=function(a){this.defaultValue=a};f.kH=function(){return this.defaultValue};f.yC=function(a){r(a)&&(a=[a]);this.Un=a};f.wH=function(){return this.Un};f.Gg=function(a){this.Qa=a};f.Yd=function(){return this.Qa};function ot(a){this.min=parseInt(a.min);this.max=parseInt(a.max);this.oh=parseInt(a.windowLow);this.wj=parseInt(a.windowHigh)}f.qg=function(){return new ot(this.Qa)};
f.Hj=function(a){a=this.ka=a;this.ka instanceof Zj?(a=this.ka.a(),this.ka.ma?this.ka.a().parentNode!==this.a()&&this.ka.a()!==this.a()&&this.a().appendChild(this.ka.a()):this.ka.k(this.a())):this.a().appendChild(a);null!=a&&O(a,jt.CSS.aE)};f.Qz=function(){return Mb(this.$e,this.Of)};f.QH=function(){return this.$e};f.gB=function(){return this.Bj};f.fM=function(a){this.Bj=a};f.tI=function(){return this.Of};f.dH=function(){return this.ka};f.Ic=fa;
f.Ad=function(a,b,c){a=new a;a.k();r(b)&&a.Mf(b);R(this.a(),a.a());null!=c&&G(a,"D",c);return a};f.refresh=function(){};f.Ct=function(a,b){var c=this.Ad(b,"Color",function(b){a.color=b.color}.bind(this));nt(a,c);this.Of.push(c);c[kt]=a;c.refresh()};f.Gy=function(a,b){var c=this.Ad(b,"Opacity",function(b){a.opacity=parseFloat(b.value/100)});nt(a,c);this.Of.push(c);c.ka.o();c.bp("%")};f.Dt=function(a,b){var c=this.Ad(b,"Visible",function(b){a.visible=b.checked});nt(a,c);this.Of.push(c);c.ka.Hd(a.visible)};
f.f=function(){jt.d.f.call(this);this[kt]=null;delete this.Bj;delete this.Qa;E(this.Of,function(a){J(a);a.g()});Jb(this.Of);delete this.Of;E(this.$e,function(a){J(a);a.g();controller=null});Jb(this.$e);delete this.$e;null!=this.ka&&(J(this.ka),this.ka instanceof Zj?this.ka.g():S(this.ka),delete this.ka);null!=this.Un&&(Jb(this.Un),delete this.Un);null!=this.yb&&(S(this.yb),delete this.yb);delete this.defaultValue};v("xiv.ui.XtkController.ID_PREFIX",jt.ID_PREFIX);
v("xiv.ui.XtkController.CSS_SUFFIX",jt.CSS_SUFFIX);v("xiv.ui.XtkController.EventType",{TD:"D"});v("xiv.ui.XtkController.OBJ_KEY",kt);v("xiv.ui.XtkController.CurrentLevels",ot);v("xiv.ui.XtkController.createLabel",lt);v("xiv.ui.XtkController.getXObjLabel",mt);v("xiv.ui.XtkController.getObjectCategory",function(a){if(a instanceof it)return"Meshes";if(a instanceof K)return"Volumes";if(a instanceof Os)return"Fibers";if(a instanceof fq)return"Annotations"});
v("xiv.ui.XtkController.setControllerFolders",nt);v("xiv.ui.XtkController.prototype.render",jt.prototype.k);v("xiv.ui.XtkController.prototype.setLabel",jt.prototype.Mf);v("xiv.ui.XtkController.prototype.getLabel",jt.prototype.HH);v("xiv.ui.XtkController.prototype.setDefaultValue",jt.prototype.$o);v("xiv.ui.XtkController.prototype.getDefaultValue",jt.prototype.kH);v("xiv.ui.XtkController.prototype.setFolders",jt.prototype.yC);v("xiv.ui.XtkController.prototype.getFolders",jt.prototype.wH);
v("xiv.ui.XtkController.prototype.setXObj",jt.prototype.Gg);v("xiv.ui.XtkController.prototype.getXObj",jt.prototype.Yd);v("xiv.ui.XtkController.prototype.setComponent",jt.prototype.Hj);v("xiv.ui.XtkController.prototype.getAllControllers",jt.prototype.Qz);v("xiv.ui.XtkController.prototype.getMasterControllers",jt.prototype.QH);v("xiv.ui.XtkController.prototype.isInitialized",jt.prototype.gB);v("xiv.ui.XtkController.prototype.setInitialized",jt.prototype.fM);
v("xiv.ui.XtkController.prototype.getCurrentLevels",jt.prototype.qg);v("xiv.ui.XtkController.prototype.getSubControllers",jt.prototype.tI);v("xiv.ui.XtkController.prototype.getComponent",jt.prototype.dH);v("xiv.ui.XtkController.prototype.dispatchComponentEvent",jt.prototype.Ic);v("xiv.ui.XtkController.prototype.createController",jt.prototype.Ad);v("xiv.ui.XtkController.prototype.refresh",jt.prototype.refresh);v("xiv.ui.XtkController.prototype.add_colorPalette",jt.prototype.Ct);
v("xiv.ui.XtkController.prototype.add_opacity",jt.prototype.Gy);v("xiv.ui.XtkController.prototype.add_visible",jt.prototype.Dt);v("xiv.ui.XtkController.prototype.disposeInternal",jt.prototype.f);function pt(a){$c.call(this);this.P=null;this.q=a;a=F||ic&&!pc("531")&&"TEXTAREA"==a.tagName;this.Kc=new Vj(this);this.Kc.D(this.q,a?["keydown","paste","cut","drop","input"]:"input",this)}w(pt,$c);
pt.prototype.handleEvent=function(a){if("input"==a.type)F&&pc(10)&&0==a.keyCode&&0==a.charCode||(qt(this),gc&&this.q!=Th(this.q).activeElement||this.dispatchEvent(rt(a)));else if("keydown"!=a.type||Sl(a)){var b="keydown"==a.type?this.q.value:null;F&&229==a.keyCode&&(b=null);var c=rt(a);qt(this);this.P=Zf(function(){this.P=null;this.q.value!=b&&this.dispatchEvent(c)},0,this)}};function qt(a){null!=a.P&&(ba.clearTimeout(a.P),a.P=null)}function rt(a){a=new Gc(a.Xc);a.type="input";return a}
pt.prototype.f=function(){pt.d.f.call(this);this.Kc.g();qt(this);delete this.q};function st(a,b,c){Zj.call(this,a);tt(this,b||"#f00");this.className=c||"goog-hsv-palette";this.la=Ai(this.O())}w(st,Zj);f=st.prototype;f.ps=function(a){a!=this.$l&&(tt(this,a),ut(this),this.dispatchEvent("action"))};function tt(a,b){var c=vk(b).vj,d=Bk(c),e=d[0],h=d[1],k=d[2],d=Math.max(Math.max(e,h),k),l=Math.min(Math.min(e,h),k);if(l==d)l=e=0;else{var n=d-l,l=n/d,e=60*(e==d?(h-k)/n:h==d?2+(k-e)/n:4+(e-h)/n);0>e&&(e+=360);360<e&&(e-=360)}a.od=[e,l,d];a.od[0]/=360;a.$l=c}
function vt(a,b,c,d){if(null!=b||null!=c||null!=d)a.od[0]=null!=b?b:a.od[0],a.od[1]=null!=c?c:a.od[1],a.od[2]=null!=d?d:a.od[2],b=[360*a.od[0],a.od[1],a.od[2]],b=Dk(b[0],b[1],b[2]),a.$l=b,ut(a),a.dispatchEvent("action")}f.Se=function(){return!1};
f.B=function(){var a=this.O(),b=F&&!pc("7")?" "+(this.className+"-noalpha"):"",c=a.B("DIV",this.className+"-hs-backdrop");this.vm=a.B("DIV",this.className+"-hs-handle");this.yj=a.B("DIV",this.className+"-hs-image",this.vm);this.ql=a.B("DIV",this.className+"-v-image");this.Hp=a.B("DIV",this.className+"-v-handle");this.zs=a.B("DIV",this.className+"-swatch");this.Qk=a.B("input",{"class":this.className+"-input",type:"text",dir:"ltr"});var d=a.B("label",null,this.Qk);this.q=a.B("DIV",this.className+b,
c,this.yj,this.ql,this.Hp,this.zs,d)};f.lb=function(){st.d.lb.call(this);ut(this);var a=this.nb();a.D(this.a(),"mousedown",this.jh);this.no||(this.no=new pt(this.Qk));a.D(this.no,"input",this.YI)};f.f=function(){st.d.f.call(this);delete this.yj;delete this.vm;delete this.ql;delete this.Hp;delete this.zs;delete this.Qk;this.no&&(this.no.g(),delete this.no);Vc(this.Av);Vc(this.Bv)};
function ut(a){if(a.ma){var b=a.od[1],c=a.od[2],d=a.yj.offsetWidth*a.od[0];a.Xe()&&(d=a.yj.offsetWidth-d);var e=Math.ceil(a.vm.offsetWidth/2),d=d-e,b=a.yj.offsetHeight*(1-b),b=b-Math.ceil(a.vm.offsetHeight/2),e=a.vm,h=a.Xe();null!==b&&(e.style.top=b+"px");h?(e.style.right=d+"px",e.style.left=""):(e.style.left=d+"px",e.style.right="");b=a.ql.offsetTop-Math.floor(a.Hp.offsetHeight/2)+(255-c)/255*a.ql.offsetHeight;a.Hp.style.top=b+"px";Kj(a.yj,c/255);nj(a.ql,"background-color",Dk(360*a.od[0],a.od[1],
255));nj(a.zs,"background-color",a.$l);nj(a.zs,"color",127.5<a.od[2]?"#000":"#fff");var k;try{k=vk(a.Qk.value).vj}catch(l){}a.$l!=k&&(a.Qk.value=a.$l)}}f.jh=function(a){if(a.target==this.ql||a.target==this.Hp){var b=Jj(this.ql);this.MA(b,a);this.Av=G(this.la,"mousemove",ua(this.MA,this,b));this.Bv=G(this.la,"mouseup",this.sg,!1,this)}else if(a.target==this.yj||a.target==this.vm)b=Jj(this.yj),this.LA(b,a),this.Av=G(this.la,"mousemove",ua(this.LA,this,b)),this.Bv=G(this.la,"mouseup",this.sg,!1,this)};
f.MA=function(a,b){b.preventDefault();var c=Di(this.O()),c=Math.min(Math.max(c.y+b.clientY,a.top),a.top+a.height),c=Math.round(255*(a.top+a.height-c)/a.height);vt(this,null,null,c)};f.LA=function(a,b){b.preventDefault();var c=Di(this.O()),d=(Math.min(Math.max(c.x+b.clientX,a.left),a.left+a.width)-a.left)/a.width,c=(-Math.min(Math.max(c.y+b.clientY,a.top),a.top+a.height)+a.top+a.height)/a.height;vt(this,d,c,null)};f.sg=function(){Vc(this.Av);Vc(this.Bv)};
f.YI=function(){/^#?[0-9a-f]{6}$/i.test(this.Qk.value)&&this.ps(this.Qk.value)};function wt(){jt.call(this);this.Mf("Color");this.bj=new st;this.bj.k();G(this.bj,"action",this.Ic.bind(this));O(this.bj.a(),this.constructor.CSS.ZD);this.Kn=Q("div",{id:this.constructor.ID_PREFIX+"_ColorPaletteHolder_"+B(),"class":wt.CSS.$D});R(this.Kn,this.bj.a());Q("div",{id:this.constructor.ID_PREFIX+"_ColorPalette_"+B(),"class":wt.CSS.qN});this.a().appendChild(this.Kn);this.Hj(this.Kn)}w(wt,jt);v("xiv.ui.ColorPaletteController",wt);wt.ID_PREFIX="xiv.ui.ColorPaletteController";
wt.CSS_SUFFIX={hN:"colorsquare",$D:"colorpaletteholder",ZD:"colorpalette",Rj:"closebutton"};wt.prototype.refresh=function(){var a=Math.floor(255*this[kt].color[0]),b=Math.floor(255*this[kt].color[1]),c=Math.floor(255*this[kt].color[2]),a=Math.min(255,Math.max(0,a)),b=Math.min(255,Math.max(0,b)),c=Math.min(255,Math.max(0,c));this.bj.ps(zk([a,b,c]))};wt.prototype.Ic=function(a){this.dispatchEvent({type:"D",color:Bk(a.target.$l).map(function(a){return a/255})})};
wt.prototype.f=function(){wt.d.f.call(this);J(this.bj);this.bj.g();delete this.bj;S(this.Kn);delete this.Kn};v("xiv.ui.ColorPaletteController.ID_PREFIX",wt.ID_PREFIX);v("xiv.ui.ColorPaletteController.CSS_SUFFIX",wt.CSS_SUFFIX);v("xiv.ui.ColorPaletteController.PANEL_MARGIN_X",20);v("xiv.ui.ColorPaletteController.PANEL_MARGIN_Y",20);v("xiv.ui.ColorPaletteController.prototype.refresh",wt.prototype.refresh);v("xiv.ui.ColorPaletteController.prototype.dispatchComponentEvent",wt.prototype.Ic);
v("xiv.ui.ColorPaletteController.prototype.disposeInternal",wt.prototype.f);function xt(){jt.call(this);this.Mf("Display All");this.Hn=Q("div",{id:"CheckboxHodler_"+B()});O(this.Hn,xt.CSS.UD);this.pk=new ht(!0);this.pk.Nb(this.Hn);this.Hj(this.pk);G(this.pk,"change",this.Iv.bind(this))}w(xt,jt);v("xiv.ui.CheckboxController",xt);xt.ID_PREFIX="xiv.ui.CheckboxController";xt.CSS_SUFFIX={UD:"checkboxholder"};f=xt.prototype;f.refresh=function(){this.Hd(this.ka.lh())};f.Hd=function(a){this.ka.Hd(a)};f.Iv=function(){this.Ic()};f.Ic=function(){this.dispatchEvent({type:"D",checked:this.pk.lh()})};
f.bH=function(){return this.Hn};f.f=function(){xt.d.f.call(this);S(this.Hn);delete this.Hn;J(this.pk);this.pk.g();delete this.pk};v("xiv.ui.CheckboxController.ID_PREFIX",xt.ID_PREFIX);v("xiv.ui.CheckboxController.CSS_SUFFIX",xt.CSS_SUFFIX);v("xiv.ui.CheckboxController.prototype.setChecked",xt.prototype.Hd);v("xiv.ui.CheckboxController.prototype.refresh",xt.prototype.refresh);v("xiv.ui.CheckboxController.prototype.getCheckboxHolder",xt.prototype.bH);
v("xiv.ui.CheckboxController.prototype.dispatchComponentEvent",xt.prototype.Ic);v("xiv.ui.CheckboxController.prototype.disposeInternal",xt.prototype.f);function yt(){jt.call(this);this.Mf("Slider");this.as=0}w(yt,jt);v("xiv.ui.SliderBase",yt);yt.ID_PREFIX="xiv.ui.SliderBase";yt.CSS_SUFFIX={ia:"slider",Og:"slider-thumb",Ix:"slider-thumb-hover",Kh:"slider-track",JO:"slider-track-hover",lF:"valueinput",nF:"valueinput-display",mF:"valueinput-box"};f=yt.prototype;f.Bq=0;f.ua=null;f.s=null;f.ap=function(a){this.Bq=a};f.bp=function(a){this.ua.bp(a)};f.k=function(a){yt.d.k.call(this,a);this.bu();this.ua=this.au(this.uL.bind(this))};
f.bu=function(){this.s=new wr;this.Hj(this.s);this.s.Oc(1);this.s.Qb(0);this.s.Jb(100);this.s.C(100);O(this.s.a(),yt.CSS.ia);O(this.s.Qf,yt.CSS.Og);O(this.s.Ah,yt.CSS.Kh);G(this.s,"u",this.Ic.bind(this));this.s.a().style.zIndex=0};f.au=function(a){var b=new wp;b.k(this.a());O(b.a(),yt.CSS.lF);O(b.Jc,yt.CSS.nF);O(b.da,yt.CSS.mF);G(b,"h",a);return b};
f.uL=function(a){window.console.log("INPUT",a);window.console.log(this.ua.Ed());window.console.log(this.ua.T());window.console.log(this.ua.ha());window.console.log(this.ua.w());a=parseFloat(this.ua.w());a=hd(a,this.s.ha(),this.s.T());this.ua.C(a);this.s.C(a)};f.EI=function(){return this.ua};f.C=function(a){this.s.C(a);this.ua.Pb(!1);this.ua.C(a);this.ua.Pb(!0)};f.Jb=function(a){null!=this.ua&&this.ua.Jb(a);this.s.Jb(a);this.refresh()};f.Oc=function(a){null!=this.ua&&this.ua.Oc(a);this.s.Oc(a);this.refresh()};
f.Qb=function(a){null!=this.ua&&this.ua.Qb(a);this.s.Qb(a);this.refresh()};f.w=function(){return this.s.w()};f.T=function(){return this.s.T()};f.Ed=function(){return this.s.Ed()};f.ha=function(){return this.s.ha()};f.Ic=function(){var a=this.s.w().toFixed(this.Bq),b=this.s.tA();null!=this.ua&&this.ua.C(a);this.dispatchEvent({type:"D",value:a,$J:this.s.ha(),UJ:this.s.T(),DQ:b})};
f.xp=function(a){null!=a&&(this.s.Ed()!=a.Ed()&&a.Oc(this.s.Ed()),this.s.ha()!=a.ha()&&a.Qb(this.s.ha()),this.s.T()!=a.T()&&a.Jb(this.s.T()),this.s.w()!=a.w()&&a.C(this.s.w()))};f.refresh=function(){this.as++;if(50>this.as){var a=this.s.w();this.s instanceof W&&this.s.o();this.s.C(0);this.s.C(a);this.xp(this.ua)}else 50==this.as&&(window.console.log("NOTE:  Slider refresh limit reached (prevent stack overflow)"),setTimeout(function(){this.as=0}.bind(this),3E3))};
f.f=function(){yt.d.f.call(this);delete this.Bq;null!=this.s&&(this.s.g(),delete this.s);null!=this.ua&&(this.ua.g(),delete this.ua)};v("xiv.ui.SliderBase.ID_PREFIX",yt.ID_PREFIX);v("xiv.ui.SliderBase.CSS_SUFFIX",yt.CSS_SUFFIX);v("xiv.ui.SliderBase.prototype.slider",yt.prototype.s);v("xiv.ui.SliderBase.prototype.displayDecimals",yt.prototype.Bq);v("xiv.ui.SliderBase.prototype.valueInput",yt.prototype.ua);v("xiv.ui.SliderBase.prototype.createSlider",yt.prototype.bu);
v("xiv.ui.SliderBase.prototype.createInputBox",yt.prototype.au);v("xiv.ui.SliderBase.prototype.dispatchComponentEvent",yt.prototype.Ic);v("xiv.ui.SliderBase.prototype.syncInputToSlider",yt.prototype.xp);v("xiv.ui.SliderBase.prototype.setDisplayDecimals",yt.prototype.ap);v("xiv.ui.SliderBase.prototype.render",yt.prototype.k);v("xiv.ui.SliderBase.prototype.getValueInput",yt.prototype.EI);v("xiv.ui.SliderBase.prototype.setValue",yt.prototype.C);v("xiv.ui.SliderBase.prototype.setStep",yt.prototype.Oc);
v("xiv.ui.SliderBase.prototype.setMaximum",yt.prototype.Jb);v("xiv.ui.SliderBase.prototype.setMinumum",yt.prototype.Qb);v("xiv.ui.SliderBase.prototype.getValue",yt.prototype.w);v("xiv.ui.SliderBase.prototype.getStep",yt.prototype.Ed);v("xiv.ui.SliderBase.prototype.getMaximum",yt.prototype.T);v("xiv.ui.SliderBase.prototype.getMinumum",yt.prototype.ha);v("xiv.ui.SliderBase.prototype.refresh",yt.prototype.refresh);v("xiv.ui.SliderBase.prototype.setDisplaySuffix",yt.prototype.bp);
v("xiv.ui.SliderBase.prototype.disposeInternal",yt.prototype.f);function zt(){yt.call(this);this.Mf("Master Opacity")}w(zt,yt);v("xiv.ui.SliderController",zt);zt.ID_PREFIX="xiv.ui.SliderController";v("xiv.ui.SliderController.ID_PREFIX",zt.ID_PREFIX);function At(){yt.call(this);this.Mf("TwoThumb")}w(At,yt);v("xiv.ui.TwoThumbSliderController",At);At.ID_PREFIX="xiv.ui.TwoThumbSliderController";At.CSS_SUFFIX={ia:"slider",Kh:"slider-track",Og:"slider-thumb",aF:"slider-thumb-extent",tN:"extent-input"};f=At.prototype;f.Xd=null;f.k=function(a){At.d.k.call(this,a);this.ua.uC("left");this.Xd=this.au(this.yK.bind(this))};f.pH=function(){return this.Xd};
f.bu=function(){this.s=new Ns;this.s.B();var a=this.s.a();a.setAttribute("id","ThresholdSlider_"+B());O(a,yt.CSS.ia);O(a,At.CSS.ia);var b=Q("div",{id:"ThwoThumbSlider_track_"+B(),"class":yt.CSS.Kh});a.appendChild(b);O(b,At.CSS.Kh);this.Hj(this.s);O(this.s.ta,yt.CSS.Og);O(this.s.ta,At.CSS.Og);O(this.s.ta,At.CSS.IO);cl(this.s.ta,yt.CSS.Ix);O(this.s.wc,yt.CSS.Og);O(this.s.wc,At.CSS.Og);O(this.s.wc,At.CSS.aF);cl(this.s.wc,yt.CSS.Ix);G(this.s,"change",this.Ic.bind(this))};
f.refresh=function(){At.d.refresh.call(this);null!=this.Xd&&this.xp(this.Xd);var a=this.Yd(),b=parseInt(a.min),c=parseInt(a.max);if(null!=a){if(b!=this.s.ha()||c!=this.s.T())this.s.Qb(b),this.s.Jb(c),this.s.Jj(c-b),this.s.C(b),this.s.Oc(1);b=U(this.s.ta).width;a=this.s.T()-this.s.ha();c=U(this.s.a()).width-b;b=c*((this.s.w()-this.s.ha())/a);a=c*(this.s.Cd()/a);this.s.ta.style.left=b.toString()+"px";this.s.wc.style.left=a.toString()+"px"}};
f.xp=function(a){At.d.xp.call(this,a);null!=this.Xd&&a==this.Xd&&this.Xd.C(this.s.Cd()+this.s.w())};f.Jj=function(a,b){this.s.Jj(a,b)};f.Lf=function(a){this.s.Lf(a)};f.Cd=function(){return this.s.Cd()};f.yK=function(){var a=parseInt(this.Xd.w());this.s.Lf(a-this.s.w())};f.Ic=function(){var a=this.s.w(),b=this.s.Cd()+a;this.ua.C(a);this.Xd.C(b);this.dispatchEvent({type:"D",lower:a,upper:b})};
f.f=function(){null!=this.s&&(J(this.s),null==this.s.Pa&&(this.s.Pa=new oq),this.s.g(),delete this.s);At.d.f.call(this);null!=this.Xd&&(this.Xd.g(),delete this.Xd)};v("xiv.ui.TwoThumbSliderController.ID_PREFIX",At.ID_PREFIX);v("xiv.ui.TwoThumbSliderController.CSS_SUFFIX",At.CSS_SUFFIX);v("xiv.ui.TwoThumbSliderController.prototype.refresh",At.prototype.refresh);v("xiv.ui.TwoThumbSliderController.prototype.extentInput",At.prototype.Xd);v("xiv.ui.TwoThumbSliderController.prototype.getExtentInput",At.prototype.pH);
v("xiv.ui.TwoThumbSliderController.prototype.setValueAndExtent",At.prototype.Jj);v("xiv.ui.TwoThumbSliderController.prototype.setExtent",At.prototype.Lf);v("xiv.ui.TwoThumbSliderController.prototype.getExtent",At.prototype.Cd);v("xiv.ui.TwoThumbSliderController.prototype.dispatchComponentEvent",At.prototype.Ic);v("xiv.ui.TwoThumbSliderController.prototype.disposeInternal",At.prototype.f);function Bt(){jt.call(this);this.Pj=[]}w(Bt,jt);v("xiv.ui.MasterController3D",Bt);Bt.ID_PREFIX="xiv.ui.MasterController3D";Bt.CSS_SUFFIX={};Bt.prototype.add=function(a){this.Pj.push(a);this.Gy(a,zt);1==this.Pj.length&&R(document.body,this.a())};Bt.prototype.f=function(){Bt.d.f.call(this);Jb(this.Pj);delete this.Pj};v("xiv.ui.MasterController3D.ID_PREFIX",Bt.ID_PREFIX);v("xiv.ui.MasterController3D.CSS_SUFFIX",Bt.CSS_SUFFIX);v("xiv.ui.MasterController3D.CONTROLLERS",{wP:"Visible",iO:"Opacity"});
v("xiv.ui.MasterController3D.prototype.add",Bt.prototype.add);v("xiv.ui.MasterController3D.prototype.disposeInternal",Bt.prototype.f);function Ct(){Bt.call(this)}w(Ct,Bt);v("xiv.ui.AnnotationsController3D",Ct);Ct.ID_PREFIX="xiv.ui.AnnotationsController3D";Ct.CSS_SUFFIX={};Ct.prototype.add=function(a){Ct.d.add.call(this,a);this.Dt(a,xt);this.Ct(a,wt)};v("xiv.ui.AnnotationsController3D.ID_PREFIX",Ct.ID_PREFIX);v("xiv.ui.AnnotationsController3D.CSS_SUFFIX",Ct.CSS_SUFFIX);v("xiv.ui.AnnotationsController3D.prototype.add",Ct.prototype.add);function Dt(){jt.call(this);this.Hj(Q("input",{id:this.constructor.ID_PREFIX+"_RadioButtonHolder_"+B(),type:"radio"}));O(this.ka,Dt.CSS.SE);G(this.ka,"change",this.Ic.bind(this))}w(Dt,jt);v("xiv.ui.RadioButtonController",Dt);Dt.ID_PREFIX="xiv.ui.RadioButtonController";Dt.CSS_SUFFIX={SE:"radiobutton"};Dt.prototype.Ic=function(){this.dispatchEvent({type:"D",checked:this.ka.checked})};Dt.prototype.f=function(){Dt.d.f.call(this)};v("xiv.ui.RadioButtonController.ID_PREFIX",Dt.ID_PREFIX);
v("xiv.ui.RadioButtonController.CSS_SUFFIX",Dt.CSS_SUFFIX);v("xiv.ui.RadioButtonController.prototype.dispatchComponentEvent",Dt.prototype.Ic);v("xiv.ui.RadioButtonController.prototype.disposeInternal",Dt.prototype.f);function Et(){jt.call(this);this.sl=[]}w(Et,jt);v("xiv.ui.MasterController2D",Et);Et.ID_PREFIX="xiv.ui.MasterController2D";Et.CSS_SUFFIX={};Et.prototype.add=function(){};Et.prototype.f=function(){Et.d.f.call(this);Jb(this.sl);delete this.sl};v("xiv.ui.MasterController2D.ID_PREFIX",Et.ID_PREFIX);v("xiv.ui.MasterController2D.CSS_SUFFIX",Et.CSS_SUFFIX);v("xiv.ui.MasterController2D.prototype.add",Et.prototype.add);v("xiv.ui.MasterController2D.prototype.disposeInternal",Et.prototype.f);function Ft(){Bt.call(this)}w(Ft,Bt);v("xiv.ui.VolumeController3D",Ft);Ft.ID_PREFIX="xiv.ui.VolumeController3D";Ft.CSS_SUFFIX={};f=Ft.prototype;f.Jy=function(a){var b=this.Ad(xt,"Volume Rendering",function(b){a.volumeRendering=b.checked});nt(a,b);this.Of.push(b);b.ka.Hd(!1)};f.bL=function(a){null!=this.yp&&(this.yp.Yd().lowerThreshold=parseFloat(a.lower),this.yp.Yd().upperThreshold=parseFloat(a.upper))};f.yp=null;
f.Hy=function(a){var b=this.Ad(At,"Threshold",this.bL.bind(this));b.Gg(a);nt(a,b);this.Of.push(b);var c=a.lowerThreshold,d=a.upperThreshold;-Infinity==c&&(c=-1E4,a.lowerThreshold=c);Infinity==a.upperThreshold&&(d=1E4,a.upperThreshold=d);var e=b.ka;e.Qb(c);e.Jb(d);e.Jj(d-c);e.C(c);e.Oc(1);e.Lf(d-c);a.upperThreshold=d;a.lowerThreshold=c;e.a().style.top="8px";b.ua.a().style.top="-1px";b.Xd.a().style.top="-1px";b.ua.a().style.left="calc(100% - 112px)";b.ua.Jc.style.textAlign="left";b.ua.da.style.textAlign=
"left";this.yp=b};f.add=function(a){Ft.d.add.call(this,a);this.Jy(a);this.Hy(a)};f.o=function(){Ft.d.o.call(this)};f.f=function(){Ft.d.f.call(this);this.yp.g()};v("xiv.ui.VolumeController3D.ID_PREFIX",Ft.ID_PREFIX);v("xiv.ui.VolumeController3D.DEFAULT_THRESHOLD",1E4);v("xiv.ui.VolumeController3D.CSS_SUFFIX",Ft.CSS_SUFFIX);v("xiv.ui.VolumeController3D.prototype.add_volumeRendering",Ft.prototype.Jy);v("xiv.ui.VolumeController3D.prototype.add_threshold",Ft.prototype.Hy);
v("xiv.ui.VolumeController3D.prototype.add",Ft.prototype.add);v("xiv.ui.VolumeController3D.prototype.updateStyle",Ft.prototype.o);v("xiv.ui.VolumeController3D.prototype.disposeInternal",Ft.prototype.f);function Gt(){Bt.call(this)}w(Gt,Bt);v("xiv.ui.MeshController3D",Gt);Gt.ID_PREFIX="xiv.ui.MeshController3D";Gt.CSS_SUFFIX={};Gt.prototype.add=function(a){Gt.d.add.call(this,a);this.Dt(a,xt);this.Ct(a,wt)};v("xiv.ui.MeshController3D.ID_PREFIX",Gt.ID_PREFIX);v("xiv.ui.MeshController3D.CSS_SUFFIX",Gt.CSS_SUFFIX);v("xiv.ui.MeshController3D.prototype.add",Gt.prototype.add);v("xiv.ui.MeshController3D.prototype.disposeInternal",Gt.prototype.f);function Ht(){jt.call(this)}w(Ht,jt);v("xiv.ui.Histogram",Ht);Ht.ID_PREFIX="xiv.ui.Histogram";Ht.CSS_SUFFIX={SD:"canvas",vE:"linecanvas",AE:"max",HE:"min",WD:"clipmax",XD:"clipmin"};Ht.LEVEL_CUTOFF=.999;f=Ht.prototype;f.Ja=null;f.$c=null;f.Cp=null;f.Es=null;f.Ar=null;f.pG="rgb(40,40,40)";f.Mc=[null,null];f.jg=[null,null];f.jJ="rgb(90,90,90)";f.Wm=[0,1E3];f.ld=[0,1E3];f.St=!1;f.YC=function(a,b){this.Wm[0]=a;this.Wm[1]=b};
f.qw=function(a,b){if(this.St)this.ld[0]=a,this.ld[1]=b;else{var c=this.qg();this.ld[0]=c.min;this.ld[1]=c.max}};f.XC=function(a,b){this.YC(a,b);this.qw(a,b)};
f.k=function(a){Ht.d.k.call(this,a);this.Hj(this);this.Xh=Q("canvas",{id:this.constructor.ID_PREFIX+"_Canvas_"+B(),"class":this.constructor.CSS.SD});this.a().appendChild(this.Xh);this.dj=this.Xh.getContext("2d");this.dj.fillStyle=this.pG;this.mi=Q("canvas",{id:this.constructor.ID_PREFIX+"_LineCanvas_"+B(),"class":this.constructor.CSS.vE});this.a().appendChild(this.mi);this.wg=this.mi.getContext("2d");this.Mc[0]=Q("div",{id:this.constructor.ID_PREFIX+"_Min_"+B(),"class":this.constructor.CSS.HE},"-1000");
this.a().appendChild(this.Mc[0]);this.Mc[1]=Q("div",{id:this.constructor.ID_PREFIX+"_Max_"+B(),"class":this.constructor.CSS.AE},"1000");this.a().appendChild(this.Mc[1]);this.jg[0]=Q("div",{id:this.constructor.ID_PREFIX+"_Min_"+B(),"class":this.constructor.CSS.XD},"-1000");this.a().appendChild(this.jg[0]);this.jg[1]=Q("div",{id:this.constructor.ID_PREFIX+"_Max_"+B(),"class":this.constructor.CSS.WD},"1000");this.a().appendChild(this.jg[1])};f.Yd=function(){return Ht.d.Yd.call(this)};
f.dz=function(a){this.St=a;!1==a&&this.qw(null,null)};function It(a){if(null==a.Ja){var b=a.Yd(),c=b.max;E(b.image,function(a){E(a,function(a){E(a,function(a){if(null==this.Ja){this.Ja=[];for(var b=0,b=0;b<=c;b++)this.Ja.push(0)}this.Ja[parseInt(a)]++;this.Es++}.bind(this))}.bind(this))}.bind(a));if(null!=a.Ja){var d,e=0;a.Cp=Qb(a.Ja.length);null==a.$c&&(a.$c=[],a.Ar=0,E(a.Ja,function(a,b){d=a/this.Es;this.$c.push(d);e+=d;this.Cp[b]=e;this.Ar=Math.max(this.Ar,d)}.bind(a)))}}}
f.Fz=function(){if(null!=this.Yd()){var a=U(this.Xh),b=a.width,a=a.height;if(0!=b&&0!=a&&(this.Xh.height=a,this.Xh.width=b,this.mi.height=a,this.mi.width=b,It(this),null!=this.Ja)){for(var c=0,d=this.Wm[0];d<this.Wm[1]+1;d++)this.$c[d]>c&&(c=this.$c[d]);for(var e=[],d=this.ld[0];d<this.ld[1]+1;d++)e.push(this.$c[d]/c);for(var b=(b-0)/(this.ld[1]-this.ld[0]),c=1>b?1:Math.round(b),h=0,k=0,l=e.length,d=0;d<l;d++)h=Math.round(a*e[d]),k=Math.round(d*b),isNaN(h)||null==h||(this.dj.fillStyle=this.jJ,this.dj.fillRect(c*
k,a,c,-h))}}};f.GA=function(){var a=Math.round(.1*this.$c.length),b=Math.round(.9*this.$c.length),c,d=0;for(c=1;c<a;c++)this.$c[c]>d&&(d=c);var e=this.$c[d],h=d;for(c=d+1;c<a;c++)this.$c[c]<e&&(h=c,e=this.$c[c]);d=this.$c[a];e=0;for(c=a+1;c<b;c++)this.$c[c]<d&&(e=c,d=this.$c[c]);return[h,e]};f.lA=function(a){if(null!=this.Ja)for(var b=0,c=0,d=this.Ja.length;c<d;c++)if(b+=this.Ja[c],b/this.Es>=a)return c};
f.Gz=function(){if(null!=this.Yd()){var a=U(this.mi),b=a.width,a=a.height;this.mi.width=b;var c=this.qg(),d=(b-0)/(this.ld[1]-this.ld[0]),e=-1*this.ld[0]*d,h=c.oh*d+e,c=c.wj*d+e,k=this.ld[0]*d+e,d=this.ld[1]*d+e,l=(a-0)/(c-h),e=-1*h*l,n=k*l+e,e=d*l+e;this.Mc[0].style.width="auto";this.Mc[1].style.width="auto";var p=new Zk(this.a()),l=p.left,p=p.right;this.Mc[0].style.left=h.toString()+"px";h=dl(this.Mc[0],l,p);this.Mc[1].style.left=c.toString()+"px";var m=dl(this.Mc[1],l,p);h.right+5>m.left&&(this.Mc[0].innerHTML+=
", "+this.Mc[1].innerHTML,this.Mc[1].innerHTML="",dl(this.Mc[0],l,p));h=new Zk(this.Xh);this.jg[0].style.left=h.left.toString()+"px";this.jg[1].style.left=(h.right-U(this.jg[1]).width).toString()+"px";this.wg.beginPath();this.wg.strokeStyle="black";this.wg.moveTo(k,a-n);this.wg.lineTo(d,a-e);this.wg.lineWidth=.5;this.wg.stroke();0<c&&c<b&&(this.wg.moveTo(c,a),this.wg.lineTo(c,a-15),this.wg.lineWidth=.5,this.wg.stroke())}};
f.refresh=function(){if(null!=this.Yd()){var a=this.qg();this.Mc[0].innerHTML="Min: "+a.oh;this.Mc[1].innerHTML="Max: "+a.wj;this.jg[0].innerHTML=this.ld[0];this.jg[1].innerHTML=this.ld[1]}this.Fz();this.Gz()};
f.f=function(){Ht.d.f.call(this);this.Mc=[null,null];delete this.Mc;this.jg=[null,null];delete this.jg;null!=this.Xh&&(S(this.Xh),delete this.Xh);null!=this.mi&&(S(this.mi),delete this.mi);null!=this.Ja&&(Jb(this.Ja),delete this.Ja);null!=this.$c&&(Jb(this.$c),delete this.$c);null!=this.Cp&&(Jb(this.Cp),delete this.Cp);delete this.Es;delete this.Ar;delete this.dj;delete this.wg;Jb(this.Wm);delete this.Wm;Jb(this.ld);delete this.ld;delete this.St};v("xiv.ui.Histogram.EventType",{});
v("xiv.ui.Histogram.ID_PREFIX",Ht.ID_PREFIX);v("xiv.ui.Histogram.CSS_SUFFIX",Ht.CSS_SUFFIX);v("xiv.ui.Histogram.LEVEL_CUTOFF",Ht.LEVEL_CUTOFF);v("xiv.ui.Histogram.prototype.render",Ht.prototype.k);v("xiv.ui.Histogram.prototype.draw",Ht.prototype.Fz);v("xiv.ui.Histogram.prototype.drawLine",Ht.prototype.Gz);v("xiv.ui.Histogram.prototype.clipToZoom",Ht.prototype.dz);v("xiv.ui.Histogram.prototype.setZoomRange",Ht.prototype.YC);v("xiv.ui.Histogram.prototype.setClipRange",Ht.prototype.qw);
v("xiv.ui.Histogram.prototype.setZoomAndClipRange",Ht.prototype.XC);v("xiv.ui.Histogram.prototype.getLevelByPixelThreshold",Ht.prototype.lA);v("xiv.ui.Histogram.prototype.getVisiblePixelRange",Ht.prototype.GA);v("xiv.ui.Histogram.prototype.refresh",Ht.prototype.refresh);v("xiv.ui.Histogram.prototype.disposeInternal",Ht.prototype.f);function Jt(){jt.call(this);this.$i=new fp("Reset");this.Hj(this.$i);O(this.$i.a(),"xiv-ui-buttoncontroller-element");G(this.$i.a(),"click",this.Ic.bind(this))}w(Jt,jt);v("xiv.ui.ButtonController",Jt);Jt.ID_PREFIX="xiv.ui.ButtonController";Jt.CSS_SUFFIX={};Jt.prototype.Ic=function(){this.dispatchEvent({type:"D",checked:this.$i.lh()})};Jt.prototype.f=function(){Jt.d.f.call(this);J(this.$i);J(this.$i.a());this.$i.g();delete this.$i};v("xiv.ui.ButtonController.ID_PREFIX",Jt.ID_PREFIX);
v("xiv.ui.ButtonController.CSS_SUFFIX",Jt.CSS_SUFFIX);v("xiv.ui.ButtonController.prototype.dispatchComponentEvent",Jt.prototype.Ic);v("xiv.ui.ButtonController.prototype.disposeInternal",Jt.prototype.f);function Kt(){jt.call(this);this.Pj=[]}w(Kt,jt);v("xiv.ui.MasterController",Kt);Kt.ID_PREFIX="xiv.ui.MasterController";Kt.CSS_SUFFIX={};Kt.prototype.add=function(a){this.Pj.push(a)};Kt.prototype.f=function(){Kt.d.f.call(this);Jb(this.Pj);delete this.Pj};v("xiv.ui.MasterController.ID_PREFIX",Kt.ID_PREFIX);v("xiv.ui.MasterController.CSS_SUFFIX",Kt.CSS_SUFFIX);v("xiv.ui.MasterController.CONTROLLERS",{});v("xiv.ui.MasterController.prototype.add",Kt.prototype.add);
v("xiv.ui.MasterController.prototype.disposeInternal",Kt.prototype.f);function Lt(){Kt.call(this);this.n={min:null,max:null,Zi:null,Zg:null,Bf:null,ac:null,reset:null,TQ:null,pe:null,op:[]}}w(Lt,Kt);v("xiv.ui.LevelsController",Lt);Lt.ID_PREFIX="xiv.ui.LevelsController";Lt.CSS_SUFFIX={};f=Lt.prototype;f.Qa=null;f.hH=function(){return this.n};function Mt(a){var b=a.n.Bf.GA();a.n.ac.Jj(b[0],b[1]-b[0])}
f.add=function(a){Lt.d.add.call(this,a);this.Qa=a;a=this.Ad(At,"Zoom Range",this.BK.bind(this));a.Gg(this.Qa);nt(this.Qa,a);this.$e.push(a);a.ua.da.style.textAlign="left";a.ua.Jc.style.textAlign="left";this.n.ac=a;Nt(this);Ot(this);Pt(this);this.n.min=this.Ad(zt,"Minimum",this.HK.bind(this));this.n.min.Gg(this.Qa);nt(this.Qa,this.n.min);this.$e.push(this.n.min);this.n.min.Jb(1E3);this.n.min.Qb(0);this.n.min.C(0);this.n.min.Oc(1);this.n.min.ap(0);this.n.min.$o(this.Qa.min);this.n.min.refresh();a=this.Ad(zt,
"Maximum",this.FK.bind(this));a.Gg(this.Qa);nt(this.Qa,a);this.$e.push(a);a.Jb(1E3);a.Qb(0);a.C(1E3);a.Oc(1);a.ap(0);a.$o(this.Qa.max);a.refresh();this.n.max=a;a=this.Ad(zt,"Brightness",this.qK.bind(this));a.Gg(this.Qa);nt(this.Qa,a);this.$e.push(a);a.Jb(100);a.Qb(0);a.C(0);a.Oc(1);a.ap(0);a.refresh();this.n.Zi=a;a=this.Ad(zt,"Contrast",this.tK.bind(this));a.Gg(this.Qa);nt(this.Qa,a);this.$e.push(a);a.Jb(100);a.Qb(0);a.C(0);a.Oc(1);a.ap(0);a.refresh();this.n.Zg=a;a=this.Ad(Jt,null,this.YK.bind(this));
nt(this.Qa,a);this.$e.push(a);a.Gg(this.Qa);this.n.reset=a;this.n.op.push(this.n.min);this.n.op.push(this.n.max);this.n.op.push(this.n.Zi);this.n.op.push(this.n.Zg);Qt(this)};
function Qt(a){E(a.n.op,function(a){O(a.yb,"xiv-ui-levelscontroller-sliderlabel");O(a.a(),"xiv-ui-levelscontroller-slidercontroller");O(a.ka.a(),"xiv-ui-levelscontroller-slider");O(a.ua.a(),"xiv-ui-levelscontroller-slidervalue");a.ka.o()}.bind(a));O(a.n.ac.yb,"xiv-ui-levelscontroller-twothumbsliderlabel");O(a.n.ac.yb,"xiv-ui-levelscontroller-sliderlabel");O(a.n.ac.a(),"xiv-ui-levelscontroller-twothumbslidercontroller");O(a.n.ac.ka.a(),"xiv-ui-levelscontroller-twothumbslider");O(a.n.ac.ua.a(),"xiv-ui-levelscontroller-twothumbslidervalue");
O(a.n.ac.Xd.a(),"xiv-ui-levelscontroller-twothumbsliderextent")}f.YK=function(){this.Qa.windowLow=0;E([this.n.max,this.n.min],function(a){a.C(a.defaultValue);a.refresh();this.n.pe.Hd(!1)}.bind(this));Mt(this);this.n.Bf.update()};
function Pt(a){a.n.pe=a.Ad(xt,"Clip X-Axis to Zoom");nt(a.Qa,a.n.pe);a.$e.push(a.n.pe);a.n.pe.ka.a().style.left="calc(100% - 15px)";a.n.pe.yb.style.fontSize="10px";G(a.n.pe,"D",function(a){null!=this.n.Bf&&null!=this.n.ac&&(this.n.Bf.dz("true"==a.checked.toString()),this.n.ac.refresh())}.bind(a))}function Ot(a){var b=a.Ad(Ht,null,function(){}.bind(a));b.Gg(a.Qa);nt(a.Qa,b);a.$e.push(b);b.refresh();a.n.Bf=b}
f.BK=function(){null!=this.n.Bf&&(this.n.Bf.XC(this.n.ac.w(),this.n.ac.Cd()+this.n.ac.w()),this.n.Bf.refresh())};function Rt(a){var b=a.n.min.qg();E([a.n.max,a.n.min],function(a,d){a.Jb(b.max);a.Qb(b.min);a.C(0==d?b.max:b.min)});Nt(a);a.n.Bf.refresh()}function Nt(a){if(null!=a.n.min){var b=a.n.min.qg();a.n.ac.Qb(b.min);a.n.ac.Jb(b.max);a.n.ac.C(b.min);a.n.ac.Oc(1);a.n.ac.Lf(b.max-b.min)}}
f.HK=function(){null!=this.n.max&&null!=this.n.min&&(this.n.min.ha()!=this.Qa.min&&Rt(this),this.Qa.windowLow=this.n.min.w(),St(this,this.n.min))};f.FK=function(){null!=this.n.max&&null!=this.n.min&&(this.n.max.T()!=this.Qa.max&&Infinity!=this.Qa.max&&Rt(this),this.Qa.windowHigh=this.n.max.w(),St(this,this.n.max))};
function St(a,b){switch(b){case a.n.min:a.n.min.w()>=a.n.max.w()&&a.n.max.C(a.n.min.w()+1);case a.n.max:a.n.max.w()<=a.n.min.w()&&a.n.min.C(a.n.max.w()-1);var c=a.n.Zi.ka;c.Ai(!0);var d=a.n.min.qg(),d=Math.round((1-(d.oh+(d.wj-d.oh)/2-d.min)/(d.max-d.min))*c.T());a.n.Zi.C(d);c.Ai(!1);c=a.n.Zg.ka;c.Ai(!0);var d=a.n.min.qg(),e=a.n.Zg.T()/2,h=(d.max-d.min)/(d.wj-d.oh)*e;h>e&&(h=a.n.Zg.T()-(d.wj-d.oh)/(d.max-d.min)*e);d=Math.round(h);a.n.Zg.C(d);c.Ai(!1);case a.n.Zi:case a.n.Zg:c=a.n.min.ka,d=a.n.max.ka,
e=a.n.min.qg(),c.Ai(!0),d.Ai(!0),a.n.min.C(e.oh,!0),a.n.max.C(e.wj,!0),d.Ai(!1),c.Ai(!1)}a.n.Bf.refresh()}f.refresh=function(){null!=this.n.pe&&this.n.pe.refresh()};f.qK=function(){if(null!=this.n.Zi){var a=this.n.min.qg(),b=this.n.Zi.ka,b=a.min+(a.max-a.min)*((b.T()-b.w())/b.T()),c=a.wj-a.oh,a=Math.round(b-c/2),b=Math.round(b+c/2);Tt(this,a,b);St(this,this.n.Zi)}};
f.tK=function(){if(null!=this.n.Zg){var a=this.n.min.qg(),b=this.n.Zg.ka,c,d=a.oh+(a.wj-a.oh)/2,a=a.max-a.min;c=b.T()/2;c=b.w()<=c?b.w()/c:c/(b.T()-b.w());0<c&&(b=Math.round(d-.5*a/c),d=Math.round(d+.5*a/c),Tt(this,b,d));St(this,this.n.Zg)}};function Tt(a,b,c){b==c&&(b=c-1);a.Qa.windowLow=b;a.Qa.windowHigh=c}f.f=function(){D(this.n);delete this.Qa;Lt.d.f.call(this)};v("xiv.ui.LevelsController.ID_PREFIX",Lt.ID_PREFIX);v("xiv.ui.LevelsController.CSS_SUFFIX",Lt.CSS_SUFFIX);
v("xiv.ui.LevelsController.prototype.add",Lt.prototype.add);v("xiv.ui.LevelsController.prototype.getControllerSet",Lt.prototype.hH);v("xiv.ui.LevelsController.prototype.disposeInternal",Lt.prototype.f);function Ut(){Kt.call(this)}w(Ut,Kt);v("xiv.ui.VolumeController",Ut);Ut.ID_PREFIX="xiv.ui.VolumeController";Ut.CSS_SUFFIX={};Ut.prototype.add=function(a){Ut.d.add.call(this,a);this.Iy(a);this.Fy(a)};Ut.prototype.Iy=function(a){var b=this.Ad(Dt,"Visible",function(){});nt(a,b);this.Of.push(b);b.Gg(a);b.ka.checked=a[Cq]||!1};Ut.prototype.Fy=function(a){var b=this.Ad(xt,"Show Label Map");nt(a,b);this.Of.push(b);b.Gg(a);b.ka.Hd(!0)};Ut.prototype.f=function(){Ut.d.f.call(this)};
v("xiv.ui.VolumeController.ID_PREFIX",Ut.ID_PREFIX);v("xiv.ui.VolumeController.CSS_SUFFIX",Ut.CSS_SUFFIX);v("xiv.ui.VolumeController.prototype.add",Ut.prototype.add);v("xiv.ui.VolumeController.prototype.add_visibleRadio",Ut.prototype.Iy);v("xiv.ui.VolumeController.prototype.add_labelMapToggle",Ut.prototype.Fy);v("xiv.ui.VolumeController.prototype.disposeInternal",Ut.prototype.f);function Vt(){W.call(this);C(Wt(),function(a,b){this[b]=null})}w(Vt,W);v("xiv.ui.XtkControllerTree",Vt);function Xt(a,b,c){this["2D"]=a;this["3D"]=b;this.all=null!=c?c:null}v("xiv.ui.XtkControllerTree.ControlSet",Xt);Vt.ID_PREFIX="xiv.ui.XtkControllerTree";Vt.CSS_SUFFIX={};function Wt(){return{volumes:null,annotations:null,meshes:null,levels:null}}f=Vt.prototype;f.Bx=function(){};f.OD=function(){return this.gh([this.Fi])};f.Bx=function(){return this.gh([this.Xf])};f.vF=function(){return this.gh([this.Zj])};
f.DH=function(){};f.gh=function(a){var b=[];E(g(a)?a:[a],function(a){null!=a&&(b=Mb(b,a.Qz()))});return b};f.OH=function(){return this.Xf};f.refresh=function(){var a=this.gh([this.Xf,this.$j,this.Zj,this.Uj,this.Fi,this.Qs]);E(a,function(a){a.refresh()}.bind(this))};
f.Yt=function(a,b){a instanceof K?(null==this.$j&&(this.Xf=new Lt,this.$j=new Ut,this.Zj=new Ft),this.Xf.add(a,b),this.$j.add(a,b),this.Zj.add(a,b)):a instanceof it?(null==this.Uj&&(this.Uj=new Gt),this.Uj.add(a,b)):a instanceof fq&&(null==this.Fi&&(this.Fi=new Ct),this.Fi.add(a));this.volumes=new Xt(null,this.gh([this.Zj]),this.gh([this.$j]));this.annotations=new Xt(null,this.gh([this.Fi]));this.meshes=new Xt(null,this.gh([this.Uj]));this.levels=new Xt(null,null,this.gh([this.Xf]))};
f.f=function(){Vt.d.f.call(this);null!=this.Xf&&(this.Xf.g(),delete this.Xf);null!=this.$j&&(this.$j.g(),delete this.$j);null!=this.Ox&&(this.Ox.g(),delete this.Ox);null!=this.Zj&&(this.Zj.g(),delete this.Zj);null!=this.Uj&&(this.Uj.g(),delete this.Uj);null!=this.Fi&&(this.Fi.g(),delete this.Fi);null!=this.Qs&&(this.Qs.g(),delete this.Qs)};v("xiv.ui.XtkControllerTree.ControlSet",Xt);v("xiv.ui.XtkControllerTree.ID_PREFIX",Vt.ID_PREFIX);v("xiv.ui.XtkControllerTree.CSS_SUFFIX",Vt.CSS_SUFFIX);
v("xiv.ui.XtkControllerTree.getEmptyPropertiesObject",Wt);v("xiv.ui.XtkControllerTree.prototype.Levels",Vt.prototype.Bx);v("xiv.ui.XtkControllerTree.prototype.Annotations",Vt.prototype.OD);v("xiv.ui.XtkControllerTree.prototype.Volumes3D",Vt.prototype.vF);v("xiv.ui.XtkControllerTree.prototype.getHistograms",Vt.prototype.DH);v("xiv.ui.XtkControllerTree.prototype.getControllers",Vt.prototype.gh);v("xiv.ui.XtkControllerTree.prototype.getLevelsController",Vt.prototype.OH);
v("xiv.ui.XtkControllerTree.prototype.refresh",Vt.prototype.refresh);v("xiv.ui.XtkControllerTree.prototype.createControllers",Vt.prototype.Yt);v("xiv.ui.XtkControllerTree.prototype.disposeInternal",Vt.prototype.f);function Yt(a){Hs.call(this);this.orientation=a;this.Bl=Dq;this.yq=null}w(Yt,Hs);v("xiv.vis.XtkPlane2D",Yt);f=Yt.prototype;f.wA=function(){return this.Ea.wA()};f.xA=function(){return this.Ea.xA()};f.pm=function(){return null!=this.Ea?this.Ea.pm():null};f.hl=function(a){Yt.d.hl.call(this,a)};f.g=function(){Yt.d.g.call(this);delete this.yq;delete this.mQ;delete this.nQ};v("xiv.vis.XtkPlane2D.prototype.getSliceRelativeToContainerX",Yt.prototype.wA);
v("xiv.vis.XtkPlane2D.prototype.getSliceRelativeToContainerY",Yt.prototype.xA);v("xiv.vis.XtkPlane2D.prototype.getVolume",Yt.prototype.pm);v("xiv.vis.XtkPlane2D.prototype.setContainer",Yt.prototype.hl);v("xiv.vis.XtkPlane2D.prototype.dispose",Yt.prototype.g);function Zt(){$c.call(this);this.kf=null;this.tc={volumes:[],meshes:[],fibers:[],spheres:[]};this.Gi=new Yt("X");this.Wj=new Yt("Y");this.Xj=new Yt("Z");this.oc=new Ms;this.Dc={};this.Dc[this.Gi.Zb()]=this.Gi;this.Dc[this.Wj.Zb()]=this.Wj;this.Dc[this.Xj.Zb()]=this.Xj;this.Dc[this.oc.Zb()]=this.oc;this.ph=null;this.ts(this.oc);$t(this)}w(Zt,Bq);v("xiv.vis.XtkEngine",Zt);Zt.ID_PREFIX="xiv.vis.XtkEngine";Zt.SLICE_TO_RAS_KEY="sliceToRAS"+B();Zt.HAS_LABEL_MAP_KEY="hasLabelMap";f=Zt.prototype;f.cs=!1;
f.zu=function(){return this.tc.volumes};f.yu=function(){return this.tc.meshes};f.xu=function(){return this.tc.spheres};function au(a,b){null!=b.Md.Cn&&E(b.Md.Cn,function(a){this.tc.spheres.push(bu(a))}.bind(a))}f.JC=function(a,b){switch(a.toLowerCase()){case "x":this.Gi.Pb(b);break;case "y":this.Wj.Pb(b);break;case "z":this.Xj.Pb(b);break;case "v":this.oc.Pb(b)}};f.ts=function(a){this.ph=a;this.ph.va();this.QL=G(this.ph,"k",this.Xv.bind(this))};f.iI=function(){return this.ph};f.$v=function(a){this.dispatchEvent(a)};
function $t(a){C(a.Dc,function(a){G(a,"E",this.$v.bind(this));G(a,"G",function(){}.bind(this))}.bind(a))}f.gC=function(){this.kf.refresh()};f.iH=function(){return this.kf};
function cu(a,b){null!=a.kf&&(a.kf.g(),a.kf=null);a.kf=new Vt;null!=(b.Md&&null!=b.Md.Cn)&&(au(a,b),E(a.tc.spheres,function(a){this.kf.Yt(a)}.bind(a)));var c;E(b.pa,function(a){c=a.mb();if(null!=c&&(currXObj=du(c,a.ci),renderProps=a.Md,currXObj))if(this.kf.Yt(currXObj,renderProps),currXObj instanceof K){"scans"==b.uf.toLowerCase()&&(window.console.log("Turning off reslicing for scan"),currXObj.reslicing=!1);a=currXObj;var e=renderProps;null!=e||(e={origin:[0,0,0],Fs:1E4,zr:-1E4,qr:!0,hx:!1});a.origin=
e.origin;a.upperThreshold=e.Fs;a.lowerThreshold=e.zr;a.volumeRendering=e.hx;a[Cq]=e.qr;a[Zt.SLICE_TO_RAS_KEY]=e.Gw;null!=e.iB?(a.labelmap.file=e.iB,a.labelmap.colortable.file=e.IJ,a[Zt.HAS_LABEL_MAP_KEY]=!0):a[Zt.HAS_LABEL_MAP_KEY]=!1;this.tc.volumes.push(currXObj)}else currXObj instanceof it?(a=currXObj,e=renderProps,a.color=e.color||[.5,.5,.5],a.opacity=e.opacity||1,this.tc.meshes.push(currXObj)):currXObj instanceof Os&&(Zt.KQ(currXObj,renderProps),this.tc.fibers.push(currXObj))}.bind(a))}
f.iC=function(){this.ts(this.oc);this.oc.va();C(this.tc,function(a,b){"volumes"!==b&&E(a,function(a){this.oc.add(a)}.bind(this))}.bind(this));Tc(this.oc.Wa(),"l",function(){this.Or();this.Gi.k()}.bind(this));this.oc.k()};f.hC=function(a){var b=null!=a?a:this.Ik();C(this.Dc,function(a,d){"v"!=d.toLowerCase()&&(a.va(),a.add(b),a.k())})};function eu(a){var b=a.Ik();C(a.tc.volumes,function(a){a!==b&&(a.visible=!1)})}
f.jC=function(){var a=this.Ik(),b=[],c=[],d=["x","y","z","v"];C(this.tc,function(a,d){currArr="volumes"==d?c:b;E(a,function(a){currArr.push(a)})}.bind(this));E(b,function(a){this.oc.add(a)}.bind(this));E(c,function(b){b!==a&&(b.visible=!0,this.oc.add(b))}.bind(this));this.ph.Wa().onShowtime=function(){Lb(d,this.ph.Zb().toLowerCase());fu(this,a)}.bind(this);this.ph.add(a);this.ph.k()};
f.k=function(a){this.cs=!1;cu(this,a);var b=a.Md;null!=b?(null!=b.backgroundColor&&this.oc.ls(a.Md.backgroundColor),null!=b.pq&&this.oc.ms(a.Md.pq)):(this.oc.ls(),this.oc.ms());if(0<this.tc.volumes.length){a=this.Dc;b="";for(b in a)if(a[b].isEnabled()){this.ts(a[b]);break}this.jC()}else this.oc.isEnabled()&&this.iC()};function fu(a,b){var c=nb(a.Dc)-1;C(a.Dc,function(a){a!=this.ph&&a.isEnabled()&&(a.add(b),Tc(a.Wa(),"l",function(){c--;0==c&&this.Or()}.bind(this)),a.k())}.bind(a))}
f.Ik=function(){if(0!=this.tc.volumes.length){for(var a=0,b=this.tc.volumes.length;a<b;a++){var c=this.tc.volumes[a];if(c[Cq])return c}this.tc.volumes[0][Cq]=!0;return this.tc.volumes[0]}};f.o=function(){C(this.Dc,function(a){a.o()}.bind(this))};f.Xv=function(a){this.cs||this.dispatchEvent({type:"k",value:a.value})};f.Or=function(a){eu(this);Vc(this.QL);this.cs=!0;this.dispatchEvent({type:"l",value:null!=a?a.value:1})};f.bI=function(){return this.Gi};f.cI=function(){return this.Wj};f.dI=function(){return this.Xj};
f.aI=function(){return this.oc};f.Rq=function(a){return this.Dc[a]};f.eI=function(){return this.Dc};var gu=["nrrd","nii","nii.gz","mgh","mgz"],hu=["dicom","dcm","ima"],iu=["hdr","img"],ju=["nii","nii.gz"],ku=["jpeg","jpg","gif","png","img"],lu="stl vtk obj fsm inflated smoothwm pial orig".split(" "),mu=["trk"];function nu(a){var b=void 0;ou(a)?b=new it:pu(a)||qu(a)||ru(a)?b=new K:su(a)&&(b=new Os);return b}
function bu(a){var b=new fq;b.center=a.position;b.caption=a.name;b.name=a.name;b.radius=3;b.color=[.85,0,0];return b}function pu(a){return-1<gu.indexOf(a)?!0:!1}function ru(a){return-1<ku.indexOf(a)?!0:!1}function qu(a){return-1<hu.indexOf(a)?!0:!1}function ou(a){return-1<lu.indexOf(a)?!0:!1}function su(a){return-1<mu.indexOf(a)?!0:!1}
function du(a,b){function c(a){var b=th(a);a=sh(a);return b+"/"+a}var d=g(a)?uh(a[0]):uh(a),d=nu(d);if(null==d)throw Error("No renderable files in the set :(<br>");if(g(a)){var e=[];E(a,function(a){e.push(c(a))});a=e}else a=c(a);null!=b?(d.file=pb(b),d.filedata=ob(b)):d.file=a;return d}
Zt.prototype.g=function(){Zt.d.g.call(this);null!=this.kf&&(this.kf.g(),delete this.kf);J(this.Gi);J(this.Wj);J(this.Xj);J(this.oc);delete this.ph;D(this.Dc);delete this.Dc;this.Gi.g();delete this.Gi;this.Wj.g();delete this.Wj;this.Xj.g();delete this.Xj;this.oc.g();delete this.oc;C(this.tc,function(a){C(a,function(a){J(a);D(a)})});D(this.tc);delete this.tc;delete this.cs};v("xiv.vis.XtkEngine.EventType",{HO:"E",FO:"F",GO:"G",ERROR:"H",JP:"I",PN:"J",QN:"K"});v("xiv.vis.XtkEngine.ID_PREFIX",Zt.ID_PREFIX);
v("xiv.vis.XtkEngine.ANATOMICAL_TO_CARTESIAN",{SAGITTAL:"X",CORONAL:"Y",AXIAL:"Z",TRANSVERSE:"Z"});v("xiv.vis.XtkEngine.SLICE_TO_RAS_KEY",Zt.SLICE_TO_RAS_KEY);v("xiv.vis.XtkEngine.HAS_LABEL_MAP_KEY",Zt.HAS_LABEL_MAP_KEY);v("xiv.vis.XtkEngine.isVolume",pu);v("xiv.vis.XtkEngine.isImage",ru);v("xiv.vis.XtkEngine.isDicom",qu);v("xiv.vis.XtkEngine.isAnalyze",function(a){return-1<iu.indexOf(a)?!0:!1});v("xiv.vis.XtkEngine.isNifti",function(a){return-1<ju.indexOf(a)?!0:!1});
v("xiv.vis.XtkEngine.isMesh",ou);v("xiv.vis.XtkEngine.isFiber",su);v("xiv.vis.XtkEngine.prototype.getCurrentMeshes",Zt.prototype.yu);v("xiv.vis.XtkEngine.prototype.getCurrentAnnotations",Zt.prototype.xu);v("xiv.vis.XtkEngine.prototype.getCurrentVolumes",Zt.prototype.zu);v("xiv.vis.XtkEngine.prototype.setPlaneEnabled",Zt.prototype.JC);v("xiv.vis.XtkEngine.prototype.setPrimaryRenderPlane",Zt.prototype.ts);v("xiv.vis.XtkEngine.prototype.getPrimaryRenderPlane",Zt.prototype.iI);
v("xiv.vis.XtkEngine.prototype.refreshControllers",Zt.prototype.gC);v("xiv.vis.XtkEngine.prototype.getControllerTree",Zt.prototype.iH);v("xiv.vis.XtkEngine.prototype.render3dPlane",Zt.prototype.iC);v("xiv.vis.XtkEngine.prototype.render2D",Zt.prototype.hC);v("xiv.vis.XtkEngine.prototype.renderAllPlanes",Zt.prototype.jC);v("xiv.vis.XtkEngine.prototype.render",Zt.prototype.k);v("xiv.vis.XtkEngine.prototype.getSelectedVolume",Zt.prototype.Ik);v("xiv.vis.XtkEngine.prototype.updateStyle",Zt.prototype.o);
v("xiv.vis.XtkEngine.prototype.getPlaneX",Zt.prototype.bI);v("xiv.vis.XtkEngine.prototype.getPlaneY",Zt.prototype.cI);v("xiv.vis.XtkEngine.prototype.getPlaneZ",Zt.prototype.dI);v("xiv.vis.XtkEngine.prototype.getPlaneV",Zt.prototype.aI);v("xiv.vis.XtkEngine.prototype.getPlaneByOrientation",Zt.prototype.Rq);v("xiv.vis.XtkEngine.prototype.getPlanes",Zt.prototype.eI);v("xiv.vis.XtkEngine.prototype.dispose",Zt.prototype.g);function yi(){W.call(this);this.Xa=Q("img",{id:"nrg.ui.Thumbnail_"+B()});"NONE"!=this.Xa.src&&R(this.a(),this.Xa);this.Ee=Q("div",{id:"DisplayText_"+B()});R(this.a(),this.Ee);this.Xo=Q("div",{id:"selectedIndicator_"+B()});O(this.Xo,yi.CSS.$E);R(this.a(),this.Xo);this.tw();this.a().className=yi.cd;O(this.a(),yi.CSS.iE);this.Xa.className=yi.CSS.Gh;this.Ee.className=yi.CSS.Yj}w(yi,W);v("nrg.ui.Thumbnail",yi);yi.ID_PREFIX="nrg.ui.Thumbnail";
yi.CSS_SUFFIX={Gh:"image",Yj:"text",DO:"selected",JE:"mouseover",FN:"image-mouseover",VO:"text-mouseover",xx:"highlight",Qj:"active",yx:"image-active",Jx:"text-active",$E:"selectindicator",Hx:"selectindicator-active",iE:"hoverable"};f=yi.prototype;f.Xy=null;f.mr=!1;f.EH=function(){return this.Xa};f.rC=function(a){this.Xy=a;this.Xa.onerror=function(){this.Xa.onerror="";this.Xa.src=this.Xy}.bind(this)};f.vI=function(){return this.Ee};
f.Ju=function(){for(var a=this.Ee;a.childNodes[0];)a=a.childNodes[0];return a.parentNode.innerHTML};f.lw=function(a,b){null!=a||(a=500);var c=0;null==this.P&&(this.P=new Xf);this.P.setInterval(50);this.P.addEventListener(Yf,function(){c+=50;this.a().style.opacity=c/50%2;c>=a&&(this.P.stop(),this.P.g(),delete this.P,this.a().style.opacity=1,null!=b&&b())}.bind(this));this.P.start()};f.kh=function(){return this.mr};
f.uw=function(a){this.Xa.src=a;this.Xa.className=yi.CSS.Gh;"NONE"==a&&(nj(this.Xa,"display","none"),nj(this.a(),{height:"50px","outline-width":"1px","outline-style":"solid","outline-color":"white","margin-left":"-15px",width:"110%"}),nj(this.Ee,{height:"20px",left:"30px"}),nj(this.Xo,{display:"none"}))};f.kp=function(a){this.Ee.innerHTML=a};
f.setActive=function(a,b){var c=this.a();(this.mr=a)?(b&&O(c,yi.CSS.xx),O(c,yi.CSS.Qj),O(this.Ee,yi.CSS.Jx),O(this.Xa,yi.CSS.yx),O(this.Xo,yi.CSS.Hx)):(Gh(c,yi.CSS.xx),Gh(c,yi.CSS.Qj),Gh(this.Ee,yi.CSS.Jx),Gh(this.Xa,yi.CSS.yx),Gh(this.Xo,yi.CSS.Hx))};f.o=function(a){a&&this.a()&&al(this.a(),a)};f.tw=function(){Wc(this.a(),"L")&&Vc("L");G(this.a(),"click",function(){this.dispatchEvent({type:"L"})}.bind(this))};
f.f=function(){yi.d.f.call(this);J(this);J(this.a());S(this.Xa);delete this.Xa;S(this.Ee);delete this.Ee;delete this.SP;delete this.mr};v("nrg.ui.Thumbnail.EventType",{eN:"L"});v("nrg.ui.Thumbnail.ID_PREFIX",yi.ID_PREFIX);v("nrg.ui.Thumbnail.CSS_SUFFIX",yi.CSS_SUFFIX);v("nrg.ui.Thumbnail.prototype.getImage",yi.prototype.EH);v("nrg.ui.Thumbnail.prototype.setBrokenThumbnailUrl",yi.prototype.rC);v("nrg.ui.Thumbnail.prototype.getTextElement",yi.prototype.vI);v("nrg.ui.Thumbnail.prototype.getText",yi.prototype.Ju);
v("nrg.ui.Thumbnail.prototype.isActive",yi.prototype.kh);v("nrg.ui.Thumbnail.prototype.setImage",yi.prototype.uw);v("nrg.ui.Thumbnail.prototype.setText",yi.prototype.kp);v("nrg.ui.Thumbnail.prototype.setActive",yi.prototype.setActive);v("nrg.ui.Thumbnail.prototype.updateStyle",yi.prototype.o);v("nrg.ui.Thumbnail.prototype.pulse",yi.prototype.lw);v("nrg.ui.Thumbnail.prototype.disposeInternal",yi.prototype.f);function tu(){W.call(this)}w(tu,W);v("nrg.ui.ScrollableContainer",tu);tu.ID_PREFIX="nrg.ui.ScrollableContainer";tu.CSS_SUFFIX={ZE:"scrollarea",ia:"slider",Og:"slider-thumb",Kh:"slider-track",bF:"slider-thumb-hovered",KO:"slider-track-hovered"};f=tu.prototype;f.P=null;
f.k=function(a){tu.d.k.call(this,a);null==this.Eg&&(this.Eg=Q("div",{id:this.constructor.ID_PREFIX+"_ScrollArea_"+B(),"class":tu.CSS.ZE}),this.a().appendChild(this.Eg));this.hb=new wr("vertical");this.hb.k(this.a());G(this.hb,"u",this.Dj.bind(this));G(this.hb,"s",this.SB.bind(this));G(this.hb,"t",this.RB.bind(this));uu(this);O(this.hb.a(),tu.CSS.ia);O(this.hb.Qf,tu.CSS.Og);O(this.hb.Ah,tu.CSS.Kh);this.o();this.Zc();this.P=new Xf};f.rf=function(a){this.ma||this.k();R(this.Eg,a);this.Zc()};f.a=function(){return this.q};
f.rI=function(){return this.hb};f.nI=function(){return this.Eg};f.o=function(a){a&&al(this.q,a)};
f.Zc=function(){var a=U(this.q).height,b=U(this.Eg).height,c=[this.hb.ha(),this.hb.T()],d=[0,b-a],e=this.hb.Qf,h=this.hb.a();a<b?("hidden"==h.style.visibility&&(h.style.opacity=0,h.style.visibility="visible",gl(h,200)),a=Math.round(a/b*a),e.style.height=a.toString()+"px",this.hb.Pb(!0),e=this.hb.T()-this.hb.w(),c=Uk(e,c,d).remappedVal,this.Eg.style.top=(-c).toString()+"px"):"hidden"!=h.style.visibility&&jl(h,200,function(){this.hb&&(h.style.visibility="hidden",this.hb.Pb(!1),this.hb.C(100))}.bind(this))};
f.SB=function(){this.dispatchEvent({type:"N"})};f.RB=function(){this.dispatchEvent({type:"O"})};f.Dj=function(){this.Zc();this.dispatchEvent({type:"M"})};function uu(a){a.P=new Xf;a.P.setInterval(100);var b=function(){200<(new Date).getTime()-this.gv&&(this.P.stop(),delete this.gv,this.RB())}.bind(a);G(a.hb,"v",function(){void 0==this.gv&&this.SB();this.gv=(new Date).getTime();this.P.stop();this.P.addEventListener(Yf,b);this.P.start()}.bind(a));a.hb.nq(a.a())}
f.f=function(){tu.d.f.call(this);null!=this.hb&&(J(this.hb),this.hb.g(),delete this.hb);null!=this.Eg&&(S(this.Eg),delete this.Eg);this.P.g();delete this.P};v("nrg.ui.ScrollableContainer.ID_PREFIX",tu.ID_PREFIX);v("nrg.ui.ScrollableContainer.CSS_SUFFIX",tu.CSS_SUFFIX);v("nrg.ui.ScrollableContainer.MAX_LABEL_LENGTH",30);v("nrg.ui.ScrollableContainer.prototype.render",tu.prototype.k);v("nrg.ui.ScrollableContainer.prototype.addContents",tu.prototype.rf);
v("nrg.ui.ScrollableContainer.prototype.getElement",tu.prototype.a);v("nrg.ui.ScrollableContainer.prototype.getSlider",tu.prototype.rI);v("nrg.ui.ScrollableContainer.prototype.getScrollArea",tu.prototype.nI);v("nrg.ui.ScrollableContainer.prototype.updateStyle",tu.prototype.o);v("nrg.ui.ScrollableContainer.prototype.mapSliderToContents",tu.prototype.Zc);v("nrg.ui.ScrollableContainer.prototype.disposeInternal",tu.prototype.f);function vu(){W.call(this)}w(vu,tu);v("nrg.ui.ScrollableZippyTree",vu);vu.ID_PREFIX="nrg.ui.ScrollableZippyTree";vu.CSS_SUFFIX={wF:"zippytree"};f=vu.prototype;f.k=function(a){vu.d.k.call(this,a);this.qa=new Ps;O(this.qa.a(),vu.CSS.wF);this.Eg.appendChild(this.qa.a());this.lp();this.hb.SC(!0,.3)};f.rf=function(a,b){this.qa.rf(a,b);g(a);this.hb.nq(this.qa.a())};f.im=function(){this.qa.im()};f.hs=function(a,b,c,d){this.qa.hs(a,b,function(){null!=c&&c();this.Zc()}.bind(this),function(){null!=d&&d()}.bind(this))};
f.Jn=function(){this.qa.Jn()};f.lc=function(a,b){this.qa.lc(a,b)};f.RI=function(){return this.qa};f.TF=function(a){this.qa.Mn(a);this.Zc()};f.lp=function(){G(this.qa,"B",this.Zc.bind(this));G(this.qa,"a",this.Zc.bind(this));G(this.qa,"b",this.Zc.bind(this));G(this.qa,fm.LE,this.Zc.bind(this))};f.o=function(a){a&&al(this.a(),a)};f.f=function(){vu.d.f.call(this);null!=this.qa&&(J(this.qa),this.qa.g(),delete this.qa)};v("nrg.ui.ScrollableZippyTree.EventType",{});
v("nrg.ui.ScrollableZippyTree.ID_PREFIX",vu.ID_PREFIX);v("nrg.ui.ScrollableZippyTree.CSS_SUFFIX",vu.CSS_SUFFIX);v("nrg.ui.ScrollableZippyTree.prototype.render",vu.prototype.k);v("nrg.ui.ScrollableZippyTree.prototype.addContents",vu.prototype.rf);v("nrg.ui.ScrollableZippyTree.prototype.expandAll",vu.prototype.im);v("nrg.ui.ScrollableZippyTree.prototype.collapseAll",vu.prototype.Jn);v("nrg.ui.ScrollableZippyTree.prototype.setExpanded",vu.prototype.lc);
v("nrg.ui.ScrollableZippyTree.prototype.getZippyTree",vu.prototype.RI);v("nrg.ui.ScrollableZippyTree.prototype.addFolders",vu.prototype.TF);v("nrg.ui.ScrollableZippyTree.prototype.setZippyTreeEvents",vu.prototype.lp);v("nrg.ui.ScrollableZippyTree.prototype.scaleElementOnChange",vu.prototype.hs);v("nrg.ui.ScrollableZippyTree.prototype.updateStyle",vu.prototype.o);v("nrg.ui.ScrollableZippyTree.prototype.disposeInternal",vu.prototype.f);function wu(a,b,c){hn.call(this);this.fD=!0===a;this.eD=!0===b;this.$C=!0===c}w(wu,hn);v("xiv.ui.HelpDialog",wu);wu.ID_PREFIX="xiv.ui.HelpDialog";wu.CSS={cE:"nrg-ui-helpdialog-dialog",Yj:"nrg-ui-helpdialog-text",YE:"xiv-ui-helpdialog-scrollablezippytree",TITLE:"xiv-ui-helpdialog-title",Rj:"xiv-ui-helpdialog-closebutton"};wu.LAYOUT_IMAGE_ID=wu.ID_PREFIX+".LayoutImage";
wu.prototype.k=function(a){wu.d.k.call(this,a);O(this.a(),"xiv-ui-helpdialog");this.Ym=new vu;O(this.Ym.a(),wu.CSS.YE);this.Ym.k(this.a());xu(this);this.Ey(wu.CSS.TITLE);this.py(wu.CSS.Rj)};wu.prototype.ww=function(a){null!=document.getElementById(wu.LAYOUT_IMAGE_ID)&&(document.getElementById(wu.LAYOUT_IMAGE_ID).src=a)};
function xu(a){var b=[["Close ViewBox",'<img style="height:10px;width:10px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/close.png"></img>'],["Add ViewBox Column",'<img style="height:12px;width:6px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/insertcolumn.png"></img>'],["Add ViewBox Row",'<img style="height:6px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/insertrow.png"></img>'],["Drag/Swap ViewBox",'<img style="height:17px;width:7px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBoxManager/handle.png"></img>']],
c=[["Change Layouts"," ","<img height=15 width=15 id="+wu.LAYOUT_IMAGE_ID+"></img>"],["Help","keystroke: ?",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Help.png"></img>'],["Info. Metadata","keystroke: I",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Info.png"></img>'],["Settings","keystroke: S",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Settings.png"></img>'],
["Levels","keystroke: B or L",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Levels.png"></img>'],["2D Pan","keystroke: H or P",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-2DPan.png"></img>'],["2D Zoom","keystroke: Z",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-2DZoom.png"></img>'],["2D Crosshairs","keystroke: C",'<img style="height:15px;width:15px" src="'+
serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Crosshairs.png"></img>']];a.fD&&c.push(["Volumes","keystroke: V",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Volumes.png"></img>']);a.eD&&c.push(["Meshes","keystroke: M",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Meshes.png"></img>']);a.$C&&c.push(["Annotations","keystroke: A",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Annotations.png"></img>']);
var d=[["Close XImgView",'<img style="height:10px;width:10px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/close.png"></img>'],["Full-screen view",'<img style="height:12px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/fullscreen.png"></img>'],["Pop-up view",'<img style="height:12px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/popup.png"></img>']];a.Cc("Help");E([[["Resize","left-click + drag","panel borders"]],b,c,d],function(a,b){var c='<table style="margin-left:10%;width:90%;color:white;left:10%;" RULES=ROWS FRAME=HSIDES  BORDERCOLOR="black">';
E(a,function(a){c+="<tr>";E(a,function(a,b){switch(b){case 0:a='<b><font size="1">'+a+"</font></b>";break;case 1:a='<i><font size="1">'+a+"</font></i>";break;default:a='<font size="1">'+a+"</font>"}c+="<td height=25>"+a+"</td>"});c+="</tr>"});var c=c+"</table>",d;currText=b+1;switch(currText){case 1:d="Images";break;case 2:d="ViewBox Manipulation";break;case 3:d="ViewBox Toggles";break;case 4:d="Modal"}S(c);var n=Q("div");n.innerHTML=c;this.Ym.rf(n,[d])}.bind(a))}
wu.prototype.f=function(){wu.d.f.call(this);delete this.fD;delete this.eD;delete this.$C;null!=this.Ym&&this.Ym.g()};v("xiv.ui.HelpDialog.EventType",{});v("xiv.ui.HelpDialog.ID_PREFIX",wu.ID_PREFIX);v("xiv.ui.HelpDialog.LAYOUT_IMAGE_ID",wu.LAYOUT_IMAGE_ID);v("xiv.ui.HelpDialog.CSS_SUFFIX",wu.CSS_SUFFIX);v("xiv.ui.HelpDialog.prototype.render",wu.prototype.k);v("xiv.ui.HelpDialog.prototype.setLayoutButton",wu.prototype.ww);v("xiv.ui.HelpDialog.prototype.disposeInternal",wu.prototype.f);function yu(a,b,c){fp.call(this,a,b||gp.ue(),c);this.rd(16,!0)}w(yu,fp);Un("goog-toggle-button",function(){return new yu(null)});function zu(a){W.call(this);this.L={};this.M=a}w(zu,W);v("xiv.ui.ViewBoxDialogs",zu);zu.ID_PREFIX="xiv.ui.ViewBoxDialogs";zu.CSS_SUFFIX={Vf:"generic-toggle",oE:"infodialog",pE:"infodialog-text",aO:"modaldialog"};var Au="Info_"+B(),Bu="Help_"+B(),Cu={GN:Au,zN:Bu},Du="ToggleClass_"+B();f=zu.prototype;f.mH=function(){return this.L};f.lH=function(a){return this.L[a]};
f.Nn=function(a,b,c,d,e,h,k,l){e=null!=e?e:"";var n=this.M.fj("LEFT",c,a,e,function(b){var c=this.L[a];b="true"==b.getAttribute("checked");c.ca(b);c.cx();Eu(this,c);this.dispatchEvent({type:b?"P":"Q",zz:this.L[a],Az:a})}.bind(this),d);null!=this.L[a]&&this.L[a].g();c=new hn;this.L[a]=c;Qm(c,null!=k?k:!1);Xm(c,null!=l?l:null);c.k(this.M.Kb);Pm(c,0);this.L[a].Ud();c.Cc(e);O(c.a(),b);G(c,"f",function(){this.M.Lo(n)}.bind(this));G(c,Tm,function(){}.bind(this));this.L[a].ca(!0);this.L[a].Ud();this.L[a].Ud(!1);
!1===h&&Tn(this.M.ee[a])};f.rG=function(){this.Nn(Cu.$N,"xiv-ui-viewboxdialogs-meshes-dialog",zu.CSS.Vf,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Mesh.png","Volume Controls",!1,!1)};f.tG=function(){this.Nn(Cu.yP,"xiv-ui-viewboxdialogs-volumes-dialog",zu.CSS.Vf,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Volume.png","Volume Controls",!1,!1)};f.nz=function(){Fu(this);Gu(this)};
function Hu(a,b,c){var d=new hn;Xm(d,$m);d.k(null!=b?b:document.body);d.il(a);O(d.a(),"nrg-ui-dialogs-yesnomodal");Qm(d,!0);var e=d.a(),h=d.ei();Tc(d,Ym,function(a){var b=e.cloneNode(!0);b.style.opacity=1;b.style.display="inline";R(e.parentNode,b);var n=h.cloneNode(!0);n.style.opacity=.7;n.style.display="inline";R(e.parentNode,n);b.style.zIndex=2E9;n.style.zIndex=2E9;xl([b,n],1,0,null,null,function(){S(b);delete b;S(n);delete n});"yes"===a.key.toLowerCase()&&null!=c&&c();d.mu=!0;d.Io()});d.ca(!0);
d.Ud(!0);d.mu=!1;e.style.opacity=0;e.style.zIndex=2E9;h.style.opacity=0;h.style.zIndex=2E9;gl(e,150);hl(h,150,.7)}f.FA=function(){var a=[];C(this.L,function(b){b.wa()&&a.push(b.a())});return a};f.showModalDialog=function(a){if(null==this.L[a])throw Error("Invalid dialog key: ",a);this.L[a].ca(!0);this.L[a].Ud()};
function Eu(a,b){C(null!=b?[b]:a.L,function(a){if(null!=a&&!la(a)){var b=a.Fm,e=a.aA(),h;if(null!=b&&null!=e){for(var k=[e,b],l=0;l<k.length;l++)for(h in k[l])if(isNaN(k[l][h])&&!la(k[l][h]))return;U(a.a().parentNode);h=U(a.a());var k=uj(a.a()),l=e.left+(k.x-b.left)/b.width*e.width,b=e.top+(k.y-b.top)/b.height*e.height,n=k.x+h.width,p=k.y+h.height,m=e.left+e.width,q=e.top+e.height,l=k.x,b=k.y;n>m&&(l=e.left+e.width-h.width);l<e.left&&(l=e.left);p>q&&(b=e.top+e.height-h.height);b<e.top&&(b=e.top);
sj(a.a(),l,b)}}})}f.update=function(){C(this.L,function(a){a.cx();Eu(this,a)}.bind(this))};f.Bp=function(a,b){var c=!1===b?0:1;window.console.log(a,this.L[a]);null!=this.L[a].a()&&hl(this.L[a].a(),200,c)};f.Nq=function(){return this.L[Bu]};
function Fu(a){null!=a.L[Bu]&&a.L[Bu].g();var b=new wu(0<a.M.Wa().zu().length,0<a.M.Wa().yu().length,0<a.M.Wa().xu().length);Qm(b,!1);Xm(b,null);b.k(a.M.Kb);b.ca(!1);b.Ud();var c=a.M.fj("LEFT",zu.CSS.Vf,Bu,"Help",function(a){a="true"==a.getAttribute("checked");b.ca(a);this.dispatchEvent({type:a?"P":"Q",zz:b})}.bind(a),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Help.png");G(b,"f",function(){this.M.Lo(c)}.bind(a));a.M.Lo(c);a.L[Bu]=new wu}
function Gu(a){null!=a.L[Au]&&a.L[Au].g();currDialog=new hn;O(currDialog.Uq(),"xiv-ui-viewboxdialogs-infodialog-title");var b="",b=0<a.M.Sa.length?a.M.Sa[0].Hu():yl(a.M.Sa[0].ti);Qm(currDialog,!1);currDialog.mk(b);Xm(currDialog,null);currDialog.k(a.M.Kb);currDialog.ca(!0);currDialog.Gr("left","top",0,-22);currDialog.Cc("Info.");O(currDialog.a(),zu.CSS.oE);O(currDialog.zh[0],zu.CSS.pE);a.M.fj("LEFT",zu.CSS.Vf,Au,"Info.",function(a){a="true"==a.getAttribute("checked");currDialog.ca(a);currDialog.Gr("left",
"top",0,-15);this.dispatchEvent({type:a?"P":"Q",zz:currDialog});this.M.aD(a)}.bind(a),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Info.png");currDialog.ds();a.L[Au]=currDialog;a.M.Yb(Au);a=Vh("nrg-ui-dialog-text",currDialog.a());O(a[0],"xiv-ui-viewboxdialogs-infodialog-text");O(currDialog.Ia(),"xiv-ui-viewboxdialogs-infodialog-content")}f.f=function(){delete this.M;null!=this.L&&(C(this.L,function(a){J(a);a.f();a.g()}.bind(this)),D(this.L))};v("xiv.ui.ViewBoxDialogs.EventType",{oN:"P",nN:"Q"});
v("xiv.ui.ViewBoxDialogs.ID_PREFIX",zu.ID_PREFIX);v("xiv.ui.ViewBoxDialogs.CSS_SUFFIX",zu.CSS_SUFFIX);v("xiv.ui.ViewBoxDialogs.DIALOG_KEYS",Cu);v("xiv.ui.ViewBoxDialogs.TOGGLED_CLASS",Du);v("xiv.ui.ViewBoxDialogs.createModalDialog",zu.ZP);v("xiv.ui.ViewBoxDialogs.prototype.getDialogs",zu.prototype.mH);v("xiv.ui.ViewBoxDialogs.prototype.getDialog",zu.prototype.lH);v("xiv.ui.ViewBoxDialogs.prototype.createGenericToggleableDialog",zu.prototype.Nn);
v("xiv.ui.ViewBoxDialogs.prototype.createMeshesDialog",zu.prototype.rG);v("xiv.ui.ViewBoxDialogs.prototype.createVolumesDialog",zu.prototype.tG);v("xiv.ui.ViewBoxDialogs.prototype.createPostRenderDialogs",zu.prototype.nz);v("xiv.ui.ViewBoxDialogs.prototype.dispsePostRenderDialogs",zu.prototype.aQ);v("xiv.ui.ViewBoxDialogs.prototype.setModalDialogOnYes",zu.prototype.JQ);v("xiv.ui.ViewBoxDialogs.prototype.showModalDialog",zu.prototype.showModalDialog);
v("xiv.ui.ViewBoxDialogs.prototype.getVisibleDialogElements",zu.prototype.FA);v("xiv.ui.ViewBoxDialogs.prototype.update",zu.prototype.update);v("xiv.ui.ViewBoxDialogs.prototype.toggleVisible",zu.prototype.Bp);v("xiv.ui.ViewBoxDialogs.prototype.getHelpDialog",zu.prototype.Nq);v("xiv.ui.ViewBoxDialogs.prototype.disposeInternal",zu.prototype.f);function Y(a,b,c,d){$c.call(this);this.M=a;this.na=b;this.Ra=c;this.L=d;this.Gd={p:null,c:null};this.wq={x:null,y:null};this.zg={l:!1,m:!1,r:!1};this.Uk={up:{},dn:{},ot:{},ov:{}};G(this.L,"P",this.KB.bind(this));a=document.body;this.xb=new go;this.xb.Xl(a);G(this.xb,"key",this.qi.bind(this));this.pl=!1;document.addEventListener("mousemove",this.Pw.bind(this),!1)}w(Y,$c);v("xiv.ui.ViewBoxInteractorHandler",Y);
var Iu="Crosshairs_"+B(),Ju="Settings_"+B(),Ku="TwoDPan_"+B(),Lu="TwoDZoom_"+B(),Mu="Folder_"+B(),Nu={sd:Iu,EO:Ju,dP:Ku,eP:Lu,wN:Mu};
Y.CSS={Vf:"xiv-ui-viewboxinteractorhandler-generic-toggle",qx:"xiv-ui-viewboxinteractorhandler-generic-dialog",rx:"xiv-ui-viewboxinteractorhandler-generic-zippytree",zx:"xiv-ui-viewboxinteractorhandler-levelsdialog",UN:"xiv-ui-viewboxinteractorhandler-levelsdialog-hovered",VN:"xiv-ui-viewboxinteractorhandler-levels-slider",WN:"xiv-ui-viewboxinteractorhandler-levels-slidercontroller",XN:"xiv-ui-viewboxinteractorhandler-levels-sliderlabel",TN:"xiv-ui-viewboxinteractorhandler-levels-checkboxholder",
SN:"xiv-ui-viewboxinteractorhandler-levels-checkboxcontroller"};Y.CURSOR_CSS={xF:"xiv-ui-viewboxinteractorhandler-zoom-follower",sx:"xiv-ui-viewboxinteractorhandler-viewframe-grab",vx:"xiv-ui-viewboxinteractorhandler-viewframe-grab-custom",tx:"xiv-ui-viewboxinteractorhandler-viewframe-grabbing",ux:"xiv-ui-viewboxinteractorhandler-viewframe-grabbing-custom",Qx:"xiv-ui-viewboxinteractorhandler-viewframe-zoom-in",Rx:"xiv-ui-viewboxinteractorhandler-viewframe-zoom-out"};
Y.ORIENTATION_KEY="Orientation_"+B();f=Y.prototype;f.xb=null;f.Ei=null;f.Ja=null;f.ab=null;f.ix=!1;f.Ur=!1;f.Wb={};f.Zz=function(a){return this.Wb[a]};f.mz=function(){this.uz();Ou(this);Pu(this);this.qz();this.kz(!1);this.sz();this.tz();this.lz();this.lv()};function Qu(a){var b=a.M.Kb;C(Y.CURSOR_CSS,function(a){Gh(b,a)})}function Ru(a,b,c,d){b=b?O:Gh;b(a.M.Kb,c);null!=d&&(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Chrome/i))&&b(a.M.Kb,d)}
function Su(a){Ru(a,!0,Y.CURSOR_CSS.sx,Y.CURSOR_CSS.vx);Ru(a,!1,Y.CURSOR_CSS.tx,Y.CURSOR_CSS.ux)}function Tu(a){Ru(a,!1,Y.CURSOR_CSS.Rx);Ru(a,!0,Y.CURSOR_CSS.Qx)}f.Pw=function(a){this.wq.x=a.clientX||a.pageX;this.wq.y=a.clientY||a.pageY};
f.QK=function(a){this.am=a.target;this.Gd.p=this.Gd.c;this.Gd.c=[this.wq.x,this.wq.y];if(null!=this.Gd.p){(new js(this.Gd.c[0],this.Gd.c[1])).add(new js(this.Gd.p[0],this.Gd.p[1]));a=this.Gd.c[0]-this.Gd.p[0];var b=this.Gd.c[1]-this.Gd.p[1];this.pl&&(this.Sf.style.visibility="hidden");this.ix?(this.pl&&this.pl&&(S(this.Sf),R(this.am.cj,this.Sf),this.Sf.style.visibility="visible",this.Sf.style.left=this.Gd.c[0]+20+"px",this.Sf.style.top=this.Gd.c[1]+"px"),Tu(this),this.zg.l&&Uu(this,a,b)):this.Ur&&
(Su(this),this.zg.l&&(Ru(this,!1,Y.CURSOR_CSS.sx,Y.CURSOR_CSS.vx),Ru(this,!0,Y.CURSOR_CSS.tx,Y.CURSOR_CSS.ux),this.am.oa.Tr([-1*a,-1*b]),this.Nm()))}};f.MK=function(){Qu(this);this.am=null;this.pl&&(this.Sf.style.visibility="hidden")};f.Vv=function(a){0==a.button?this.zg.l=!0:1==a.button?this.FM.zg.m=!0:2==a.button&&(this.zg.r=!0)};f.Wv=function(a){0==a.button?this.zg.l=!1:1==a.button?this.FM.zg.m=!1:2==a.button&&(this.zg.r=!1)};
f.qi=function(a){if(this.M.or())if(-3<=a.keyCode-40&&0>=a.keyCode-40)a=a.keyCode,Vu(this,this.am,40==a||37==a?-1:1);else switch(a.keyCode){case 27:a=this.M.Lu(Ku);window.console.log("escape","pan",a,a.getAttribute("checked"));"true"==a.getAttribute("checked").toString()&&this.M.Yb(Ku);"true"==this.M.Lu(Lu).getAttribute("checked").toString()&&this.M.Yb(Lu);break;case 90:this.M.Yb(Lu);break;case 72:case 80:this.M.Yb(Ku);break;case 66:case 76:this.M.Yb(this.Wb.levels);break;case 86:this.M.Yb(this.Wb.volumes);
break;case 77:this.M.Yb(this.Wb.meshes);break;case 65:this.M.Yb(this.Wb.annotations);break;case 67:this.M.Yb(Iu);break;case 83:this.M.Yb(this.Wb[Ju]);break;case 191:a.shiftKey&&this.M.Yb(Bu);break;case 73:this.M.Yb(Au)}};function Uu(a,b,c){Qu(a);var d=function(){Tu(this);this.am.Um()}.bind(a),e=function(){Ru(this,!0,Y.CURSOR_CSS.Rx);Ru(this,!1,Y.CURSOR_CSS.Qx);this.am.Vm()}.bind(a);Math.abs(b)>Math.abs(c)?1<b?d():e():0>c?d():e();Wu(a);a.Nm()}f.Ex=0;f.Fx=0;
f.mD=function(a){this.Ex=a.clientX;this.Fx=a.clientY;window.console.log("store mouse coords",this.Ex,this.Fx)};f.lv=function(){Xu(this,function(a,b){this.Uk.ov[b]=G(a.Wa(),"mouseover",this.QK.bind(this));var c=a.Wa().Gc;this.Uk.ot[b]=G(c,"mouseleave",this.MK.bind(this));this.Uk.dn[b]=G(c,"mousedown",this.Vv.bind(this));this.Uk.up[b]=G(c,"mouseup",this.Wv.bind(this))}.bind(this))};function Vu(a,b,c){Xu(a,function(a,b,h){h.ia.C(h.ia.w()+c)}.bind(a),b.Zb())}
function Xu(a,b,c){if(null!=a.na){var d=a.Ra.Qq(),e=function(a,c){null!=d&&null!=d[c]&&b(a,c,d[c],a.pm())};if(r(c)){var h=a.na.Rq(c);if(null==h)throw Error("Invalid plane: ",h);e(a.na.Rq(c),c)}else C(a.na.Dc,function(a,b){e(a,b)}.bind(a))}}f.tz=function(){this.M.fj("LEFT",Y.CSS.Vf,Lu,"2D Zoom",function(a){Qu(this);if(this.ix=a="true"==a.getAttribute("checked").toString())this.M.bx(Ku),Tu(this)}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-2DZoom.png");this.M.Yb(Lu)};
f.sz=function(){this.M.fj("LEFT",Y.CSS.Vf,Ku,"2D Pan",function(a){Qu(this);if(this.Ur=a="true"==a.getAttribute("checked").toString())Su(this),this.M.bx(Lu)}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-2DPan.png");this.M.Yb(Ku)};
f.lz=function(){!this.M.UA()&&this.M.VA()&&(this.M.fj("LEFT",Y.CSS.Vf,Mu,"Select a different catalog or volume",function(a){Qu(this);this.Ur=a="true"==a.getAttribute("checked").toString();Yu(this.M.Fc,200);a&&(this.M.Ez(),Zu(this.M,this.M.Fc,200),Su(this))}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Folder.png"),this.M.Yb(Mu))};
f.kz=function(a){this.M.fj("LEFT",Y.CSS.Vf,Iu,"Toggle Crosshairs",function(a){this.vD("true"==a.getAttribute("checked"))}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Crosshairs.png");!1===a&&this.M.Yb(Iu)};
f.qz=function(){this.Wb[Ju]=Ju+"_"+B();this.L.Nn(this.Wb[Ju],Y.CSS.qx,Y.CSS.Vf,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Settings.png","Settings",!1,!1);this.ab[Ju]=new vu;this.ab[Ju].k();var a=this.ab[Ju].a();O(a,Y.CSS.rx);this.L.L[this.Wb[Ju]].a().appendChild(a);this.ab[Ju].im();a=new xt;a.k();a.Mf("Enable 3D Rendering");a.ka.Hd(!0);this.ab[Ju].rf(a.a(),"3D Rendering");G(a,"D",function(a){this.na.JC("V",a.checked)}.bind(this));return a};
f.Nm=function(){Xu(this,function(a,b,c,d){$u(this,b,d)}.bind(this))};
function av(a){null!=a.na&&(E(a.Ei.volumes.all,function(a){"Show Label Map"==a.yb.innerHTML&&G(a,"D",function(c){c="true"==c.checked.toString();var d=(a.Yd().labelmap.visible=c)?1:-1;Xu(this,function(a,b,c,l){a=c.ia;b=a.w();a.C(b+d);bv(a,l)}.bind(this));Zf(function(){Xu(this,function(a,b,c,l){a=c.ia;b=a.w();a.C(b-d);bv(a,l)}.bind(this),1)}.bind(this),1)}.bind(this))}.bind(a)),Xu(a,function(a,c,d,e){var h=d.ia,k=d.Ld,l=d.pf;d=d.sd;h[Y.ORIENTATION_KEY]=c;k[Y.ORIENTATION_KEY]=c;l[Y.ORIENTATION_KEY]=
c;d[Y.ORIENTATION_KEY]=c;cv(this);dv(this);bv(h,e);$u(this,h[Y.ORIENTATION_KEY],e);ev(this,h);fv(this,this.Wb.volumes);null!=a.Wa()&&(G(a.Wa(),"I",function(){Wu(this)}.bind(this)),G(h,"u",function(a){bv(a.target,e);$u(this,a.target[Y.ORIENTATION_KEY],e);ev(this,a.target)}.bind(this)),G(k,"h",function(a){gv(this,a.target,e);this.Nm()}.bind(this)),G(l,"h",function(){a.Wa().WC(l.w()/100);this.Nm()}.bind(this)))}.bind(a)),a.na.gC())}
function fv(a,b){var c=b.split("_")[0];null!=a.ab[c]&&(a.ab[c].Zc(),a.Ei.Xf.refresh(),C(a.Ei[c],function(a){null!=a&&E(a,function(a){switch(c.toLowerCase()){case "volumes":var d=b.split("_")[0];a instanceof Dt?(a.ka.checked=a.Yd()[Cq]||!1,null==this.Is&&(this.Is=[]),-1==this.Is.indexOf(a)&&this.Is.push(a)):"Show Label Map"==a.yb.innerHTML&&(a.Yd()[Zt.HAS_LABEL_MAP_KEY]?a.Yd().labelmap.visible&&!a.ka.lh()&&a.Hd(!0):(S(a.a()),a.a().style.visibility="hidden",a.a().style.height="0px",a.Hd(!1)),this.ab[d].Zc());
a.refresh();break;case "meshes":a instanceof zt&&a.o();break;case "annotations":a instanceof zt&&(window.console.log("ANNOT",a),a.o())}}.bind(this))}.bind(a)))}f.KB=function(a,b){null==a.Az&&null==b||fv(this,null!=b?b:a.Az)};f.Qy=function(){var a=this.Ja.Bf.lA(Ht.LEVEL_CUTOFF);this.Ja.max.$o(a);this.Ja.min.$o(0);this.Ja.min.C(0);this.Ja.max.C(a);Mt(this.Ei.Xf);this.Ja.Bf.refresh();this.L.L[this.Wb.levels]};
function bv(a,b){if(null!=b){var c=a[Y.ORIENTATION_KEY],d="Y"==c||"Z"==c?a.T()-a.w()-1:a.w()-1;"false"==b.reslicing.toString()&&("transverse"==b[K.ORIENTATION_KEY]&&"Z"==c?d+=2:"coronal"==b[K.ORIENTATION_KEY]&&"Y"==c?d+=2:"sagittal"==b[K.ORIENTATION_KEY]&&"X"==c&&(d+=1));b["index"+a[Y.ORIENTATION_KEY]]=d}}function hv(a,b,c,d,e){var h=a.na.Rq(b).Wa();a=a.Ra.Xz().Eu(b);b=null;null!=a&&(b=a[$q]);null!=b&&("vertical"==c?b.UC(h.BA(d,e)):"horizontal"==c&&b.VC(h.gA(d,e)))}
function $u(a,b,c){if(null!=c)switch(b){case "X":b=c.indexX;hv(a,"Y","vertical",b,!0);hv(a,"Z","vertical",b,!0);break;case "Y":b=c.indexY;hv(a,"X","vertical",b,!1);hv(a,"Z","horizontal",b,!1);break;case "Z":b=c.indexZ,hv(a,"X","horizontal",b,!1),hv(a,"Y","horizontal",b,!1)}}function ev(a,b){Xu(a,function(a,b,e){a=e.Ld;e=e.ia;a.Jb(e.T());a.Qb(1);a.C(e.w())}.bind(a),b[Y.ORIENTATION_KEY])}function Wu(a){Xu(a,function(a,c,d){d.pf&&a.Wa()&&(a=a.Wa().IA(),d.pf.w(),d.pf.C(Math.round(100*a)))}.bind(a))}
function gv(a,b,c){null!=c&&Xu(a,function(a,c,h){h.ia.C(b.w())}.bind(a),b[Y.ORIENTATION_KEY])}function Ou(a){Xu(a,function(a,c,d){null!=d.ia&&d.ia.C(d.ia.T()/2)}.bind(a))}
function Pu(a){Xu(a,function(a,c,d,e){if(null!=e[Zt.SLICE_TO_RAS_KEY]&&null!=d.ia){slider=d.ia;orientation=slider[Y.ORIENTATION_KEY];a=e.bbox;e=e[Zt.SLICE_TO_RAS_KEY];var h;"X"==orientation?(h=a[1]-a[0],h=(e.WL[0]-a[0])/h):"Y"==orientation?(h=a[3]-a[2],h=(e.qG[1]-a[2])/h):"Z"==orientation&&(h=a[5]-a[4],h=(e.gG[2]-a[4])/h);slider.C(Math.round(slider.T()*h)+1)}}.bind(a))}
function cv(a){var b,c;Xu(a,function(a,e,h,k){null!=h.ia&&(c=h.ia,b=c[Y.ORIENTATION_KEY],null!=k&&(c.Jb(a.Wa().sA()),c.Qb(1),null!=b&&c.C(k["index"+b]+1)))})}function dv(a){var b;Xu(a,function(a,d,e,h){null!=e.ia&&(b=e.ia,playbutton=e.Jh,null!=h&&playbutton.PC(b))})}f.OB=function(){Xu(this,function(a,b,c,d){gv(this,c.Ld,d);Wu(this)}.bind(this));this.Nm()};
f.Ww=function(a){var b=!1===a?0:1;Xu(this,function(a,d,e){hl(e.ia.a(),200,b);hl(e.Ld.a(),200,b);hl(e.sd.Mg,200,b);hl(e.sd.tg,200,b);hl(e.pf.a(),200,b)}.bind(this))};f.gJ=function(){this.Ww(!1);this.L.Bp(Au,!1)};f.nM=function(){this.Ww(!0);this.L.Bp(Au,!0)};f.update=function(){this.Ra.Gp()};f.vD=function(a){var b=!0==a?"visible":"hidden";Xu(this,function(a,d,e){null!=e.sd&&(e.sd.Mg.style.visibility=b,e.sd.tg.style.visibility=b)}.bind(this))};
f.BD=function(){null!=this.Ra&&null!=this.na&&Xu(this,function(a,b,c,d){if(null!=c){var e=c.ia;c=c.Ld;e[Y.ORIENTATION_KEY]=b;c[Y.ORIENTATION_KEY]=b;null!=a.Wa()&&(gv(this,c,d),e.o())}}.bind(this))};
f.pD=function(a){a.DC(serverRoot+"/images/viewer/xiv/ui/LayoutMenu/menu.png");C({Sagittal:{Ih:Mr,tb:serverRoot+"/images/viewer/xiv/ui/Layouts/sagittal.png"},Coronal:{Ih:Ur,tb:serverRoot+"/images/viewer/xiv/ui/Layouts/coronal.png"},Transverse:{Ih:Qr,tb:serverRoot+"/images/viewer/xiv/ui/Layouts/transverse.png"},"3D":{Ih:Lr,tb:serverRoot+"/images/viewer/xiv/ui/Layouts/3d.png"},Conventional:{Ih:Nr,tb:serverRoot+"/images/viewer/xiv/ui/Layouts/conventional.png"},"Four-Up":{Ih:Rr,tb:serverRoot+"/images/viewer/xiv/ui/Layouts/four-up.png"},
"2D Row":{Ih:Sr,tb:serverRoot+"/images/viewer/xiv/ui/Layouts/2drow.png"},"2D Widescreen":{Ih:Jr,tb:serverRoot+"/images/viewer/xiv/ui/Layouts/2dwidescreen.png"}},function(b,c){a.wy(c,b.tb);this.Ra.ty(c,b.Ih);"Four-Up"==c&&this.Ra.CC(c)}.bind(this));G(a,"item_selected",this.GK.bind(this))};f.GK=function(a){this.Ra.vi(a.title);null!=this.L&&null!=this.L.Nq()&&this.L.Nq().ww(a.target.zj.src)};function iv(a,b){G(a.ab[b].qa,"c",function(a){this.KB(a,this.Wb[b])}.bind(a))}
function jv(a,b){G(b,"D",function(a){E(this.Is,function(b){var e=b.Yd();b!==a.target?(b.ka.checked=!1,e.visible=!1):(e.visible=!0,this.na.hC(e))}.bind(this))}.bind(a))}function kv(a,b){C(a.Ei[b],function(a,d){g(a)&&E(a,function(a){var c=a.Un||[];"all"!==d&&0<c.length&&c.push(d);this.ab[b].rf(a.a(),c);a instanceof Dt&&jv(this,a)}.bind(this))}.bind(a))}
function lv(a){a.ab=Wt();a.Wb=vb(a.ab);C(a.ab,function(a,c){var d=!1;switch(c){case "volumes":0==this.na.zu().length&&(d=!0);break;case "meshes":0==this.na.yu().length&&(d=!0);break;case "annotations":0==this.na.xu().length&&(d=!0)}d?tb(this.ab,c):(this.ab[c]=new vu,this.ab[c].k(),this.Wb[c]=c+"_"+B(),kv(this,c),iv(this,c))}.bind(a))}f.uz=function(){this.Ei=this.na.kf;this.Ja=this.Ei.Xf.n;lv(this);mv(this);av(this)};
function mv(a){C(a.ab,function(a,c){var d=!1;C(this.Ei[c],function(a){null!=a&&g(a)&&0<a.length&&(d=!0)}.bind(this));if(d){this.L.Nn(this.Wb[c],Y.CSS.qx,Y.CSS.Vf,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-"+db(c)+".png",db(c),!1,!1);var e=this.ab[c].a();O(e,Y.CSS.rx);this.L.L[this.Wb[c]].a().appendChild(e);1<this.ab[c].qa.Mu().length?this.ab[c].Jn():(this.ab[c].im(),this.ab[c].Zc());"levels"==c&&nv(this)}}.bind(a))}
function nv(a){var b=a.L.L[a.Wb.levels],c=a.ab.levels.qa,d=b.a();O(d,Y.CSS.zx);O(b.Uq(),Y.CSS.zx+"-title");var e=a.ab.levels.hb.a();e.style.visibility="hidden";S(e);E(c.Mu(),function(a){a.pb.style.height=0;a.pb.style.opacity=0;a.pb.style.visibility="hidden"});var c=a.ab.levels.qa.rA(1)[0],e=Q("div",{id:"HistDetails_"+B(),"class":"xiv-ui-viewboxinteractorhandler-histdetails"}),h=Q("div",{id:"HistDetailsFade_"+B(),"class":"xiv-ui-viewboxinteractorhandler-histdetails-fadebottom"});d.appendChild(h);d=
Q("div",{id:"HistDetauls_"+B(),"class":"xiv-ui-viewboxinteractorhandler-histdetails-expandbutton"},"Histogram...");e.appendChild(d);e.appendChild(a.Ja.ac.a());e.appendChild(a.Ja.pe.a());hi(c.vf,e,1);G(e,"mouseenter",function(){h.style.opacity=0;h.style.visibility="visible";gl(h,220)});G(e,"mouseleave",function(){jl(h,220,function(){h.style.visibility="hidden"})});a.Ja.ac.a().style.width="85%";a.Ja.ac.a().style.left="1%";a.Ja.ac.a().style.top="20px";a.Ja.pe.a().style.width="90%";a.Ja.pe.a().style.left=
"10px";a.Ja.pe.a().style.top="25px";a.Ja.pe.Hd(!1);a.M.Yb(a.Wb.levels);b.Gr("right","top",10,40);a.M.Yb(a.Wb.levels)}
f.g=function(){Y.d.g.call(this);document.removeEventListener("mousemove",this.Pw.bind(this));document.removeEventListener("mousemove",this.Pw);null!=this.xb&&(this.xb.g(),delete this.xb);null!=this.Wb&&D(this.Wb);delete this.Wb;null!=this.ab&&(C(this.ab,function(a){a.g()}),D(this.ab));delete this.ab;D(this.Gd);delete this.Gd;C(this.Uk,function(a){C(a,function(a){Vc(a);delete a});D(a)});D(this.Uk);delete this.Uk;this.pl&&(S(this.Sf),delete this.Sf);delete this.pl;delete this.Ei;delete this.ix;delete this.Ur;
delete this.M;delete this.na;delete this.Ra;delete this.L;delete this.qQ};v("xiv.ui.ViewBoxInteractorHandler.EventType",{rO:"R",RN:"S",hP:"T",pN:"U"});v("xiv.ui.ViewBoxInteractorHandler.TOGGLEABLE",Nu);v("xiv.ui.ViewBoxInteractorHandler.ORIENTATION_KEY",Y.ORIENTATION_KEY);v("xiv.ui.ViewBoxInteractorHandler.DIALOG_SPLIT","_");v("xiv.ui.ViewBoxInteractorHandler.prototype.createInteractors",Y.prototype.mz);v("xiv.ui.ViewBoxInteractorHandler.prototype.getDialogKey",Y.prototype.Zz);
v("xiv.ui.ViewBoxInteractorHandler.prototype.createTwoDZoomToggle",Y.prototype.tz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createTwoDPanToggle",Y.prototype.sz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createCrosshairToggle",Y.prototype.kz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createFolderToggle",Y.prototype.lz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createSettingsDialog",Y.prototype.qz);v("xiv.ui.ViewBoxInteractorHandler.prototype.syncAllCrosshairs",Y.prototype.Nm);
v("xiv.ui.ViewBoxInteractorHandler.prototype.applyAutoLevel",Y.prototype.Qy);v("xiv.ui.ViewBoxInteractorHandler.prototype.onLayoutResize",Y.prototype.OB);v("xiv.ui.ViewBoxInteractorHandler.prototype.toggleInteractorsVisible",Y.prototype.Ww);v("xiv.ui.ViewBoxInteractorHandler.prototype.hideInteractors",Y.prototype.gJ);v("xiv.ui.ViewBoxInteractorHandler.prototype.showInteractors",Y.prototype.nM);v("xiv.ui.ViewBoxInteractorHandler.prototype.update",Y.prototype.update);
v("xiv.ui.ViewBoxInteractorHandler.prototype.toggleCrosshairsVisible",Y.prototype.vD);v("xiv.ui.ViewBoxInteractorHandler.prototype.updateInteractorStyles",Y.prototype.BD);v("xiv.ui.ViewBoxInteractorHandler.prototype.syncLayoutMenuToLayoutHandler",Y.prototype.pD);v("xiv.ui.ViewBoxInteractorHandler.prototype.createViewableCtrls",Y.prototype.uz);v("xiv.ui.ViewBoxInteractorHandler.prototype.dispose",Y.prototype.g);function ov(){wc.call(this)}w(ov,wc);v("xiv.utils.ErrorCatcher",ov);
function pv(a){function b(a){a.target.g()}var c;g(a)||(a=[a]);null!=c&&!g(c)&&(c=[c]);var d=new kn;Xm(d,Zm);E(a,function(a){d.mk(a)});null!=c&&E(c,function(a){d.At(a)});d.Cc("XImgView Error");d.ca(!0);d.a().style.position="fixed";d.Ud();d.a().style.opacity=0;gl(d.a(),400);d.ei().style.opacity=0;hl(d.ei(),400,.75);d.a().style.height="250px";a=U(d.a());d.a().style.top="calc(50% - "+a.height/2+"px)";d.a().style.left="calc(50% - "+a.width/2+"px)";d.ds();d.Ud();Tc(d,Ym,b);Tc(d,"f",b)}
function qv(){var a,b='<a target="_blank" style="color: #5CB8E6"  href=';$b()?(a="Internet Explorer",b+='"http://msdn.microsoft.com/en-us/library/ie/bg182648(v=vs.85).aspx">'):Xb("Chrome")||Xb("CriOS")?(a="Chrome",b+='"https://productforums.google.com/forum/#!msg/chrome/CgYesRogD4c/sU1TQsRgnWgJ">'):Xb("Firefox")?(a="Firefox",b+='"https://support.mozilla.org/en-US/questions/984663">'):ac()?(a="Safari",b+='"https://discussions.apple.com/thread/3300585?start=0">'):Zb()&&(a="Opera",b+='"http://techdows.com/2012/06/turn-on-hardware-acceleration-and-webgl-in-opera-12.html">');
pv('<br>It looks like <a target="_blank" style="color: #5CB8E6" href="https://developer.mozilla.org/en-US/docs/Web/WebGL/Getting_started_with_WebGL">Experimental-WebGL</a> is disabled.<br><br><br>'+(b+("How to enable WebGL in "+a+".</a>")))}ov.checkForWebGL=function(){var a=Q("canvas"),b;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(c){b=null}return null!=b?!0:!1};f=ov.prototype;f.Ut=[];f.rl=null;f.Ir=null;f.Kd=null;f.ju=document.body;f.Pv=null;f.eH=function(){return this.Ut};
f.IC=function(a){this.Pv=a};f.tC=function(a){this.ju=a};function rv(a){Jb(a.Ut);a.rl=window.console.log;a.Ir=function(){a.rl&&a.rl.apply(this,arguments);var b="";E(arguments,function(a,d){0<d&&(b+=" ");b+=a});a.Ut.push(b)};window.console.log=a.Ir}f.Js=function(a){!0===a?(rv(this),window.onerror=this.Ov.bind(this)):(window.onerror=void 0,null!=this.rl&&(window.console.log=this.rl,this.Ir=this.rl=null))};
f.Ov=function(a,b,c){if(null==this.Kd){null!=this.Pv&&this.Pv();var d="",e="",d="<b>Render Error!</b><br><br>";r(a)&&(e+=a+"<br>");r(b)&&(e+="src: "+b+"<br>",u(c)&&(e+=" line: "+c+"<br>"));this.Kd=new kn;this.Kd.k(this.ju);Xm(this.Kd,null);this.Kd.mk(d);this.Kd.At(e);Qm(this.Kd,!0);this.Kd.ca(!0);this.Kd.ds();this.Kd.Ud();Tc(this.Kd,"f",function(a){a.target.g();this.Kd=null}.bind(this))}};f.clear=function(){null!=this.Kd&&(this.Kd.g(),delete this.Kd)};
f.g=function(){ov.d.g.call(this);this.clear();delete this.rl;delete this.Ir;delete this.ju};v("xiv.utils.ErrorCatcher.EventType",{ERROR:"V"});
v("xiv.utils.ErrorCatcher.isCompatible",function(){var a=!0,b=bc(),c={Chrome:{po:Xb("Chrome")||Xb("CriOS"),Do:11},IE:{po:$b(),Do:11},Safari:{po:ac(),Do:5.1},Opera:{po:Zb(),Do:12},Firefox:{po:Xb("Firefox"),Do:4}},d=!1;C(c,function(c){c.po&&!d&&1==Za(c.Do,b)&&(pv("<br>XImgView is supported on the following browsers:<br>Google Chrome, Version 12+<br>Firefox, Version 4+<br>Safari, Version 5.1+<br>Opera Next, Version 12+<br>Internet Explorer, Version 11+<br>"),a=!1,d=!0)});a&&!ov.checkForWebGL()&&(qv(),
a=!1);return a});v("xiv.utils.ErrorCatcher.executeTestError",function(){throw"TEST ERROR!";});v("xiv.utils.ErrorCatcher.checkForWebGL",ov.checkForWebGL);v("xiv.utils.ErrorCatcher.prototype.setOnErrorCallback",ov.prototype.IC);v("xiv.utils.ErrorCatcher.prototype.setDialogParent",ov.prototype.tC);v("xiv.utils.ErrorCatcher.prototype.getConsoleLog",ov.prototype.eH);v("xiv.utils.ErrorCatcher.prototype.waitForError",ov.prototype.Js);v("xiv.utils.ErrorCatcher.prototype.clear",ov.prototype.clear);
v("xiv.utils.ErrorCatcher.prototype.onError",ov.prototype.Ov);v("xiv.utils.ErrorCatcher.prototype.dispose",ov.prototype.g);F&&pc(8);function Kh(){W.call(this);this.Qo=Q("div",{id:Kh.ID_PREFIX+"_ProgBarHolder_"+B(),"class":Kh.CSS.NE});R(this.a(),this.Qo);this.Gm=Q("div",{id:Kh.ID_PREFIX+"_ProgBarThumb_"+B(),"class":Kh.CSS.Vs});R(this.Qo,this.Gm);this.mh=Q("div",{id:Kh.ID_PREFIX+"_LabelHolder_"+B(),"class":Kh.CSS.uE});R(this.a(),this.mh);this.oj=Q("div",{id:Kh.ID_PREFIX+"_EndNode_"+B(),"class":Kh.CSS.dE});R(this.Gm,this.oj)}w(Kh,W);v("xiv.ui.ProgressBarPanel",Kh);var sv={};Kh.ID_PREFIX="xiv.ui.ProgressBarPanel";
Kh.CSS_SUFFIX={Vs:"thumb",NE:"progbarholder",mO:"progressbar",uE:"labelholder",dE:"endnode",Os:"endnode-glow",yN:"glownode"};sv={ZM:"W"};f=Kh.prototype;f.ad=0;f.fe=null;f.vo="";f.Dw=!1;f.Mf=function(a){this.vo=a;this.mh.innerHTML=this.vo};f.Cw=function(a){this.Dw=null!=a&&!1===a?!1:!0;this.C(this.ad)};
f.C=function(a){0>a||100<a||(this.ad=a,this.Gm.style.width="calc("+a.toString()+"% + 4px)",0==this.ad&&Jh(this.oj)?Gh(this.oj,Kh.CSS.Os):90<this.ad&&!Jh(this.oj)&&O(this.oj,Kh.CSS.Os),this.mh.innerHTML=this.vo,this.Dw&&(0<this.vo.length&&(this.mh.innerHTML+=" "),this.mh.innerHTML+=this.ad.toString()+"%"))};f.w=function(){return this.ad};
f.f=function(){Kh.d.f.call(this);null!=this.Gm&&(S(this.Gm),delete this.Gm);null!=this.Qo&&(S(this.Qo),delete this.Qo);null!=this.mh&&(S(this.mh),delete this.mh);null!=this.oj&&(S(this.oj),delete this.oj);null!=this.fe&&(D(this.fe),delete this.fe);this.vo=this.Dw=null};v("xiv.ui.ProgressBarPanel.EventType",sv);v("xiv.ui.ProgressBarPanel.ID_PREFIX",Kh.ID_PREFIX);v("xiv.ui.ProgressBarPanel.CSS_SUFFIX",Kh.CSS_SUFFIX);v("xiv.ui.ProgressBarPanel.prototype.setLabel",Kh.prototype.Mf);
v("xiv.ui.ProgressBarPanel.prototype.showValue",Kh.prototype.Cw);v("xiv.ui.ProgressBarPanel.prototype.setValue",Kh.prototype.C);v("xiv.ui.ProgressBarPanel.prototype.getValue",Kh.prototype.w);v("xiv.ui.ProgressBarPanel.prototype.disposeInternal",Kh.prototype.f);function tv(){W.call(this)}w(tv,vu);v("nrg.ui.ThumbnailGallery",tv);tv.ID_PREFIX="nrg.ui.ThumbnailGallery";tv.CSS_SUFFIX={cE:"dialog",Ws:"thumbnail",Xs:"thumbnail-image",XO:"thumbnail-text"};var uv=B();f=tv.prototype;f.ws=!1;f.Hw=function(a){this.ws=a;null!=this.qa&&this.ws&&this.qa.rw(vv)};f.k=function(a){tv.d.k.call(this,a);wv(this);this.ws&&this.qa.rw(vv)};
function vv(a,b){if(null!=a.childNodes&&0!=a.childNodes.length)for(var c=ii(a),d=b[uv].toLowerCase(),e,h,k=c.length,l=0;l<k;l++)if(h=c[l],null!=h[uv]&&(e=h[uv].toLowerCase(),e=La(d,e),0>e)){gi(b,h);return}a.appendChild(b)}f.On=function(a,b){var c=new yi;Ih(c.a(),Eh(c.a()),this.Nj);Ih(c.Ee,Eh(c.Ee),this.ll);Ih(c.Xa,Eh(c.Xa),this.kl);c.uw(a);c.kp(b);return c};f.loop=function(a){C(this.Ec,function(b){a(b)})};
f.Wl=function(a,b){if(!qb(this.Ec,a)){this.Ec=this.Ec?this.Ec:{};this.Ec[a.a().getAttribute("id")]=a;a.a()[uv]=a.Ju().toLowerCase();this.rf(a.a(),b);this.Zc();var c=a.a();G(c,"mouseenter",function(){this.dispatchEvent({type:"X",Ii:a})}.bind(this));G(c,"mouseleave",function(){this.dispatchEvent({type:"Y",Ii:a})}.bind(this))}};f.ej=function(a,b,c){a=this.On(a,b);this.Wl(a,c);xv(this,"image");xv(this,"text");xv(this,"thumbnail");this.Zc();return a};
f.lp=function(){tv.d.lp.call(this);G(this.Eg,"mouseover",this.mD.bind(this))};f.mD=function(a){this.AB=a.clientX;this.BB=a.clientY};function xv(a,b){var c,d=[],e="";for(e in a.Ec){switch(b){case "thumbnail":d=a.Nj;c=a.Ec[e].a();break;case "image":d=a.kl;c=a.Ec[e].Xa;break;case "text":d=a.ll,c=a.Ec[e].Ee}Ih(c,Eh(c),d)}}f.zy=function(a){null!=this.Nj||wv(this);this.Nj.push(a);xv(this,"thumbnail")};f.Cy=function(a){this.kl.push(a);xv(this,"image")};f.Dy=function(a){this.ll.push(a);xv(this,"text")};
f.o=function(a){a&&al(this.a(),a)};function wv(a){var b=new yi;a.Nj=Eh(b.a());a.Nj.push(tv.CSS.Ws);a.kl=Eh(b.Xa);a.kl.push(tv.CSS.Xs);a.ll=Eh(b.Ee);a.ll.push(tv.CSS.Lx);S(b.a());delete b}
f.f=function(){tv.d.f.call(this);delete this.ws;null!=this.AB&&delete this.AB;null!=this.BB&&delete this.BB;null!=this.Ec&&(this.Rn(this.Ec),delete this.Ec);null!=this.qa&&(J(this.qa),this.qa.g(),delete this.qa);null!=this.Nj&&(Jb(this.Nj),delete this.Nj);null!=this.kl&&(Jb(this.kl),delete this.kl);null!=this.ll&&(Jb(this.ll),delete this.ll);delete this.OQ};v("nrg.ui.ThumbnailGallery.ID_PREFIX",tv.ID_PREFIX);v("nrg.ui.ThumbnailGallery.CSS_SUFFIX",tv.CSS_SUFFIX);
v("nrg.ui.ThumbnailGallery.THUMB_SORT_TAG",uv);v("nrg.ui.ThumbnailGallery.thumbnailSorter",vv);v("nrg.ui.ThumbnailGallery.prototype.sortThumbnailsOnInsert",tv.prototype.Hw);v("nrg.ui.ThumbnailGallery.prototype.render",tv.prototype.k);v("nrg.ui.ThumbnailGallery.prototype.createThumbnail",tv.prototype.On);v("nrg.ui.ThumbnailGallery.prototype.loop",tv.prototype.loop);v("nrg.ui.ThumbnailGallery.prototype.addThumbnail",tv.prototype.Wl);v("nrg.ui.ThumbnailGallery.prototype.createAndAddThumbnail",tv.prototype.ej);
v("nrg.ui.ThumbnailGallery.prototype.setZippyTreeEvents",tv.prototype.lp);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailClass",tv.prototype.zy);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailImageClass",tv.prototype.Cy);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailTextClass",tv.prototype.Dy);v("nrg.ui.ThumbnailGallery.prototype.updateStyle",tv.prototype.o);v("nrg.ui.ThumbnailGallery.prototype.disposeInternal",tv.prototype.f);function yv(){W.call(this)}w(yv,W);v("xiv.ui.ViewableGroupMenu",yv);yv.ID_PREFIX="xiv.ui.ViewableGroupMenu";yv.CSS_SUFFIX={vl:"header",Ws:"thumbnail",Lx:"thumbnail-text",Xs:"thumbnail-image",eF:"thumbnailgallery",Jp:"background"};f=yv.prototype;f.aa=null;f.rc=null;f.qm=null;
f.k=function(a){yv.d.k.call(this,a);this.rc=Q("div",{id:this.constructor.ID_PREFIX+"_Background_"+B()});O(this.rc,this.constructor.CSS.Jp);null!=this.a().parentNode||null!=a?R(a||this.a().parentNode,this.rc):R(this.a(),this.rc);this.qm=Q("div",{id:this.constructor.ID_PREFIX+"_HeaderText_"+B(),"class":yv.CSS.vl});this.qm.innerHTML="<b> Select Slicer Scene View </b>";R(this.a(),this.qm);null!=this.aa||this.reset()};f.Vn=function(){return this.rc};f.show=function(){gl(this.a(),km.$M)};
f.ej=function(a,b){null!=this.aa||this.reset();var c=this.aa.ej(a,b);zv(this,c);return c};f.sm=function(){jl(this.a(),500);S(this.a())};f.reset=function(){null!=this.aa&&(this.aa.g(),delete this.aa);this.aa=new tv;this.aa.Hw(!0);this.aa.k(this.a());O(this.aa.a(),yv.CSS.eF);this.aa.zy(yv.CSS.Ws);this.aa.Cy(yv.CSS.Xs);this.aa.Dy(yv.CSS.Lx)};function zv(a,b){G(b,"L",function(a){a.target.lw(300,function(){this.dispatchEvent({type:"Z",Tw:b})}.bind(this))}.bind(a))}
f.f=function(){yv.d.f.call(this);null!=this.rc&&(S(this.rc),delete this.rc);null!=this.qm&&(S(this.qm),delete this.qm);null!=this.aa&&(this.aa.g(),delete this.aa)};v("xiv.ui.ViewableGroupMenu.ID_PREFIX",yv.ID_PREFIX);v("xiv.ui.ViewableGroupMenu.EventType",{vP:"Z"});v("xiv.ui.ViewableGroupMenu.CSS_SUFFIX",yv.CSS_SUFFIX);v("xiv.ui.ViewableGroupMenu.prototype.render",yv.prototype.k);v("xiv.ui.ViewableGroupMenu.prototype.getBackground",yv.prototype.Vn);v("xiv.ui.ViewableGroupMenu.prototype.show",yv.prototype.show);
v("xiv.ui.ViewableGroupMenu.prototype.createAndAddThumbnail",yv.prototype.ej);v("xiv.ui.ViewableGroupMenu.prototype.hide",yv.prototype.sm);v("xiv.ui.ViewableGroupMenu.prototype.reset",yv.prototype.reset);v("xiv.ui.ViewableGroupMenu.prototype.disposeInternal",yv.prototype.f);var Av;function Bv(a,b,c,d,e){this.dj=a;this.Xk=b;this.Ly=c;this.cG=d;this.Oo=e}Bv.prototype.getName=function(){return this.Xk};function Cv(a){return!a.Xk||"[object Object]"==a.dj}
function Dv(a){var b=[a.dj?Ev(a.dj)+".":"",a.Xk?Ev(Fv(a.Xk)):"anonymous",Ev(a.cG),a.Ly?" [as "+Ev(Fv(a.Ly))+"]":""];if(a.Oo)if(b.push(" at "),Boolean(ba.CLOSURE_INSPECTOR___&&ba.CLOSURE_INSPECTOR___.supportsJSUnit)){var c=a.Oo.match(/\d+$/)[0];b.push('<a href="" onclick="CLOSURE_INSPECTOR___.showLine(\'',Ev(a.Oo),"', '",c,"'); return false\">",Ev(a.Oo),"</a>")}else b.push(Ev(a.Oo));return b.join("")}
var Gv=/^    at(?: (?:(.*?)\.)?((?:new )?(?:[a-zA-Z_$][\w$]*|<anonymous>))(?: \[as ([a-zA-Z_$][\w$]*)\])?)? (?:\(unknown source\)|\(native\)|\((?:eval at )?((?:http|https|file):\/\/[^\s)]+|javascript:.*)\)|((?:http|https|file):\/\/[^\s)]+|javascript:.*))$/,Hv=/^([a-zA-Z_$][\w$]*)?(\(.*\))?@(?::0|((?:http|https|file):\/\/[^\s)]+|javascript:.*))$/,Iv=/^(?:(?:([a-zA-Z_$][\w$]*)|<anonymous function(?:\: (?:([a-zA-Z_$][\w$]*(?:\.[a-zA-Z_$][\w$]*)*)\.)?([a-zA-Z_$][\w$]*))?>)(\(.*\)))?@((?:http|https|file):\/\/[^\s)]+|javascript:.*)?$/,
Jv=/^function ([a-zA-Z_$][\w$]*)/,Kv=/^   at ([a-zA-Z_$][\w$]*(?:\s+\w+)*)\s*\((eval code:[^)]*|((?:http|https|file):\/\/[^\s)]+|javascript:.*))\)?$/;
function Lv(){for(var a=[],b=arguments.callee.caller,c=0;b&&20>c;){var d=Function.prototype.toString.call(b).match(Jv),d=d?d[1]:"",e=["("];if(b.arguments)for(var h=0;h<b.arguments.length;h++){var k=b.arguments[h];0<h&&e.push(", ");r(k)?e.push('"',k,'"'):k&&k.$replay?e.push("goog.testing.Mock"):e.push(String(k))}else e.push("unknown");e.push(")");a.push(new Bv("",d,"",e.join(""),""));try{b=b.caller}catch(l){break}c++}return a}
function Mv(a){var b=a.match(Gv);if(b)return new Bv(b[1]||"",b[2]||"",b[3]||"","",b[4]||b[5]||"");if(5E5<a.length){var b=a.indexOf("("),c=a.lastIndexOf("@"),d=a.lastIndexOf(":"),e="";0<=b&&b<c&&(e=a.substring(0,b));var h="";0<=c&&c+1<d&&(h=a.substring(c+1));d="";0<=b&&0<c&&b<c&&(d=a.substring(b,c));return new Bv("",e,"",d,h)}return(b=a.match(Hv))?new Bv("",b[1]||"","",b[2]||"",b[3]||""):(b=a.match(Iv))?new Bv(b[2]||"",b[1]||b[3]||"","",b[4]||"",b[5]||""):(b=a.match(Kv))?new Bv("",b[1]||"","","",b[2]||
""):null}function Fv(a){return Av?Av(a):a}function Ev(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Nv(){var a=Error();if(a.stack)return a.stack;try{null.x()}catch(b){return b.stack}return""}v("setDeobfuscateFunctionName",function(a){Av=a});function Ov(a,b){return a==b}function Pv(a,b){return a.toString()===b.toString()}var Qv={String:Ov,Number:Ov,Boolean:Ov,Date:function(a,b){return a.getTime()==b.getTime()},RegExp:Pv,Function:Pv};function Rv(a,b,c){return Math.abs(a-b)<=c}var Sv={Number:Rv};
function Zv(a){var b=typeof a;try{switch(b){case "object":if(null==a){b="null";break}case "function":switch(a.constructor){case (new String("")).constructor:b="String";break;case (new Boolean(!0)).constructor:b="Boolean";break;case (new Number(0)).constructor:b="Number";break;case [].constructor:b="Array";break;case RegExp().constructor:b="RegExp";break;case (new Date).constructor:b="Date";break;case Function:b="Function";break;default:var c=a.constructor.toString().match(/function\s*([^( ]+)\(/);
c&&(b=c[1])}break}}catch(d){}finally{b=b.substr(0,1).toUpperCase()+b.substr(1)}return b}function $v(a){var b;try{b="<"+String(a)+">"}catch(c){b="<toString failed: "+c.message+">"}null!==a&&void 0!==a&&(b+=" ("+Zv(a)+")");return b}function aw(a,b){return b.length==a+1?b[0]:null}function bw(a,b,c){return c.length==b+1?c[a]:c[a-1]}function cw(a,b){b.length==a||b.length==a+1&&r(b[0])||dw(null,"Incorrect arguments passed to assert function")}
function ew(a,b){var c="Expected "+$v(a)+" but was "+$v(b);if("string"==typeof a&&"string"==typeof b){for(var d=Math.min(a.length,b.length),e=0;e<d&&a.charAt(e)==b.charAt(e);)e++;for(var h=0;h<d&&a.charAt(a.length-h-1)==b.charAt(b.length-h-1);)h++;e+h>d&&(h=0);if(2<e||2<h)d=function(a){var b=Math.max(0,e-2),c=Math.min(a.length,a.length-(h-2));return(0<b?"...":"")+a.substring(b,c)+(c<a.length?"...":"")},c+="\nDifference was at position "+e+". Expected ["+d(a)+"] vs. actual ["+d(b)+"]"}return c}
function fw(a,b){cw(1,arguments);var c=aw(1,arguments),d=bw(1,1,arguments);ja(d)||dw(c,"Bad argument to assert(boolean)");d||dw(c,"Call to assert(boolean) with false")}function gw(a,b){cw(1,arguments);var c=aw(1,arguments),d=bw(1,1,arguments);ja(d)||dw(c,"Bad argument to assertTrue(boolean)");d||dw(c,"Call to assertTrue(boolean) with false")}function hw(a,b,c){cw(2,arguments);var d=bw(1,2,arguments),e=bw(2,2,arguments),h=ew(d,e);d===e||dw(aw(2,arguments),h)}
function iw(a,b){cw(1,arguments);var c="Expected not to be "+$v(null);null!==bw(1,1,arguments)||dw(aw(1,arguments),c)}function jw(a,b){cw(1,arguments);var c="Expected not to be "+$v(void 0);void 0!==bw(1,1,arguments)||dw(aw(1,arguments),c)}
function kw(a,b,c){function d(a,b,c){for(var q=0;q<h.length;++q){var t=h[q]===a,s=k[q]===b;if(t||s){t&&s||e.push("Asymmetric cycle detected at "+c);return}}h.push(a);k.push(b);if(a!==b)if(q=Zv(a),t=Zv(b),q==t){var s="Array"==q,z=l(q,a,b);if(null!=z)""!=z&&e.push(c+": "+z);else if(s&&a.length!=b.length)e.push(c+": Expected "+a.length+"-element array but got a "+b.length+"-element array");else if(z=c+(s?"[%s]":c?".%s":"%s"),a.__iterator__)la(a.gm)?a.gm(b)||e.push("equals() returned false for "+(c||
q)):a.Gb?d(a.Gb,b.Gb,z.replace("%s","map_")):e.push("unable to check "+(c||q)+" for equality: it has an iterator we do not know how to handle. please add an equals method");else{for(var y in a)s&&(y|0)==y||(y in b?d(a[y],b[y],z.replace("%s",y)):e.push("property "+y+" not present in actual "+(c||t)));for(y in b)s&&(y|0)==y||y in a||e.push("property "+y+" not present in expected "+(c||q));if(s)for(y=0;y<a.length;y++)d(a[y],b[y],z.replace("%s",String(y)))}}else e.push(c+" "+ew(a,b));h.pop();k.pop()}
var e=[],h=[],k=[],l=c||function(a,b,c){return(a=Qv[a])?a(b,c)?"":ew(b,c):null};d(a,b,"");return 0==e.length?null:ew(a,b)+"\n   "+e.join("\n   ")}function lw(a,b,c){cw(2,arguments);var d=aw(2,arguments)?aw(2,arguments):"",e=kw(bw(1,2,arguments),bw(2,2,arguments));!e||dw(d,e)}function mw(a,b,c,d){cw(3,arguments);var e=bw(1,3,arguments),h=bw(2,3,arguments),k=bw(3,3,arguments);Rv(e,h,k)||dw(aw(3,arguments),"Expected "+e+", but got "+h+" which was more than "+k+" away")}
function nw(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b}function ow(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function pw(a){var b=document.createElement("DIV");b.innerHTML=a;return b.innerHTML.replace(/^\s+|\s+$/g,"")}function dw(a,b){ba.CLOSURE_INSPECTOR___&&ba.CLOSURE_INSPECTOR___.supportsJSUnit&&ba.CLOSURE_INSPECTOR___.jsUnitFailure(a,b);throw new qw(a,b);}
function qw(a,b){this.message=(a?a:"")+(a&&b?"\n":"")+(b?b:"");var c=Nv();if(c){if(g(c))for(var d=[],e=0;e<c.length;e++){var h=c[e],k=h.getFunctionName()||"unknown",l=h.getFileName(),h=l?l+":"+h.getLineNumber()+":"+h.getColumnNumber():"unknown";d.push(new Bv("",k,"","",h))}else for(c=c.replace(/\s*$/,"").split("\n"),d=[],e=0;e<c.length;e++)d.push(Mv(c[e]));c=d}else c=Lv();for(d=c.length-1;c[d]&&Cv(c[d]);)d--;e=-1;for(k=0;k<c.length;k++)if(c[k]&&"_assert"==c[k].getName()){e=k;break}h=[];for(k=e+1;k<=
d;k++)h.push("> "),c[k]?h.push(Dv(c[k])):h.push("(unknown)"),h.push("\n");this.comment=a||null;Error.captureStackTrace?Error.captureStackTrace(this,qw):this.stack=Error().stack||""}w(qw,Error);qw.prototype.toString=function(){return this.message};v("fail",function(a){dw("Call to fail()",a)});v("assert",fw);
v("assertThrows",function(a,b){cw(1,arguments);var c=bw(1,1,arguments),d=aw(1,arguments);"function"==typeof c||dw(d,"Argument passed to assertThrows is not a function");try{c()}catch(e){return e&&r(e.stacktrace)&&r(e.message)&&(c=e.message.length-e.stacktrace.length,e.message.indexOf(e.stacktrace,c)==c&&(e.message=e.message.substr(0,c-14))),e}dw(d,"No exception thrown from function passed to assertThrows")});
v("assertNotThrows",function(a,b){cw(1,arguments);var c=aw(1,arguments),d=bw(1,1,arguments);"function"==typeof d||dw(c,"Argument passed to assertNotThrows is not a function");try{return d()}catch(e){c=(c?c+"\n":"")+"A non expected exception was thrown from function passed to assertNotThrows",dw(c,e.stack||e.stacktrace||e.toString())}});v("assertTrue",gw);
v("assertFalse",function(a,b){cw(1,arguments);var c=aw(1,arguments),d=bw(1,1,arguments);ja(d)||dw(c,"Bad argument to assertFalse(boolean)");!d||dw(c,"Call to assertFalse(boolean) with true")});v("assertEquals",hw);v("assertNotEquals",function(a,b,c){cw(2,arguments);var d=bw(2,2,arguments),e="Expected not to be "+$v(d);bw(1,2,arguments)!==d||dw(aw(2,arguments),e)});v("assertNull",function(a,b){cw(1,arguments);var c=bw(1,1,arguments),d=ew(null,c);null===c||dw(aw(1,arguments),d)});
v("assertNotNull",iw);v("assertUndefined",function(a,b){cw(1,arguments);var c=bw(1,1,arguments),d=ew(void 0,c);void 0===c||dw(aw(1,arguments),d)});v("assertNotUndefined",jw);v("assertNotNullNorUndefined",function(a,b){cw(1,arguments);iw.apply(null,arguments);jw.apply(null,arguments)});v("assertNonEmptyString",function(a,b){cw(1,arguments);var c=bw(1,1,arguments),d="Expected non-empty string but was "+$v(c);void 0!==c&&null!==c&&"string"==typeof c&&""!==c||dw(aw(1,arguments),d)});
v("assertNaN",function(a,b){cw(1,arguments);isNaN(bw(1,1,arguments))||dw(aw(1,arguments),"Expected NaN")});v("assertNotNaN",function(a,b){cw(1,arguments);!isNaN(bw(1,1,arguments))||dw(aw(1,arguments),"Expected not NaN")});v("assertObjectEquals",lw);
v("assertObjectRoughlyEquals",function(a,b,c,d){cw(3,arguments);var e=bw(3,3,arguments),h=aw(3,arguments)?aw(3,arguments):"",k=kw(bw(1,3,arguments),bw(2,3,arguments),function(a,b,c){return(a=Sv[a])?a(b,c,e)?"":ew(b,c)+" which was more than "+e+" away":null});!k||dw(h,k)});v("assertObjectNotEquals",function(a,b,c){cw(2,arguments);var d=aw(2,arguments)?aw(2,arguments):"";kw(bw(1,2,arguments),bw(2,2,arguments))||dw(d,"Objects should not be equal")});
v("assertArrayEquals",function(a,b,c){cw(2,arguments);var d=bw(1,2,arguments),e=bw(2,2,arguments),h=aw(2,arguments)?aw(2,arguments):"",k=Zv(d);"Array"==k||dw(h,"Expected an array for assertArrayEquals but found a "+k);k=Zv(e);"Array"==k||dw(h,"Expected an array for assertArrayEquals but found a "+k);lw(h,Array.prototype.concat.call(d),Array.prototype.concat.call(e))});
v("assertElementsEquals",function(a,b,c){cw(2,arguments);var d=bw(1,2,arguments),e=bw(2,2,arguments),h=aw(2,arguments)?aw(2,arguments):"";if(d){hw("length mismatch: "+h,d.length,e.length);for(var k=0;k<d.length;++k)hw("mismatch at index "+k+": "+h,d[k],e[k])}else fw(h,!e)});
v("assertElementsRoughlyEqual",function(a,b,c,d){cw(3,arguments);var e=bw(1,3,arguments),h=bw(2,3,arguments),k=bw(3,3,arguments),l=aw(3,arguments)?aw(3,arguments):"";if(e){hw("length mismatch: "+l,e.length,h.length);for(var n=0;n<e.length;++n)mw(l,e[n],h[n],k)}else fw(l,!h)});
v("assertSameElements",function(a,b,c){cw(2,arguments);var d=bw(1,2,arguments),e=bw(2,2,arguments),h=aw(2,arguments);gw("Bad arguments to assertSameElements(opt_message, expected: ArrayLike, actual: ArrayLike)",ia(d)&&ia(e));d=nw(d);e=nw(e);d.length==e.length||dw(h,"Expected "+d.length+" elements: ["+d+"], got "+e.length+" elements: ["+e+"]");for(var k=nw(d),l=0;l<e.length;l++){var n=ow(k,e[l]);-1!=n||dw(h,"Expected ["+d+"], got ["+e+"]");k.splice(n,1)}});
v("assertEvaluatesToTrue",function(a,b){cw(1,arguments);bw(1,1,arguments)||dw(aw(1,arguments),"Expected to evaluate to true")});v("assertEvaluatesToFalse",function(a,b){cw(1,arguments);bw(1,1,arguments)&&dw(aw(1,arguments),"Expected to evaluate to false")});v("assertHTMLEquals",function(a,b,c){cw(2,arguments);var d=bw(2,2,arguments),e=pw(bw(1,2,arguments)),d=pw(d),h=ew(e,d);e===d||dw(aw(2,arguments),h)});
v("assertHashEquals",function(a,b,c){cw(2,arguments);var d=bw(1,2,arguments),e=bw(2,2,arguments),h=aw(2,arguments),k;for(k in d)k in e||dw(h,"Expected hash had key "+k+" that was not found"),d[k]==e[k]||dw(h,"Value for key "+k+" mismatch - expected = "+d[k]+", actual = "+e[k]);for(k in e)k in d||dw(h,"Actual hash had key "+k+" that was not expected")});v("assertRoughlyEquals",mw);
v("assertContains",function(a,b,c){cw(2,arguments);var d=bw(1,2,arguments),e=bw(2,2,arguments);-1!=ow(e,d)||dw(aw(2,arguments),"Expected '"+e+"' to contain '"+d+"'")});v("assertNotContains",function(a,b,c){cw(2,arguments);var d=bw(1,2,arguments),e=bw(2,2,arguments);-1==ow(e,d)||dw(aw(2,arguments),"Expected '"+e+"' not to contain '"+d+"'")});
v("assertRegExp",function(a,b,c){cw(2,arguments);var d=bw(1,2,arguments),e=bw(2,2,arguments);"string"==typeof d&&(d=new RegExp(d));d.test(e)||dw(aw(2,arguments),"Expected '"+e+"' to match RegExp "+d.toString())});function Z(){W.call(this);this.Sa=[];this.Al={};this.Ib={bP:null,Zm:null,Wf:null,PD:null,aN:null,QD:null,VE:null,fF:null};this.Ib.Zm=Q("div",{id:Z.ID_PREFIX+"_menu_top_left_"+B(),"class":Z.CSS.GE,viewbox:this.a().id});hi(this.a(),this.Ib.Zm,0);rw(this);this.lr=Q("div",{id:Z.ID_PREFIX+"_Instruction_"+B(),"class":Z.CSS.sE});this.lr.innerHTML="Click or drag and drop any left thumbnail to view.";R(this.a(),this.lr);this.fc=new Kh;R(this.Kb,this.fc.a());this.fc.a().style.opacity=0;Yu(this.fc,0);this.o();
this.lv()}w(Z,W);v("xiv.ui.ViewBox",Z);Z.ID_PREFIX="xiv.ui.ViewBox";Z.CSS_SUFFIX={AN:"hidden",PO:"tabdragger",QO:"tabdragger-handle",tF:"viewlayoutmenu",GE:"menu-top-left",FE:"menu-left",sF:"viewlayouthandler",RO:"ziptabs",SO:"ziptab-bounds",Nx:"viewframe",kN:"component-highlight",oF:"viewablegroupmenu",rN:"emptymenubutton",sE:"instructions"};var sw={Scans:"Four-Up",Slicer:"Conventional","Slicer Scenes":"Conventional"};f=Z.prototype;f.MJ="empty";f.ee=null;f.Ra=null;f.Sb=null;f.na=null;f.fc=null;
f.Fc=null;f.L=null;f.Fh=null;f.ge=null;f.TA=!1;f.Ms=!1;f.Qm=null;f.el=null;f.Rm=null;f.Rk=!1;f.ys=!1;f.DJ=function(){return this.Rk};f.Wa=function(){return this.na};f.UH=function(){return this.Ib};f.PH=function(){return this.MJ};f.NI=function(){return this.Sa};f.JI=function(){return this.Kb};f.MH=function(){return this.Ra};f.NH=function(){return this.Sb};f.LI=function(){return this.Fc};
function tw(a,b){var c=new Xf,d=0;null!=b||(b=function(a){return a});c.setInterval(20);G(c,Yf,function(){d+=20;str="0px 0px 0px 2px rgba(255,255,255,"+b(d/200)+")";this.Kb.style.boxShadow=str;200<d&&(c.stop(),c.g(),delete c)}.bind(a));c.start()}f.Uu=function(){tw(this)};f.Tm=function(){tw(this,function(a){return 1-a})};f.AI=function(){return this.Mj};f.av=function(){return null!=this.Mj||null!=this.Fc&&null!=this.Fc.a()&&"hidden"!=this.Fc.a().style.visibility&&!this.$A};f.Rt=function(){this.Mj=void 0};
f.EG=function(a){this.ou=this.ou?this.ou:[];this.ou.push(a)};f.vi=function(a){this.Sb.ip(a)};f.XK=function(){this.fc.C(0);this.fc.Cw(!0);Zu(this,this.fc,0)};function uw(a,b){a.fc.Mf("");a.fc.Cw(!0);a.fc.C(100*b)}
f.Xv=function(a){if(this.Ms)uw(this,.5*a.value+.5);else if(1<this.Rm){var b=1/this.Rm;if(.96<a.value&&this.el!=a.value&&.96>this.el&&this.el<a.value)this.Qm++,uw(this,b*this.Qm);else{this.el=a.value;var b=1/this.Rm,c=b*this.Qm+a.value*b;this.el<a.value&&uw(this,c+a.value*b)}}else uw(this,a.value)};
function rw(a){a.Kb=Q("div",{id:Z.ID_PREFIX+"_ViewFrame_"+B(),"class":Z.CSS.Nx});R(a.a(),a.Kb);E(["top","bottom","left","right"],function(a){R(this.Kb,Q("div",{id:Z.ID_PREFIX+"_ViewFrameBorder_"+B(),"class":Z.CSS.Nx+"-border-"+a}))}.bind(a))}
function vw(a){var b=a.na.Ik();!0==b[K.SINGLE_FRAME_SCAN]?(a.vi("Transverse"),b=Wr(a.Ra),E(b,function(a){-1==a.id.indexOf("ZoomDisplay")&&(a.style.visibility="hidden")}),S(a.Sb.a())):null!=a.Sa[0].Zb()?a.vi(a.Sa[0].Zb()):null!=b[K.ORIENTATION_KEY]&&a.vi(db(a.na.Ik()[K.ORIENTATION_KEY]));Zf(function(){this.Yb(Au);this.Yb(this.ge.Zz("levels"))}.bind(a),700)}
f.Or=function(){this.Fh.Js(!1);E(Vh("xtk-progress-bar"),function(a){a.visibility="hidden"});this.Rk=this.Ms=!1;this.L.nz();this.L.Nq().ww(this.Sb.zj.src);this.ge.mz();this.ge.Qy();var a=[this.Ib.Wf,this.Sb.a()];a.push(this.Ra.a());var b=[];b.push(this.fc.a());"demo"!=km.MODE&&(a=Mb(a,this.L.FA()),vw(this),this.na.Ik()[K.SINGLE_FRAME_SCAN]||(a=Mb(a,Wr(this.Ra))));var c=[],d=[],e=[],h=[];E(a,function(){c.push(0);d.push(1)});d[0]=.5;E(b,function(){e.push(1);h.push(0)});xl(Mb(a,b),Mb(c,e),Mb(d,h),400,
null,null,function(){this.Ib.Wf.style.removeProperty("opacity");this.fc.C(0);Yu(this.fc,0);this.dispatchEvent("aa");this.ys=!1;this.o();this.Nr()}.bind(this))};f.Tv=function(a){C(this.na.Dc,function(b,c){null!=a.Zw[c]&&(b.hl(a.Zw[c]),b.o())})};f.Nr=function(){this.na&&this.na.o();null!=this.ge&&this.ge.update();null!=this.na&&this.ge.OB()};
function ww(a,b){a.Fc.reset();D(a.Al);Ib(a.Sa,b)||a.Sa.push(b);1==a.Sa.length&&a.vi(sw[b.uf]);var c=b.ib,d=null;1<c.length?(E(c,function(a,b){d=this.Fc.ej(a.ml,a.$b()||b);this.Al[na(d)]=a}.bind(a)),Yu(a.fc,0),Zu(a,a.Fc,200),a.Rk=!1,"scans"==c[0].uf?Ba("."+yv.CSS.vl).kJ("<b> Select catalog or volume </b>"):"experimentResources"==c[0].uf&&Ba("."+yv.CSS.vl).kJ("<b> Select volume </b>")):a.load(c[0],!1)}f.CH=function(){return 700};
function xw(a,b){Hu("Scans with frame counts greater than 700 may crash the Viewer.&nbspAre you sure you want to continue?",a.Kb,b)}function yw(a,b){Hu("ViewBox in use.&nbspProceed anyway?",a.Kb,b)}
function zw(a,b,c){var d=function(){this.load(b,c)}.bind(a),e=b.ib[0];if(null!=e.EA){var h=700<e.pa[0].mb().length;if("scans"==e.uf.toLowerCase()&&h&&!a.ys)return xw(a,function(){this.ys=!0;d()}.bind(a)),!1}return!a.av()||0<a.Sa.length&&b==a.Sa[0]?!0:(yw(a,function(){this.Rt();this.$A=!0;d();this.$A=!1}.bind(a)),!1)}f.Ez=function(){this.load(this.Sa[0],void 0)};f.UA=function(){return void 0!=this.Sa&&1<this.Sa.length};f.VA=function(){return void 0!=this.Al&&1<Object.keys(this.Al).length};
f.load=function(a,b){Yu(this.fc,0);S(this.lr);null!=this.Fh?(this.Fh.clear(),this.Fh.Js(!1)):(this.Fh=new ov,this.Fh.tC(this.Kb),this.Fh.IC(this.Pr.bind(this)));this.dispatchEvent("$");if(!(a instanceof Fi)||zw(this,a,b))if(this.Rk=!0,null!=a){if(null!=b?b:1)Aw(this),Bw(this),this.L=new zu(this),this.Ra=new Vr,this.Ra.a().style.opacity=0,R(this.Kb,this.Ra.a()),O(this.Ra.a(),Z.CSS.sF),G(this.Ra,"z",this.Nr.bind(this)),G(this.Ra,"w",this.Tv.bind(this)),G(this.Ra,"y",this.Uv.bind(this)),G(this.Ra,"x",
this.Sv.bind(this)),this.na=new Zt,Cw(this),this.ge=new Y(this,this.na,this.Ra,this.L),this.ge.pD(this.Sb),this.TA=!0;Zu(this,this.fc,200);if(a instanceof Fi)ww(this,a);else{var c;C(this.na.Dc,function(a,b){(c=this.Ra.Yz(b))&&a.va(c.a())}.bind(this));Tc(this.na,"j",this.XK.bind(this));Tc(this.na,"l",this.Or.bind(this));G(this.na,"k",this.Xv.bind(this));this.Qm=null;"scans"==a.uf.toLowerCase()?(uw(this,0),Zu(this,this.fc,200,function(){Dw(this,a)}.bind(this))):(Ew(this,a),Fw(this,a))}}else this.Pr("The data set is empty!")};
function Ew(a,b){a.Qm=0;a.el=0;a.Rm=b.pa.length+8;E(b.pa,function(a){null!=a.Md&&null!=a.Md.labelMapFile&&this.Rm++}.bind(a))}
function Dw(a,b){a.Ms=!0;var c=a.Sa[a.Sa.length-1].AA(),d=b.pa[0].mb()[0],e="";null!=d?(-1!=d.toLowerCase().indexOf("xiv/sample-data/scans/")?(d=d.split("xiv/sample-data/scans/"),e=d[0]+"xiv/sample-data/scans/"+(d[1].split("/")[0]+".zip")):e=d.split("/files/")[0]+"/files",window.console.log("XImgView Zip Downloading (XHR): "+e),bh(e,function(a){window.console.log("Downloaded: "+e+"!");b.pa[0].vC(a,function(){Fw(this,b)}.bind(this),mm)}.bind(a),function(a){0<a.totalSize?uw(this,a.loaded/a.totalSize*
.5):0<c&&uw(this,a.loaded/c*.5)}.bind(a))):a.Fh.Ov("No readable files in the data set!")}function Fw(a,b){a.Fh.Js(!0);a.na.k(b);a.Mj=(new Date).getTime()}f.Pr=function(){this.Rk=!1;this.Tm();Yu(this.fc,200);Aw(this);this.Rt();this.dispatchEvent({type:"ba"})};f.Uv=function(){C(this.na.Dc,function(a){a.o()});this.ge.update()};f.Sv=function(a){var b=a.frames;C(this.na.Dc,function(a,d){null!=b[d]&&(a.hl(b[d].a()),a.o())}.bind(this));this.ge.update()};
function Yu(a,b,c){var d=a.a();if(null!=a){b=u(b)&&0<=b?b:0;var e=function(){d.style.visibility="hidden";S(d);null!=a.Vn&&S(a.rc);c&&c()};if("hidden"==d.style.visibility||0==b)e();else{var h=[d],k=[d.style.opacity];null!=a.Vn&&null!=a.rc&&(h.push(a.rc),k.push(a.rc.style.opacity));xl(h,k,0,b,null,null,e)}}}
function Zu(a,b,c,d){var e=b.a();c=u(c)&&0<=c?c:0;e.style.opacity="0";e.style.visibility="visible";R(a.Kb,e);null!=b.Vn&&R(a.Kb,b.rc);0==c?(e.style.opacity="1",d&&d()):(a=[e],e=[e.style.opacity],null!=b.Vn&&null!=b.rc&&(a.push(b.rc),e.push(b.rc.style.opacity)),xl(a,e,1,c,null,null,d))}f.Ds="Info.;Help;Settings;Levels;2D Pan;2D Zoom;Toggle Crosshairs;Volumes;Annotations;Meshes".split(";");
function Gw(a,b,c,d){var e=ii(b),h=[],k;E(a.Ds,function(){h.push(null)});h[d]=c;E(e,function(a){k=this.Ds.indexOf(a.title);h[k]=a}.bind(a));fi(b);E(h,function(a){null!=a&&b.appendChild(a)})}
f.nk=function(a,b,c){b.style.position="relative";b.style.display="block";b.style.marginLeft="auto";b.style.marginRight="auto";b.style.marginTop="6px";b.style.marginBottom="6px";var d;switch(a){case "TOP_LEFT":d=this.Ib.Zm;break;case "LEFT":d=this.Ib.Wf;break;case "BOTTOM_LEFT":d=this.Ib.PD;break;case "TOP_RIGHT":d=this.Ib.fF;break;case "RIGHT":d=this.Ib.VE;break;case "BOTTOM_RIGHT":d=this.Ib.QD}u(c)?d.insertBefore(b,d.childNodes[c]):(a=this.Ds.indexOf(b.title),0<a?Gw(this,d,b,a):R(d,b));Hw(this)};
f.Lo=function(a,b){a.setAttribute("checked","true"==a.getAttribute("checked")?"false":"true");"true"==a.getAttribute("checked")?hl(a,200,1,null,.5):hl(a,200,.5);null!=b&&b(a)};f.uD=function(a){return"true"==this.ee[a].getAttribute("checked").toString()};f.Lu=function(a){return this.ee[a]};f.Yb=function(a){Tn(this.ee[a])};f.bx=function(a){g(a)||(a=[a]);E(a,function(a){null!=this.ee[a]&&this.uD(a)&&Tn(this.ee[a])}.bind(this))};
f.aD=function(a){var b=this.Ra.Qq();C(b,function(b){E([b.pf.a(),b.Ld.a()],function(b){a?(b.style.visibility="visible",b.style.opacity=0,gl(b,200)):jl(b,200,function(){b.style.visibility="hidden"})})})};
f.fj=function(a,b,c,d,e,h){var k=b+"-on",l=Q("img",b);l.id=ck(this)+".IconButton_";l.title=d;null!=h&&(l.src=h);l.setAttribute("checked","true");l.setAttribute(Du,b+"-on");O(l,k);al(l,{cursor:"pointer"});G(l,"click",function(){this.Lo(l,e)}.bind(this));this.nk(a,l);null!=this.ee?null!=this.ee[c]&&(identifer=c+"A"):this.ee={};return this.ee[c]=l};
function Bw(a){a.Ib.Wf=Q("div",{id:Z.ID_PREFIX+"_menu_left_"+B(),"class":Z.CSS.FE,viewbox:a.a().id});a.Ib.Wf.style.opacity=0;hi(a.a(),a.Ib.Wf,1);a.Sb=new op;a.Sb.sC("Select Layout");O(a.Sb.a(),Z.CSS.tF);a.Sb.uB(!0);a.Sb.a().style.opacity=0;a.Sb.we.style.opacity=0;var b=a.Sb.a();Ob(a.Ds,void 0,0,b.title);a.nk("LEFT",b);a.Kb.appendChild(a.Sb.we)}
function Cw(a){a.Fc=new yv;a.Fc.k(a.Kb);R(a.Kb,a.Fc.a());O(a.Fc.a(),Z.CSS.oF);G(a.Fc,"Z",function(a){Yu(this.Fc,200,function(){this.load(this.Al[na(a.Tw)],!1)}.bind(this))}.bind(a));Yu(a.Fc,0)}f.CI=function(){return this.ee};function Hw(a){var b,c,d,e;null!=a.Ib.Zm&&(d=a.Ib.Zm,e=U(d),b=0,c=e.height);null!=a.Ib.Wf&&(d=a.Ib.Wf,e=U(d),a=a.A.height/2-e.height/2,d.style.top=null!=b&&a<c?"calc(100% - "+(e.height+2)+"px)":a+"px")}
f.o=function(a){Z.d.o.call(this,a);null!=this.Ra&&this.Ra.o();this.na&&this.na.o();null!=this.Sb&&(a=uj(this.Ib.Wf),U(this.Sb.we),a=a.y-130,this.Sb.zC(0,a),this.Sb.OC(0,a));Hw(this);null!=this.L&&this.L.update();null!=this.ge&&this.ge.BD()};
function Aw(a){D(a.Al);Jb(a.Sa);null!=a.Ra&&(J(a.Ra),Ac(a.Ra.g()),delete a.Ra);null!=a.L&&a.L.g();null!=a.Sb&&(J(a.Sb),a.Sb.g(),delete a.Sb);null!=a.na&&(a.na.g(),delete a.na);null!=a.Fc&&(a.Fc.g(),delete a.Fc);null!=a.ge&&a.ge.g();null!=a.ee&&(S(a.Ib.Wf),delete a.Ib.Wf,C(a.ee,function(a){J(a);S(a)}),Jb(a.ee),delete a.ee)}f.pr=!1;f.or=function(){return this.pr};f.lv=function(){G(this.a(),"mouseenter",function(){this.pr=!0}.bind(this));G(this.a(),"mouseleave",function(){this.pr=!1}.bind(this))};
f.f=function(){Z.d.f.call(this);Aw(this);null!=this.fc&&(this.fc.g(),delete this.fc);S(this.Kb);J(this.Kb);delete this.Kb;C(this.Ib,function(a,b){S(a);delete this.Ib[b]}.bind(this));delete this.Ib;delete this.lr;delete this.IP;delete this.TA;delete this.Ms;delete this.pr;delete this.Qm;delete this.el;delete this.Rm;delete this.ys};v("xiv.ui.ViewBox.EventType",{qF:"$",pF:"aa",pO:"ba"});v("xiv.ui.ViewBox.ID_PREFIX",Z.ID_PREFIX);v("xiv.ui.ViewBox.CSS_SUFFIX",Z.CSS_SUFFIX);
v("xiv.ui.ViewBox.defaultLayout",sw);v("xiv.ui.ViewBox.ControllersSet",function(){});v("xiv.ui.ViewBox.prototype.getRenderer",Z.prototype.Wa);v("xiv.ui.ViewBox.prototype.getMenus",Z.prototype.UH);v("xiv.ui.ViewBox.prototype.getLoadState",Z.prototype.PH);v("xiv.ui.ViewBox.prototype.getViewableTrees",Z.prototype.NI);v("xiv.ui.ViewBox.prototype.getViewFrame",Z.prototype.JI);v("xiv.ui.ViewBox.prototype.getLayoutHandler",Z.prototype.MH);v("xiv.ui.ViewBox.prototype.getLayoutMenu",Z.prototype.NH);
v("xiv.ui.ViewBox.prototype.getViewableGroupMenu",Z.prototype.LI);v("xiv.ui.ViewBox.prototype.highlight",Z.prototype.Uu);v("xiv.ui.ViewBox.prototype.unhighlight",Z.prototype.Tm);v("xiv.ui.ViewBox.prototype.getThumbnailLoadTime",Z.prototype.AI);v("xiv.ui.ViewBox.prototype.clearThumbnailLoadTime",Z.prototype.Rt);v("xiv.ui.ViewBox.prototype.doNotHide",Z.prototype.EG);v("xiv.ui.ViewBox.prototype.setLayout",Z.prototype.vi);v("xiv.ui.ViewBox.prototype.showCornerInteractors",Z.prototype.aD);
v("xiv.ui.ViewBox.prototype.load",Z.prototype.load);v("xiv.ui.ViewBox.prototype.doReload",Z.prototype.Ez);v("xiv.ui.ViewBox.prototype.hasMultipleViewableTrees",Z.prototype.UA);v("xiv.ui.ViewBox.prototype.hasMultipleViewables",Z.prototype.VA);v("xiv.ui.ViewBox.prototype.addToMenu",Z.prototype.nk);v("xiv.ui.ViewBox.prototype.onToggleButtonClicked",Z.prototype.Lo);v("xiv.ui.ViewBox.prototype.toggleButtonChecked",Z.prototype.uD);v("xiv.ui.ViewBox.prototype.getToggleButton",Z.prototype.Lu);
v("xiv.ui.ViewBox.prototype.getHighFrameCountThreshold",Z.prototype.CH);v("xiv.ui.ViewBox.prototype.fireToggleButton",Z.prototype.Yb);v("xiv.ui.ViewBox.prototype.untoggle",Z.prototype.bx);v("xiv.ui.ViewBox.prototype.createToggleButton",Z.prototype.fj);v("xiv.ui.ViewBox.prototype.getToggleButtons",Z.prototype.CI);v("xiv.ui.ViewBox.prototype.isMouseOver",Z.prototype.or);v("xiv.ui.ViewBox.prototype.isRendering",Z.prototype.DJ);v("xiv.ui.ViewBox.prototype.isInUse",Z.prototype.av);
v("xiv.ui.ViewBox.prototype.showInUseDialog",Z.prototype.LQ);v("xiv.ui.ViewBox.prototype.updateStyle",Z.prototype.o);v("xiv.ui.ViewBox.prototype.disposeInternal",Z.prototype.f);function Iw(){Kn.call(this)}w(Iw,Kn);Iw.prototype.lk=function(a,b){var c=new Rn(a,b);c.fp(this);this.ro.push(c);this.Bj&&Mn(this,c)};function Jw(){W.call(this)}w(Jw,W);v("xiv.ui.ViewBoxHandler",Jw);Jw.CSS_SUFFIX={gE:"handle",rF:"viewboxdragclone",Rj:"closebutton",lx:"addrowbutton",kx:"addcolumnbutton"};Jw.ID_PREFIX="xiv.ui.ViewBoxHandler";f=Jw.prototype;f.Ss=5;f.Cx=5;f.zl=document.body;f.Ej=function(a,b){this.dispatchEvent({type:"ea",HB:a,ZF:b})};f.VL=function(){return this.F.length};f.Yn=function(){var a=[];E(this.F,function(b,c){a.push([]);E(b,function(){a[c].push(null)})});return a};
f.loop=function(a){this.F&&E(this.F,function(b,c){E(b,function(d,e){a(d,c,e,this.F.length,b.length)}.bind(this))}.bind(this))};f.Yu=function(a,b){this.F||(this.F=[[]]);var c=0,d=[],e;if(null!=a)c=Kw(this,a),this.F[c.er].length<this.Cx&&(d.push(Lw(this)),Ob(this.F[c.er],c.GJ+1,0,d[0]));else{d=[];e=this.F.length?this.F.length:1;for(c=0;c<e;c++)d.push(Lw(this));0===this.F.length?this.F.push([d[0]]):E(this.F,function(a,b){a.push(d[b])})}this.Ej(d,void 0===b?!0:b);Mw(this)};
f.ML=function(a){this.F&&(a=void 0===a?!0:a,this.F[0]&&1<this.F[0].length&&E(this.F,function(a){var c=a.length-1;Nw(this,a[c]);a.splice(c,1)}.bind(this)),this.Ej(null,a),Mw(this))};function Kw(a,b){for(var c=0,d=0,e=a.F.length,h=0,c=0;c<e;c++)for(d=0,h=a.F[c].length;d<h;d++)if(b===a.F[c][d])return{er:c,GJ:d}}f.Zs=function(){for(var a=0,b=0,c=this.F.length,d=0,a=0;a<c;a++)for(b=0,d=this.F[a].length;b<d;b++)if(this.F[a][b].Rk)return!0;return!1};
f.insertRow=function(a,b){this.F||(this.F=[[]]);var c=[],d,e;if(null!=a){var h=Kw(this,a),c=[];e=this.F[h.er].length;if(this.F.length<this.Ss){for(d=0;d<e;d++)c.push(Lw(this));Ob(this.F,h.er+1,0,c)}}else if(e=this.F[0]&&this.F[0].length?this.F[0].length:1,this.F.length<this.Ss){for(d=0;d<e;d++)c.push(Lw(this));this.F.push(c)}this.Ej(c,void 0===b?!0:b);Mw(this)};
f.OL=function(a){this.F&&(a=void 0===a?!0:a,1<this.F.length&&(E(this.F[this.F.length-1],function(a){Nw(this,a)}.bind(this)),this.F.splice(this.F.length-1,1)),this.Ej(null,a),Mw(this))};f.Vq=function(a){for(var b=0,c=0,d=this.F.length,e=0,b=0;b<d;b++)for(c=0,e=this.F[b].length;c<e;c++)if(a===this.F[b][c].a())return this.F[b][c]};f.HI=function(a,b){return this.F[a][b].a()};f.FI=function(a,b){return this.F[a][b]};f.DA=function(){var a=[];this.loop(function(b){a.push(b)});return a};
f.CA=function(){var a=[];this.loop(function(b){a.push(b.a())});return a};f.TC=function(a){this.zl=a};
function Lw(a){var b=new Z;R(a.zl,b.a());Ow(a,b);var c=Q("img",{id:Jw.ID_PREFIX+"_dragHandle_"+B(),"class":Jw.CSS.gE});c.src=serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/handle.png";c.setAttribute("viewboxid",b.a().id);b.nk("TOP_LEFT",c,1);a.xk||(a.xk={});a.xk[b.a().id]=c;c.title="Drag / Swap ViewBox";Pw(a,b);Qw(a,b);G(b,"aa",a.aw.bind(a));G(b,"$",a.bw.bind(a));G(b,"ba",a.Pr.bind(a));return b}
function Qw(a,b){var c=Q("img",{id:Jw.ID_PREFIX+"_CloseButton_"+B(),"class":Jw.CSS.kx,src:serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/addcolumn.png"});cl(c,Jw.CSS.kx+"-hovered");G(c,"click",function(){this.Yu(b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.nk("TOP_LEFT",c,1);a.qy||(a.qy={});a.qy[b.a().id]=c;c.title="Add ViewBox Column"}
function Pw(a,b){var c=Q("img",{id:Jw.ID_PREFIX+"_CloseButton_"+B(),"class":Jw.CSS.lx,src:serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/addrow.png"});cl(c,Jw.CSS.lx+"-hovered");G(c,"click",function(){this.insertRow(b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.nk("TOP_LEFT",c,1);a.yy||(a.yy={});a.yy[b.a().id]=c;c.title="Add ViewBox Row"}
function Ow(a,b){var c=Q("img",{id:Jw.ID_PREFIX+"_CloseButton_"+B(),"class":Jw.CSS.Rj,src:serverRoot+"/images/viewer/xiv/ui/Modal/close.png"});cl(c,Jw.CSS.Rj+"-hovered");G(c,"click",function(){Rw(this,b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.nk("TOP_LEFT",c,1);a.In||(a.In={});a.In[b.a().id]=c;c.title="Close ViewBox"}f.aw=function(a){this.dispatchEvent({type:"da",uF:a.target})};f.Ys=function(a,b){this.loop(function(c){Ib(c.Sa,a)&&b(c)})};f.bw=function(a){this.dispatchEvent({type:"ca",uF:a.target})};
f.Pr=function(a){this.dispatchEvent(a)};function Nw(a,b){hl(b.a(),150,0);S(a.xk[b.a().id]);S(a.In[b.a().id]);b.g()}function Sw(a,b){var c=[],d;Nw(a,b);E(a.F,function(a){d=[];E(a,function(a){a.wk||d.push(a)}.bind(this));0!=d.length&&c.push(d)}.bind(a));a.F=c;a.Ej(null,!0);Mw(a)}function Rw(a,b){1!=a.JB()&&(b.av()?yw(b,function(){Sw(this,b)}.bind(a)):Sw(a,b))}f.bv=function(a,b){var c=a.a()===b,d=a.a().id===b;return a===b||c||d};f.JB=function(){var a=0;this.loop(function(){a++});return a};
f.GI=function(a){for(var b=0,c=0,d=this.F.length,e=0,h=e=0,b=0;b<d;b++)for(c=0,e=this.F[b].length;c<e;c++)if(this.F[b][c]===a)return e=b+1===this.F.length,h=c+1===this.F[b].length,e&&h?this.F[0][0]:e&&!h?this.F[0][c+1]:!e&&h?this.F[b+1][0]:this.F[b+1][c+1]};f.eA=function(){var a;this.loop(function(b){null!=a||null!=b.Mj||(a=b)}.bind(this));if(null!=a)return a;var b=this.DA();g(b)?b.sort(function(a,b){return a.Mj<b.Mj?-1:a.Mj>b.Mj?1:0}):b=[b];return b[0]};
function Tw(a,b,c){var d=new Rk,e=a.Qg[b.id],h=a.Qg[c.id];b[Uw]=!0;c[Uw]=!0;d.add(new Gk(b,[b.offsetLeft,b.offsetTop],[h.x,h.y],300,el));d.add(new Gk(c,[c.offsetLeft,c.offsetTop],[e.x,e.y],300,el));Tc(d,"end",function(){b[Uw]=!1;c[Uw]=!1;Vw(this);for(var a,d,e,h,m=0,q=0,t=this.F.length,s,z;m<t;m++)for(q=this.F[m],s=q.length,q=0;q<s;q++)z=this.F[m][q],this.bv(z,b)&&(a=m,d=q),this.bv(z,c)&&(e=m,h=q);u(a)&&u(e)&&(m=this.F[a][d],this.F[a][d]=this.F[e][h],this.F[e][h]=m,m=U(this.F[a][d].a()),t=U(this.F[e][h].a()),
Fj(this.F[e][h].a(),m),Fj(this.F[a][d].a(),t))}.bind(a));d.play()}f.Qt=function(){this.se&&(Nn(this.se),Nn(this.ai),delete this.se,delete this.ai)};function Ww(a){a.loop(function(a){null!=a.a()&&(this.se.lk(this.xk[a.a().id]),this.ai.lk(a.a()))}.bind(a))}function Mw(a){a.Qt();a.se=new Iw;a.ai=new Iw;Ww(a);Ln(a.se,a.ai);a.se.va();a.ai.va();a.se.Zt=a.$t.bind(a);G(a.se,"dragstart",a.wK.bind(a));G(a.se,"dragover",a.Nv.bind(a));G(a.se,"dragend",a.Mv.bind(a))}f.$t=function(a){return Xw(Uh(a.getAttribute("viewboxid")))};
f.wK=function(){null!=this.Qg?D(this.Qg):this.Qg={};Vw(this)};function Xw(a){var b=document.body;a=a.cloneNode(!1);a.className=Jw.CSS.rF;b&&b.appendChild(a);return a}var Uw=B();Jw.prototype.Nv=function(a){if(a.em.element.id!==a.Eq.gj.getAttribute("viewboxid")){var b=Uh(a.Eq.gj.getAttribute("viewboxid"));a=Uh(a.em.element.id);b[Uw]||a[Uw]||Tw(this,b,a)}};function Vw(a){a.loop(function(a){this.Qg[a.a().id]=uj(a.a())}.bind(a))}
Jw.prototype.Mv=function(a){var b=a.Eq.Ya.yk;a=Uh(a.Eq.gj.getAttribute("viewboxid"));a=Cj(a);a={left:a.x,top:a.y};var c=Xw(b);R(this.zl.parentNode?this.zl.parentNode:this.zl,c);b=Yk(b);al(c,{top:b.top,left:b.left,"z-index":1E4});Yw(c,a).play();Zw(this);this.Ej()};function Yw(a,b){var c=new Rk;c.add(new Gk(a,[a.offsetLeft,a.offsetTop],[b.left,b.top],150,el));G(c,"end",function(){S(a)});return c}function Zw(a){a.loop(function(a){this.xk[a.a().id].style.visibility="visible"}.bind(a))}
Jw.prototype.f=function(){Jw.d.f.call(this);this.loop(function(a){J(a);S(a.a());a.g()}.bind(this));E(this.F,function(a){Jb(a)});Jb(this.F);delete this.F;this.Dq(this.xk);delete this.xk;this.Dq(this.In);delete this.In;C(this.Qg,function(a,b){D(this.Qg[b]);delete this.Qg[b]}.bind(this));D(this.Qg);delete this.Qg;null!=this.se&&(J(this.se),this.se.g());delete this.se;null!=this.ai&&(J(this.ai),this.ai.g());delete this.ai;delete this.zl};v("xiv.ui.ViewBoxHandler.CSS_SUFFIX",Jw.CSS_SUFFIX);
v("xiv.ui.ViewBoxHandler.EventType",{qF:"ca",pF:"da",uP:"ea"});v("xiv.ui.ViewBoxHandler.VIEW_BOX_ATTR","viewboxid");v("xiv.ui.ViewBoxHandler.ID_PREFIX",Jw.ID_PREFIX);v("xiv.ui.ViewBoxHandler.prototype.MAX_ROWS",Jw.prototype.Ss);v("xiv.ui.ViewBoxHandler.prototype.MAX_COLUMNS",Jw.prototype.Cx);v("xiv.ui.ViewBoxHandler.prototype.rowCount",Jw.prototype.VL);v("xiv.ui.ViewBoxHandler.prototype.getEmptyMatrix",Jw.prototype.Yn);v("xiv.ui.ViewBoxHandler.prototype.loop",Jw.prototype.loop);
v("xiv.ui.ViewBoxHandler.prototype.insertColumn",Jw.prototype.Yu);v("xiv.ui.ViewBoxHandler.prototype.removeColumn",Jw.prototype.ML);v("xiv.ui.ViewBoxHandler.prototype.insertRow",Jw.prototype.insertRow);v("xiv.ui.ViewBoxHandler.prototype.removeRow",Jw.prototype.OL);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxByElement",Jw.prototype.Vq);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxElement",Jw.prototype.HI);v("xiv.ui.ViewBoxHandler.prototype.getViewBox",Jw.prototype.FI);
v("xiv.ui.ViewBoxHandler.prototype.getViewBoxes",Jw.prototype.DA);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxElements",Jw.prototype.CA);v("xiv.ui.ViewBoxHandler.prototype.setViewBoxesParent",Jw.prototype.TC);v("xiv.ui.ViewBoxHandler.prototype.ViewBoxFromVisNode",Jw.prototype.Ys);v("xiv.ui.ViewBoxHandler.prototype.isMatch",Jw.prototype.bv);v("xiv.ui.ViewBoxHandler.prototype.numViewBoxes",Jw.prototype.JB);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxAfter",Jw.prototype.GI);
v("xiv.ui.ViewBoxHandler.prototype.getFirstEmpty",Jw.prototype.eA);v("xiv.ui.ViewBoxHandler.prototype.ViewBoxesRendering",Jw.prototype.Zs);v("xiv.ui.ViewBoxHandler.prototype.disposeInternal",Jw.prototype.f);function $w(a){var b=ax;return function(){var c=this||ba,c=c[bx]||(c[bx]={}),d=b(na(a),arguments);return c.hasOwnProperty(d)?c[d]:c[d]=a.apply(this,arguments)}}var bx="closure_memoize_cache_";function ax(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function cx(a){$c.call(this);this.bm=a||Qh();if(this.Iz=this.YG())this.LG=G(this.bm.la,this.Iz,ua(this.Nu,this))}w(cx,$c);f=cx.prototype;f.YG=$w(function(){var a=this.isSupported(),b="hidden"!=this.Oq();return a?b?((lj()||"")+"visibilitychange").toLowerCase():"visibilitychange":null});f.Oq=$w(function(){return mj("hidden",this.bm.la)});f.OI=$w(function(){return mj("visibilityState",this.bm.la)});f.isSupported=function(){return!!this.Oq()};
f.Nu=function(){var a=this.isSupported()?this.bm.la[this.OI()]:null,a=new dx(!!this.bm.la[this.Oq()],a);this.dispatchEvent(a)};f.f=function(){Vc(this.LG);cx.d.f.call(this)};function dx(a,b){Cc.call(this,"visibilitychange");this.hidden=a;this.visibilityState=b}w(dx,Cc);function ex(a){yi.call(this);this.rC(serverRoot+"/images/viewer/xiv/ui/Thumbnail/silhouette.png");this.of=a;fx(this)}w(ex,yi);v("xiv.ui.Thumbnail",ex);ex.ID_PREFIX="xiv.ui.Thumbnail";ex.CSS_SUFFIX={jE:"hoverinfo",kE:"hoverinfo-arrow",mE:"hoverinfo-arrowtop",lE:"hoverinfo-arrowbottom",CN:"hoverinfo-appear",DN:"hoverinfo-disappear",qE:"infohovertext",Gh:"image",Yj:"image"};f=ex.prototype;f.wm=null;f.Zd=null;f.Df=null;
function fx(a){var b="",c=a.of.Ac;if(null!=c["Scan ID"])b+=c["Scan ID"],null!=c["Series Description"]&&(b+=" - "+c["Series Description"]);else if(null!=c.Name)b=c.Name;else if(null!=a.of.ti)var d=a.of.ti.split("/"),b=b+d[d.length-1].split(".")[0];var e="",e=e+("<b><font size = '2'>"+b+"</font></b><br>");E(["Total Frames","Scan Type","Orientation"],function(a){null!=c[a]&&(e+="<font size = '1.5'>"+a+": "+c[a]+"<br>")}.bind(a));a.kp(e);gx(a)}
function gx(a){a.wm=Q("div",{id:"MetdataLink_"+B()},"more...");O(a.wm,ex.CSS.qE);R(a.a(),a.wm);O(a.a(),"xiv-ui-thumbnail");O(a.Xa,ex.CSS.Gh);a.Zd=Q("div",{id:"InfoHover_"+B()});O(a.Zd,ex.CSS.jE);R(Vh("xiv-ui-modal")[0],a.Zd);a.Df=Q("div",{id:"InfoHoverArrow_"+B()});O(a.Df,ex.CSS.kE);R(a.Zd.parentNode,a.Df);var b=Q("div",{id:"InfoHoverArrowBottom_"+B()});O(b,ex.CSS.lE);R(a.Df,b);b=Q("div",{id:"InfoHoverArrowTop_"+B()});O(b,ex.CSS.mE);R(a.Df,b);a.Zd.innerHTML=a.of.Hu();E([a.Zd,a.Df],function(a){a.style.opacity=
0;a.style.visibility="hidden"});G(a.wm,"mouseenter",a.dD.bind(a));G(a.wm,"mouseleave",a.Tu.bind(a))}f.dD=function(){var a=Bj(this.a(),this.Zd.parentNode);E([this.Zd,this.Df],function(a){a.style.visibility="visible"});var b=a.y-13;b+this.Zd.offsetHeight>window.innerHeight?b=window.innerHeight-U(this.Zd).height:0>b&&(b=2);sj(this.Zd,a.x+U(this.a()).width+13,b);sj(this.Df,a.x+U(this.a()).width-6,a.y+7);gl(this.Zd,200);gl(this.Df,200)};
f.Tu=function(){jl(this.Zd,200,function(){this.Zd.style.visibility="hidden"}.bind(this));jl(this.Df,200,function(){this.Df.style.visibility="hidden"}.bind(this))};f.KI=function(){return this.of};f.f=function(){ex.d.f.call(this);this.of.g();delete this.of;delete this.wm;delete this.Zd;delete this.Df};v("xiv.ui.Thumbnail.ID_PREFIX",ex.ID_PREFIX);v("xiv.ui.Thumbnail.CSS_SUFFIX",ex.CSS_SUFFIX);v("xiv.ui.Thumbnail.prototype.getViewable",ex.prototype.KI);v("xiv.ui.Thumbnail.prototype.hideInfo",ex.prototype.Tu);
v("xiv.ui.Thumbnail.prototype.showInfo",ex.prototype.dD);v("xiv.ui.Thumbnail.prototype.disposeInternal",ex.prototype.f);function hx(){W.call(this);G(this,"N",function(){C(this.Ec,function(a){a.Tu()})}.bind(this));this.Rf=new Iw;this.Jg=new Iw;this.Rf.Zt=this.$t.bind(this);G(this.Rf,"dragover",this.Nv.bind(this));G(this.Rf,"dragend",this.Mv.bind(this));G(this.Rf,"dragout",this.vK.bind(this));G(this.Jg,"drop",this.xK.bind(this));Ln(this.Rf,this.Jg);this.Jg.va();this.Rf.va()}w(hx,tv);v("xiv.ui.ThumbnailGallery",hx);hx.ID_PREFIX="xiv.ui.ThumbnailGallery";hx.CSS_SUFFIX={Kx:"thumbnail-dragging"};
var ix="THUMBNAIL_DRAGGER_"+B(),jx=ix+"_FADER"+B();f=hx.prototype;f.Rf=null;f.Jg=null;f.ej=function(a,b){var c=this.On(a);this.Wl(c,b);return c};f.On=function(a){var b=new ex(a);G(b,"L",function(){this.dispatchEvent({type:"ja",Ii:b})}.bind(this));return b};f.Wl=function(a,b){hx.d.Wl.call(this,a,b);var c=a.a();c&&this.Rf.lk(c)};f.cz=function(){Nn(this.Jg)};f.Ay=function(a){this.Jg.lk(a)};f.By=function(a){E(a,function(a){this.Ay(a)}.bind(this))};f.yI=function(a){return this.Ec[a.id]};
f.Qt=function(){null!=this.Rf&&(Nn(this.Rf),this.Rf.g());null!=this.Jg&&(Nn(this.Jg),this.Jg.g())};f.$t=function(a){a=xi(a).id;if(a in this.Ec)return this.Ec[a].setActive(!0,!0),a=this.Ec[a].a().cloneNode(!0),a.setAttribute("id",ix+a.id),Gh(a,"nrg-ui-thumbnail-hoverable"),O(a,"xiv-ui-thumbnailgallery-thumbnail-dragging"),a};f.Nv=function(a){this.dispatchEvent({type:"ha",thumbnailTarget:a.em.element})};f.vK=function(a){this.dispatchEvent({type:"ia",GM:a.em.element})};
f.Mv=function(){var a=Vh(hx.CSS.Kx);E(a,function(a){jl(a,300,function(){S(a)})});null!=a[0]&&this.Ec[a[0].id.replace(ix,"")].setActive(!1,!0)};f.xK=function(a){var b=Xh(hx.CSS.Kx);if(null!=b){b.style.opacity=0;var c=b.cloneNode(!0);c.style.opacity=1;document.body.appendChild(c);S(b);a.em.element&&this.dispatchEvent({type:"ka",Ii:this.Ec[b.id.replace(ix,"")],EM:a.em.element})}};f.f=function(){hx.d.f.call(this);this.Qt()};
v("xiv.ui.ThumbnailGallery.EventType",{JE:"fa",bO:"ga",ZO:"ha",YO:"ia",WO:"ja",$O:"ka"});v("xiv.ui.ThumbnailGallery.ID_PREFIX",hx.ID_PREFIX);v("xiv.ui.ThumbnailGallery.CSS_SUFFIX",hx.CSS_SUFFIX);v("xiv.ui.ThumbnailGallery.ANIM_MED",300);v("xiv.ui.ThumbnailGallery.DRAGGER_ID",ix);v("xiv.ui.ThumbnailGallery.DRAGGER_FADER_ID",jx);v("xiv.ui.ThumbnailGallery.prototype.createAndAddThumbnail",hx.prototype.ej);v("xiv.ui.ThumbnailGallery.prototype.createThumbnail",hx.prototype.On);
v("xiv.ui.ThumbnailGallery.prototype.addThumbnail",hx.prototype.Wl);v("xiv.ui.ThumbnailGallery.prototype.clearThumbnailDropTargets",hx.prototype.cz);v("xiv.ui.ThumbnailGallery.prototype.addThumbnailDropTarget",hx.prototype.Ay);v("xiv.ui.ThumbnailGallery.prototype.addThumbnailDropTargets",hx.prototype.By);v("xiv.ui.ThumbnailGallery.prototype.getThumbnailByElement",hx.prototype.yI);v("xiv.ui.ThumbnailGallery.prototype.disposeInternal",hx.prototype.f);function kx(){var a=Ai(Qh());a.webkitCancelFullScreen?a.webkitCancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.msExitFullscreen?a.msExitFullscreen():a.exitFullscreen&&a.exitFullscreen()};function lx(a,b,c,d){$c.call(this);this.wb=c||Qh();this.fm=a;this.If=[];this.CM=b?b:mx;this.CD=!!d;this.wf()}w(lx,$c);var mx=0;f=lx.prototype;
f.wf=function(){this.fm.className="goog-tabpane";for(var a=[],b=ji(this.fm);b;)a.push(b),b=li(b);this.te=this.wb.B("ul",{className:"goog-tabpane-tabs",tabIndex:"0"});this.vc=this.wb.B("div","goog-tabpane-cont");this.fm.appendChild(this.vc);b=this.fm;switch(this.CM){case mx:b.insertBefore(this.te,this.vc);b.insertBefore(nx(this),this.vc);Nl(b,"goog-tabpane-top");break;case 1:b.appendChild(this.te);b.appendChild(nx(this));Nl(b,"goog-tabpane-bottom");break;case 2:b.insertBefore(this.te,this.vc);Nl(b,
"goog-tabpane-left");break;case 3:b.insertBefore(this.te,this.vc);Nl(b,"goog-tabpane-right");break;default:throw Error("Invalid tab location");}this.te.tabIndex=0;G(this.te,this.CD?"mousedown":"click",this.Jr,!1,this);G(this.te,"keydown",this.Kr,!1,this);for(var c=0;b=a[c];c++)ox(this,new px(b))};
function nx(a){var b=Qh(void 0),c=null,d=b.la;F&&d.createStyleSheet?(c=d.createStyleSheet(),Mj(c)):(d=Wh(b.la,"head",void 0,void 0)[0],d||(c=Wh(b.la,"body",void 0,void 0)[0],d=b.B("head"),c.parentNode.insertBefore(d,c)),c=b.B("style"),Mj(c),b.appendChild(d,c));return a.wb.B("div","goog-tabpane-clear")}f.f=function(){lx.d.f.call(this);Uc(this.te,this.CD?"mousedown":"click",this.Jr,!1,this);Uc(this.te,"keydown",this.Kr,!1,this);delete this.fm;this.vc=this.te=null};
function ox(a,b){b.Ya&&b.Ya!=a&&b.Ya instanceof lx&&qx(b.Ya,b);var c=a.If.length;da(void 0)&&void 0!=c?(c=void 0,a.If.splice(c,0,b),a.te.insertBefore(b.lj,a.te.childNodes[c])):(a.If.push(b),a.te.appendChild(b.lj));b.gp(a,c);a.uh||(a.uh=b,a.dispatchEvent(new rx("change",a,a.uh)));a.vc.appendChild(b.vc);sx(b,b==a.uh);for(var d=c+1;c=a.If[d];d++)c.mo=d}function qx(a,b){u(b)&&(b=a.If[b]);a.If.splice(b.mo,1);b.gp(null);S(b.lj);S(b.vc);for(var c,d=0;c=a.If[d];d++)c.gp(a,d)}
function tx(a,b){if(0<=b&&b<a.If.length){var c=a.If[b];!c.isEnabled()||a.uh&&c==a.uh||(sx(a.uh,!1),sx(c,!0),a.uh=c,a.dispatchEvent(new rx("change",a,a.uh)))}}f.Ia=function(){return this.vc||null};f.a=function(){return this.fm||null};f.Jr=function(a){for(var b=a.target;b!=this.te;){if("LI"==b.tagName){var c;for(c=0;b=b.previousSibling;c++);tx(this,c);break}b=b.parentNode}a.preventDefault()};
f.Kr=function(a){if(!(a.altKey||a.metaKey||a.ctrlKey))switch(a.keyCode){case 37:a=this.uh.mo-1;tx(this,0>a?this.If.length-1:a);break;case 39:a=this.uh.mo+1;tx(this,a>=this.If.length?0:a);break;case 36:tx(this,0);break;case 35:tx(this,this.If.length-1)}};function px(a,b,c){var d,e;if(r(a)&&!da(b))d=a;else if(b)d=b,e=a;else if(a){if(b=ji(a))d=ui(b),b.parentNode.removeChild(b);e=a}this.wb=c||Qh();this.vc=e||this.wb.B("div");this.lj=this.wb.B("li",null,d);this.mo=this.Ya=null;this.Xb=!0}f=px.prototype;
f.$b=function(){return ui(this.lj)};f.Cc=function(a){oi(this.lj,a)};f.Uq=function(){return this.lj};f.Ia=function(){return this.vc};f.getParent=function(){return this.Ya};f.Pb=function(a){this.Xb=a;this.lj.className=a?"goog-tabpane-tab":"goog-tabpane-tab-disabled"};f.isEnabled=function(){return this.Xb};function sx(a,b){a.isEnabled()&&(a.vc.style.display=b?"":"none",a.lj.className=b?"goog-tabpane-tab-selected":"goog-tabpane-tab")}f.gp=function(a,b){this.Ya=a;this.mo=da(b)?b:null};
function rx(a,b,c){Cc.call(this,a,b);this.page=c}w(rx,Cc);function ux(a){W.call(this);if(null!=a){var b=a;if(!r(b))throw new TypeError("String required!");b=b.toUpperCase();if(-1==vx.indexOf(b))throw Error("Invalid orienation!");}this.orientation=a||wx}w(ux,W);v("nrg.ui.Tabs",ux);var vx=["TOP","BOTTOM","LEFT","RIGHT"],wx=vx[0];ux.ID_PREFIX="nrg.ui.Tabs";ux.CSS_SUFFIX={gc:"tab",Hi:"tab-active",lf:"page",ME:"page-content",Lp:"page-active",tb:"icon",wl:"icon-active",nE:"icon-content",CO:"scrollgallery"};
function xx(a,b,c,d,e){this.Qj=!1;this.TITLE=a;this.gc=b;this.tb=c;this.lf=d;this.Ih=e}f=ux.prototype;f.Ff=0;f.Em=0;f.ce=null;f.k=function(a){ux.d.k.call(this,a);this.Kk=new lx(this.a());this.N=[];O(this.a(),ux.cd)};f.uI=function(){return this.N.length};f.IH=function(){return this.Ff};f.gI=function(){return this.Em};f.Sq=function(){var a=[];E(this.N,function(b){a.push(b.gc)});return a};f.Tq=function(){var a=[];E(this.N,function(b){a.push(b.lf)});return a};
f.yA=function(){var a=[];E(this.N,function(b){a.push(b.tb)});return a};f.WF=function(a){E(a,function(a){this.Vl(a)}.bind(this))};f.reset=function(){for(var a=this.N.length;0<a;)qx(this.Kk,a-1),a--;this.bQ()};f.Rw=function(a){if(null==this.N)return!1;for(var b=0,c=this.N.length;b<c;b++)if(this.N[b].TITLE==a)return!0;return!1};
f.Vl=function(a){this.N=null!=this.N?this.N:[];if(this.Rw(a))throw Error(a+" is an already existing tab!");var b;b=Q("div",{id:"Tab_"+B(),"class":ux.CSS.gc,title:a});R(this.a(),b);var c=Q("div",{id:"TabIcon_"+B(),"class":ux.CSS.tb}),d=Q("div",{"class":ux.CSS.nE},a);R(c,d);R(b,c);d=Q("div",{id:"TabPage_"+B(),"class":ux.CSS.lf,label:a});R(this.a().parentNode,d);var e=new px(d,a);ox(this.Kk,e);this.N.push(new xx(a,b,c,d,e));yx(this);zx(this);Ax(this);this.vk();this.setActive(0);this.o()};
f.QC=function(a,b){this.Rw(a)||this.Vl(a);var c;a:if(null!=this.N){c=0;for(var d=this.N.length;c<d;c++)if(this.N[c].TITLE==a){c=this.N[c];break a}c=void 0}else c=!1;b instanceof tu?(d=b,c.lf.appendChild(b.a())):(d=new tu,d.k(c.lf),d.rf(b));O(d.a(),ux.CSS.ME);this.o()};function yx(a){E(a.N,function(a){J(a.gc)}.bind(a))}function zx(a){E(a.N,function(a,c){G(a.gc,"click",function(){this.vk();this.setActive(c)}.bind(this))}.bind(a))}function Ax(a){E(a.N,function(a,c){Bx(this,c);Cx(this,c)}.bind(a))}
function Bx(a,b){G(a.N[b].gc,"mouseover",function(){!0!==this.N[b].Qj&&(O(this.N[b].gc,ux.CSS.Hi),O(this.N[b].gc,wh(ux.CSS.Hi,this.orientation)),O(this.N[b].tb,ux.CSS.wl))}.bind(a))}function Cx(a,b){G(a.N[b].gc,"mouseout",function(){!0!==this.N[b].Qj&&(Gh(this.N[b].gc,ux.CSS.Hi),Gh(this.N[b].gc,wh(ux.CSS.Hi,this.orientation)),Gh(this.N[b].tb,ux.CSS.wl))}.bind(a))}
f.setActive=function(a){this.N[a].Qj=!0;this.Em=this.Ff;this.Ff=a;tx(this.Kk,a);O(this.N[a].gc,ux.CSS.Hi);O(this.N[a].gc,wh(ux.CSS.Hi,this.orientation));O(this.N[a].lf,ux.CSS.Lp);O(this.N[a].lf,wh(ux.CSS.Lp,this.orientation));O(this.N[a].tb,ux.CSS.wl);O(this.N[a].tb,wh(ux.CSS.wl,this.orientation))};
f.xz=function(a){this.N[a].Qj=!1;tx(this.Kk,0);Gh(this.N[a].gc,ux.CSS.Hi);Gh(this.N[a].gc,wh(ux.CSS.Hi,this.orientation));Gh(this.N[a].lf,ux.CSS.Lp);Gh(this.N[a].lf,wh(ux.CSS.Lp,this.orientation));Gh(this.N[a].tb,ux.CSS.wl);Gh(this.N[a].tb,wh(ux.CSS.wl,this.orientation))};f.vk=function(){E(this.N,function(a,b){this.xz(b)}.bind(this))};
f.o=function(){if(this.a().parentNode){O(this.a(),ux.cd);O(this.a(),wh(ux.cd,this.orientation));E(this.N,function(a){O(a.gc,wh(ux.CSS.gc,this.orientation));O(a.tb,wh(ux.CSS.tb,this.orientation));O(a.lf,wh(ux.CSS.lf,this.orientation))}.bind(this));switch(this.orientation){case "TOP":Dx(this);break;case "BOTTOM":this.RQ();break;case "RIGHT":Ex(this)}if(0<this.N.length){var a=U(this.N[0].gc);0<a.width&&0<a.height&&(this.ce=a)}}};
function Ex(a){E(a.N,function(a){this.a().parentNode&&(al(a.gc,{height:(100/this.N.length).toString()+"%"}),a.lf.style.width="calc(100% - "+U(a.gc).width+"px)")}.bind(a))}function Dx(a){var b;E(a.N,function(a,d){this.a().parentNode&&(b=100/this.N.length,al(a.gc,{width:b.toString()+"%",left:(d*b).toString()+"%"}))}.bind(a))}function Fx(a){E(a.N,function(a){C(a,function(c,d){J(c);c.f?c.g():c.g&&c.g();delete c;delete a[d]});D(a);delete a});Jb(a.N)}
f.f=function(){ux.d.f.call(this);E(this.Sq(),function(a){J(a)}.bind(this));Fx(this);delete this.N;J(this.Kk);this.Kk.g();delete this.Kk;delete this.Ff;delete this.Em;delete this.QQ;delete this.orientation};v("nrg.ui.Tabs.ORIENTATIONS",vx);v("nrg.ui.Tabs.DEFAULT_ORIENTATION",wx);v("nrg.ui.Tabs.ID_PREFIX",ux.ID_PREFIX);v("nrg.ui.Tabs.CSS_SUFFIX",ux.CSS_SUFFIX);v("nrg.ui.Tabs.TabItemCollection",xx);v("nrg.ui.Tabs.prototype.tabSize",ux.prototype.ce);v("nrg.ui.Tabs.prototype.render",ux.prototype.k);
v("nrg.ui.Tabs.prototype.getTabCount",ux.prototype.uI);v("nrg.ui.Tabs.prototype.getLastActiveTab",ux.prototype.IH);v("nrg.ui.Tabs.prototype.getPreviousActiveTab",ux.prototype.gI);v("nrg.ui.Tabs.prototype.getTabElements",ux.prototype.Sq);v("nrg.ui.Tabs.prototype.getTabPages",ux.prototype.Tq);v("nrg.ui.Tabs.prototype.getTabIcons",ux.prototype.yA);v("nrg.ui.Tabs.prototype.addTabs",ux.prototype.WF);v("nrg.ui.Tabs.prototype.reset",ux.prototype.reset);v("nrg.ui.Tabs.prototype.tabExists",ux.prototype.Rw);
v("nrg.ui.Tabs.prototype.addTab",ux.prototype.Vl);v("nrg.ui.Tabs.prototype.setTabPageContents",ux.prototype.QC);v("nrg.ui.Tabs.prototype.setActive",ux.prototype.setActive);v("nrg.ui.Tabs.prototype.deactivate",ux.prototype.xz);v("nrg.ui.Tabs.prototype.deactivateAll",ux.prototype.vk);v("nrg.ui.Tabs.prototype.updateStyle",ux.prototype.o);v("nrg.ui.Tabs.prototype.disposeInternal",ux.prototype.f);function Gx(a){ux.call(this,a)}w(Gx,ux);v("nrg.ui.ZipTabs",Gx);Gx.ID_PREFIX="nrg.ui.ZipTabs";f=Gx.prototype;f.k=function(a){Gx.d.k.call(this,a);O(this.a(),wh(Gx.cd,this.orientation));this.Rc=new Pq(this.a(),this.orientation);Hx(this);a=Vh("goog-tabpane-tabs",this.a());E(a,function(a){a.style.visibility="hidden"})};f.ui=function(a){this.Rc.ui(a);this.o()};f.R=function(){return this.Rc};
function Hx(a){G(a.Rc,"resize",function(a){this.Wh();if(null!=this.ce){switch(this.orientation){case "BOTTOM":case "TOP":4>=Math.abs(this.ce.height-this.A.height)?this.vk():this.setActive(this.Ff);break;case "LEFT":case "RIGHT":var c=36>=Math.abs(this.ce.width-this.A.width)&&this.tq;4>=Math.abs(this.ce.width-this.A.width)||c?this.vk():this.setActive(this.Ff)}this.dispatchEvent({type:"resize",size:a.size,Be:a.Be})}}.bind(a))}f.tq=!1;
f.lc=function(a,b,c){this.o();a?(this.setActive(b||0),this.Rc.Nf(this.orientation,"MAX",null,c)):(this.vk(),this.Rc.Nf(this.orientation,"MIN",null,c))};f.o=function(){Gx.d.o.call(this);switch(this.orientation){case "TOP":case "BOTTOM":null!=this.ce&&this.Rc.EC(this.ce.height);break;case "LEFT":case "RIGHT":null!=this.ce&&this.Rc.GC(this.ce.width)}this.Rc.update()};
f.Vl=function(a){Gx.d.Vl.call(this,a);1==this.Sq().length&&this.o();E(this.Sq(),function(a){G(a,"click",function(){if(null!=this.ce)switch(this.o(),this.Wh(),this.orientation){case "BOTTOM":4>=Math.abs(this.A.height-this.ce.height)?(this.setActive(this.Ff),this.Rc.Nf("BOTTOM","MAX",void 0)):this.Ff==this.Em&&this.Rc.Nf("BOTTOM","MIN",void 0);break;case "TOP":4>=Math.abs(this.A.height-this.ce.height)?(this.setActive(this.Ff),this.Rc.Nf("TOP","MAX",void 0)):this.Ff==this.Em&&this.Rc.Nf("TOP","MIN",
void 0);break;case "RIGHT":null!=this.ce&&(4>=Math.abs(this.A.width-this.ce.width)?(this.tq=!1,this.setActive(this.Ff),this.Rc.Nf("RIGHT","MAX",void 0)):this.Ff==this.Em&&(this.tq=!0,this.Rc.Nf("RIGHT","MIN",void 0)))}}.bind(this))}.bind(this));this.vk();this.o()};f.f=function(){Gx.d.f.call(this);J(this.Rc);this.Rc.g();delete this.Rc;delete this.tq};v("nrg.ui.ZipTabs.BOUND_THRESHOLD_VERT",4);v("nrg.ui.ZipTabs.BOUND_THRESHOLD_HORIZ",4);v("nrg.ui.ZipTabs.EventType",{VD:"la"});
v("nrg.ui.ZipTabs.ID_PREFIX",Gx.ID_PREFIX);v("nrg.ui.ZipTabs.prototype.render",Gx.prototype.k);v("nrg.ui.ZipTabs.prototype.setBoundaryElement",Gx.prototype.ui);v("nrg.ui.ZipTabs.prototype.getResizable",Gx.prototype.R);v("nrg.ui.ZipTabs.prototype.setExpanded",Gx.prototype.lc);v("nrg.ui.ZipTabs.prototype.updateStyle",Gx.prototype.o);v("nrg.ui.ZipTabs.prototype.addTab",Gx.prototype.Vl);v("nrg.ui.ZipTabs.prototype.disposeInternal",Gx.prototype.f);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
*/
function Ix(){W.call(this);this.md=Ix.ModalStates.Sj}w(Ix,W);v("xiv.ui.Modal",Ix);Ix.ModalStates={Ke:"fullscreen",mf:"popup",Ps:"fullscreen-popup",Rg:"windowed",Sj:"demo",bE:"demp-fullscreen"};Ix.ID_PREFIX="xiv.ui.Modal";Ix.CSS_SUFFIX={Jp:"background",iN:"columnmenu",sO:"rowmenu",jN:"button",tO:"button",OE:"projecttab",PE:"projecttab-bounds",QE:"projecttab-dragger",RE:"projecttab-dragger-handle",mx:"addsubjects",fE:"foldericon"};
function Jx(){var a={};C(Kx,function(b,c){a[c]=Ix.ID_PREFIX+"."+db(b.key)+".Button"});var b=Bl(ob(a)),c={};C(a,function(a,e){c[e]=b[a];var h=wh(a);b[a].className=h});return c}var Kx={tl:{key:"CLOSE",title:"Close XNAT Image Viewer."},Ke:{key:"FULLSCREEN",title:"Enter full-screen mode."},mf:{key:"POPUP",title:"Popup to new window."},Rg:{key:"WINDOWED",title:"Exit full-screen mode."}};f=Ix.prototype;f.jo=29;f.Hs=29;f.Dr=320;f.Er=320;f.No=null;f.II=function(){return this.Fa};f.zI=function(){return this.aa};
f.jI=function(){return this.Lb};f.fI=function(){return this.ba.mf};f.cH=function(){return this.ba.tl};f.xH=function(){return this.ba.Ke};f.k=function(a){Ix.d.k.call(this,a);this.cB();this.Fa.Yu(null,!1);this.Bc(this.md)};
f.Bc=function(a){null!=this.md&&(this.Xr=this.md);this.md=a;null!=this.Xr&&Gh(this.a(),wh(this.constructor.cd,this.Xr));O(this.a(),wh(this.constructor.cd,this.md));this.md==Ix.ModalStates.Sj?(this.ba.Ke.style.visibility="hidden",this.ba.Rg.style.visibility="hidden"):this.md==Ix.ModalStates.Rg?(this.ba.Ke.style.visibility="visible",this.ba.Rg.style.visibility="hidden"):this.md==Ix.ModalStates.mf?(this.ba.mf.style.visibility="hidden",this.ba.tl.style.visibility="hidden",this.ba.Ke.style.visibility=
"visible",this.ba.Rg.style.visibility="hidden"):this.md==Ix.ModalStates.Ps?(this.ba.mf.style.visibility="hidden",this.ba.Ke.style.visibility="hidden",this.ba.Rg.style.visibility="visible"):this.md==Ix.ModalStates.Ke&&(this.ba.mf.style.visibility="visible",this.ba.Ke.style.visibility="hidden",this.ba.Rg.style.visibility="visible");this.o()};f.om=function(){return this.md};f.xj=function(){this.aa.loop(function(a){a.setActive(!1);this.Fa.loop(function(b){-1<b.Sa.indexOf(a.of)&&a.setActive(!0)})}.bind(this))};
f.Py=function(){Lx(this);this.Td=null!=this.Td?this.Td:[];this.jd=null!=this.jd?this.jd:new Rk;Mx(this);Nx(this);G(this.jd,"end",this.JK.bind(this));E(this.Td,function(a){this.jd.add(a)}.bind(this));this.jd.play();this.xj()};f.JK=function(){E(this.Td,function(a){this.jd.remove(a);J(a);a.re();a.g()}.bind(this));Jb(this.Td);this.o();Ox(this)};function Ox(a){a.Fa.loop(function(a){0==a.a().style.opacity&&gl(a.a(),300)})}
function Mx(a){var b=null;a.Fa.loop(function(a,d,e){b=a.a();this.Td.push(new Gk(b,[b.offsetLeft,b.offsetTop],[this.Ba.ec.Sg[d][e],this.Ba.ec.Ne[d][e]],300,el))}.bind(a))}function Nx(a){var b=null;a.Fa.loop(function(a,d,e){b=a.a();this.Td.push(new Hk(b,[b.offsetWidth,b.offsetHeight],[this.Ba.ec.ak[d][e],this.Ba.ec.Xm[d][e]],300,el))}.bind(a))}
function Lx(a){a.Ba=null!=a.Ba?a.Ba:{};a.Wh();a.Ba.zp={};a.Ba.zp.ak=Math.round(U(a.Lb.a()).width);a.Ba.zp.Xm=Math.round(a.A.height-2*a.Hs);a.Ba.zp.Ne=Math.round(a.Hs);Px(a);Qx(a)}function Px(a){a.Ba.ec={};a.Ba.ec.ak=a.Fa.Yn();a.Ba.ec.Xm=a.Fa.Yn();a.Fa.loop(function(a,c,d,e,h){this.Ba.ec.ak[c][d]=Math.round((this.A.width-this.Ba.zp.ak-this.jo)/h-this.jo);this.Ba.ec.Xm[c][d]=Math.round((this.A.height-(e+1)*this.jo)/e)}.bind(a))}
function Qx(a){a.Ba.ec.Sg=a.Fa.Yn();a.Ba.ec.Ne=a.Fa.Yn();a.Ba.ec.cF=a.Ba.zp.ak+a.Hs;var b=0;a.Fa.loop(function(a,d,e){b=this.Ba.ec.cF+e*(this.Ba.ec.ak[d][e]+this.Hs);this.Ba.ec.Sg[d][e]=b;this.Ba.ec.Ne[d][e]=d*(this.Ba.ec.Xm[d][e]+this.jo);window.console.log();this.Ba.ec.Ne[d][e]+=this.jo}.bind(a))}f.o=function(){Lx(this);this.Lb&&this.Lb.o();Rx(this);this.xj();this.aa.o();this.aa.Zc()};
function Rx(a){a.Fa&&a.Fa.loop(function(a,c,d){al(a.a(),{height:this.Ba.ec.Xm[c][d],width:this.Ba.ec.ak[c][d],left:this.Ba.ec.Sg[c][d],top:this.Ba.ec.Ne[c][d]});a.o()}.bind(a))}
f.cB=function(){var a=Q("div");a.id=this.constructor.ID_PREFIX+"_Background_"+B();a.className=Ix.CSS.Jp;this.a().appendChild(a);this.Ts=Q("div");R(this.a(),this.Ts);O(this.Ts,Ix.CSS.PE);this.Lb=new Gx("RIGHT");this.Lb.k(this.a());O(this.Lb.a(),Ix.CSS.OE);this.aa=new hx;this.aa.Hw(!0);var b;b=b||G;b(this.aa,"X",this.iL.bind(this));b(this.aa,"Y",this.jL.bind(this));b(this.aa,"ja",this.cL.bind(this));b(this.aa,"ha",this.fL.bind(this));b(this.aa,"ia",this.eL.bind(this));b(this.aa,"ka",this.hL.bind(this));
this.aa.k(this.Lb.a());this.Lb.QC("Project Browser",this.aa);this.Lb.ui(this.Ts);a=this.Lb.R().Dd("RIGHT");O(a,Ix.CSS.QE);this.Lb.R().Hk("RIGHT").HC(5);R(a,Q("div",{id:Z.ID_PREFIX+"_DraggerHandle_"+B(),"class":Ix.CSS.RE}));a=this.Lb.yA()[0];a.childNodes[0].style.visibility="hidden";b=Q("img",{id:Z.ID_PREFIX+"_FolderIcon_"+B(),"class":Ix.CSS.fE});b.src=this.ii+"/images/viewer/xiv/ui/Modal/folder.png";R(a,b);this.No=new cx;G(this.Lb,"resize",this.DM.bind(this));G(this.Lb,"resize",this.o.bind(this));
G(this.Lb,"resize_end",this.o.bind(this));this.Fa=new Jw;this.Fa.TC(this.a());var c;c=c||G;c(this.Fa,"ca",this.bw.bind(this));c(this.Fa,"da",this.aw.bind(this));c(this.Fa,"ea",this.Ej.bind(this));G(this.Fa,"ba",this.vL.bind(this));Sx(this)};
function Sx(a){a.ba=Jx();C(a.ba,function(a){R(this.a(),a)}.bind(a));Tx(a);a.ba.tl.innerHTML="<img src="+a.ii+'/images/viewer/xiv/ui/Modal/close.png width="100%">';a.ba.Ke.innerHTML="<img src="+a.ii+'/images/viewer/xiv/ui/Modal/fullscreen.png width="100%">';a.ba.Rg.innerHTML="<img src="+a.ii+'/images/viewer/xiv/ui/Modal/windowed.png width="100%">';a.ba.mf.innerHTML="<img src="+a.ii+'/images/viewer/xiv/ui/Modal/popup.png width="100%">'}
f.oy=function(){this.Vh=Q("div",{id:Ix.ID_PREFIX+"_addSubjects_"+B(),"class":Ix.CSS.mx},"+ Load all subjects in project");this.Lb.Tq()[0].appendChild(this.Vh);cl(this.Vh,Ix.CSS.mx+"-hovered");var a=this.Lb.Tq()[0],b=ii(a)[0];U(a);U(b);U(this.Vh);b.style.height="calc(100% - 70px)";G(this.Vh,"click",this.nK.bind(this))};f.nK=function(){this.dispatchEvent({type:"g"});jl(this.Vh,150,function(){Ux(this);var a=this.Lb.Tq()[0];ii(a)[0].setAttribute("style","");this.aa.Zc()}.bind(this))};
function Ux(a){null!=a.Vh&&(S(a.Vh),J(a.Vh),delete a.Vh)}f.DM=function(){var a=this.No;a.bm.la[a.Oq()]&&this.Lb.R().Hk("RIGHT").lD()};f.vL=function(){var a=Vh("xiv-ui-thumbnailgallery-thumbnail-dragging");E(a,function(a){S(a)});this.xj();window.console.log(this.aa.Jg.Lq());null!=this.aa.Jg.Lq()&&this.aa.Rf.nj({cQ:!0})};f.sK=function(){this.md===Ix.ModalStates.Ke&&kx()};
f.AK=function(){var a=this.a();a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen();this.md===Ix.ModalStates.mf?this.Bc(Ix.ModalStates.Ps):this.Bc(Ix.ModalStates.Ke);this.o()};f.yL=function(){kx();this.Bc(this.Xr)};function Tx(a){var b;b=b||G;b(a.ba.Ke,"click",a.AK.bind(a));b(a.ba.Rg,"click",a.yL.bind(a));b(a.ba.tl,"click",a.sK.bind(a))}
f.iL=function(a){this.Fa.Ys(a.Ii.of,function(a){a.Uu()})};f.jL=function(a){this.Fa.Ys(a.Ii.of,function(a){a.Rk||a.Tm()})};f.eL=function(a){this.Fa.Vq(a.GM).Tm()};f.fL=function(a){this.Fa.Vq(a.thumbnailTarget).Uu()};f.cL=function(a){this.Fa.Zs()||a.Ii.lw(300,function(){this.Fa.eA().load(a.Ii.of);this.xj()}.bind(this))};f.hL=function(a){var b=this.Fa.Vq(a.EM);b.Tm();this.Fa.Zs()?b.Tm():(b.load(a.Ii.of),this.xj())};f.bw=function(){this.xj()};f.aw=function(){this.xj()};
f.Ej=function(a){null!=a&&null!=a.ZF?(a.HB&&E(a.HB,function(a){al(a.a(),{opacity:0})}),this.Py()):this.o();this.aa.cz();this.aa.By(this.Fa.CA())};f.f=function(){Ix.d.f.call(this);D(this.Ba);delete this.Ba;this.lu(this.Td);delete this.Td;this.Cq(this.jd);delete this.jd;this.Dq(this.ba);delete this.ba;null!=this.Fa&&(J(this.Fa),this.Fa.g(),delete this.Fa);J(this.Lb);this.Lb.g();delete this.Lb;J(this.aa);this.aa.g();delete this.aa;Ux(this);null!=this.No&&(this.No.g(),delete this.No);delete this.md;delete this.Xr};
v("xiv.ui.Modal.EventType",Ix.uN);v("xiv.ui.Modal.ID_PREFIX",Ix.ID_PREFIX);v("xiv.ui.Modal.CSS_SUFFIX",Ix.CSS_SUFFIX);v("xiv.ui.Modal.prototype.getViewBoxHandler",Ix.prototype.II);v("xiv.ui.Modal.prototype.getThumbnailGallery",Ix.prototype.zI);v("xiv.ui.Modal.prototype.getProjectTab",Ix.prototype.jI);v("xiv.ui.Modal.prototype.getPopupButton",Ix.prototype.fI);v("xiv.ui.Modal.prototype.getCloseButton",Ix.prototype.cH);v("xiv.ui.Modal.prototype.getFullScreenButton",Ix.prototype.xH);
v("xiv.ui.Modal.prototype.render",Ix.prototype.k);v("xiv.ui.Modal.prototype.setState",Ix.prototype.Bc);v("xiv.ui.Modal.prototype.getState",Ix.prototype.om);v("xiv.ui.Modal.prototype.highlightInUseThumbnails",Ix.prototype.xj);v("xiv.ui.Modal.prototype.animateModal",Ix.prototype.Py);v("xiv.ui.Modal.prototype.updateStyle",Ix.prototype.o);v("xiv.ui.Modal.prototype.initSubComponents",Ix.prototype.cB);v("xiv.ui.Modal.prototype.addAddSubjectsToProjectTab",Ix.prototype.oy);
v("xiv.ui.Modal.prototype.disposeInternal",Ix.prototype.f);window["xiv.ui.Modal"]=Ix;window["xiv.ui.Modal.ModalStates"]=Ix.ModalStates;
//# sourceMappingURL=./xiv-min.js.map